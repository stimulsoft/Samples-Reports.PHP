/*
Stimulsoft.Reports.JS
Version: 2022.3.2
Build date: 2022.06.23
License: https://www.stimulsoft.com/en/licensing/reports
*/
!function(t){var e;"undefined"!=typeof process&&process.__nwjs||"object"!=typeof exports||"undefined"==typeof module?"function"==typeof define&&define.amd?define(["./stimulsoft.reports.engine"],e=>Object.assign(e,t(e.Stimulsoft))):window.Stimulsoft?window.Stimulsoft.Report?Object.assign(window,t(window.Stimulsoft)):window.Stimulsoft.chartFactory=t:window.Stimulsoft={chartFactory:t}:module.exports=(e=require("./stimulsoft.reports.engine"),Object.assign(e,t(e.Stimulsoft)))}(function(Z){function c(e,t){for(var i in t)i in e?c(e[i],t[i]):e[i]=t[i];return e}Z&&"2022.3.2"!==Z.__engineVersion&&console.warn("Scripts versions mismatch: engine ver. = %s; chart ver. = 2022.3.2",Z.__engineVersion);var Z=c(Z||{},{Report:{Events:{},Chart:{},Components:{Design:{}}},Reflection:{}}),Q={};Q.a=Z.Report,Q.b=Z.Reflection,Q.c=Q.a.Events,Q.d=Q.a.Chart,Q.e=Q.a.Components,Q.f=Q.e.Design;let m=Z.System.EventArgs,S=(Q.c.StiGetTitleEventArgs=class extends m{constructor(){super(...arguments),this.series=null}get value(){return this.valueObject}set value(e){this.valueObject=e}},Q.c.StiNewAutoSeriesEventArgs=class extends m{constructor(e,t,i){super(),this.seriesIndex=e,this.series=t,this.color=i}},Z.System.Text.StiReportObjectStringConverter),P=Z.System.StiMath,C=Z.System.StiNumber,U=Z.System.StiArray,G=Z.System.StiString,le=Q.c.StiNewAutoSeriesEventArgs,g=Q.c.StiGetTitleEventArgs,b=Z.System.Data.DBNull,y=Q.c.StiValueEventArgs,F=Q.c.StiGetValueEventArgs,ae=Q.e.StiFilterMode,q=Q.a.Dictionary.StiDataColumn,T=Z.System.DateTime,ee=Z.System.Drawing.Color,B=Q.e.StiFilterCondition,R=Q.e.StiFilterDataType,oe=Q.e.StiFilterItem,he=Z.System.Collections.Hashtable,K=Z.System.TimeSpan,te=Z.System.Drawing.Point,D=Q.e.StiText,M=Q.a.Engine.StiParser.StiParser,$=Z.System.Collections.List;{class qe{static fillSeriesData(t,i){t.values=U.create(Number,i.length),t.arguments=U.create(Object,i.length),t.tags=U.create(Object,i.length);for(let e=0;e<i.length;e++){var r=i[e];t.values[e]="number"==typeof r.value?r.value:0,t.arguments[e]=r.argument,t.tags[e]=r.tag,t.is(Q.d.IStiRangeSeries)&&(t.valuesEnd[e]="number"==typeof r.valueEnd?r.valueEnd:0),t.is(Q.d.IStiFinancialSeries)&&(t.valuesOpen[e]="number"==typeof r.valueOpen?r.valueOpen:0,t.valuesClose[e]="number"==typeof r.valueClose?r.valueClose:0,t.valuesLow[e]="number"==typeof r.valueLow?r.valueLow:0,t.valuesHigh[e]="number"==typeof r.valueHigh?r.valueHigh:0)}}static getFilterData(t,i,r){try{if(i.item==oe.Expression){var s=r.substr(0,1).toLowerCase()+r.substr(1),n;if(null!=t[r])return t[r]();if(null!=t[s])return t[s]();let e=new D;return e.name="*Chart_Filter*",e.page=t.pages.getByIndex(0),M.parseTextValue("{"+i.value+"}",e)}switch(i.dataType){case R.String:return i.value;case R.Numeric:return null!=i.value?i.value.stimulsoft().toNumber():0;case R.DateTime:var e=T.fromString(i.value);if(null!=e)return e;break;case R.Boolean:return"true"==i.value.toLowerCase()}}catch(e){Z.System.StiError.showError(e.message,!1)}return null}static getFilterResult(t,e,i,r,s,n,l,a,o){if(t.item==oe.Expression)return o.stimulsoft().toBoolean();let h=null;switch(t.item){case oe.Argument:h=e;break;case oe.Value:h=i;break;case oe.ValueEnd:h=r;break;case oe.ValueOpen:h=s;break;case oe.ValueClose:h=n;break;case oe.ValueLow:h=l;break;case oe.ValueHigh:h=a;break}var u=!1,d,d,d;if(null!=h){t.dataType==R.Numeric?null!=(d=h.stimulsoft().as(String))&&(d=C.tryParse(d)).successfully&&(h=d.result):t.dataType==R.DateTime&&(d=T.fromString(h.toString(),!1),h=null!=d?d:T.fromOADate(h.stimulsoft().toNumber()));let e=h;if(null!=e&&null!=o){h.stimulsoft().getType()!=o.stimulsoft().getType()&&(h=h.toString(),o=o.toString(),e=h);try{switch(t.condition){case B.EqualTo:return 0==e.stimulsoft().compareTo(o);case B.NotEqualTo:return 0!=e.stimulsoft().compareTo(o);case B.GreaterThan:return 1==e.stimulsoft().compareTo(o);case B.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(o);case B.LessThan:return-1==e.stimulsoft().compareTo(o);case B.LessThanOrEqualTo:return e.stimulsoft().compareTo(o)<=0;case B.Containing:{let e=h.toString();var c=o.toString();return-1!=e.indexOf(c)}case B.NotContaining:{let e=h.toString();var m=o.toString();return-1==e.indexOf(m)}case B.BeginningWith:{let e=h.toString();var S=o.toString();return e.stimulsoft().startsWith(S)}case B.EndingWith:{let e=h.toString();var g=o.toString();return e.stimulsoft().endsWith(g)}}}catch(e){Z.System.StiError.showError(e,!1)}}}return u}static convertStringToColor(t){if(!G.isNullOrEmpty(t))try{return S.convertStringToColor(t)}catch(e){Z.System.StiError.showError(e,!1);var t=G.format("Can't get color from '{0}'",t);Q.a.StiLogService.write1("StiChartHelper.ConvertStringToColor "+t)}return null}static createChart(l,f){let w=new he,x=!1,C=0;while(C<f.series.count){let p=f.series.getByIndex(C),e=(this.setTitle(l,C,p),p.valuesStart=[],p.values=this.checkValueNaN(this.getValues(l,p)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiGanttSeries)),t=(null!=e&&(e.valuesEnd=this.getValuesEnd(l,e,e.valueDataColumnEnd,e.invokeGetListOfValuesEnd,e.invokeGetValueEnd)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiRangeSeries)),i=(null!=t&&(t.valuesEnd=this.getValuesEnd(l,t,t.valueDataColumnEnd,t.invokeGetListOfValuesEnd,t.invokeGetValueEnd)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiSteppedRangeSeries)),r=(null!=i&&(i.valuesEnd=this.getValuesEnd(l,i,i.valueDataColumnEnd,i.invokeGetListOfValuesEnd,i.invokeGetValueEnd)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiRangeBarSeries)),s=(null!=r&&(r.valuesEnd=this.getValuesEnd(l,r,r.valueDataColumnEnd,r.invokeGetListOfValuesEnd,r.invokeGetValueEnd)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiSplineRangeSeries)),n=(null!=s&&(s.valuesEnd=this.getValuesEnd(l,s,s.valueDataColumnEnd,s.invokeGetListOfValuesEnd,s.invokeGetValueEnd)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiCandlestickSeries)),o=(null!=n&&(n.valuesHigh=this.getValuesHigh(l,n),n.valuesLow=this.getValuesLow(l,n),n.valuesClose=this.getValuesClose(l,n),n.valuesOpen=this.getValuesOpen(l,n)),f.series.getByIndex(C).stimulsoft().as(Q.d.StiBubbleSeries));null!=o&&(o.weights=this.getWeights(l,o));var h=p.stimulsoft().as(Q.d.StiPieSeries),h,u=(null!=h&&this.setCutPieList(l,h),l.cacheValues(!0),p.arguments=this.getArguments(l,p),p.tags=this.getTags(l,p),p.hyperlinks=this.getHyperlinks(l,p),p.toolTips=this.getToolTips(l,p),this.checkParetoValues(p),p.is(Q.d.StiHistogramSeries)&&(h=p.chart.area.xAxis.labels.formatService,Q.d.StiHistogramHelper.checkValuesAndArguments(p,h)),l.cacheValues(!1),this.getAutoSeriesKeysFromAutoSeriesKeyDataColumn(l,p)),d=this.getAutoSeriesTitleFromAutoSeriesTitleDataColumn(l,p),c=this.getAutoSeriesColorFromautoSeriesColorDataColumn(l,p);if(p.sortBy!=Q.d.StiSeriesSortType.None||0<p.filters.count||0<u.length){var m=(p.values.length>p.arguments.length?p.values:p.arguments).length,S,g,h;let a=[];for(let l=0;l<m;l++){var b=p.values.length>l?p.values[l]:0,y=p.arguments.length>l?p.arguments[l]:null,A=u.length>l?u[l]:null,v=d.length>l?d[l]:null,L=c.length>l?c[l]:null,T=p.tags.length>l?p.tags[l]:0;let e=null,t=(p.is(Q.d.IStiRangeSeries)&&(e=p.valuesEnd.length>l?p.valuesEnd[l]:0),null),i=null,r=null,s=null,n=(p.is(Q.d.IStiFinancialSeries)&&(t=p.valuesOpen.length>l?p.valuesOpen[l]:0,i=p.valuesClose.length>l?p.valuesClose[l]:0,r=p.valuesLow.length>l?p.valuesLow[l]:0,s=p.valuesHigh.length>l?p.valuesHigh[l]:0),null);null!=o&&(n=o.weights.length>l?o.weights[l]:0);var z=p.toolTips.length>l?p.toolTips[l]:"";a.push(new Q.d.StiDataItem(l,y,b,e,n,t,i,r,s,v,A,L,z,T))}let r=new he,e=0;for(S of p.filters.list){var j=`${f.name}Filters_${C}_`+e;r.set(S,this.getFilterData(f.report,S,j)),e++}let s=[],n=null,l=null;if(0<p.filters.count){try{n=q.getDataSourceFromDataColumn(f.report.dictionary,p.valueDataColumn)}catch(e){Z.System.StiError.showError(e,!1)}if(null==n)try{n=q.getDataSourceFromDataColumn(f.report.dictionary,p.argumentDataColumn)}catch(e){Z.System.StiError.showError(e,!1)}null==n&&(n=f.dataSource);try{l=q.getBusinessObjectFromDataColumn(f.report.dictionary,p.valueDataColumn)}catch(e){Z.System.StiError.showError(e,!1)}if(null==l)try{l=q.getBusinessObjectFromDataColumn(f.report.dictionary,p.argumentDataColumn)}catch(e){Z.System.StiError.showError(e,!1)}null==l&&(l=f.businessObject)}null!=n&&(n.saveState("ChartFilter"),n.first()),null!=l&&(l.saveState("ChartFilter"),l.createEnumerator());for(g of a){let e=U.create(Boolean,p.filters.count),t=0;for(var k of p.filters.list){if(e[t]=this.getFilterResult(k,g.argument,g.value,g.valueEnd,g.valueOpen,g.valueClose,g.valueLow,g.valueHigh,r.get(k)),k.item==oe.Expression){var Y=`${f.name}Filters_${C}_`+t;try{e[t]=this.getFilterData(f.report,k,Y).stimulsoft().toBoolean()}catch(e){Z.System.StiError.showError(e,!1)}}t++}let i=!0;if(p.filterMode==ae.And){for(var W of e)if(!W){i=!1;break}}else{i=!1;for(var J of e)if(J){i=!0;break}}i&&s.push(g),null!=n&&n.next(),null!=l&&l.next()}if(null!=n&&n.restoreState("ChartFilter"),null!=l&&l.restoreState("ChartFilter"),a=s,p.sortBy!=Q.d.StiSeriesSortType.None&&(h=new Q.d.StiDataItemComparer(p.sortBy,p.sortDirection),a.stimulsoft().sort2(h)),this.fillSeriesData(p,a),0<u.length){let r=new he,d=null;if(null!=p.arguments&&0<p.arguments.length){let e=[],t=new he;for(var I of a){var I=I.argument;t.containsKey(I)||(e.push(I),t.add(I,null))}t.clear(),d=e.stimulsoft().toArray(),p.sortBy==Q.d.StiSeriesSortType.Argument&&(U.sort(d),p.sortDirection==Q.d.StiSeriesSortDirection.Descending&&U.reverse(d))}else{let t=new he;for(var F of a){let e=t.get(F.key);null==e&&(e=[],t.set(F.key,e)),e.push(F)}let i=0;for(var B of t.values){i=Math.max(i,B.count);let e=0;for(var R of B)R.argument=e.toString(),r.set(R,e.toString()),e++}d=U.create(String,i);for(let e=0;e<i;e++)d[e]=e.toString()}let e=new he;for(var P of u)e.set(P,P);var D,h={ref:D=e.keys.toArray()},M;this.sortArray(h),D=h.ref;let c=U.create2(Q.d.StiDataItem,d.length,D.length),t=new he;for(let e=0;e<d.length;e++)t.set(d[e],e);let i=new he;for(let e=0;e<D.length;e++)i.set(D[e],e);let m=new he,S=new he;for(M of a){var E=this.getKey(M.key);let e=M.argument;null!=p.arguments&&0!=p.arguments.length||(e=r.get(M));var N=i.get(E),O=t.get(e);if(null!=M.title?m.set(E,M.title):m.set(E,M.key),S.set(E,M.color),null!=c[O][N])c[O][N].push(M);else{let e=[];e.push(M),c[O][N]=e}}let g=null;null!=o&&(g=o.clone());for(let u=0;u<D.length;u++){var G=D[u];let r=null;0==u?r=p:(r=p.clone(),f.series.insert(C+u,r)),r.coreTitle=m.get(G);var G=S.get(G);w.set(r,G);let s=[],n=[],l=[],a=[],o=[],h=[];if(r.is(Q.d.IStiScatterSeries)){let t=new $;for(let e=0;e<d.length;e++){var V=c[e][u];null!=V&&t.addRange(V)}for(var X of t=t.orderBy(e=>e.index).toList()){let e=null,t=r.is(Q.d.IStiScatterSeries);if(null!=X&&"number"==typeof X.value&&(e=X.value.stimulsoft().toNumber(),t=!1),null==X.argument)continue;s.push(e),t||l.push(X.argument),r.is(Q.d.IStiRangeSeries)&&n.push(X.valueEnd.stimulsoft().toNumber()),null!=g&&a.push(X.weight.stimulsoft().toNumber()),null!=X.toolTip&&o.push(X.toolTip.toString()),null!=X.tag&&h.push(X.tag)}}else for(let i=0;i<d.length;i++){var _=c[i][u];if(null==_){if(r.is(Q.d.IStiScatterSeries))continue;s.push(null),a.push(0),o.push(null),h.push(null),r.is(Q.d.IStiRangeSeries)&&n.push(null),l.push(d[i])}else for(var H of _){let e=null,t=r.is(Q.d.IStiScatterSeries);if(null!=H&&"number"==typeof H.value&&(e=H.value.stimulsoft().toNumber(),t=!1),r.is(Q.d.IStiScatterSeries)&&null==d[i])continue;s.push(e),t||l.push(d[i]),r.is(Q.d.IStiRangeSeries)&&n.push(H.valueEnd.stimulsoft().toNumber()),null!=g&&a.push(H.weight.stimulsoft().toNumber()),null!=H.toolTip&&o.push(H.toolTip.toString()),null!=H.tag&&h.push(H.tag)}}var G=U.create(Number,s.length),G=(s.stimulsoft().copyTo(G),r.values=G,U.create(Object,l.length)),G,G;l.stimulsoft().copyTo(G),r.arguments=G,r.is(Q.d.IStiRangeSeries)&&(G=U.create(Number,n.length),n.stimulsoft().copyTo(G),r.valuesEnd=G),r.is(Q.d.StiBubbleSeries)&&(G=U.create(Number,a.length),a.stimulsoft().copyTo(G),r.weights=G),r.toolTips=o.stimulsoft().toArray(),r.tags=h.stimulsoft().toArray(),this.checkArgumentsDateTimeStep(r),this.createTopN(r),r.filters=p.filters,x=!0}C+=D.length-1}else this.createTopN(p)}else this.checkArgumentsDateTimeStep(p),this.createTopN(p);C++}if(Q.d.StiBoxAndWhiskerHelper.checkArgument(f),this.checkWaterfallTotals(f),Z["StiOptions"].Engine.allowInvokeProcessChartEventForTemplateOfChart&&f.invokeEvents(),x&&Z["StiOptions"].Engine.applyStylesInAutoSeries){f.series.applyStyle(f.style);let t=0;for(var i of f.series.list){var r=this.convertStringToColor(w.get(i));let e=new le(t,i,null);null!=r&&(e.color=r),i.invokeNewAutoSeries(e),e.color instanceof ee&&i.core.applyStyle(f.style,e.color),t++}}}static getShorterListPoints(t){let i=[];for(let e=0;e<t.values.length;e++)i[e]=new te(t.values[e],e);var r=[.3,.6,1,5,9,15,20,25,30,40];let s=[],n=[];for(let e=0;e<t.values.length;e++){if((s=Q.d.StiSimplifyHelper.simplify(i,r[e],!0)).length/i.length<.02&&s.length<900&&null!=n){s=n;break}n=s}return s}static checkParetoValues(r){let e=r.stimulsoft().as(Q.d.StiParetoSeries);if(null!=e){let t=new $,i=new $;for(let e=0;e<r.values.length;e++){var s=r.values[e];0<s&&(t.push(s),null!=r.arguments&&e<r.arguments.length?i.push(r.arguments[e]):i.push(e+1))}e.values=t.stimulsoft().toArray(),e.arguments=i.stimulsoft().toArray(),e.valuesStart=[]}}static checkValueNaN(t){for(let e=0;e<t.length;e++)null!=t[e]&&isNaN(t[e])&&(t[e]=null);return t}static checkArgumentsDateTimeStep(h){let u=h.arguments;if(h.chart.area.is(Q.d.StiAxisArea)){var d=h.chart.area.xAxis.dateTimeStep,c=d.step,m=d.numberOfValues;if(this.isArgumentsDateTime(u)&&c!=Q.d.StiTimeDateStep.None){let t=U.create(T,u.length);for(let e=0;e<u.length;e++)t[e]=T.fromString(u[e].toString());var S=this.maximumDate(t),e=this.minimumDate(t),g=P.trunc(this.getTotalTimeSpans(c,S,e))+1;let i=[],r=[],s=e,n=this.getNextDate(e,c);for(let e=0;e<g;e++){var p=(n.ticks-s.ticks)/m,f=new K(p/2);for(let e=0;e<m;e++){var w=new K(p*e);if(w.ticks>S.ticks)continue;i.push(s.addTicks(w.ticks));var w=new T(i[i.length-1].ticks-f.ticks),x=new T(i[i.length-1].ticks+f.ticks),w=this.getValueForDate(w,x,t,h.values);r.push(w)}s=n,n=this.getNextDate(n,c)}var e=U.create(Object,i.length);let l=U.create(Number,r.length),a=(i.stimulsoft().copyTo(e),r.stimulsoft().copyTo(l),0);var C=0;let o=null;var b=null;for(let e=0;e<l.length;e++){if(null!=l[e]&&null==o){a=e,o=l[e];continue}if(null!=l[e]&&null!=o){C=e,o=l[a];var b=l[C],y=(o-b)/(C-a);for(let e=a+1;e<C;e++)d.interpolation?l[e]=l[e-1]-y:l[e]=0;a=0,o=null,e--}}h.arguments=e,h.values=l}}}static checkWaterfallTotals(e){let l=0;for(var t of e.series.toCast()){var t=t.stimulsoft().as(Q.d.StiWaterfallSeries);null!=t&&(l=Math.max(l,t.values.length))}for(let n=0;n<e.series.count;n++){let s=e.series.list[n].stimulsoft().as(Q.d.StiWaterfallSeries);if(null!=s){let t=[],i=[],r=0;for(let e=0;e<l;e++)0==n&&(e<s.arguments.length?t.push(s.arguments[e]):t.push(e)),s.values.length>e?(i.push(s.values[e]),r+=s.values[e]):i.push(null);s.total.visible&&i.push(r),0==n&&t.push(s.total.text),s.values=i,s.arguments=t,s.valuesStart=[]}}}static createTopN(e){if(e.topN.mode==Q.d.StiTopNMode.None||e.values.length<=e.topN.count)return;var t=e.stimulsoft().as(Q.d.StiBubbleSeries);null!=t?this.createValuesWeightsTopN(t):this.createValuesTopN(e)}static createValuesTopN(t){var e=t.topN.count,i=t.values.stimulsoft().clone();let r=U.create(Number,t.values.length);for(let e=0;e<t.values.length;e++)r[e]=e;U.sort3(i,r),t.topN.mode==Q.d.StiTopNMode.Top&&(U.reverse(i),U.reverse(r));var s=U.create(Number,e),n=U.create(Number,e);U.copy(i,0,s,e),U.copy(r,0,n,e);let l=[],a=[],o=0;for(let e=0;e<t.values.length;e++)this.findIndex(n,e)?(l.push(t.values[e]),e<t.arguments.length?a.push(t.arguments[e]):a.push(e)):o+=t.values[e];t.topN.showOthers&&(t.is(Q.d.StiClusteredBarSeries)?(l.stimulsoft().insert(0,o),a.stimulsoft().insert(0,t.topN.othersText)):(l.push(o),a.push(t.topN.othersText)));var i=U.create(Number,l.length),s=(l.stimulsoft().copyTo(i),U.create(Object,a.length));a.stimulsoft().copyTo(s),t.values=i,t.arguments=s}static createValuesWeightsTopN(t){var e=t.topN.count,i=t.weights.stimulsoft().clone();let r=U.create(Number,t.weights.length);for(let e=0;e<t.weights.length;e++)r[e]=e;U.sort3(i,r),t.topN.mode==Q.d.StiTopNMode.Top&&(U.reverse(i),U.reverse(r));var s=U.create(Number,e),n=U.create(Number,e);U.copy(i,0,s,e),U.copy(r,0,n,e);let l=[],a=[],o=[];for(let e=0;e<t.weights.length;e++)this.findIndex(n,e)&&(l.push(t.weights[e]),e<t.values.length&&a.push(t.values[e]),e<t.arguments.length&&o.push(t.arguments[e]));var i=U.create(Number,l.length),s=(l.stimulsoft().copyTo(i),U.create(Number,a.length)),e=(a.stimulsoft().copyTo(s),U.create(Object,o.length));o.stimulsoft().copyTo(e),t.weights=i,t.values=s,t.arguments=e}static getNextDate(e,t){switch(t){case Q.d.StiTimeDateStep.Second:return e.addSeconds(1);case Q.d.StiTimeDateStep.Minute:return e.addMinutes(1);case Q.d.StiTimeDateStep.Day:return e.addDays(1);case Q.d.StiTimeDateStep.Hour:return e.addHours(1);case Q.d.StiTimeDateStep.Month:return e.addMonths(1);case Q.d.StiTimeDateStep.Year:return e.addYears(1)}return e}static getKey(e){let t=e.stimulsoft().toNumber();if(!isNaN(t)&&e.split(",").join(".").split(".").length<=2)return t.toString();return e.toString()}static sortArray(e){let t=e.ref,i=[],r=[];for(let e=0;e<t.length;e++){var s=t[e].stimulsoft().toNumber();!isNaN(s)&&t[e].split(",").join(".").split(".").length<=2?i.push(s):r.push(t[e])}i.sort(),r.sort();let n=U.create(String,t.length),l=0;for(var a of i)n[l]=a.toString(),l++;for(var o of r)n[l]=o,l++;t=n,e.ref=t}static findIndex(t,i){for(let e=0;e<t.length;e++)if(t[e]==i)return!0;return!1}static getValueForDate(t,i,r,s){let n=0,l=0,e=null;for(let e=0;e<r.length;e++){var a=r[e];t<a&&a<=i&&(n++,l+=s[e])}return e=0!=n?l/n:e}static getTotalTimeSpans(e,t,i){var r=K.fromTicks(t.ticks-i.ticks);let s=0;switch(e){case Q.d.StiTimeDateStep.Second:s=r.totalSeconds;break;case Q.d.StiTimeDateStep.Minute:s=r.totalMinutes;break;case Q.d.StiTimeDateStep.Hour:s=r.totalHours;break;case Q.d.StiTimeDateStep.Day:s=r.totalDays;break;case Q.d.StiTimeDateStep.Month:s=12*(t.year-i.year)+t.month-i.month;break;case Q.d.StiTimeDateStep.Year:s=t.year-i.year;break}return s}static isArgumentsDateTime(e){if(0==e.length)return!1;for(var t of e){if(null==t)return!1;var t=t.toString();if(null!=!T.fromString(t,!1))return!1}return!0}static maximumDate(e){let t=T.minValue;for(var i of e)i.toOADate2(!1)>t.toOADate2(!1)&&(t=i);return t}static minimumDate(e){let t=T.maxValue;for(var i of e)i.toOADate2(!1)<t.toOADate2(!1)&&(t=i);return t}static getAutoSeriesColorFromautoSeriesColorDataColumn(n,l){if(null!=l.autoSeriesColorDataColumn&&0<l.autoSeriesColorDataColumn.trim().length){let r=q.getDataSourceFromDataColumn(n.report.dictionary,l.autoSeriesColorDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=U.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=q.getDataFromDataColumn(n.report.dictionary,l.autoSeriesColorDataColumn);e=null==e?"":e.toString(),i[t]=e,r.next()}return r.restoreState("ChartRender_DataColumn"),i}let s=q.getBusinessObjectFromDataColumn(n.report.dictionary,l.autoSeriesColorDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=U.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=q.getDataFromBusinessObject(n.report.dictionary,l.autoSeriesColorDataColumn);e=null==e?"":e.toString(),i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}}return[]}static getAutoSeriesTitleFromAutoSeriesTitleDataColumn(n,l){if(null!=l.autoSeriesTitleDataColumn&&0<l.autoSeriesTitleDataColumn.trim().length){let r=q.getDataSourceFromDataColumn(n.report.dictionary,l.autoSeriesTitleDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=U.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=q.getDataFromDataColumn(n.report.dictionary,l.autoSeriesTitleDataColumn);e=null==e?"":e.toString(),i[t]=e,r.next()}return r.restoreState("ChartRender_DataColumn"),i}let s=q.getBusinessObjectFromDataColumn(n.report.dictionary,l.autoSeriesTitleDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=U.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=q.getDataFromBusinessObject(n.report.dictionary,l.autoSeriesTitleDataColumn);e=null==e?"":e.toString(),i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}}return[]}static getAutoSeriesKeysFromAutoSeriesKeyDataColumn(n,l){if(null!=l.autoSeriesKeyDataColumn&&0<l.autoSeriesKeyDataColumn.trim().length){let r=q.getDataSourceFromDataColumn(n.report.dictionary,l.autoSeriesKeyDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=U.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=q.getDataFromDataColumn(n.report.dictionary,l.autoSeriesKeyDataColumn);e=null==e?"":e.toString(),i[t]=e,r.next()}return r.restoreState("ChartRender_DataColumn"),i}let s=q.getBusinessObjectFromDataColumn(n.report.dictionary,l.autoSeriesKeyDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=U.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=q.getDataFromBusinessObject(n.report.dictionary,l.autoSeriesKeyDataColumn);e=null==e?"":e.toString(),i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}}return[]}static setTitle(e,t,i){let r=new g;r.series=i,r.index=t,i.invokeGetTitle(e,r),G.isNullOrEmpty(r.value)||(i.coreTitle=r.value)}static setCutPieList(e,t){var i=new F;t.invokeGetCutPieList(e,i),G.isNullOrEmpty(i.value)||(t.cutPieListValues=Q.d.StiSeries.getValuesFromString(i.value))}static getArguments(e,t){let i=this.getArgumentsFromListOfArguments(e,t);if(null!=i)return i;if(null!=(i=this.getArgumentsFromArgumentDataColumn(e,t)))return i;if(null!=(i=this.getArgumentsFromArgumentExpression(e,t)))return i;return[]}static getArgumentsFromArgumentExpression(t,i){let r=U.create(Object,t.count);t.first();for(let e=0;e<t.count;e++){var s=new y;i.invokeGetArgument(t,s),r[e]=s.value,t.next()}return r}static getArgumentsFromArgumentDataColumn(s,n){if(null!=n.argumentDataColumn&&0<n.argumentDataColumn.trim().length){let i=q.getDataSourceFromDataColumn(s.report.dictionary,n.argumentDataColumn);if(null!=i){i.saveState("ChartRender_DataColumn");let t=U.create(Object,i.count);i.first();for(let e=0;e<i.count;e++)t[e]=q.getDataFromDataColumn(s.report.dictionary,n.argumentDataColumn),null!=t&&t[e]instanceof T&&(n.core.isDateTimeArguments=!0),i.next();return i.restoreState("ChartRender_DataColumn"),t}let r=q.getBusinessObjectFromDataColumn(s.report.dictionary,n.argumentDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let t=U.create(Object,r.count);r.first();for(let e=0;e<r.count;e++)t[e]=q.getDataFromBusinessObject(s.report.dictionary,n.argumentDataColumn),t[e]instanceof T&&(n.core.isDateTimeArguments=!0),r.next();return r.restoreState("ChartRender_DataColumn"),t}}return null}static getArgumentsFromListOfArguments(e,t){var i=new F;if(t.invokeGetListOfArguments(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getArgumentsFromString(i.value);return null}static getValues(e,t){let i=this.getValuesFromListOfValues(e,t);if(null!=i)return i;if(null!=(i=this.getValuesFromValueDataColumn(e,t)))return i;if(null!=(i=this.getValuesFromValueExpression(e,t)))return i;return[]}static getValuesFromValueExpression(i,r){let s=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r.invokeGetValue(i,e),s[t]=e.value.stimulsoft().toNumber(),i.next()}return s}static getValuesFromValueDataColumn(l,a){if(null!=a.valueDataColumn&&0<a.valueDataColumn.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,a.valueDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,a.valueDataColumn),t=null;null!=(e=!a.is(Q.d.StiGanttSeries)||null==e||e instanceof T||null==T.fromString(e.toString(),!1)?e:T.fromString(e.toString()))&&e instanceof T?(t=e.toOADate2(!1),a.core.isDateTimeValues=!0):null!=e&&e!=b.value&&(t=e.stimulsoft().toNumber()),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,a.valueDataColumn);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,a.valueDataColumn),t=null;(e=e instanceof T||null==T.fromString(e.toString(),!1)?e:T.fromString(e.toString()))instanceof T?(a.core.isDateTimeValues=!0,t=e.toOADate2(!1)):null!=e&&e!=b.value&&(t=e.stimulsoft().toNumber()),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getValuesFromListOfValues(e,t){var i=new F;if(t.invokeGetListOfValues(e,i,t),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesEnd(e,t,i,r,s){let n=this.getValuesEndFromListOfValuesEnd(e,t,r);if(null!=n)return n;if(null!=(n=this.getValuesEndFromValueDataColumnEnd(e,t,i)))return n;if(null!=(n=this.getValuesEndFromValueEndExpression(e,s,t)))return n;return[]}static getValuesEndFromValueEndExpression(i,r,s){let n=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r(i,e,s),n[t]=e.value.stimulsoft().toNumber(),i.next()}return n}static getValuesEndFromValueDataColumnEnd(l,a,o){if(null!=o&&0<o.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,o);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,o),t=null;(e=!a.is(Q.d.StiGanttSeries)||null==e||e instanceof T||null==T.fromString(e.toString(),!1)?e:T.fromString(e.toString()))instanceof T?(a.core.isDateTimeValues=!0,t=e.toOADate2(!1)):null!=e&&e!=b.value&&(t=e.stimulsoft().toNumber()),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,o);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,o),t=null;(e=e instanceof T||null==T.fromString(e.toString(),!1)?e:T.fromString(e.toString()))instanceof T?(a.core.isDateTimeValues=!0,t=e.toOADate2(!1)):null!=e&&e!=b.value&&(t=e.stimulsoft().toNumber()),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getValuesEndFromListOfValuesEnd(e,t,i){var r=new F;if(i(e,r,t),null!=r.value&&0<r.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,r.value);return null}static getValuesOpen(e,t){let i=this.getValuesOpenFromListOfValuesOpen(e,t);if(null!=i)return i;if(null!=(i=this.getValuesOpenFromValueDataColumnOpen(e,t)))return i;if(null!=(i=this.getValuesOpenFromValuesOpenExpression(e,t)))return i;return[]}static getValuesOpenFromValuesOpenExpression(i,r){let s=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r.invokeGetValueOpen(i,e),s[t]=e.value.stimulsoft().toNumber(),i.next()}return s}static getValuesOpenFromValueDataColumnOpen(l,a){if(null!=a.valueDataColumnOpen&&0<a.valueDataColumnOpen.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,a.valueDataColumnOpen);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,a.valueDataColumnOpen),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,a.valueDataColumnOpen);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,a.valueDataColumnOpen),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getValuesOpenFromListOfValuesOpen(e,t){var i=new F;if(t.invokeGetListOfValuesOpen(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesClose(e,t){let i=this.getValuesCloseFromListOfValuesClose(e,t);if(null!=i)return i;if(null!=(i=this.getValuesCloseFromValueDataColumnClose(e,t)))return i;if(null!=(i=this.getValuesCloseFromValuesCloseExpression(e,t)))return i;return[]}static getValuesCloseFromValuesCloseExpression(i,r){let s=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r.invokeGetValueClose(i,e),s[t]=e.value.stimulsoft().toNumber(),i.next()}return s}static getValuesCloseFromValueDataColumnClose(l,a){if(null!=a.valueDataColumnClose&&0<a.valueDataColumnClose.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,a.valueDataColumnClose);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,a.valueDataColumnClose),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,a.valueDataColumnClose);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,a.valueDataColumnClose),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getValuesCloseFromListOfValuesClose(e,t){var i=new F;if(t.invokeGetListOfValuesClose(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesHigh(e,t){let i=this.getValuesHighFromListOfValuesHigh(e,t);if(null!=i)return i;if(null!=(i=this.getValuesHighFromValueDataColumnHigh(e,t)))return i;if(null!=(i=this.getValuesHighFromValuesHighExpression(e,t)))return i;return[]}static getValuesHighFromValuesHighExpression(i,r){let s=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r.invokeGetValueHigh(i,e),s[t]=e.value.stimulsoft().toNumber(),i.next()}return s}static getValuesHighFromValueDataColumnHigh(l,a){if(null!=a.valueDataColumnHigh&&0<a.valueDataColumnHigh.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,a.valueDataColumnHigh);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,a.valueDataColumnHigh),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,a.valueDataColumnHigh);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,a.valueDataColumnHigh),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getValuesHighFromListOfValuesHigh(e,t){var i=new F;if(t.invokeGetListOfValuesHigh(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesLow(e,t){let i=this.getValuesLowFromListOfValuesLow(e,t);if(null!=i)return i;if(null!=(i=this.getValuesLowFromValueDataColumnLow(e,t)))return i;if(null!=(i=this.getValuesLowFromValuesLowExpression(e,t)))return i;return[]}static getValuesLowFromValuesLowExpression(i,r){let s=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r.invokeGetValueLow(i,e),s[t]=e.value.stimulsoft().toNumber(),i.next()}return s}static getValuesLowFromValueDataColumnLow(l,a){if(null!=a.valueDataColumnLow&&0<a.valueDataColumnLow.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,a.valueDataColumnLow);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,a.valueDataColumnLow),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,a.valueDataColumnLow);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,a.valueDataColumnLow),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getValuesLowFromListOfValuesLow(e,t){var i=new F;if(t.invokeGetListOfValuesLow(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getWeights(e,t){let i=this.getWeightsFromListOfWeights(e,t);if(null!=i)return i;if(null!=(i=this.getWeightsFromWeightDataColumn(e,t)))return i;if(null!=(i=this.getWeightsWeightExpression(e,t)))return i;return[]}static getWeightsWeightExpression(i,r){let s=U.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new F;e.value="0",r.invokeGetWeight(i,e),s[t]=e.value.stimulsoft().toNumber(),i.next()}return s}static getWeightsFromWeightDataColumn(l,a){if(null!=a.weightDataColumn&&0<a.weightDataColumn.trim().length){let s=q.getDataSourceFromDataColumn(l.report.dictionary,a.weightDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let r=U.create(Number,s.count);s.first();for(let i=0;i<s.count;i++){let e=q.getDataFromDataColumn(l.report.dictionary,a.weightDataColumn),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,s.next()}return s.restoreState("ChartRender_DataColumn"),r}let n=q.getBusinessObjectFromDataColumn(l.report.dictionary,a.weightDataColumn);if(null!=n){n.saveState("ChartRender_DataColumn");let r=U.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=q.getDataFromBusinessObject(l.report.dictionary,a.weightDataColumn),t=(e instanceof T||null==T.fromString(e.toString(),!1)||(e=T.fromString(e.toString())),0);t=e instanceof T?(a.core.isDateTimeValues=!0,e.toOADate2(!1)):e.stimulsoft().toNumber(),r[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),r}}return null}static getWeightsFromListOfWeights(e,t){var i=new F;if(t.invokeGetListOfWeights(e,i,t),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getHyperlinks(e,t){let i=this.getHyperlinksFromListOfHyperlinks(e,t);if(null!=i)return i;if(null!=(i=this.getHyperlinksFromHyperlinkDataColumn(e,t)))return i;if(null!=(i=this.getHyperlinksFromHyperlinkExpression(e,t)))return i;return[]}static getHyperlinksFromHyperlinkExpression(i,r){let s=U.create(String,i.count);i.first();for(let t=0;t<i.count;t++){let e=new y;e.value=null,r.invokeGetHyperlink(i,e),null!=e.value&&(s[t]=e.value.toString()),i.next()}return s}static getHyperlinksFromHyperlinkDataColumn(n,l){if(null!=l.hyperlinkDataColumn&&0<l.hyperlinkDataColumn.trim().length){let r=q.getDataSourceFromDataColumn(n.report.dictionary,l.hyperlinkDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=U.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=q.getDataFromDataColumn(n.report.dictionary,l.hyperlinkDataColumn);null!=e&&(i[t]=e.toString()),r.next()}return r.restoreState("ChartRender_DataColumn"),i}let s=q.getBusinessObjectFromDataColumn(n.report.dictionary,l.hyperlinkDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=U.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=q.getDataFromBusinessObject(n.report.dictionary,l.hyperlinkDataColumn);null!=e&&(i[t]=e.toString()),s.next()}return s.restoreState("ChartRender_DataColumn"),i}}return null}static getHyperlinksFromListOfHyperlinks(e,t){var i=new F;if(t.invokeGetListOfHyperlinks(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getStringsFromString(i.value);return null}static getTags(e,t){let i=this.getTagsFromListOfTags(e,t);if(null!=i)return i;if(null!=(i=this.getTagsFromTagDataColumn(e,t)))return i;if(null!=(i=this.getTagsFromTagExpression(e,t)))return i;return[]}static getTagsFromTagExpression(i,r){let s=U.create(Object,i.count);i.first();for(let t=0;t<i.count;t++){let e=new y;e.value=null,r.invokeGetTag(i,e),s[t]=e.value,i.next()}return s}static getTagsFromTagDataColumn(s,n){if(null!=n.tagDataColumn&&0<n.tagDataColumn.trim().length){let i=q.getDataSourceFromDataColumn(s.report.dictionary,n.tagDataColumn);if(null!=i){i.saveState("ChartRender_DataColumn");let t=U.create(Object,i.count);i.first();for(let e=0;e<i.count;e++){var l=q.getDataFromDataColumn(s.report.dictionary,n.tagDataColumn);t[e]=l,i.next()}return i.restoreState("ChartRender_DataColumn"),t}let r=q.getBusinessObjectFromDataColumn(s.report.dictionary,n.tagDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let t=U.create(Object,r.count);r.first();for(let e=0;e<r.count;e++)t[e]=q.getDataFromBusinessObject(s.report.dictionary,n.tagDataColumn),r.next();return r.restoreState("ChartRender_DataColumn"),t}}return null}static getTagsFromListOfTags(e,t){var i=new F;if(t.invokeGetListOfTags(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getStringsFromString(i.value);return null}static getToolTips(e,t){let i=this.getToolTipsFromListOfToolTips(e,t);if(null!=i)return i;if(null!=(i=this.getToolTipsFromToolTipDataColumn(e,t)))return i;if(null!=(i=this.getToolTipsFromToolTipExpression(e,t)))return i;return[]}static getToolTipsFromToolTipExpression(i,r){let s=U.create(String,i.count);i.first();for(let t=0;t<i.count;t++){let e=new y;e.value=null,r.invokeGetToolTip(i,e),null!=e.value&&(s[t]=e.value.toString()),i.next()}return s}static getToolTipsFromToolTipDataColumn(n,l){if(null!=l.toolTipDataColumn&&0<l.toolTipDataColumn.trim().length){let r=q.getDataSourceFromDataColumn(n.report.dictionary,l.toolTipDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=U.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=q.getDataFromDataColumn(n.report.dictionary,l.toolTipDataColumn);null!=e&&(i[t]=e.toString()),r.next()}return r.restoreState("ChartRender_DataColumn"),i}let s=q.getBusinessObjectFromDataColumn(n.report.dictionary,l.toolTipDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=U.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=q.getDataFromBusinessObject(n.report.dictionary,l.toolTipDataColumn);null!=e&&(i[t]=e.toString()),s.next()}return s.restoreState("ChartRender_DataColumn"),i}}return null}static getToolTipsFromListOfToolTips(e,t){var i=new F;if(t.invokeGetListOfToolTips(e,i),null!=i.value&&0<i.value.length)return Q.d.StiSeries.getStringsFromString(i.value);return null}static"getAnimationÐ¡ompatibilitySeries"(e,t){var e=qe.getAnimationSeriesType(e),t=qe.getAnimationSeriesType(t);if(e==Q.d.StiSeriesAnimationType.None||t==Q.d.StiSeriesAnimationType.None)return!1;return e==t}static getAnimationSeriesType(e){var e=e.stimulsoft().getType();if(e==Q.d.StiClusteredColumnSeries)return Q.d.StiSeriesAnimationType.Column;if(e==Q.d.StiStackedColumnSeries)return Q.d.StiSeriesAnimationType.Column;if(e==Q.d.StiFullStackedColumnSeries)return Q.d.StiSeriesAnimationType.Column;if(e==Q.d.StiRangeBarSeries)return Q.d.StiSeriesAnimationType.Column;if(e==Q.d.StiHistogramSeries)return Q.d.StiSeriesAnimationType.Column;if(e==Q.d.StiWaterfallSeries)return Q.d.StiSeriesAnimationType.Column;if(e==Q.d.StiLineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiStackedLineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiFullStackedLineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiSplineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiStackedSplineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiFullStackedSplineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiSteppedLineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiScatterLineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiScatterSplineSeries)return Q.d.StiSeriesAnimationType.Line;if(e==Q.d.StiClusteredBarSeries)return Q.d.StiSeriesAnimationType.Bar;if(e==Q.d.StiStackedBarSeries)return Q.d.StiSeriesAnimationType.Bar;if(e==Q.d.StiFullStackedBarSeries)return Q.d.StiSeriesAnimationType.Bar;if(e==Q.d.StiGanttSeries)return Q.d.StiSeriesAnimationType.Bar;if(e==Q.d.StiAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiStackedAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiFullStackedAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiSplineAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiStackedSplineAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiFullStackedSplineAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiSteppedAreaSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiRangeSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiSplineRangeSeries)return Q.d.StiSeriesAnimationType.Range;if(e==Q.d.StiSteppedRangeSeries)return Q.d.StiSeriesAnimationType.Range;return Q.d.StiSeriesAnimationType.None}}qe.globalDurationElement=new K(0,0,1),qe.globalBeginTimeElement=new K(0,0,1),Q.d.StiChartHelper=qe}Q.c.StiProcessChartEvent=class extends Q.c.StiEvent{toString(){return"ProcessChart"}};let E=Z.Base.Meta.StiStringMeta,t=Z.Base.Meta.StiMetaHelper,e=Z.Base.Meta.StiBrushMeta,i=Z.Base.Meta.StiColorMeta,r=Z.Base.Meta.StiBoolMeta,s=Z.Base.JsonReportObject.IStiJsonReportObject,n=Z.System.ICloneable,ie=Z.Base.Drawing.StiSolidBrush;var N=Z.Base.Services.StiService;{class Re extends N{constructor(){super(...arguments),this.chart=null,this._allowApplyStyle=!0,this.colorEach=!1,this.showShadow=!1,this.borderColor=ee.gray,this.brush=new ie(ee.white)}implements(){return Re.implementsStiArea||(Re.implementsStiArea=super.implements().concat([s,Q.d.IStiArea,n])),Re.implementsStiArea}meta(){return this._hash||(this._hash=[...super.meta(),new E("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new r("AllowApplyStyle","",!0),new r("ColorEach"),new r("ShowShadow"),new i("BorderColor","",ee.gray),new e(["Brush","br"])])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=Z["StiOptions"].Services.chartAreas.firstOrDefault(e=>e.stimulsoft().getType().stimulsoft().getTypeName()==t);if(null==i)throw G.format("Type {0} is not found!",t);let r=i.createNew();return r.loadFromJsonObject(e),r}static loadAreaFromXml(e,t){let i=e.attributes.getNamedItem("type").value;var r=i.split(".").pop();let s=new Q.d[r];return s.chart=t,s.loadFromXml(e),s}get componentId(){return null}get propName(){return""}clone(){let e=super.clone();return e.brush=this.brush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.area=e),e}createNew(){return null}toString(){return this.serviceName}getDefaultSeriesType(){return null}getSeriesTypes(){return null}getDefaultSeriesLabelsType(){return null}getSeriesLabelsTypes(){return null}get serviceCategory(){return"Chart"}get serviceType(){return Re}get isDefaultSeriesTypeFullStackedColumnSeries(){return this.getDefaultSeriesType()==Q.d.StiFullStackedColumnSeries}get isDefaultSeriesTypeFullStackedBarSeries(){return this.getDefaultSeriesType()==Q.d.StiFullStackedBarSeries}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}}Q.d.StiArea=Re}let l=Z.Base.Meta.StiEnumMeta,a=Z.Base.Meta.StiObjectMeta;{class je extends Q.d.StiArea{constructor(){super(),this.radarStyle=Q.d.StiRadarStyle.Circle,this.xAxis=new Q.d.StiXRadarAxis,this.yAxis=new Q.d.StiYRadarAxis,this.interlacingHor=new Q.d.StiInterlacingHor,this.interlacingVert=new Q.d.StiInterlacingVert,this.gridLinesHor=new Q.d.StiRadarGridLinesHor,this.gridLinesVert=new Q.d.StiRadarGridLinesVert}implements(){return je.implementsStiRadarArea||(je.implementsStiRadarArea=super.implements().concat([s,Q.d.IStiRadarArea,Q.d.IStiArea,n])),je.implementsStiRadarArea}meta(){return this._hash||(this._hash=[...super.meta(),new a("InterlacingHor","_"),new a("InterlacingVert","_"),new a("GridLinesHor","_"),new a("GridLinesVert","_"),new a("XAxis","_").set(e=>{this._xAxis.loadFromJsonObject(e.value),1==this._xAxis.stimulsoft().as(Q.d.StiRadarAxis).jsonLoadFromJsonObjectArea&&(this._xAxis.stimulsoft().as(Q.d.StiRadarAxis).jsonLoadFromJsonObjectArea=!1,this._xAxis.area=this)}).setXml(e=>{this._xAxis.loadFromXml(e),this._xAxis.area=this}),new a("YAxis","_").set(e=>{this._yAxis.loadFromJsonObject(e.value),1==this._yAxis.stimulsoft().as(Q.d.StiRadarAxis).jsonLoadFromJsonObjectArea&&(this._yAxis.stimulsoft().as(Q.d.StiRadarAxis).jsonLoadFromJsonObjectArea=!1,this._yAxis.area=this)}).setXml(e=>{this._yAxis.loadFromXml(e),this._yAxis.area=this}),new l("RadarStyle","",Q.d.StiRadarStyle,Q.d.StiRadarStyle.Circle)])}clone(){let e=super.clone();return e.interlacingHor=this.interlacingHor.clone(),e.interlacingVert=this.interlacingVert.clone(),e.gridLinesHor=this.gridLinesHor.clone(),e.gridLinesVert=this.gridLinesVert.clone(),e.xAxis=this.xAxis.clone(),e.yAxis=this.yAxis.clone(),e}getDefaultSeriesLabelsType(){return Q.d.StiNoneLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiOutsideBaseAxisLabels,Q.d.StiOutsideEndAxisLabels,Q.d.StiOutsideAxisLabels,Q.d.StiValueAxisLabels]}get interlacingHor(){return this._interlacingHor}set interlacingHor(e){this._interlacingHor=e,null!=this._interlacingHor&&(this._interlacingHor.area=this)}get interlacingVert(){return this._interlacingVert}set interlacingVert(e){this._interlacingVert=e,null!=this._interlacingVert&&(this._interlacingVert.area=this)}get gridLinesHor(){return this._gridLinesHor}set gridLinesHor(e){this._gridLinesHor=e,null!=this._gridLinesHor&&(this._gridLinesHor.area=this)}get gridLinesVert(){return this._gridLinesVert}set gridLinesVert(e){this._gridLinesVert=e,null!=this._gridLinesVert&&(this._gridLinesVert.area=this)}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e,null!=this._xAxis&&(this._xAxis.area=this)}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e,null!=this._yAxis&&(this._yAxis.area=this)}}Q.d.StiRadarArea=je}let re=Z.System.Drawing.Rectangle,O=Q.d.IStiSeriesElement;{class Oe{constructor(e){this.chart=e}implements(){return Oe.implementsStiChartCoreXF||(Oe.implementsStiChartCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiChartCoreXF]),Oe.implementsStiChartCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.chart.style=e,this.chart.allowApplyStyle&&(this.chart.brush=e.core.chartBrush),null!=this.chart.title&&this.chart.title.core.applyStyle(e),null!=this.chart.area&&this.chart.area.core.applyStyle(e),null!=this.chart.legend&&this.chart.legend.core.applyStyle(e),null!=this.chart.seriesLabels&&this.chart.seriesLabels.core.applyStyle(e),null!=this.chart.series&&this.chart.series.applyStyle(e),null!=this.chart.constantLines&&this.chart.constantLines.applyStyle(e),null!=this.chart.strips&&this.chart.strips.applyStyle(e),null!=this.chart.table&&this.chart.table.core.applyStyle(e)}render(i,t,r){let s=new Q.d.StiChartGeom(t);s.createChildGeoms();let n;var r,e=(n=r?(r=i.options.zoom,new re(t.x+this.chart.horSpacing*r,t.y+this.chart.vertSpacing*r,t.width-2*this.chart.horSpacing*r,t.height-2*this.chart.vertSpacing*r)):t.clone(),this.fullRectangle=n,this.chart.title.core.render(i,this.chart.title,n)),r,t,l,a;if(null!=e){switch(this.chart.title.dock){case Q.d.StiChartTitleDock.Top:n.y+=e.clientRectangle.height,n.height-=e.clientRectangle.height;break;case Q.d.StiChartTitleDock.Right:n.width-=e.clientRectangle.width;break;case Q.d.StiChartTitleDock.Bottom:n.height-=e.clientRectangle.height;break;case Q.d.StiChartTitleDock.Left:n.x+=e.clientRectangle.width,n.width-=e.clientRectangle.width;break}s.childGeoms.push(e)}let o=null,h=null,u=n.clone(),d=(null!=this.chart.legend&&(o=this.chart.area.core.render(i,u.clone()),null!=(h=this.chart.legend.core.render(i,o.clientRectangle.clone()))&&(r=h.clientRectangle.clone(),t={ref:n},l={ref:u},this.setLegendRect(i,this.chart,t,l,a={ref:r}),n=t.ref,r=a.ref,u=l.ref)),0),c=0,m=(this.chart.table.core.showTable()&&(o=this.chart.area.core.render(i,u.clone()),d=this.chart.table.core.getWidthCellLegend(i)+o.clientRectangle.width,c=this.chart.table.core.getHeightTable(i,d),u.height-=c),null!=this.chart.area&&null!=(o=this.chart.area.core.render(i,u.clone()))&&s.childGeoms.push(o),s.getSeriesElementGeoms());for(let t=0;t<m.length;t++){let e=m[t].stimulsoft().as(O);null!=e&&(e.elementIndex=t.toString())}if(this.chart.table.core.showTable()){var t=this.chart.series,a=this.chart.area;if(null!=t&&0<t.count){let e=u.x,t=(this.chart.table.core.getWidthCellLegend(i)<o.clientRectangle.x-u.x&&(e=o.clientRectangle.x-this.chart.table.core.getWidthCellLegend(i)),a.reverseHor&&a.yRightAxis.visible&&(e=o.clientRectangle.left),o.clientRectangle.bottom);this.chart.table.chart.area.is(Q.d.IStiClusteredBarArea)&&(t=u.bottom);var r=new re(e,t,d,c),l=this.chart.table.core.render(i,r);s.childGeoms.push(l)}}if(s.createChildGeoms(),null!=h){u=o.clientRectangle.clone();let e=h.clientRectangle.clone();var t={ref:n},a={ref:u},r={ref:e};this.setLegendRect(i,this.chart,t,a,r),n=t.ref,e=r.ref,u=a.ref,h.clientRectangle=e.clone(),s.childGeoms.push(h)}return s}setLegendRect(e,t,i,r,s){var n=i.ref;let l=r.ref,a=s.ref;var o=t.horSpacing*e.options.zoom,h=t.vertSpacing*e.options.zoom;switch(t.legend.horAlignment){case Q.d.StiLegendHorAlignment.LeftOutside:a.x=n.x,l.width-=a.width+o,l.x+=a.width+o;break;case Q.d.StiLegendHorAlignment.Left:a.x=l.x+o;break;case Q.d.StiLegendHorAlignment.Center:a.x=l.x+(l.width-a.width)/2;break;case Q.d.StiLegendHorAlignment.Right:a.x=l.right-o-a.width,t.legend.showShadow&&t.legend.vertAlignment==Q.d.StiLegendVertAlignment.BottomOutside&&(a.x-=5,l.width-=5);break;case Q.d.StiLegendHorAlignment.RightOutside:a.x=n.right-a.width,l.width-=a.width+o,t.legend.showShadow&&(a.x-=5,l.width-=5);break}switch(t.legend.vertAlignment){case Q.d.StiLegendVertAlignment.TopOutside:a.y=n.y,l.height-=a.height+h,l.y+=a.height+h;break;case Q.d.StiLegendVertAlignment.Top:a.y=l.y+h;break;case Q.d.StiLegendVertAlignment.Center:a.y=l.y+(l.height-a.height)/2;break;case Q.d.StiLegendVertAlignment.Bottom:a.y=l.bottom-h-a.height,!t.legend.showShadow||t.legend.horAlignment!=Q.d.StiLegendHorAlignment.LeftOutside&&t.legend.horAlignment!=Q.d.StiLegendHorAlignment.RightOutside||(a.y-=5,l.height-=5);break;case Q.d.StiLegendVertAlignment.BottomOutside:a.y=n.bottom-a.height,l.height-=a.height+h,t.legend.showShadow&&(a.y-=5,l.height-=5);break}t.legend.vertAlignment==Q.d.StiLegendVertAlignment.BottomOutside||t.legend.vertAlignment==Q.d.StiLegendVertAlignment.TopOutside?(t.legend.horAlignment==Q.d.StiLegendHorAlignment.Left&&(a.x-=o),t.legend.horAlignment==Q.d.StiLegendHorAlignment.Right&&(a.x+=o)):t.legend.horAlignment!=Q.d.StiLegendHorAlignment.RightOutside&&t.legend.horAlignment!=Q.d.StiLegendHorAlignment.LeftOutside||(t.legend.vertAlignment==Q.d.StiLegendVertAlignment.Top&&(a.y-=h),t.legend.vertAlignment==Q.d.StiLegendVertAlignment.Bottom&&(a.y+=h)),i.ref=n,r.ref=l,s.ref=a}}Q.d.StiChartCoreXF=Oe}let o=Z.Base.Meta.StiStringNullOrEmptyMeta;{class Xe{constructor(){this.visible=!1,this.allowApplyStyle=!0,this.markerVisible=!0,this.gridLineColor=ee.gray,this.gridLinesHor=!0,this.gridLinesVert=!0,this.gridOutline=!0,this.format="",this.chart=null,this.header=new Q.d.StiChartTableHeader,this.dataCells=new Q.d.StiChartTableDataCells,this.core=new Q.d.StiChartTableCoreXF(this)}implements(){return Xe.implementsStiChartTable||(Xe.implementsStiChartTable=[s,Q.d.IStiChartTable,n]),Xe.implementsStiChartTable}meta(){return this._hash||(this._hash=[new r("Visible"),new r("AllowApplyStyle","",!0),new r("MarkerVisible","",!0),new i("GridLineColor","",ee.gray),new r("GridLinesHor","",!0),new r("GridLinesVert","",!0),new r("GridOutline","",!0),new o("Format"),new a("Header"),new a("DataCells")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiChartTable}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e.header=this.header.clone(),e.dataCells=this.dataCells.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.chartTable=e),e}get font(){return this.dataCells.font}set font(e){this.dataCells.font=e}get textColor(){return this.dataCells.textColor}set textColor(e){this.dataCells.textColor=e}}Q.d.StiChartTable=Xe}let h=Z.Base.Meta.StiNumberMeta,V=Z.Base.Meta.StiFontMeta,A=Z.System.Drawing.StringAlignment,X=Z.System.Drawing.Font,_=Z.System.Drawing.FontStyle;{class Ve{constructor(e=new X("Tahoma",12,_.Bold),t="",i=new ie(ee.saddleBrown),r=!0,s=A.Center,n=Q.d.StiChartTitleDock.Top,l=2,a=!1,o=!0){this._allowApplyStyle=!0,this.font=new X("Tahoma",12,_.Bold),this.text="",this.brush=new ie(ee.saddleBrown),this.antialiasing=!0,this.alignment=A.Center,this.dock=Q.d.StiChartTitleDock.Top,this.spacing=2,this.visible=!1,this.chart=null,this.core=new Q.d.StiChartTitleCoreXF(this),this.font=e,this.text=t,this.brush=i,this.antialiasing=r,this.alignment=s,this.dock=n,this.spacing=l,this.visible=a,this.allowApplyStyle=o}implements(){return Ve.implementsStiChartTitle||(Ve.implementsStiChartTitle=[Q.d.IStiChartTitle,n,s]),Ve.implementsStiChartTitle}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","_",!0),new V("Font","","Tahoma",12,_.Bold),new o("Text"),new e("Brush"),new r("Antialiasing","",!0),new l("Alignment","",A,A.Center),new l("Dock","",Q.d.StiChartTitleDock,Q.d.StiChartTitleDock.Top),new h("Spacing","",2),new r("Visible")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiChartTitle}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return e.alignment=this.alignment,e.font=this.font.clone(),e.brush=this.brush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.chartTitle=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}}Q.d.StiChartTitle=Ve}let H=Z.Base.StiJson,x=Z.Base.Localization.StiLocalization;var z=Z.System.Collections.CollectionBase;{class We extends z{constructor(){super(...arguments),this.chart=null}implements(){return We.implementsStiStripsCollection||(We.implementsStiStripsCollection=[s,Q.d.IStiApplyStyle,Q.d.IStiStripsCollection]),We.implementsStiStripsCollection}saveToJsonObject(e){if(0==this.list.length)return null;let t=new H,i=0;for(var r of this.list)t.addPropertyJObject(i.toString(),r.saveToJsonObject(e)),i++;return t}loadFromJsonObject(e){for(var t of e.properties()){let e=new Q.d.StiStrips;e.chart=this.chart,this.add(e),e.loadFromJsonObject(t.value)}}loadFromXml(i){for(let e=0;e<i.childNodes.length;e++){let t=i.childNodes[e];if(null==t.attributes)continue;var r=t.attributes.getNamedItem("type");if(null!=r&&"Stimulsoft.Report.Chart.StiStrips"==t.attributes.getNamedItem("type").value){let e=new Q.d.StiStrips;e.chart=this.chart,this.add(e),e.loadFromXml(t)}}}applyStyle(e){for(var t of this.list)t.core.applyStyle(e)}getStripsTitle(){var e=x.get("Chart","Strip");let t=e,i=1,r=!0;while(r){t=e+" "+i.toString(),r=!1;for(var s of this.list)if(s.text==t){r=!0;break}i++}return t}add(e){null!=this.chart&&(G.isNullOrEmpty(e.text)&&(e.text=this.getStripsTitle()),e.chart=this.chart),super.add(e)}}Q.d.StiStripsCollection=We}{class He extends z{constructor(){super(...arguments),this.chart=null}implements(){return He.implementsStiConstantLinesCollection||(He.implementsStiConstantLinesCollection=[s,Q.d.IStiApplyStyle,Q.d.IStiConstantLinesCollection]),He.implementsStiConstantLinesCollection}saveToJsonObject(e){if(0==this.list.length)return null;let t=new H,i=0;for(var r of this.list)t.addPropertyJObject(i.toString(),r.saveToJsonObject(e)),i++;return t}loadFromJsonObject(e){for(var t of e.properties()){let e=new Q.d.StiConstantLines;e.chart=this.chart,this.add(e),e.loadFromJsonObject(t.value)}}loadFromXml(i){for(let e=0;e<i.childNodes.length;e++){let t=i.childNodes[e];if(null==t.attributes)continue;var r=t.attributes.getNamedItem("type");if(null!=r&&"Stimulsoft.Report.Chart.StiConstantLines"==t.attributes.getNamedItem("type").value){let e=new Q.d.StiConstantLines;e.chart=this.chart,this.add(e),e.loadFromXml(t)}}}applyStyle(e){for(var t of this.list)t.core.applyStyle(e)}getConstantLineTitle(){var e=x.get("Chart","ConstantLine");let t=e,i=1,r=!0;while(r){t=e+" "+i.toString(),r=!1;for(var s of this.list)if(s.text==t){r=!0;break}i++}return t}add(e){null!=this.chart&&(G.isNullOrEmpty(e.text)&&(e.text=this.getConstantLineTitle()),e.chart=this.chart),super.add(e)}}Q.d.StiConstantLinesCollection=He}let j=Z.Base.Meta.StiSizeMeta,Y=Z.System.Drawing.Size,W=Q.e.TextFormats.StiFormatService,J=Q.e.TextFormats.StiGeneralFormatService;{class Fe extends N{constructor(){super(...arguments),this.preventIntersection=!1,this._allowApplyStyle=!0,this.showZeros=!1,this.showNulls=!0,this.markerVisible=!1,this.markerSize=new Y(8,6),this.markerAlignment=Q.d.StiMarkerAlignment.Left,this.step=0,this.valueType=Q.d.StiSeriesLabelsValueType.Value,this.valueTypeSeparator="-",this.legendValueType=Q.d.StiSeriesLabelsValueType.Value,this.textBefore="",this.textAfter="",this.angle=0,this.format="",this.antialiasing=!0,this.visible=!0,this.drawBorder=!0,this.useSeriesColor=!1,this.labelColor=ee.black,this.borderColor=ee.black,this.brush=new ie(ee.white),this.font=new X("Arial",7),this.chart=null,this.wordWrap=!1,this.width=0}implements(){return Fe.implementsStiSeriesLabels||(Fe.implementsStiSeriesLabels=super.implements().concat([s,Q.d.IStiSeriesLabels,n])),Fe.implementsStiSeriesLabels}meta(){return this._hash||(this._hash=[...super.meta(),new E("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new r("PreventIntersection"),new r("AllowApplyStyle","",!0),new r("ShowZeros"),new r("ShowNulls","",!0),new r("MarkerVisible"),new j("MarkerSize"),new l("MarkerAlignment","",Q.d.StiMarkerAlignment,Q.d.StiMarkerAlignment.Left),new h("Step"),new l("ValueType","",Q.d.StiSeriesLabelsValueType,Q.d.StiSeriesLabelsValueType.Value),new o("ValueTypeSeparator"),new l("LegendValueType","",Q.d.StiSeriesLabelsValueType,Q.d.StiSeriesLabelsValueType.Value),new o("TextBefore"),new o("TextAfter"),new h("Angle"),new o("Format"),new r("Antialiasing","",!0),new r("Visible","",!0),new r("DrawBorder","",!0),new r("UseSeriesColor"),new i("LabelColor","",ee.black),new i("BorderColor","",ee.black),new e("Brush"),new V("Font","","Arial",7),new r("WordWrap"),new h("Width"),new a("FormatService").check(()=>null!=this.formatService&&!this.formatService.is(J)).set(e=>this.formatService=W.createFromJsonObject(e.value)).setXml(e=>this.formatService=W.loadFormatFromXml(e))])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}static loadFromJsonObjectInternal(e,t){let i=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),r=Z["StiOptions"].Services.chartSerieLabels.firstOrDefault(e=>e.stimulsoft().getType().stimulsoft().getTypeName()==i);if(null==r)throw G.format("Type {0} is not found!",i);let s=r.createNew();return s.chart=t,s.loadFromJsonObject(e),s}static loadLabelsFromXml(e,t){let i=e.attributes.getNamedItem("type").value;var r=i.split(".").pop();let s=new Q.d[r];return s.chart=t,s.loadFromXml(e),s}get componentId(){return Q.a.StiComponentId.StiSeriesLabels}get propName(){return""}clone(){let e=super.clone();return e.brush=this.brush.clone(),e.font=this.font.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.seriesLabels=e),e}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return Fe}get axisCore(){return this.core}get pieCore(){return this.core}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}get conditions(){if(null==this.chart)return null;return this.chart.seriesLabelsConditions}set conditions(e){if(null==this.chart)return;this.chart.seriesLabelsConditions=e}get showOnZeroValues(){return this.showZeros}set showOnZeroValues(e){this.showZeros=e}toString(){return this.serviceName}createNew(){return null}}Q.d.StiSeriesLabels=Fe}{class ii extends Q.d.StiSeriesLabels{constructor(){super(...arguments),this._showInPercent=!1}implements(){return ii.implementsStiAxisSeriesLabels||(ii.implementsStiAxisSeriesLabels=super.implements().concat([Q.d.IStiSeriesLabels,n,Q.d.IStiAxisSeriesLabels])),ii.implementsStiAxisSeriesLabels}meta(){return this._hash||(this._hash=[...super.meta(),new r("ShowInPercent","_")])}get showInPercent(){return this._showInPercent}set showInPercent(e){this._showInPercent=e,this._showInPercent&&!this.format.stimulsoft().startsWith("P")&&(this.format="P2"),this._showInPercent||(this.format="")}}Q.d.StiAxisSeriesLabels=ii}{class Ne extends Q.d.StiAxisSeriesLabels{constructor(){super(),this.core=new Q.d.StiCenterAxisLabelsCoreXF(this)}implements(){return Ne.implementsStiCenterAxisLabels||(Ne.implementsStiCenterAxisLabels=super.implements().concat([s,Q.d.IStiSeriesLabels,Q.d.IStiCenterAxisLabels,Q.d.IStiAxisSeriesLabels,n])),Ne.implementsStiCenterAxisLabels}get componentId(){return Q.a.StiComponentId.StiCenterAxisLabels}createNew(){return new Ne}}Q.d.StiCenterAxisLabels=Ne}let f=Z.Base.Drawing.StiPenStyle;{class ri{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!0,u=!0,d=!0,c=!1){this._allowApplyStyle=!0,this.logarithmicScale=!1,this.startFromZero=!0,this.interaction=new Q.d.StiAxisInteraction,this.labels=new Q.d.StiAxisLabels,this.range=new Q.d.StiAxisRange,this.ticks=new Q.d.StiAxisTicks,this.arrowStyle=Q.d.StiArrowStyle.None,this.lineStyle=f.Solid,this.lineColor=ee.gray,this.lineWidth=1,this.visible=!0,this.info=new Q.d.StiAxisInfoXF,this.labels=e,this.range=t,this._title=i,this.ticks=r,this.interaction=s,this.arrowStyle=n,this.lineStyle=l,this.lineColor=a,this.lineWidth=o,this.visible=h,this.startFromZero=u,this._allowApplyStyle=d,this.logarithmicScale=c}implements(){return ri.implementsStiAxis||(ri.implementsStiAxis=[s,n,Q.d.IStiAxis,s]),ri.implementsStiAxis}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return this._hash||(this._hash=[new E("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new r("LogarithmicScale"),new r("AllowApplyStyle","",!0),new r("StartFromZero","",!0),new a("Interaction"),new a("Labels"),new a("Range"),new r("Visible","",!0),new l("ArrowStyle","",Q.d.StiArrowStyle,Q.d.StiArrowStyle.None),new l("LineStyle","",f,f.Solid),new i("LineColor","",ee.gray),new h("LineWidth","",1),new a("Title"),new a("Ticks")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.arrowStyle=this.arrowStyle,e.lineStyle=this.lineStyle,e.labels=this.labels.clone(),e.range=this.range.clone(),e.title=this.title.clone(),e.ticks=this.ticks.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.axis=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}get step(){if(null==this.labels)return 0;return this.labels.step}set step(e){null!=this.labels&&(this.labels.step=e)}get title(){return null==this._title&&(this._title=new Q.d.StiAxisTitle,this.is(Q.d.StiXBottomAxis)||this.is(Q.d.StiXTopAxis)?this._title.direction=Q.d.StiDirection.LeftToRight:this.is(Q.d.StiYRightAxis)?this._title.direction=Q.d.StiDirection.TopToBottom:this.is(Q.d.StiYLeftAxis)&&(this._title.direction=Q.d.StiDirection.BottomToTop)),this._title}set title(e){null==this._title&&(this._title=new Q.d.StiAxisTitle,this.is(Q.d.StiXBottomAxis)||this.is(Q.d.StiXTopAxis)?this._title.direction=Q.d.StiDirection.LeftToRight:this.is(Q.d.StiYRightAxis)?this._title.direction=Q.d.StiDirection.TopToBottom:this.is(Q.d.StiYLeftAxis)&&(this._title.direction=Q.d.StiDirection.BottomToTop)),this._title=e}get titleDirection(){if(null==this.title)return Q.d.StiLegendDirection.BottomToTop;switch(this.title.direction){case Q.d.StiDirection.BottomToTop:return Q.d.StiLegendDirection.BottomToTop;case Q.d.StiDirection.LeftToRight:return Q.d.StiLegendDirection.LeftToRight;case Q.d.StiDirection.RightToLeft:return Q.d.StiLegendDirection.RightToLeft;case Q.d.StiDirection.TopToBottom:return Q.d.StiLegendDirection.TopToBottom}return Q.d.StiLegendDirection.BottomToTop}set titleDirection(e){if(null==this.title)return;switch(e){case Q.d.StiLegendDirection.BottomToTop:this.title.direction=Q.d.StiDirection.BottomToTop;break;case Q.d.StiLegendDirection.LeftToRight:this.title.direction=Q.d.StiDirection.LeftToRight;break;case Q.d.StiLegendDirection.RightToLeft:this.title.direction=Q.d.StiDirection.RightToLeft;break;case Q.d.StiLegendDirection.TopToBottom:this.title.direction=Q.d.StiDirection.TopToBottom;break}}}Q.d.StiAxis=ri}{class si extends Q.d.StiAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!0,u=!0,d=Q.d.StiShowYAxis.Both,c=!0,m=!1){super(e,t,i,r,s,n,l,a,o,h,u,c,m),this.showYAxis=Q.d.StiShowYAxis.Both,this.showYAxis=d}implements(){return si.implementsStiYAxis||(si.implementsStiYAxis=super.implements().concat([s,Q.d.IStiYAxis,n,Q.d.IStiAxis])),si.implementsStiYAxis}meta(){return this._hash||(this._hash=[...super.meta(),new l("ShowYAxis","",Q.d.StiShowYAxis,Q.d.StiShowYAxis.Both)])}get componentId(){return Q.a.StiComponentId.StiYAxis}get propName(){return""}}Q.d.StiYAxis=si}let ue=Z.Base.Meta.StiRemoveMeta,de=Z.Base.Drawing.StiHorAlignment;{class ni extends Q.d.StiYAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!0,u=!0,d=!0,c=!1){super(e,t,i,r,s,n,l,a,o,h,u,Q.d.StiShowYAxis.Both,d,c),this.visible=!1,this.labels.textAlignment=de.Left,this.core=new Q.d.StiYRightAxisCoreXF(this)}implements(){return ni.implementsStiYRightAxis||(ni.implementsStiYRightAxis=super.implements().concat([s,Q.d.IStiYAxis,n,Q.d.IStiAxis,Q.d.IStiYRightAxis])),ni.implementsStiYRightAxis}meta(){return this._hash||(this._hash=[...super.meta(),new ue("ShowYAxis"),new r("Visible")])}get componentId(){return Q.a.StiComponentId.StiYRightAxis}}Q.d.StiYRightAxis=ni}{class li extends Q.d.StiAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!0,u=!0,d=Q.d.StiShowXAxis.Both,c=!1,m=!0,S=new Q.d.StiAxisDateTimeStep,g=!1){super(e,t,i,r,s,n,l,a,o,h,u,m,g),this.showEdgeValues=!1,this.showXAxis=Q.d.StiShowXAxis.Both,this.dateTimeStep=new Q.d.StiAxisDateTimeStep,this.showXAxis=d,this.dateTimeStep=S,this.showEdgeValues=c}implements(){return li.implementsStiXAxis||(li.implementsStiXAxis=super.implements().concat([s,Q.d.IStiAxis,Q.d.IStiXAxis,n])),li.implementsStiXAxis}meta(){return this._hash||(this._hash=[...super.meta(),new r("ShowEdgeValues"),new l("ShowXAxis","",Q.d.StiShowXAxis,Q.d.StiShowXAxis.Both),new a("DateTimeStep")])}get componentId(){return Q.a.StiComponentId.StiXAxis}get propName(){return""}}Q.d.StiXAxis=li}{class ai extends Q.d.StiXAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!1,u=!0,d=Q.d.StiShowXAxis.Both,c=!1,m=!0,S=!1){super(e,t,i,r,s,n,l,a,o,h,u,Q.d.StiShowXAxis.Both,c,m,new Q.d.StiAxisDateTimeStep,S),this.core=new Q.d.StiXTopAxisCoreXF(this)}implements(){return ai.implementsStiXTopAxis||(ai.implementsStiXTopAxis=super.implements().concat([Q.d.IStiXTopAxis,n,Q.d.IStiAxis,Q.d.IStiXAxis,s])),ai.implementsStiXTopAxis}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["Range","ShowXAxis","DateTimeStep"]),new r("Visible")])}get componentId(){return Q.a.StiComponentId.StiXTopAxis}}Q.d.StiXTopAxis=ai}{class oi extends Q.d.StiYAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!0,u=!0,d=Q.d.StiShowYAxis.Both,c=!0,m=!1){super(e,t,i,r,s,n,l,a,o,h,u,d,c,m),this.core=new Q.d.StiYLeftAxisCoreXF(this)}implements(){return oi.implementsStiYLeftAxis||(oi.implementsStiYLeftAxis=super.implements().concat([s,Q.d.IStiYAxis,n,Q.d.IStiAxis,Q.d.IStiYLeftAxis])),oi.implementsStiYLeftAxis}}Q.d.StiYLeftAxis=oi}{class hi{constructor(e="",t="",i="",r=0,s=new X("Tahoma",8),n=!0,l=Q.d.StiLabelsPlacement.OneLine,a=ee.black,o=0,h=de.Right,u=0,d=!0,c=!1){this.allowApplyStyle=!0,this.format="",this.angle=0,this.width=0,this.textBefore="",this.textAfter="",this.font=new X("Tahoma",8),this.antialiasing=!0,this.placement=Q.d.StiLabelsPlacement.OneLine,this.color=ee.black,this.textAlignment=de.Right,this.step=0,this.wordWrap=!1,this.format=e,this.textBefore=t,this.textAfter=i,this.angle=r,this.font=s,this.antialiasing=n,this.placement=l,this.color=a,this.width=o,this.textAlignment=h,this.step=u,this.allowApplyStyle=d,this.wordWrap=c,this.core=new Q.d.StiAxisLabelsCoreXF(this)}implements(){return hi.implementsStiAxisLabels||(hi.implementsStiAxisLabels=[s,Q.d.IStiAxisLabels,n]),hi.implementsStiAxisLabels}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","",!0),new o("Format"),new h("Angle"),new h("Width"),new o("TextBefore"),new o("TextAfter"),new V("Font","","Tahoma",8),new r("Antialiasing","",!0),new l("Placement","",Q.d.StiLabelsPlacement,Q.d.StiLabelsPlacement.OneLine),new i("Color","",ee.black),new l("TextAlignment","",de,de.Right),new h("Step"),new r("WordWrap")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.placement=this.placement,e.font=this.font.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.labels=e),e}}Q.d.StiAxisLabels=hi}{class ui{constructor(e=!0,t=0,i=0){this.minimum=0,this.maximum=0,this.auto=!0,this.auto=e,this.minimum=t,this.maximum=i}implements(){return ui.implementsStiAxisRange||(ui.implementsStiAxisRange=[s,n,Q.d.IStiAxisRange]),ui.implementsStiAxisRange}meta(){return this._hash||(this._hash=[new h("Minimum"),new h("Maximum"),new r("Auto","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}}Q.d.StiAxisRange=ui}{class di{constructor(e=!0,t=5,i=!1,r=2,s=4,n=0,l=5){this._lengthUnderLabels=5,this._length=5,this._minorLength=2,this._minorCount=4,this._step=0,this.minorVisible=!1,this.visible=!0,this.visible=e,this._length=t,this.minorVisible=i,this._minorLength=r,this._minorCount=s,this._step=n,this._lengthUnderLabels=l}implements(){return di.implementsStiAxisTicks||(di.implementsStiAxisTicks=[s,Q.d.IStiAxisTicks,n]),di.implementsStiAxisTicks}meta(){return this._hash||(this._hash=[new h("LengthUnderLabels","_",5),new h("Length","_",5),new h("MinorLength","_",2),new h("MinorCount","_",4),new h("Step","_"),new r("MinorVisible"),new r("Visible","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}get lengthUnderLabels(){return this._lengthUnderLabels}set lengthUnderLabels(e){0<e&&(this._lengthUnderLabels=e)}get length(){return this._length}set length(e){0<e&&(this._length=e)}get minorLength(){return this._minorLength}set minorLength(e){0<e&&(this._minorLength=e)}get minorCount(){return this._minorCount}set minorCount(e){0<=e&&(this._minorCount=e)}get step(){return this._step}set step(e){0<=e&&(this._step=e)}}Q.d.StiAxisTicks=di}{class ci{constructor(e=!1,t=!0){this.showScrollBar=!1,this.rangeScrollEnabled=!0,this.showScrollBar=e,this.rangeScrollEnabled=t}implements(){return ci.implementsStiAxisInteraction||(ci.implementsStiAxisInteraction=[s,Q.d.IStiAxisInteraction,n]),ci.implementsStiAxisInteraction}meta(){return this._hash||(this._hash=[new r("ShowScrollBar"),new r("RangeScrollEnabled","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){var e;return this.stimulsoft().memberwiseClone()}}Q.d.StiAxisInteraction=ci}{class mi{constructor(e=Q.d.StiTimeDateStep.None,t=1,i=!1){this.step=Q.d.StiTimeDateStep.None,this.numberOfValues=1,this.interpolation=!1,this.step=e,this.numberOfValues=t,this.interpolation=i}implements(){return mi.implementsStiAxisDateTimeStep||(mi.implementsStiAxisDateTimeStep=[s,n,Q.d.IStiAxisDateTimeStep,s]),mi.implementsStiAxisDateTimeStep}meta(){return this._hash||(this._hash=[new l("Step","",Q.d.StiTimeDateStep,Q.d.StiTimeDateStep.None),new h("NumberOfValues","",1),new r("Interpolation")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}}Q.d.StiAxisDateTimeStep=mi}{class Si extends Q.d.StiXAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=null,r=new Q.d.StiAxisTicks,s=new Q.d.StiAxisInteraction,n=Q.d.StiArrowStyle.None,l=f.Solid,a=ee.gray,o=1,h=!0,u=!0,d=Q.d.StiShowXAxis.Both,c=!1,m=!0,S=new Q.d.StiAxisDateTimeStep,g=!1){super(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g),this.dateTimeStep=S,this.core=new Q.d.StiXBottomAxisCoreXF(this)}implements(){return Si.implementsStiXBottomAxis||(Si.implementsStiXBottomAxis=super.implements().concat([s,Q.d.IStiXAxis,n,Q.d.IStiXBottomAxis,Q.d.IStiAxis])),Si.implementsStiXBottomAxis}}Q.d.StiXBottomAxis=Si}{class gi{constructor(e=ee.silver,t=f.Dot,i=!0,r=ee.gainsboro,s=f.Dot,n=!1,l=0,a=!0){this.needSetAreaJsonPropertyInternal=!1,this._allowApplyStyle=!0,this.color=ee.silver,this.minorColor=ee.gainsboro,this.style=f.Dot,this.minorStyle=f.Dot,this.visible=!0,this.minorVisible=!1,this._minorCount=0,this.color=e,this.style=t,this.visible=i,this.minorColor=r,this.minorStyle=s,this.minorVisible=n,this._minorCount=l,this._allowApplyStyle=a,this.core=new Q.d.StiGridLinesCoreXF(this)}implements(){return gi.implementsStiGridLines||(gi.implementsStiGridLines=[s,Q.d.IStiGridLines,n]),gi.implementsStiGridLines}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","_",!0),new i("Color","",ee.silver),new i("MinorColor","",ee.gainsboro),new l("Style","",f,f.Dot),new l("MinorStyle","",f,f.Dot),new r("Visible","",!0),new r("MinorVisible"),new h("MinorCount","_"),new r("Area","needSetAreaJsonPropertyInternal").get(()=>null!=this.area)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiGridLines}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return e.style=this.style,e.minorStyle=this.minorStyle,null!=this.core&&(e.core=this.core.clone(),e.core.gridLines=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}get minorCount(){return this._minorCount}set minorCount(e){0<=e&&(this._minorCount=e)}}Q.d.StiGridLines=gi}{class pi extends Q.d.StiGridLines{constructor(e=ee.silver,t=f.Dot,i=!0,r=ee.gainsboro,s=f.Dot,n=!1,l=0,a=!0){super(e,t,i,r,s,n,l,a)}implements(){return pi.implementsStiGridLinesVert||(pi.implementsStiGridLinesVert=super.implements().concat([s,Q.d.IStiGridLines,n,Q.d.IStiGridLinesVert])),pi.implementsStiGridLinesVert}}Q.d.StiGridLinesVert=pi}{class fi extends Q.d.StiGridLines{constructor(e=ee.silver,t=f.Dot,i=!0,r=ee.gainsboro,s=f.Dot,n=!1,l=0,a=!0){super(e,t,i,r,s,n,l,a)}implements(){return fi.implementsStiGridLinesHor||(fi.implementsStiGridLinesHor=super.implements().concat([s,Q.d.IStiGridLines,Q.d.IStiGridLinesHor,n])),fi.implementsStiGridLinesHor}}Q.d.StiGridLinesHor=fi}{class wi{constructor(e=new ie(ee.transparent),t=!0,i=!0){this.needSetAreaJsonPropertyInternal=!1,this._allowApplyStyle=!0,this.interlacedBrush=new ie(ee.transparent),this.visible=!0,this.interlacedBrush=e,this.visible=t,this._allowApplyStyle=i,this.core=new Q.d.StiInterlacingCoreXF(this)}implements(){return wi.implementsStiInterlacing||(wi.implementsStiInterlacing=[Q.d.IStiInterlacing,n,s]),wi.implementsStiInterlacing}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","_",!0),new e("InterlacedBrush"),new r("Visible","",!0),new r("Area","needSetAreaJsonPropertyInternal").get(()=>null!=this.area)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiInterlacing}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return e.interlacedBrush=this.interlacedBrush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.interlacing=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}}Q.d.StiInterlacing=wi}{class xi extends Q.d.StiInterlacing{constructor(e=new ie(ee.transparent),t=!0,i=!0){super(e,t,i)}implements(){return xi.implementsStiInterlacingVert||(xi.implementsStiInterlacingVert=super.implements().concat([Q.d.IStiInterlacing,Q.d.IStiInterlacingVert,n,s])),xi.implementsStiInterlacingVert}}Q.d.StiInterlacingVert=xi}{class Ci extends Q.d.StiInterlacing{constructor(e=new ie(ee.transparent),t=!0,i=!0){super(e,t,i)}implements(){return Ci.implementsStiInterlacingHor||(Ci.implementsStiInterlacingHor=super.implements().concat([Q.d.IStiInterlacing,Q.d.IStiInterlacingHor,s,n])),Ci.implementsStiInterlacingHor}}Q.d.StiInterlacingHor=Ci}{class Te extends Q.d.StiArea{constructor(){super(),this.reverseHor=!1,this.reverseVert=!1,this.interlacingHor=new Q.d.StiInterlacingHor,this.interlacingVert=new Q.d.StiInterlacingVert,this.gridLinesHor=new Q.d.StiGridLinesHor,this.gridLinesHorRight=new Q.d.StiGridLinesHor,this.gridLinesVert=new Q.d.StiGridLinesVert,this.gridLinesHorRight.visible=!1,this.xAxis=new Q.d.StiXBottomAxis,this.yAxis=new Q.d.StiYLeftAxis,this.xTopAxis=new Q.d.StiXTopAxis,this.yRightAxis=new Q.d.StiYRightAxis}implements(){return Te.implementsStiAxisArea||(Te.implementsStiAxisArea=super.implements().concat([s,Q.d.IStiAxisArea,Q.d.IStiArea,n])),Te.implementsStiAxisArea}meta(){return this._hash||(this._hash=[...super.meta(),new a("InterlacingHor","_").set(e=>{this._interlacingHor.loadFromJsonObject(e.value),this._interlacingHor.needSetAreaJsonPropertyInternal&&(this._interlacingHor.needSetAreaJsonPropertyInternal=!1,this._interlacingHor.area=this)}).setXml(e=>{this._interlacingHor.loadFromXml(e),this._interlacingHor.area=this}),new a("InterlacingVert","_").set(e=>{this._interlacingVert.loadFromJsonObject(e.value),this._interlacingVert.needSetAreaJsonPropertyInternal&&(this._interlacingVert.needSetAreaJsonPropertyInternal=!1,this._interlacingVert.area=this)}).setXml(e=>{this._interlacingVert.loadFromXml(e),this._interlacingVert.area=this}),new a("GridLinesHor","_").set(e=>{this._gridLinesHor.loadFromJsonObject(e.value),this._gridLinesHor.needSetAreaJsonPropertyInternal&&(this._gridLinesHor.needSetAreaJsonPropertyInternal=!1,this._gridLinesHor.area=this)}).setXml(e=>{this._gridLinesHor.loadFromXml(e),this._gridLinesHor.area=this}),new a("GridLinesHorRight","_").set(e=>{this._gridLinesHorRight.loadFromJsonObject(e.value),this._gridLinesHorRight.needSetAreaJsonPropertyInternal&&(this._gridLinesHorRight.needSetAreaJsonPropertyInternal=!1,this._gridLinesHorRight.area=this)}).setXml(e=>{this._gridLinesHorRight.loadFromXml(e),this._gridLinesHorRight.area=this}),new a("GridLinesVert","_").set(e=>{this._gridLinesVert.loadFromJsonObject(e.value),this._gridLinesVert.needSetAreaJsonPropertyInternal&&(this._gridLinesVert.needSetAreaJsonPropertyInternal=!1,this._gridLinesVert.area=this)}).setXml(e=>{this._gridLinesVert.loadFromXml(e),this._gridLinesVert.area=this}),new a("YAxis","_"),new a("YRightAxis","_"),new a("XAxis","_"),new a("XTopAxis","_"),new r("ReverseHor"),new r("ReverseVert")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=super.clone();return e.interlacingHor=this.interlacingHor.clone(),e.interlacingVert=this.interlacingVert.clone(),e.gridLinesHor=this.gridLinesHor.clone(),e.gridLinesHorRight=this.gridLinesHorRight.clone(),e.gridLinesVert=this.gridLinesVert.clone(),e.yAxis=this.yAxis.clone(),e.yRightAxis=this.yRightAxis.clone(),e.xAxis=this.xAxis.clone(),e.xTopAxis=this.xTopAxis.clone(),e}get axisCore(){return this.core}get interlacingHor(){return this._interlacingHor}set interlacingHor(e){this._interlacingHor=e,null!=this._interlacingHor&&(this._interlacingHor.area=this)}get interlacingVert(){return this._interlacingVert}set interlacingVert(e){this._interlacingVert=e,null!=this._interlacingVert&&(this._interlacingVert.area=this)}get gridLinesHor(){return this._gridLinesHor}set gridLinesHor(e){this._gridLinesHor=e,null!=this._gridLinesHor&&(this._gridLinesHor.area=this)}get gridLinesHorRight(){return this._gridLinesHorRight}set gridLinesHorRight(e){this._gridLinesHorRight=e,null!=this._gridLinesHorRight&&(this._gridLinesHorRight.area=this)}get gridLinesVert(){return this._gridLinesVert}set gridLinesVert(e){this._gridLinesVert=e,null!=this._gridLinesVert&&(this._gridLinesVert.area=this)}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e,null!=this._yAxis&&(this._yAxis.area=this)}get yRightAxis(){return this._yRightAxis}set yRightAxis(e){this._yRightAxis=e,null!=this._yRightAxis&&(this._yRightAxis.area=this)}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e,null!=this._xAxis&&(this._xAxis.area=this)}get xTopAxis(){return this._xTopAxis}set xTopAxis(e){this._xTopAxis=e,null!=this._xTopAxis&&(this._xTopAxis.area=this)}getDefaultSeriesLabelsType(){return Q.d.StiCenterAxisLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiInsideBaseAxisLabels,Q.d.StiInsideEndAxisLabels,Q.d.StiCenterAxisLabels,Q.d.StiOutsideBaseAxisLabels,Q.d.StiOutsideEndAxisLabels,Q.d.StiOutsideAxisLabels,Q.d.StiLeftAxisLabels,Q.d.StiValueAxisLabels,Q.d.StiRightAxisLabels]}}Q.d.StiAxisArea=Te}{class _e extends Q.d.StiAxisArea{constructor(){super(),this.roundValues=!1,this.core=new Q.d.StiClusteredColumnAreaCoreXF(this)}implements(){return _e.implementsStiClusteredColumnArea||(_e.implementsStiClusteredColumnArea=super.implements().concat([s,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,Q.d.IStiRoundValuesArea,n,Q.d.IStiArea])),_e.implementsStiClusteredColumnArea}meta(){return this._hash||(this._hash=[...super.meta(),new r("RoundValues")])}get componentId(){return Q.a.StiComponentId.StiClusteredColumnArea}getDefaultSeriesType(){return Q.d.StiClusteredColumnSeries}getSeriesTypes(){return[Q.d.StiClusteredColumnSeries,Q.d.StiLineSeries,Q.d.StiSteppedLineSeries,Q.d.StiSplineSeries,Q.d.StiAreaSeries,Q.d.StiSteppedAreaSeries,Q.d.StiSplineAreaSeries]}createNew(){return new _e}}Q.d.StiClusteredColumnArea=_e}{class Je extends z{constructor(){super(...arguments),this.chart=null}implements(){return Je.implementsStiSeriesCollection||(Je.implementsStiSeriesCollection=[s,Q.d.IStiApplyStyle,Q.d.IStiSeriesCollection]),Je.implementsStiSeriesCollection}saveToJsonObject(e){if(0==this.list.length)return null;let t=new H,i=0;for(var r of this.list)t.addPropertyJObject(i.toString(),r.saveToJsonObject(e)),i++;return t}loadFromJsonObject(e){for(var s of e.properties()){let e=s.value,t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=Z["StiOptions"].Services.chartSeries.firstOrDefault(e=>e.stimulsoft().getType().stimulsoft().getTypeName()==t);if(null==i)throw G.format("Type {0} is not found!",t);let r=i.createNew();r.chart=this.chart,this.list.push(r),r.loadFromJsonObject(s.value)}}loadFromXml(t,r){for(let e=0;e<t.childNodes.length;e++){let i=t.childNodes[e];if(null==i.attributes)continue;var s;if(null!=i.attributes.getNamedItem("type")){let e=i.attributes.getNamedItem("type").value;var n=e.split(".").pop();let t=new Q.d[n];t.chart=r,this.list.push(t),t.loadFromXml(i)}}}applyStyle(e){if(null==e)return;let t=0;for(var i of this.list){var r=e.core.getColors(this.length,i.core.seriesColors);i.core.applyStyle(e,r[t++])}}getSeriesTitle(){var e=x.get("Chart","Series");let t=e,i=1,r=!0;while(r){t=e+" "+i.toString(),r=!1;for(var s of this.list)if(s.coreTitle==t){r=!0;break}i++}return t}add(e){null!=this.chart&&(G.isNullOrEmpty(e.coreTitle)&&(e.coreTitle=this.getSeriesTitle()),e.chart=this.chart),super.add(e),this.invokeSeriesAdded(e)}insert(e,t){null!=this.chart&&(G.isNullOrEmpty(t.coreTitle)&&(t.coreTitle=this.getSeriesTitle()),t.chart=this.chart),super.insert(e,t),this.invokeSeriesAdded(t)}remove(e){this.invokeSeriesRemoved(e),super.remove(e)}removeAt(e){var t=this.getByIndex(e);this.invokeSeriesRemoved(t),super.removeAt(e)}getByName(e){for(var t of this.list)if(t.coreTitle==e)return t;return null}setByName(t,i){for(let e=0;e<this.list.length;e++){var r;if(this.list[e].coreTitle==t)return void(this.list[e]=i)}this.add(i)}invokeSeriesAdded(e){null!=this.seriesAdded&&this.seriesAdded(e,m.empty)}invokeSeriesRemoved(e){null!=this.seriesRemoved&&this.seriesRemoved(e,m.empty)}}Q.d.StiSeriesCollection=Je}let ce=Z.System.Enum;{class bi{constructor(e=oe.Argument,t=R.String,i=B.EqualTo,r=""){this.condition=B.EqualTo,this.dataType=R.String,this.item=oe.Argument,this._valueObj="",this.filters=null,this.item=e,this.dataType=t,this.condition=i,this._valueObj=r}implements(){return bi.implementsStiChartFilter||(bi.implementsStiChartFilter=[s,Q.d.IStiChartFilter,n]),bi.implementsStiChartFilter}meta(){return this._hash||(this._hash=[new E("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new l("Condition","",B,B.EqualTo),new l("DataType","",R,R.String),new l("Item","",oe,oe.Argument),new o("Value")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}get index(){if(null==this.filters)return-1;var e;return this.filters.indexOf(this)}get value(){return this._valueObj}set value(e){this._valueObj=e}toString(){let e="";switch(this.condition){case B.EqualTo:e="=";break;case B.NotEqualTo:e="<>";break;case B.GreaterThan:e=">";break;case B.GreaterThanOrEqualTo:e=">=";break;case B.LessThan:e="<";break;case B.LessThanOrEqualTo:e="=<";break}let t=x.get("PropertyMain","Argument");switch(ce.parse(oe,t)){case oe.Value:t=x.get("PropertyMain","Value");break;case oe.ValueEnd:t=x.get("PropertyMain","Value");break}return G.format("{0} {1} {2}",t,e,this.value)}}Q.d.StiChartFilter=bi}{class yi extends Q.d.StiChartFilter{constructor(e=ee.white,t=oe.Argument,i=R.String,r=B.EqualTo,s="",n,l){super(t,i,r,s),this.color=ee.white,this.markerType=Q.d.StiMarkerType.Circle,this.markerAngle=0,this.conditions=null,this.color=e,null!=n&&(this.markerType=n),null!=l&&(this.markerAngle=l)}implements(){return yi.implementsStiChartCondition||(yi.implementsStiChartCondition=super.implements().concat([Q.d.IStiChartCondition,Q.d.IStiChartFilter,s])),yi.implementsStiChartCondition}meta(){return this._hash||(this._hash=[...super.meta(),new i("Color","",ee.white),new l("MarkerType","",Q.d.StiMarkerType,Q.d.StiMarkerType.Circle),new h("MarkerAngle")])}clone(){return super.clone()}}Q.d.StiChartCondition=yi}let me=Z.System.Text.XMLConvert;{class De extends z{implements(){return De.implementsStiChartConditionsCollection||(De.implementsStiChartConditionsCollection=[s,n,Q.d.IStiChartConditionsCollection]),De.implementsStiChartConditionsCollection}saveToJsonObject(e){if(0==this.list.length)return null;let t=new H,i=0;for(var r of this.list)t.addPropertyJObject(i.toString(),r.saveToJsonObject(e)),i++;return t}loadFromJsonObject(e){for(var t of e.properties()){let e=new Q.d.StiChartCondition;e.loadFromJsonObject(t.value),this.list.push(e)}}loadFromXml(i){for(let e=0;e<i.childNodes.length;e++){let t=i.childNodes[e];if("value"==t.nodeName){var r=t.textContent.split(",");let e=r[3];"GreaterThen"==e?e="GreaterThan":"GreaterThenOrEqualTo"==e?e="GreaterThanOrEqualTo":"LessThen"==e?e="LessThan":"LessThenOrEqualTo"==e&&(e="LessThanOrEqualTo");var r=new Q.d.StiChartCondition(Z.System.Text.StiReportObjectStringConverter.convertStringToColor(r[0]),ce.parse(oe,r[1]),ce.parse(R,r[2]),ce.parse(B,e),me.decodeName(r[4]));this.add(r)}}}clone(){let e=new De;for(var t of this.list)e.add(t.clone());return e}add(e){this.list.push(e),null==e.conditions&&(e.conditions=this)}}Q.d.StiChartConditionsCollection=De}let Se=Z.Base.Meta.StiExpressionMeta,ge=Z.System.Globalization.CultureInfo,pe=Z.System.Text.XMLConvert,fe=Z.Base.StiJsonSaveMode,we=Z.System.Text.StringBuilder,xe=Z.Base.StiGuidUtils,Ce=Z.Base.Drawing.StiGradientBrush,be=Z.Base.Drawing.StiGlareBrush;{class Ye extends N{constructor(){super(),this.allowApplyStyle=!0,this.format="",this.sortBy=Q.d.StiSeriesSortType.None,this.sortDirection=Q.d.StiSeriesSortDirection.Ascending,this.showInLegend=!0,this._showSeriesLabels=Q.d.StiShowSeriesLabels.FromChart,this.showShadow=!0,this.filterMode=ae.And,this.filters=new Q.d.StiChartFiltersCollection,this.conditions=new Q.d.StiChartConditionsCollection,this.topN=new Q.d.StiSeriesTopN,this.yAxis=Q.d.StiSeriesYAxis.LeftYAxis,this.trendLines=new Q.d.StiTrendLinesCollection,this.isTotalLabel=!1,this.valuesStart=[],this._values=[1,3,2],this.valueDataColumn="",this._arguments=[],this.argumentDataColumn="",this.autoSeriesTitleDataColumn="",this.autoSeriesKeyDataColumn="",this.autoSeriesColorDataColumn="",this._toolTips=[],this.toolTipDataColumn="",this._tags=[],this.tagDataColumn="",this._hyperlinks=[],this.hyperlinkDataColumn="",this.drillDownEnabled=!1,this.drillDownReport="",this.drillDownPageGuid=null,this.allowSeries=!0,this.allowSeriesElements=!0,this.isDashboard=!1,this.valueObj="",this.listOfValues="",this.argument="",this.listOfArguments="",this.titleValue=null,this.title="",this.toolTip="",this.listOfToolTips="",this.tag="",this.listOfTags="",this.hyperlink="",this.listOfHyperlinks="",this.seriesLabels=new Q.d.StiCenterAxisLabels,this.interaction=new Q.d.StiSeriesInteraction}implements(){return Ye.implementsStiSeries||(Ye.implementsStiSeries=super.implements().concat([s,n,Q.d.IStiSeries,s])),Ye.implementsStiSeries}meta(){return this._hash||(this._hash=[...super.meta(),new E("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new r("AllowApplyStyle","",!0),new o("Format"),new l("SortBy","",Q.d.StiSeriesSortType,Q.d.StiSeriesSortType.None),new l("SortDirection","",Q.d.StiSeriesSortDirection,Q.d.StiSeriesSortDirection.Ascending),new r("ShowInLegend","",!0),new l("ShowSeriesLabels","_",Q.d.StiShowSeriesLabels,Q.d.StiShowSeriesLabels.FromChart),new r("ShowShadow","",!0),new l("FilterMode","",ae,ae.And),new a("Filters"),new a("Conditions"),new a("TopN"),new l("YAxis","",Q.d.StiSeriesYAxis,Q.d.StiSeriesYAxis.LeftYAxis),new a("SeriesLabels","_"),new a("TrendLines"),new o("ValueDataColumn"),new o("ArgumentDataColumn"),new o("AutoSeriesTitleDataColumn"),new o("AutoSeriesKeyDataColumn"),new o("AutoSeriesColorDataColumn"),new o("ToolTipDataColumn"),new o("TagDataColumn"),new o("HyperlinkDataColumn"),new r("DrillDownEnabled"),new o("DrillDownReport"),new o("DrillDownPageGuid"),new r("AllowSeries","",!0),new r("AllowSeriesElements","",!0),new a("Interaction"),new Se("Value"),new Se("ListOfValues"),new Se("Argument"),new Se("ListOfArguments"),new Se("Title"),new Se("ToolTip"),new Se("ListOfToolTips"),new Se("Tag"),new Se("ListOfTags"),new Se("Hyperlink"),new Se("ListOfHyperlinks"),new o("ValuesString"),new o("ArgumentsString"),new o("ToolTipsString"),new o("TagString"),new o("HyperlinkString"),new o("TitleValue"),new i("LegendColor","",null),new o("ValuesString","",fe.Document),new o("ArgumentsString","",fe.Document),new o("ToolTipsString","",fe.Document),new o("TagString","",fe.Document),new o("HyperlinkString","",fe.Document),new o("TitleValue","",fe.Document),new i("LegendColor","",null,fe.Document)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiSeries}get propName(){return""}clone(){let e=super.clone();return e.title=this.title,e.values=this.values.stimulsoft().clone(),e.arguments=this.arguments.stimulsoft().clone(),e.tags=this.tags.stimulsoft().clone(),e.toolTips=this.toolTips.stimulsoft().clone(),e.hyperlinks=this.hyperlinks.stimulsoft().clone(),e.topN=this.topN.clone(),e.interaction=this.interaction.clone(),e.seriesLabels=this.seriesLabels.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.series=e),e}baseTransform(){}get parent(){return this.chart}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return Ye}get showLabels(){return!0}set showLabels(e){e&&(this.showSeriesLabels=Q.d.StiShowSeriesLabels.FromChart)}get showSeriesLabels(){return this._showSeriesLabels}set showSeriesLabels(e){this._showSeriesLabels=e==Q.d.StiShowSeriesLabels.None?Q.d.StiShowSeriesLabels.FromChart:e}get seriesLabels(){return this._seriesLabels}set seriesLabels(e){this._seriesLabels=e,this._seriesLabels.chart=this.chart}get trendLine(){if(null!=this.trendLines&&0<this.trendLines.count)return this.trendLines.getByIndex(0);return new Q.d.StiTrendLineNone}set trendLine(e){e.is(Q.d.StiTrendLineNone)||this.trendLines.insert(0,e)}get chart(){return this._chart}set chart(e){this._chart!=e&&null!=(this._chart=e)&&(this.seriesLabels.chart=e)}get values(){if(null==this.chart||null!=this.chart&&!this.chart.isDesigning||this.isDashboard)return this._values;var e=this.chart.series.indexOf(this);let i=[];var t=this.as(Q.d.StiWaterfallSeries),r=(i=null!=t?t.total.visible?[3,-1,2,4]:[3,-1,2]:this.is(Q.d.IStiBoxAndWhiskerSeries)?[8,2,3,9,10]:this.is(Q.d.IStiHistogramSeries)?[4,2,1]:G.isNullOrEmpty(this.listOfValues)||this.listOfValues.stimulsoft().contains("{")?this.is(Q.d.IStiSteppedRangeSeries)?[1+3*e,3+4*e,2+3*e,3+3*e,3+3*e]:this.is(Q.d.IStiFunnelSeries)?[3,2,1]:this.is(Q.d.IStiGanttSeries)?[1+3*e,3+4*e,7+3*e]:this.is(Q.d.IStiScatterSeries)?[1+e,6+e,2+e]:this.is(Q.d.IStiPieSeries)?0==e?[1,3,2]:[1+e,3+e,4+e]:this.is(Q.d.StiRadarSeries)?[1+e,2+e,3+e,4+e,5+e]:0==e?this._values:[1+e,3+e,2.5+e]:Ye.getNullableValuesFromString(this,this.listOfValues),this.getOffsetForValues());if(0!=r){let t=[];for(let e=0;e<i.length;e++)t[e]=i[e]+r;return t}return i}set values(t){var i;let r=[];for(let e=0;e<t.length;e++)e<this.values.length&&0<(null==(i=this.valuesStart)?void 0:i.length)?r[e]=this.values[e]:r[e]=0;this.valuesStart=r,this._values=t}get valuesString(){let e=new we,t=!0;for(var i of this._values)t?e.appendFormat("{0}",null==i?0:i):e.appendFormat(";{0}",null==i?0:i),t=!1;return e.toString()}set valuesString(e){if(null==e||0==e.trim().length)this._values=[];else{var e=e.split(";"),t;this._values=[];for(t of e)this._values.push(t.stimulsoft().toNumber())}}get arguments(){return this.getArguments()}set arguments(e){this.setArguments(e)}getArguments(){if(null==this.chart||!this.chart.isDesigning||this.isDashboard)return this._arguments;if(!G.isNullOrEmpty(this.listOfArguments))return Ye.getArgumentsFromString(this.listOfArguments);var e=this.as(Q.d.StiWaterfallSeries);if(null!=e&&(null==this._arguments||0==this._arguments.length))return e.total.visible?["A","B","C",e.total.text]:["A","B","C"];if(this.is(Q.d.IStiHistogramSeries))return["[1, 2]","(2, 3]","(3, 4]"];if((this.is(Q.d.IStiTreemapSeries)||this.is(Q.d.IStiGanttSeries)||this.is(Q.d.IStiRangeBarSeries)||this.is(Q.d.IStiCandlestickSeries)||this.is(Q.d.StiSunburstSeries))&&(null==this._arguments||0==this._arguments.length))return["A","B","C"];if((this.is(Q.d.IStiScatterSeries)||this.is(Q.d.IStiScatterLineSeries)||this.is(Q.d.IStiScatterSplineSeries))&&(null==this._arguments||0==this._arguments.length))return["1","5","4"];return this._arguments}setArguments(e){this._arguments=e}get argumentsString(){let e=new we,t=!0;for(var i of this._arguments)null!=i&&(t?e.appendFormat("{0}",pe.encodeName(i.toString())):e.appendFormat(";{0}",pe.encodeName(i.toString())),t=!1);return e.toString()}set argumentsString(e){if(null==e||0==e.trim().length)this._arguments=[];else{var e=e.split(";"),t;this._arguments=[];for(t of e)this._arguments.push(pe.decodeName(t))}}get toolTips(){if((null!=this.chart&&this.chart.isDesigning||this.isDashboard)&&!G.isNullOrEmpty(this.listOfToolTips))return Ye.getStringsFromString(this.listOfToolTips);return this._toolTips}set toolTips(e){this._toolTips=e}get toolTipsString(){let e=new we,t=!0;for(var i of this._toolTips)null!=i&&(t?e.appendFormat("{0}",pe.encodeName(i.toString())):e.appendFormat(";{0}",pe.encodeName(i.toString())),t=!1);return e.toString()}set toolTipsString(e){if(null==e||0==e.trim().length)this._toolTips=[];else{var e=e.split(";"),t;this._toolTips=[];for(t of e)this._toolTips.push(pe.decodeName(t))}}get tags(){if((null!=this.chart&&this.chart.isDesigning||this.isDashboard)&&!G.isNullOrEmpty(this.listOfTags))return Ye.getArgumentsFromString(this.listOfTags);return this._tags}set tags(e){this._tags=e}get tagString(){let e=new we,t=!0;for(var i of this.tags)null!=i&&(t?e.appendFormat("{0}",pe.encodeName(i.toString())):e.appendFormat(";{0}",pe.encodeName(i.toString())),t=!1);return e.toString()}set tagString(e){if(null==e||0==e.trim().length)this._tags=[];else{var e=e.split(";"),t;this._tags=[];for(t of e)this._tags.push(pe.decodeName(t))}}get hyperlinks(){if((null!=this.chart&&this.chart.isDesigning||this.isDashboard)&&null!=this.listOfHyperlinks&&0<this.listOfHyperlinks.length)return Ye.getStringsFromString(this.listOfHyperlinks);return this._hyperlinks}set hyperlinks(e){this._hyperlinks=e}get hyperlinkString(){let e=new we,t=!0;for(var i of this._hyperlinks)null!=i&&(t?e.appendFormat("{0}",pe.encodeName(i.toString())):e.appendFormat(";{0}",pe.encodeName(i.toString())),t=!1);return e.toString()}set hyperlinkString(e){if(null==e||0==e.trim().length)this._hyperlinks=[];else{var e=e.split(";"),t;this._hyperlinks=[];for(t of e)this._hyperlinks.push(pe.decodeName(t))}}get drillDownPage(){if(null==this.chart||null==this.chart.report)return null;for(var e of this.chart.report.pages.list)if(e.guid==this.drillDownPageGuid)return e;return null}set drillDownPage(e){null==e?this.drillDownPageGuid=null:(null==e.guid&&(e.guid=xe.newGuid()),this.drillDownPageGuid=e.guid)}get coreTitle(){let e=null;return e=null==(e=null!=this.chart&&this.chart.isDesigning?this.title:this.titleValue)?"":e}set coreTitle(e){this.title=e,this.titleValue=e}get interaction(){return this._interaction}set interaction(e){this._interaction!=e&&null!=(this._interaction=e)&&(this._interaction.parentSeries=this)}processSeriesColors(e,t){for(var i of this.conditions.list)if(this.getConditionResult(e,i))return i.color;return t}processSeriesMarkerType(e,t){for(var i of this.conditions.list)if(this.getConditionResult(e,i))return i.markerType;return t}processSeriesMarkerAngle(e,t){for(var i of this.conditions.list)if(this.getConditionResult(e,i))return i.markerAngle;return t}processSeriesMarkerVisible(e){for(var t of this.conditions.list)if(this.getConditionResult(e,t))return!0;return!1}processSeriesBrushes(e,t){for(var i of this.conditions.list)if(this.getConditionResult(e,i))return t=this.allowApplyStyle&&null!=this.chart.style?this.chart.style.core.getColumnBrush(i.color):new ie(i.color),this.chart.area.is(Q.d.IStiClusteredBarArea)&&(t.is(Ce)&&(t.angle+=90),t.is(be)&&(t.angle+=90)),t;return t}getConditionResult(e,t){if((null==this.values||this.values.length<=e)&&!this.is(Q.d.IStiFinancialSeries))return!1;let i=null,r=null,s=null,n=null,l=null,a=null,o=null;this.chart.area.is(Q.d.IStiAxisArea)&&this.chart.area.reverseHor&&!this.chart.area.is(Q.d.IStiClusteredBarArea)||this.chart.area.is(Q.d.IStiClusteredBarArea)&&this.chart.area.reverseVert?(null!=this.values&&e<this.values.length&&(i=this.values[this.values.length-e-1]),this.is(Q.d.IStiRangeSeries)&&e<this.valuesEnd.length&&(r=this.valuesEnd[this.valuesEnd.length-e-1]),this.is(Q.d.IStiFinancialSeries)&&(e<this.valuesOpen.length&&(s=this.valuesOpen[this.valuesOpen.length-e-1]),e<this.valuesClose.length&&(n=this.valuesClose[this.valuesClose.length-e-1]),e<this.valuesLow.length&&(l=this.valuesLow[this.valuesLow.length-e-1]),e<this.valuesHigh.length&&(a=this.valuesHigh[this.valuesHigh.length-e-1])),null!=this.arguments&&e<this.arguments.length&&(o=this.arguments[this.arguments.length-e-1])):(null!=this.values&&e<this.values.length&&(i=this.values[e]),this.is(Q.d.IStiRangeSeries)&&e<this.valuesEnd.length&&(r=this.valuesEnd[e]),this.is(Q.d.IStiFinancialSeries)&&(e<this.valuesOpen.length&&(s=this.valuesOpen[e]),e<this.valuesClose.length&&(n=this.valuesClose[e]),e<this.valuesLow.length&&(l=this.valuesLow[e]),e<this.valuesHigh.length&&(a=this.valuesHigh[e])),null!=this.arguments&&e<this.arguments.length&&(o=this.arguments[e]));var e=Q.d.StiChartHelper.getFilterData(null,t,null);return Q.d.StiChartHelper.getFilterResult(t,o,i,r,s,n,l,a,e)}toString(){return this.serviceName}static tryParseValue(e,t,i){this.storedCulture=null;try{G.isNullOrEmpty(t)||(this.storedCulture=ge.currentCulture,ge.currentCulture=ge.cultures[t]);var r=C.tryParse(e);return i.ref=r.result,r.successfully}finally{null!=this.storedCulture&&(ge.currentCulture=this.storedCulture)}}static getNullableValuesFromString(i,e){let r=[];var t,s;for(s of e.split(";"))if(null!=s&&0<s.trim().length){let t=0;try{t=s.stimulsoft().replaceAll(",",".").stimulsoft().toNumber()}catch(e){Z.System.StiError.showError(e,!1)}var n=s.stimulsoft().toNumber();if(0<s.length&&!isNaN(n))t=n;else{let e=T.fromString(s,!1);null!=e&&(i.core.isDateTimeValues=!0,t=e.toOADate())}r.push(t)}return r.stimulsoft().toArray()}static getValuesFromString(e){let t=[];var i,r;for(r of e.split(";"))if(null!=r&&0<r.trim().length){let e=0;try{e=r.stimulsoft().replaceAll(",",".").stimulsoft().toNumber()}catch(e){Z.System.StiError.showError(e,!1)}t.push(e)}return t.stimulsoft().toArray()}static getStringsFromString(e){let t=[];var i,r;for(r of e.split(";"))null!=r&&0<r.trim().length&&t.push(r);return t.stimulsoft().toArray()}static getArgumentsFromString(e){return e.split(";")}getOffsetForValues(){let e=0;var t=this.chart.area.as(Q.d.StiAxisArea);return e=null==t||t.yAxis.range.auto?e:t.yAxis.range.minimum}createNew(){return null}getDefaultAreaType(){return null}invokeNewAutoSeries(e){null!=this.newAutoSeries&&this.newAutoSeries(e.series,e)}onGetValue(e){}invokeGetValue(t,i){try{if(this.onGetValue(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesValue**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.value,e);i.value=t.report.toString2(r)}null!=this.getValue&&this.getValue(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in GetValue property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetListOfValues(e){}invokeGetListOfValues(t,i,r){try{if(this.onGetListOfValues(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesListOfValues**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValues,e);i.value=t.report.toString2(s)}null!=r.getListOfValues&&r.getListOfValues(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var s=G.format("Expression in GetListOfValues property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),s),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetArgument(e){}invokeGetArgument(t,i){try{if(this.onGetArgument(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesArgument**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.argument,e);i.value=t.report.toString2(r)}null!=this.getArgument&&this.getArgument(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in getArgument property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetListOfArguments(e){}invokeGetListOfArguments(t,i){try{if(this.onGetListOfArguments(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesListOfArguments**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfArguments,e);i.value=t.report.toString2(r)}null!=this.getListOfArguments&&this.getListOfArguments(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in GetListOfArguments property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetTitle(e){}invokeGetTitle(t,i){try{if(this.onGetTitle(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesTitle**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.title,e);i.value=t.report.toString2(r)}null!=this.getTitle&&this.getTitle(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in Title property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetToolTip(e){}invokeGetToolTip(t,e){try{this.onGetToolTip(e),null!=this.getToolTip&&this.getToolTip(t,e)}catch(e){Z.System.StiError.showError(e.message,!1);var t=G.format("Expression in GetToolTip property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),t),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetListOfToolTips(e){}invokeGetListOfToolTips(t,i){try{if(this.onGetListOfToolTips(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesListOfToolTips**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfToolTips,e);i.value=t.report.toString2(r)}null!=this.getListOfToolTips&&this.getListOfToolTips(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in GetListOfToolTips property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetTag(e){}invokeGetTag(t,e){try{this.onGetTag(e),null!=this.getTag&&this.getTag(t,e)}catch(e){Z.System.StiError.showError(e.message,!1);var t=G.format("Expression in GetTag property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),t),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetListOfTags(e){}invokeGetListOfTags(t,e){try{this.onGetListOfTags(e),null!=this.getListOfTags&&this.getListOfTags(t,e)}catch(e){Z.System.StiError.showError(e.message,!1);var t=G.format("Expression in GetListOfTags property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),t),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetHyperlink(e){}invokeGetHyperlink(t,e){try{this.onGetHyperlink(e),null!=this.getHyperlink&&this.getHyperlink(t,e)}catch(e){Z.System.StiError.showError(e.message,!1);var t=G.format("Expression in GetHyperlink property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),t),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetListOfHyperlinks(e){}invokeGetListOfHyperlinks(t,i){try{if(this.onGetListOfHyperlinks(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesListOfHyperlinks**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfHyperlinks,e);i.value=t.report.toString2(r)}null!=this.getListOfHyperlinks&&this.getListOfHyperlinks(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in GetListOfHyperlinks property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get value(){return this.valueObj}set value(e){this.valueObj=e}}Q.d.StiSeries=Ye}var ye=Q.a.Engine.StiComponentInfo;{class Ge extends ye{constructor(){super(...arguments),this.storedForProcessAtEndChart=null,this.interactiveComps=null}implements(){return Ge.implementsStiChartInfo||(Ge.implementsStiChartInfo=[Q.d.IStiChartInfo]),Ge.implementsStiChartInfo}}Q.d.StiChartInfo=Ge}var ye=Q.a.Styles.StiBaseStyle;let Ae=Q.a.Dashboard.StiElementStyleIdent;{class Be extends ye{constructor(){super(...arguments),this.isOffice2015Style=!1,this.allowDashboard=!1,this.styleIdent=Ae.Blue}implements(){return Be.implementsStiChartStyle||(Be.implementsStiChartStyle=super.implements().concat([s,Q.d.IStiChartStyle,n])),Be.implementsStiChartStyle}saveToJsonObject(e){let t=new H;return t.addPropertyStringNullOrEmpty("Ident",this.stimulsoft().getType().stimulsoft().getTypeName()),t}loadFromJsonObject(e){}static loadFromXml(t){if(null!=t.attributes.getNamedItem("type")){let e=t.attributes.getNamedItem("type").value;var t=e.split(".").pop();return new Q.d[t]}return null}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString();if("StiCustomStyle"==t)return new Q.d.StiCustomStyle;{let e=Z["StiOptions"].Services.chartStyles.firstOrDefault(function(e){return e.stimulsoft().getType().stimulsoft().getTypeName()==t});if(null==e)throw G.format("Type {0} is not found!",t);return e.createNew()}}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return Be}toString(){if(this.is(Q.d.StiCustomStyle)&&null!=this.core.reportChartStyle)return this.core.reportChartStyle.name;return this.serviceName}compareChartStyle(e){if(null==e)return!1;var i=this.stimulsoft().as(Q.d.StiCustomStyle),r=e.stimulsoft().as(Q.d.StiCustomStyle);if(null!=i&&null!=r){let e=i.core.reportStyleName,t=(null!=i.core.reportStyle&&(e=i.core.reportStyle.name),r.core.reportStyleName);return null!=r.core.reportStyle&&(t=r.core.reportStyle.name),e==t}return this.stimulsoft().getType()==e.stimulsoft().getType()}createNew(){return null}}Q.d.StiChartStyle=Be}{class Ai extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.Green,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF25}get dashboardName(){return x.get("PropertyColor","Green")}createNew(){return new Ai}}Q.d.StiStyle25=Ai}{class Ze extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.Blue,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF29}get dashboardName(){return x.get("PropertyColor","Blue")}createNew(){return new Ze}}Q.d.StiStyle29=Ze}{class ze{constructor(){this._allowApplyStyle=!0,this.chart=null,this.hideSeriesWithEmptyTitle=!1,this.showShadow=!0,this.borderColor=ee.gray,this.brush=new ie(ee.white),this.titleColor=ee.gray,this.labelsColor=ee.gray,this.direction=Q.d.StiLegendDirection.TopToBottom,this.horAlignment=Q.d.StiLegendHorAlignment.Left,this.vertAlignment=Q.d.StiLegendVertAlignment.Top,this.titleFont=new X("Arial",14,_.Bold),this.font=new X("Arial",8,_.Bold),this.visible=!0,this.markerVisible=!0,this.markerBorder=!0,this.markerSize=new Y(10,10),this.markerAlignment=Q.d.StiMarkerAlignment.Left,this.horSpacing=4,this.vertSpacing=2,this.title="",this.columnWidth=0,this._columns=0,this.size=new Z.System.Drawing.Size(0,0),this.core=new Q.d.StiLegendCoreXF(this)}implements(){return ze.implementsStiLegend||(ze.implementsStiLegend=[s,n,Q.d.IStiLegend]),ze.implementsStiLegend}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","_",!0),new r("HideSeriesWithEmptyTitle"),new r("ShowShadow","",!0),new i("BorderColor","",ee.gray),new e(["Brush","bh"]),new i("TitleColor","",ee.gray),new i("LabelsColor","",ee.gray),new l("Direction","",Q.d.StiLegendDirection,Q.d.StiLegendDirection.TopToBottom),new l(["HorAlignment","ha"],"",Q.d.StiLegendHorAlignment,Q.d.StiLegendHorAlignment.Left),new l(["VertAlignment","va"],"",Q.d.StiLegendVertAlignment,Q.d.StiLegendVertAlignment.Top),new V("TitleFont","","Arial",14,_.Bold),new V(["Font","fn"],"","Arial",8),new r("Visible","",!0),new r("MarkerVisible","",!0),new r("MarkerBorder","",!0),new j("MarkerSize"),new l("MarkerAlignment","",Q.d.StiMarkerAlignment,Q.d.StiMarkerAlignment.Left),new h("Columns","_"),new h("HorSpacing","",4),new h("VertSpacing","",2),new j("Size"),new o("Title"),new h("ColumnWidth")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){this.showShadow=!0,t.loadFromJsonObject(e,this)}loadFromXml(e){this.showShadow=!0,t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiLegend}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return e.brush=this.brush.clone(),e.font=this.font.clone(),e.titleFont=this.titleFont.clone(),e.direction=this.direction,e.horAlignment=this.horAlignment,e.vertAlignment=this.vertAlignment,e.markerAlignment=this.markerAlignment,null!=this.core&&(e.core=this.core.clone(),e.core.legend=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}get columns(){return this._columns}set columns(e){0<=e&&(this._columns=e)}}Q.d.StiLegend=ze}let ve=Q.d.StiChartEditorType,Le=Z.Base.IStiGetFonts,Te=Q.d.StiAxisArea,ke=Q.d.IStiAxisArea,Ie=Q.c.StiProcessChartEvent,Fe=Q.d.StiSeriesLabels,Be=Q.d.StiChartStyle,Re=Q.d.StiArea,Pe=Z.Base.StiJsonReportObjectHelper,De=Q.d.StiChartConditionsCollection,Me=Q.d.IStiChart,Ee=Q.d.IStiClusteredColumnArea,Ne=Q.d.StiCenterAxisLabels,Oe=Q.d.StiChartCoreXF,Ge=Q.d.StiChartInfo,Ve=Q.d.StiChartTitle,Xe=Q.d.StiChartTable,_e=Q.d.StiClusteredColumnArea,He=Q.d.StiConstantLinesCollection,ze=Q.d.StiLegend,je=Q.d.StiRadarArea,Ye=Q.d.StiSeries,We=Q.d.StiStripsCollection,Je=Q.d.StiSeriesCollection,Ze=Q.d.StiStyle29,qe=Q.d.StiChartHelper,$e=Z.Base.StiActivator,Ke=Q.e.StiImageRotation,Qe=Q.e.StiComponentPriority,Ue=Q.e.StiComponentType,et=Z.Base.Drawing.StiBorder,tt=Q.e.StiFilter,it=Q.e.StiFiltersCollection,rt=Z.Base.Drawing.StiBrush;var ye=Q.e.StiComponent,ye;{class Lt extends ye{constructor(e=re.empty){super(e),this.filterMode=ae.And,this.filters=new it,this.filterOn=!0,this.border=new et,this.brush=new ie(ee.transparent),this._sort=[],this._dataSourceName="",this._businessObjectGuid="",this.masterComponent=null,this.countData=0,this.isEofValue=!1,this.isBofValue=!1,this.isCacheValues=!1,this.cachedCount=0,this.cachedIsBusinessObjectEmpty=!1,this.cachedIsDataSourceEmpty=!1,this.cachedDataSource=null,this.cachedBusinessObject=null,this.dataRelationName="",this.processAtEnd=!1,this.defaultClientRectangle=new re(0,0,200,200),this.processChartEvent=new Ie,this.seriesLabelsConditions=new De,this.rotation=Ke.None,this.editorType=ve.Advanced,this._style=new Ze,this._allowApplyStyle=!0,this.customStyleName="",this._horSpacing=10,this._vertSpacing=10,this.isAnimation=!0,this.isAnimationChangingValues=!0,this.chartInfo=new Ge,this._allowApplyStyle=Z["StiOptions"].Engine.defaultValueOfAllowApplyStyleProperty,this.legend=new ze,this.series=new Je,this.series.seriesAdded=this.series_SeriesAdded,this.series.seriesRemoved=this.series_SeriesRemoved,this.area=new _e,this.seriesLabels=new Ne,this.constantLines=new He,this.strips=new We,this.title=new Ve,this.table=new Xe,this.previousAnimations=new $,this.core=new Oe(this),this.core.applyStyle(this.style)}implements(){return Lt.implementsStiChart||(Lt.implementsStiChart=super.implements().concat([Q.e.IStiBorder,Q.e.IStiBusinessObject,Q.e.IStiBrush,Q.e.IStiDataSource,Q.e.IStiDataRelation,Q.e.IStiMasterComponent,Q.e.IStiSort,Q.e.IStiFilter,Q.e.IStiExportImage,Q.e.IStiExportImageExtended,Q.a.IStiIgnoryStyle,Q.a.IStiGlobalizationProvider,Me,s,Le])),Lt.implementsStiChart}saveToJsonObject(e){let t=super.saveToJsonObject(e);return t.removeProperty("CanShrink"),t.removeProperty("CanGrow"),t.addPropertyBool("AllowApplyStyle",this.allowApplyStyle,!0),t.addPropertyEnum("FilterMode",Q.e.StiFilterMode,this.filterMode,Q.e.StiFilterMode.And),t.addPropertyBool("FilterOn",this.filterOn,!0),t.addPropertyStringNullOrEmpty("Border",Pe.Serialize.jBorder(this.border)),t.addPropertyStringNullOrEmpty("Brush",Pe.Serialize.jBrush(this.brush)),t.addPropertyStringNullOrEmpty("DataSourceName",this.dataSourceName),t.addPropertyStringNullOrEmpty("BusinessObjectGuid",this.businessObjectGuid),t.addPropertyNumber("CountData",this.countData),t.addPropertyStringNullOrEmpty("DataRelationName",this.dataRelationName),t.addPropertyBool("ProcessAtEnd",this.processAtEnd),t.addPropertyJObject("ProcessChartEvent",this.processChartEvent.saveToJsonObject(e)),t.addPropertyEnum("Rotation",Ke,this.rotation,Ke.None),t.addPropertyEnum("EditorType",ve,this.editorType,ve.Advanced),t.addPropertyStringNullOrEmpty("CustomStyleName",this.customStyleName),t.addPropertyNumber("HorSpacing",this.horSpacing,10),t.addPropertyNumber("VertSpacing",this.vertSpacing,10),null!=this.masterComponent&&t.addPropertyStringNullOrEmpty("MasterComponent",this.masterComponent.name),t.addPropertyJObject("Series",this._series.saveToJsonObject(e)),t.addPropertyJObject("Area",this._area.saveToJsonObject(e)),t.addPropertyJObject("Table",this.table.saveToJsonObject(e)),t.addPropertyJObject("SeriesLabels",this.seriesLabels.saveToJsonObject(e)),t.addPropertyJObject("Legend",this.legend.saveToJsonObject(e)),t.addPropertyJObject("Title",this._title.saveToJsonObject(e)),t.addPropertyJObject("Strips",this.strips.saveToJsonObject(e)),t.addPropertyJObject("ConstantLines",this.constantLines.saveToJsonObject(e)),t.addPropertyJObject("Style",this.style.saveToJsonObject(e)),e==fe.Report&&(t.addPropertyJObject("Filters",this.filters.saveToJsonObject(e)),t.addPropertyJObject("Sort",Pe.Serialize.stringArray(this.sort)),t.addPropertyJObject("SeriesLabelsConditions",this.seriesLabelsConditions.saveToJsonObject(e))),t}loadFromJsonObject(e){super.loadFromJsonObject(e);for(var t of e.properties())switch(t.name){case"FilterMode":this.filterMode=ce.parse(Q.e.StiFilterMode,t.value.toString());break;case"Filters":this.filters.loadFromJsonObject(t.value);break;case"FilterOn":this.filterOn=t.value.stimulsoft().toBoolean();break;case"Border":case"br":this.border=Pe.Deserialize.border(t.value.toString());break;case"Brush":case"bh":this.brush=Pe.Deserialize.brush(t.value.toString());break;case"DataSourceName":this.dataSourceName=t.value.toString();break;case"BusinessObjectGuid":this.businessObjectGuid=t.value.toString();break;case"CountData":this.countData=t.value.stimulsoft().toNumber();break;case"DataRelationName":this.dataRelationName=t.value.toString();break;case"ProcessAtEnd":this.processAtEnd=t.value.stimulsoft().toBoolean();break;case"ProcessChartEvent":{let e=new Ie;e.loadFromJsonObject(t.value),this.processChartEvent=e;break}case"SeriesLabelsConditions":this.seriesLabelsConditions.loadFromJsonObject(t.value);break;case"Rotation":this.rotation=ce.parse(Ke,t.value.toString());break;case"EditorType":this.editorType=ce.parse(ve,t.value.toString());break;case"AllowApplyStyle":this.allowApplyStyle=t.value.stimulsoft().toBoolean();break;case"CustomStyleName":this.customStyleName=t.value.toString();break;case"HorSpacing":this._horSpacing=t.value.stimulsoft().toNumber();break;case"VertSpacing":this._vertSpacing=t.value.stimulsoft().toNumber();break;case"MasterComponent":this.jsonMasterComponentTemp=t.value.toString(),this.report.jsonLoaderHelper&&this.report.jsonLoaderHelper.masterComponents.push(this);break;case"Style":this.style=Be.loadFromJsonObjectInternal(t.value);break;case"ConstantLines":this.constantLines.loadFromJsonObject(t.value);break;case"Strips":this.strips.loadFromJsonObject(t.value);break;case"Title":this.title.loadFromJsonObject(t.value);break;case"Legend":this.legend.loadFromJsonObject(t.value);break;case"SeriesLabels":this.seriesLabels=Fe.loadFromJsonObjectInternal(t.value,this);break;case"Table":this._table.loadFromJsonObject(t.value);break;case"Area":this._area=Re.loadFromJsonObjectInternal(t.value),this._area.chart=this;break;case"Series":this._series.loadFromJsonObject(t.value);break}this.core.applyStyle(this.style)}loadFromXml(i){super.loadFromXml(i);let e=i.getAttribute("Ref");!G.isNullOrEmpty(e)&&this.report.jsonLoaderHelper&&(this.report.jsonLoaderHelper.refNames[e.stimulsoft().toNumber()]=i.nodeName);for(let e=0;e<i.childNodes.length;e++){let t=i.childNodes[e];switch(t.nodeName){case"FilterMode":this.filterMode=ce.parse(Q.e.StiFilterMode,t.textContent);break;case"Filters":this.filters.loadFromXml(t);break;case"FilterOn":this.filterOn=t.textContent.stimulsoft().toBoolean();break;case"Border":case"br":this.border=et.loadFromXml(t.textContent);break;case"Brush":this.brush=rt.loadFromXml(t.textContent);break;case"DataSourceName":this._dataSourceName=t.textContent;break;case"BusinessObjectGuid":this._businessObjectGuid=t.textContent;break;case"CountData":this.countData=t.textContent.stimulsoft().toNumber();break;case"DataRelationName":this.dataRelationName=t.textContent;break;case"ProcessAtEnd":this.processAtEnd=t.textContent.stimulsoft().toBoolean();break;case"ProcessChartEvent":{let e=new Ie;e.script=t.textContent,this.processChartEvent=e;break}case"Rotation":this.rotation=ce.parse(Ke,t.textContent);break;case"EditorType":this.editorType=ce.parse(ve,t.textContent);break;case"AllowApplyStyle":this.allowApplyStyle=t.textContent.stimulsoft().toBoolean();break;case"CustomStyleName":this.customStyleName=t.textContent;break;case"HorSpacing":this._horSpacing=t.textContent.stimulsoft().toNumber();break;case"VertSpacing":this._vertSpacing=t.textContent.stimulsoft().toNumber();break;case"MasterComponent":this.jsonMasterComponentTemp=t.getAttribute("isRef"),this.report.jsonLoaderHelper&&this.report.jsonLoaderHelper.masterComponents.push(this);break;case"Style":var r=Q.d.StiChartStyle.loadFromXml(t);null!=r&&(this.style=r);break;case"ConstantLines":this.constantLines.loadFromXml(t);break;case"Strips":this.strips.loadFromXml(t);break;case"Title":{let e=new Q.d.StiChartTitle;e.loadFromXml(t),(e.chart=this).title=e;break}case"Legend":{let e=new Q.d.StiLegend;e.loadFromXml(t),(e.chart=this).legend=e;break}case"Table":{let e=new Q.d.StiChartTable;e.chart=this,e.loadFromXml(t),this._table=e;break}case"SeriesLabels":var r=Q.d.StiSeriesLabels.loadLabelsFromXml(t,this);r&&(this.seriesLabels=r);break;case"Area":this._area=Re.loadAreaFromXml(t,this);break;case"Series":this._series.loadFromXml(t,this);break;case"SeriesLabelsConditions":this.seriesLabelsConditions.loadFromXml(t);break}}this.core.applyStyle(this.style)}get componentId(){return Q.a.StiComponentId.StiChart}convert(e,t,i=!1){super.convert(e,t,i),this.legend.size=t.convertSizeFromHInches(e.convertSizeToHInches(this.legend.size))}convertToHInches(e){return null!=this.report?this.report.unit.convertToHInches(e):e}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break;case"Legend.Title":this.legend.title=t;break;case"SeriesLabels.TextBefore":this.seriesLabels.textBefore=t;break;case"SeriesLabels.TextAfter":this.seriesLabels.textAfter=t;break}let i=this.area.as(ke);if(null!=i)switch(e){case"Area.XAxis.Labels.TextBefore":i.xAxis.labels.textBefore=t;break;case"Area.XAxis.Labels.TextAfter":i.xAxis.labels.textAfter=t;break;case"Area.XAxis.Title.Text":i.xAxis.title.text=t;break;case"Area.YAxis.Labels.TextBefore":i.yAxis.labels.textBefore=t;break;case"Area.YAxis.Labels.TextAfter":i.yAxis.labels.textAfter=t;break;case"Area.YAxis.Title.Text":i.yAxis.title.text=t;break;case"Area.XTopAxis.Labels.TextBefore":i.xTopAxis.labels.textBefore=t;break;case"Area.XTopAxis.Labels.TextAfter":i.xTopAxis.labels.textAfter=t;break;case"Area.XTopAxis.Title.Text":i.xTopAxis.title.text=t;break;case"Area.YRightAxis.Labels.TextBefore":i.yRightAxis.labels.textBefore=t;break;case"Area.YRightAxis.Labels.TextAfter":i.yRightAxis.labels.textAfter=t;break;case"Area.YRightAxis.Title.Text":i.yRightAxis.title.text=t;break}let r=0;for(var s of this.series.list){var n;e==`Series${r++}.Title`&&(s.coreTitle=t)}}getString(e){switch(e){case"Title.Text":return this.title.text;case"Legend.Title":return this.legend.title;case"SeriesLabels.TextBefore":return this.seriesLabels.textBefore;case"SeriesLabels.TextAfter":return this.seriesLabels.textAfter}var t=this.area.as(ke),i,r;if(null!=t)switch(e){case"Area.XAxis.Labels.TextBefore":return t.xAxis.labels.textBefore;case"Area.XAxis.Labels.TextAfter":return t.xAxis.labels.textAfter;case"Area.XAxis.Title.Text":return t.xAxis.title.text;case"Area.YAxis.Labels.TextBefore":return t.yAxis.labels.textBefore;case"Area.YAxis.Labels.TextAfter":return t.yAxis.labels.textAfter;case"Area.YAxis.Title.Text":return t.yAxis.title.text;case"Area.XTopAxis.Labels.TextBefore":return t.xTopAxis.labels.textBefore;case"Area.XTopAxis.Labels.TextAfter":return t.xTopAxis.labels.textAfter;case"Area.XTopAxis.Title.Text":return t.xTopAxis.title.text;case"Area.YRightAxis.Labels.TextBefore":return t.yRightAxis.labels.textBefore;case"Area.YRightAxis.Labels.TextAfter":return t.yRightAxis.labels.textAfter;case"Area.YRightAxis.Title.Text":return t.yRightAxis.title.text}let s=0;for(i of this.series.list){if(e==`Series${s++}.Title`)return i.coreTitle}throw G.format("Property with name {0}",e)}getAllStrings(){let t=[];t.push("Title.Text"),t.push("Legend.Title"),t.push("SeriesLabels.TextBefore"),t.push("SeriesLabels.TextAfter"),this.area.is(ke)&&(t.push("Area.XAxis.Labels.TextBefore"),t.push("Area.XAxis.Labels.TextAfter"),t.push("Area.XAxis.Title.Text"),t.push("Area.YAxis.Labels.TextBefore"),t.push("Area.YAxis.Labels.TextAfter"),t.push("Area.YAxis.Title.Text"),t.push("Area.XTopAxis.Labels.TextBefore"),t.push("Area.XTopAxis.Labels.TextAfter"),t.push("Area.XTopAxis.Title.Text"),t.push("Area.YRightAxis.Labels.TextBefore"),t.push("Area.YRightAxis.Labels.TextAfter"),t.push("Area.YRightAxis.Title.Text"));for(let e=0;e<this.series.count;e++)t.push(`Series${e}.Title`);return t}clone(){let t=super.clone();t.chartInfo=this.chartInfo.clone(),t.brush=this.brush.clone(),t.border=this.border.clone(),null!=this.sort?t.sort=this.sort.stimulsoft().clone():t.sort=null,null!=this.filters?t.filters=this.filters.clone():t.filters=null,null!=t.title&&(t.title=this.title.clone()),null!=t.area&&(t.area=this.area.clone()),null!=t.seriesLabels&&(t.seriesLabels=this.seriesLabels.clone()),null!=t.legend&&(t.legend=this.legend.clone()),null!=t.table&&(t.table=this.table.clone()),t.series=new Je,t.series.seriesAdded=this.series_SeriesAdded,t.series.seriesRemoved=this.series_SeriesRemoved;for(var i of this.series.list){let e=i.clone();var i=e.title;t.series.add(e),e.title=i}t.constantLines=new He;for(var e of this.constantLines.list)t.constantLines.add(e.clone());t.strips=new We;for(var r of this.strips.list)t.strips.add(r.clone());return null!=t.core&&(t.core=this.core.clone(),t.core.chart=t),t}saveState(e){super.saveState(e),this.states.pushInt(e,this,"positionValue",this.positionValue),this.states.pushBool(e,this,"isEofValue",this.isEofValue),this.states.pushBool(e,this,"isBofValue",this.isBofValue),null!=this.dataSource&&this.dataSource.saveState(e)}restoreState(e){super.restoreState(e),this.states.isExist(e,this)&&(this.isBofValue=this.states.popBool(e,this,"isBofValue"),this.isEofValue=this.states.popBool(e,this,"isEofValue"),this.positionValue=this.states.popInt(e,this,"positionValue")),null!=this.dataSource&&this.dataSource.restoreState(e)}getImage(e,t=Q.a.StiExportFormat.None){if(null!=this.report&&null!=this.report.preparedExportImages){var i=this.report.preparedExportImages.get(this);if(null!=i)return i}let r=new Q.a.Export.StiSvgData;r.component=this,r.x=0,r.y=0,r.width=this.report.unit.convertToHInches(this.width),r.height=this.report.unit.convertToHInches(this.height);var i=this.report.isExporting&&t!==Q.a.StiExportFormat.Html&&t!==Q.a.StiExportFormat.Html5&&t!==Q.a.StiExportFormat.HtmlDiv&&t!==Q.a.StiExportFormat.HtmlSpan&&t!==Q.a.StiExportFormat.HtmlTable;return Q.a.Export.StiChartSvgHelper.getImage(r,i)}isExportAsImage(e){if(e==Q.a.StiExportFormat.Pdf)return!1;if(e==Q.a.StiExportFormat.ImageSvg)return!1;return!0}get filter(){return 0==this.filters.count&&this.filters.add(new tt),this.filters.getByIndex(0).item=Q.e.StiFilterItem.Expression,this.filters.getByIndex(0).expression}set filter(e){0==this.filters.count&&this.filters.add(new tt),this.filters.getByIndex(0).item=Q.e.StiFilterItem.Expression,this.filters.getByIndex(0).expression=e}get sort(){return this._sort}set sort(e){this._sort=e}get dataSource(){if(this.isCacheValues)return this.cachedDataSource;if(null==this.page||null==this.report||null==this.report.dataSources||null==this.dataSourceName||0==this.dataSourceName.length)return null;return this.report.dataSources.getByName(this.dataSourceName)}get dataSourceName(){return this._dataSourceName}set dataSourceName(e){this._dataSourceName!=e&&(this._dataSourceName=e)}get isDataSourceEmpty(){if(this.isCacheValues)return this.cachedIsDataSourceEmpty;return G.isNullOrEmpty(this.dataSourceName)||null==this.dataSource}get isBusinessObjectEmpty(){if(this.isCacheValues)return this.cachedIsBusinessObjectEmpty;return G.isNullOrEmpty(this.businessObjectGuid)||null==this.businessObject}get businessObject(){if(this.isCacheValues)return this.cachedBusinessObject;if(null==this.page||null==this.report||null==this.businessObjectGuid||0==this.businessObjectGuid.length)return null;return Q.a.Dictionary.StiBusinessObjectHelper.getBusinessObjectFromGuid(this.report,this.businessObjectGuid)}get businessObjectGuid(){return this._businessObjectGuid}set businessObjectGuid(e){this._businessObjectGuid!=e&&(this._businessObjectGuid=e,G.isNullOrEmpty(e)||(this.dataSourceName=null))}first(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isEofValue=!1,this.isBofValue=!0,this.positionValue=0):this.dataSource.first():this.businessObject.first()}prior(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isBofValue=!1,this.isEofValue=!1,this.positionValue<=0?this.isBofValue=!0:this.positionValue--):this.dataSource.prior():this.businessObject.prior()}next(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isBofValue=!1,this.isEofValue=!1,this.positionValue>=this.countData-1?this.isEofValue=!0:this.positionValue++):this.dataSource.next():this.businessObject.next()}last(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isEofValue=!0,this.isBofValue=!1,this.positionValue=this.countData-1):this.dataSource.last():this.businessObject.last()}get isEof(){return this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isEofValue:this.dataSource.isEof:this.businessObject.isEof}set isEof(e){this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isEofValue=e:this.dataSource.isEof=e:this.businessObject.isEof=e}get isBof(){return this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isBofValue:this.dataSource.isBof:this.businessObject.isBof}set isBof(e){this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isBofValue=e:this.dataSource.isBof=e:this.businessObject.isBof=e}get isEmpty(){return this.isBusinessObjectEmpty?this.isDataSourceEmpty?0==this.countData:this.dataSource.isEmpty:this.businessObject.isEmpty}get position(){if(!this.isBusinessObjectEmpty)return this.businessObject.position;if(!this.isDataSourceEmpty)return this.dataSource.position;return this.positionValue}set position(e){this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.positionValue=e:this.dataSource.position=e:this.businessObject.position=e}get count(){if(this.isCacheValues)return this.cachedCount;return this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.countData:this.dataSource.count:this.businessObject.count}cacheValues(e){e?(this.cachedCount=this.count,this.cachedIsBusinessObjectEmpty=this.isBusinessObjectEmpty,this.cachedIsDataSourceEmpty=this.isDataSourceEmpty,this.cachedDataSource=this.dataSource,this.cachedBusinessObject=this.businessObject):(this.cachedDataSource=null,this.cachedBusinessObject=null),this.isCacheValues=e}get dataRelation(){if(null==this.page||null==this.report||null==this.report.dictionary||null==this.report.dictionary.relations||null==this.dataRelationName||0==this.dataRelationName.length)return null;return this.report.dictionary.relations.getByName(this.dataRelationName)}getFonts(){let e=super.getFonts();e.push(this.title.font),e.push(this.legend.font),e.push(this.table.dataCells.font),e.push(this.table.header.font);for(var t of this.constantLines.list)e.push(t.font);for(var i of this.strips.list)e.push(i.font);var r=this.area.as(Te),r=(null!=r&&(e.push(r.xAxis.labels.font),e.push(r.xAxis.title.font),e.push(r.yAxis.labels.font),e.push(r.yAxis.title.font),e.push(r.xTopAxis.labels.font),e.push(r.xTopAxis.title.font),e.push(r.yRightAxis.labels.font),e.push(r.yRightAxis.title.font)),this.area.as(je)),s;null!=r&&(e.push(r.xAxis.labels.font),e.push(r.yAxis.labels.font));for(s of this.series.list){var n=s.as(Ye);if(null!=n){for(var l of n.trendLines.list)e.push(l.font);null!=n.seriesLabels&&e.push(n.seriesLabels.font)}s.is(Q.d.StiPictorialSeries)}return U.distinct(e)}get priority(){return Qe.Component}get localizedCategory(){return x.get("Report","Components")}get componentType(){return Ue.Simple}get localizedName(){return x.get("Components","StiChart")}invokeEvents(){try{super.invokeEvents(),this.invokeProcessChart(this,m.empty)}catch(e){Q.a.StiLogService.write(this.stimulsoft().getType(),"DoEvents...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onProcessChart(e){}invokeProcessChart(e,t){try{this.onProcessChart(t)}catch(e){Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeProcessChart...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}series_SeriesAdded(e){let t=e,i=t.chart;null!=i.area&&i.area.core.isAcceptableSeries(t.stimulsoft().getType())||(i.area=$e.createObject(t.getDefaultAreaType()),null!=i.seriesLabels&&i.area.core.isAcceptableSeriesLabels(i.seriesLabels.stimulsoft().getType())||(i.seriesLabels=$e.createObject(i.area.getDefaultSeriesLabelsType()))),i.core.applyStyle(i.style)}series_SeriesRemoved(e){var t;let i=e.chart;if(0==i.series.count)return void(i.area.is(Ee)||(i.area=new _e,i.area.core.applyStyle(this.style)));if(null!=i.area){var r=i.area.stimulsoft().getType(),s,n;for(s of i.series.list){if(s.getDefaultAreaType()==r)return}}i.area=$e.createObject(i.series.getByIndex(0).getDefaultAreaType()),this.allowApplyStyle&&this.core.applyStyle(i.style)}get chartType(){return this.area}set chartType(e){this.area=e}createNew(){return new Lt}applyStyle(){this.allowApplyStyle&&this.core.applyStyle(this.style)}simplifyValues(){let e=0;while(e<this.series.count){let t=this.series.getByIndex(e);if(3e3<t.values.length){var i=qe.getShorterListPoints(t);t.values=[],t.arguments=[];for(let e=1;e<i.length;e++)t.values[e]=i[e].x,t.arguments[e]=i[e].y}e++}}get series(){return this._series}set series(e){this._series=e,this._series.chart=this}get area(){return this._area}set area(e){this._area!=e&&(e.is(je)&&(this._area=e),null!=(this._area=e)?this._area.chart=this:this._area=null)}get table(){return this._table}set table(e){this._table!=e&&(this._table=e,this._table.chart=this)}get style(){return this._style}set style(e){this._style!=e&&null!=(this._style=e)&&(e.core.chart=this)}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&this.core.applyStyle(this.style)}get horSpacing(){return this._horSpacing}set horSpacing(e){0<=e&&(this._horSpacing=e)}get vertSpacing(){return this._vertSpacing}set vertSpacing(e){0<=e&&(this._vertSpacing=e)}get seriesLabels(){return this._seriesLabels}set seriesLabels(e){null!=(this._seriesLabels=e)&&(this._seriesLabels.chart=this)}get labels(){return this._seriesLabels}set labels(e){this._seriesLabels=e}get legend(){return this._legend}set legend(e){if(null==e)throw new Error("new NullReferenceException()");this._legend=e,this._legend.chart=this}get title(){return this._title}set title(e){this._title!=e&&(this._title=e,this._title.chart=this)}get strips(){return this._strips}set strips(e){this._strips=e,this._strips.chart=this}get constantLines(){return this._constantLines}set constantLines(e){this._constantLines=e,this._constantLines.chart=this}}Q.e.StiChart=Lt}{class vi{static get oldChartPercentMode(){return vi._oldChartPercentMode}static set oldChartPercentMode(e){vi._oldChartPercentMode=e}}vi._oldChartPercentMode=!1,Q.d.StiChartOptions=vi}Q.d.StiInteractionOptions=class{constructor(){this.updateContext=!1,this.recallEvent=!1,this.recallTime=K.zero,this.isRecalled=!1,this.mousePoint=te.empty,this.dragEnabled=!1,this.dragDelta=Y.empty,this.interactionToolTip=null,this.interactionHyperlink=null,this.seriesInteractionData=null}};{let l;(ye=l=l||{})[ye["Left"]=0]="Left",ye[ye["Right"]=1]="Right",ye[ye["Beyond"]=2]="Beyond",ye[ye["Behind"]=3]="Behind",ye[ye["Between"]=4]="Between",ye[ye["Origin"]=5]="Origin",ye[ye["Destination"]=6]="Destination";class Li{static getPointClassify(e,t,i){var r=new te(i.x-t.x,i.y-t.y),s=new te(e.x-t.x,e.y-t.y),n=r.x*s.y-s.x*r.y;if(0<n)return l.Left;if(n<0)return l.Right;if(r.x*s.x<0||r.y*s.y<0)return l.Behind;if(Math.sqrt(r.x*r.x+r.y*r.y)<Math.sqrt(s.x*s.x+s.y*s.y))return l.Beyond;if(t.equals(e))return l.Origin;if(i.equals(e))return l.Destination;return l.Between}static isPointInTriangle(e,t,i,r){return Li.getPointClassify(e,t,i)!=l.Left&&Li.getPointClassify(e,i,r)!=l.Left&&Li.getPointClassify(e,r,t)!=l.Left}static isPointInPolygon(t,i){for(let e=0;e<i.length;e++)if(Li.getPointClassify(t,i[e],e+1<i.length?i[e+1]:i[0])==l.Left)return!1;return!0}static getLineOffsetRectangle(e,t,i){var r=Math.atan2(t.y-e.y,t.x-e.x),i=i/2;let s=U.create(te,4,!0);return s[0]=new te(e.x+i*Math.cos(r+.5*Math.PI),e.y+i*Math.sin(r+.5*Math.PI)),s[1]=new te(t.x+i*Math.cos(r+.5*Math.PI),t.y+i*Math.sin(r+.5*Math.PI)),s[2]=new te(t.x+i*Math.cos(r+1.5*Math.PI),t.y+i*Math.sin(r+1.5*Math.PI)),s[3]=new te(e.x+i*Math.cos(r+1.5*Math.PI),e.y+i*Math.sin(r+1.5*Math.PI)),s}static isLineContainsPoint(e,t,i,r){var e=this.getLineOffsetRectangle(e,t,i);return Li.isPointInPolygon(r,e)}static optimizePoints(t){if(t.length<800)return t;var i=1;let r=0;var s=0;let n=0,l=0,a=[];while(r<t.length){if(null==t[r]){while(r<t.length&&null==t[r])r++;a.push(null);continue}var o=t[r];if(++r<t.length&&null!=t[r]&&null!=t[r]&&t[r].x-o.x<i){s=o.x,n=o.y,l=o.y;var h=o.y;let e=o.y;while(r<t.length&&null!=t[r]&&null!=t[r]&&t[r].x-s<i)n=Math.min(n,t[r].y),l=Math.max(l,t[r].y),e=t[r].y,r++;e>h?(a.push(new te(s,n)),a.push(new te(s+i/2,l))):(a.push(new te(s,l)),a.push(new te(s+i/2,n)))}else a.push(o)}return a.stimulsoft().toArray()}}Q.d.StiPointHelper=Li}{class Ti{static getSquareDistance(e,t){var i=e.x-t.x,e=e.y-t.y;return i*i+e*e}static getSquareSegmentDistance(e,t,i){let r=t.x,s=t.y,n=i.x-r,l=i.y-s;var t;return 0===n&&0===l||(1<(t=((e.x-r)*n+(e.y-s)*l)/(n*n+l*l))?(r=i.x,s=i.y):0<t&&(r+=n*t,s+=l*t)),n=e.x-r,l=e.y-s,n*n+l*l}static simplifyRadialDistance(t,i){let r=t[0],s=[],n=(s.push(r),new te);for(let e=1;e<t.length;e++)n=t[e],Ti.getSquareDistance(n,r)>i&&(s.push(n),r=n);return r!=n&&s.push(n),s}static simplifyDouglasPeucker(i,e){var t=i.length,r;let s=U.create(Number,t),n=0,l=t-1,a=0,o=[],h=[];s[n]=s[l]=1;while(null!=l){let t=0;for(let e=n+1;e<l;e++){var u=Ti.getSquareSegmentDistance(i[e],i[n],i[l]);u>t&&(a=e,t=u)}t>e&&(s[a]=1,r=[n,a,a,l],o.stimulsoft().addRange(r)),0<o.length?(l=o[o.length-1],o.stimulsoft().removeAt(o.length-1)):l=null,0<o.length?(n=o[o.length-1],o.stimulsoft().removeAt(o.length-1)):n=null}for(let e=0;e<t;e++)0!=s[e]&&h.push(i[e]);return h}static simplify(e,t,i){if(null==e||0==e.length)return[];var t=t*t;if(i)return Ti.simplifyDouglasPeucker(e,t);var i=Ti.simplifyRadialDistance(e,t);return Ti.simplifyDouglasPeucker(i,t)}}Q.d.StiSimplifyHelper=Ti}Q.d.StiBoxAndWhiskerHelper=class{static checkArgument(e){let t=[];for(var i of e.series.toCast()){var i=i.as(Q.d.StiBoxAndWhiskerSeries);null!=i&&t.push(i.coreTitle)}for(var r of e.series.toCast()){let e=r.as(Q.d.StiBoxAndWhiskerSeries);null!=e&&(e.arguments=t,e.originalArguments=t)}}},Q.d.StiHistogramHelper=class{static checkValuesAndArguments(e,t){if(!e.is(Q.d.StiHistogramSeries))return;let i=e.values;var r;let s=3.5*this.getStandardDeviation(i)/Math.pow(i.length,1/3);s=s||1,s=this.roundToSignificantDigits(s,6);var n=i.stimulsoft().toList().min(),l,a,o,a;let h=n-s/2,u=(n<0&&h<0?h=i.stimulsoft().toList().min():h<0&&(h=0),new $),d=new $,c=0,m=0,S=0,g=h+s,p=e.chart.area.as(Q.d.StiAxisArea);for(l of i.stimulsoft().toList().orderBy(e=>e)){(l>g||m==i.length-1)&&(u.add(c),a=null!=t?t.format(h):p.xAxis.core.getLabelText2(h,h,e),o=null!=t?t.format(g):p.xAxis.core.getLabelText2(g,g,e),a=0==S?"["+a+", "+o+"]":"("+a+", "+o+"]",d.add(a),c=0,S++,h+=s*S,g=h+s),m++,c++}e.values=u.stimulsoft().toArray(),e.arguments=d.stimulsoft().toArray(),e.originalArguments=d.stimulsoft().toArray(),e.valuesStart=[]}static roundToSignificantDigits(e,t){if(0==e)return 0;var i=Math.pow(10,Math.floor(P.log10(Math.abs(e)))+1);return P.round2(i*P.round2(e/i,t),t)}static getStandardDeviation(e){let t=e.stimulsoft().toList().sum()/e.length;var i=e.stimulsoft().toList().sum(e=>Math.pow(e-t,2));return Math.sqrt(i/(e.length-1))}};{class ki{static createColorWithCorrectedLightness(e,t){if(0==t)return e;let i=e.r,r=e.g,s=e.b;return t<0?(t=1+t,i*=t,r*=t,s*=t):(i=(255-i)*t+i,r=(255-r)*t+r,s=(255-s)*t+s),ee.fromArgb(e.a,i,r,s)}static getActualAngle(e,t){var i=e.height*Math.cos(t*Math.PI/180),e=e.width*Math.sin(t*Math.PI/180),t=180*Math.atan2(e,i)/Math.PI;if(t<0)return t+360;return t}static transformAngle(e,t){var i=e.width*Math.cos(t*Math.PI/180),e=e.height*Math.sin(t*Math.PI/180),t=180*Math.atan2(e,i)/Math.PI;if(t<0)return t+360;return t}}ki.brightnessEnhancementFactor1=.3,Q.d.StiPie3dHelper=ki}let I=Z.Base.Context.StiFontGeom;Q.d.StiTextContentHelper=class{static getMeasureText(e,t,i,r){return this.getMeasureText2(e,t,I.create(i),r)}static getMeasureText2(i,r,s,n){for(let t=0;r.length>t;t++){let e=r.substr(0,t);if(n<i.measureString(e,s).width){if(4<e.length)return e.substr(0,e.length-3)+`...`;if(1<e.length)return e.substr(0,1)+`...`}}return r}};{class Ii{constructor(e){this.area=e}implements(){return Ii.implementsStiAreaCoreXF||(Ii.implementsStiAreaCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiAreaCoreXF]),Ii.implementsStiAreaCoreXF}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.area.allowApplyStyle&&(this.area.brush=e.core.chartAreaBrush,this.area.borderColor=e.core.chartAreaBorderColor,this.area.showShadow=e.core.chartAreaShowShadow)}render(e,t){return null}prepareInfo(e){}checkInLabelsTypes(e){var t,i;for(i of this.area.getSeriesLabelsTypes())if(i.stimulsoft().getType().stimulsoft().getTypeName()==e.stimulsoft().getType().stimulsoft().getTypeName())return!0;return!1}getSeries(){let e=new he;var t,i,r;for(i of this.area.getSeriesTypes())e.set(i,i);let s=[];for(r of this.area.chart.series.list){if(null==e.get(r.stimulsoft().getType()))continue;s.push(r)}return s}isAcceptableSeries(e){var t,i;for(i of this.area.getSeriesTypes())if(i==e)return!0;return!1}isAcceptableSeriesLabels(e){var t,i;for(i of this.area.getSeriesLabelsTypes())if(i==e)return!0;return!1}get localizedName(){return null}get seriesOrientation(){return Q.d.StiChartSeriesOrientation.Vertical}get position(){return null}}Q.d.StiAreaCoreXF=Ii}let w=Z.Base.Drawing.StiColorUtils,st=Q.d.StiShowEmptyCellsAs;{class Fi extends Q.d.StiSeries{constructor(){super(),this.showNulls=!0,this.showZeros=!0,this.marker=new Q.d.StiMarker,this.lineMarker=new Q.d.StiLineMarker,this._lineColor=ee.black,this.lineStyle=f.Solid,this.lighting=!0,this._lineWidth=2,this.labelsOffset=0,this.lineColorNegative=ee.firebrick,this.allowApplyColorNegative=!1,this.showNullsAs=st.Gap,this.showZerosAs=st.Gap,this.seriesLabels=new Q.d.StiOutsideEndAxisLabels}implements(){return Fi.implementsStiBaseLineSeries||(Fi.implementsStiBaseLineSeries=super.implements().concat([s,Q.d.IStiBaseLineSeries,n,Q.d.IStiSeries,Q.d.IStiAllowApplyColorNegative,Q.d.IStiShowNullsSeries,Q.d.IStiShowZerosSeries])),Fi.implementsStiBaseLineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new r("ShowZeros","",!0),new r("ShowNulls","",!0),new a("Marker"),new a("LineMarker"),new i("LineColor","",ee.black),new l("LineStyle","",f,f.Solid),new r("Lighting","",!0),new h("LineWidth","",2),new h("LabelsOffset"),new i("LineColorNegative","",ee.firebrick),new r("AllowApplyColorNegative"),new l("ShowNullsAs","",st,st.Gap),new l("ShowZerosAs","",st,st.Gap)])}clone(){let e=super.clone();return e.marker=this.marker.clone(),e.lineStyle=this.lineStyle,e}get showMarker(){return this.marker.visible}set showMarker(e){this.marker.visible=e}get markerColor(){return rt.toColor(this.marker.brush)}set markerColor(e){this.marker.brush=new ie(e),this.marker.borderColor=w.dark(e,50)}get markerSize(){return this.marker.size}set markerSize(e){this.marker.size=e}get markerType(){return this.marker.type}set markerType(e){this.marker.type=e}get lineColor(){return this.getLineColor()}set lineColor(e){this.setLineColor(e)}getLineColor(){return this._lineColor}setLineColor(e){this._lineColor=e}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}}Q.d.StiBaseLineSeries=Fi}{class Bi extends Q.d.StiBaseLineSeries{constructor(){super(),this.core=new Q.d.StiScatterSeriesCoreXF(this)}implements(){return Bi.implementsStiScatterSeries||(Bi.implementsStiScatterSeries=super.implements().concat([s,Q.d.IStiBaseLineSeries,Q.d.IStiSeries,n,Q.d.IStiScatterSeries,Q.d.IStiAllowApplyColorNegative])),Bi.implementsStiScatterSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("LineColorNegative")])}get componentId(){return Q.a.StiComponentId.StiScatterSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiScatterArea}getLineColor(){if(this.stimulsoft().getType()==Bi){if(this.marker.brush.is(ie))return this.marker.brush.color;if(this.marker.brush.is(Ce))return this.marker.brush.startColor}return super.getLineColor()}setLineColor(e){super.setLineColor(e)}createNew(){return new Bi}}Q.d.StiScatterSeries=Bi}{class Ri extends Q.d.StiScatterSeries{constructor(){super(),this.core=new Q.d.StiScatterLineSeriesCoreXF(this)}implements(){return Ri.implementsStiScatterLineSeries||(Ri.implementsStiScatterLineSeries=super.implements().concat([Q.d.IStiScatterLineSeries,Q.d.IStiBaseLineSeries,Q.d.IStiScatterSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyColorNegative])),Ri.implementsStiScatterLineSeries}get componentId(){return Q.a.StiComponentId.StiScatterLineSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiScatterArea}createNew(){return new Ri}}Q.d.StiScatterLineSeries=Ri}{class Pi extends Q.d.StiAreaCoreXF{constructor(e){super(e),this.valuesCount=0,this._scrollRangeX=0,this._scrollRangeY=0,this._scrollViewX=0,this._scrollViewY=0,this.blockScrollValueX=!1,this.blockScrollValueY=!1,this.scrollValueX=0,this.scrollValueY=0,this._scrollDpiX=1,this._scrollDpiY=1,this.scrollDragStartValue=0}implements(){return Pi.implementsStiAxisAreaCoreXF||(Pi.implementsStiAxisAreaCoreXF=[Q.d.IStiAxisAreaCoreXF]),Pi.implementsStiAxisAreaCoreXF}applyStyle(e){super.applyStyle(e);let t=this.area;t.allowApplyStyle&&(null!=t.interlacingHor&&t.interlacingHor.core.applyStyle(e),null!=t.interlacingVert&&t.interlacingVert.core.applyStyle(e),null!=t.gridLinesHor&&t.gridLinesHor.core.applyStyle(e),null!=t.gridLinesVert&&t.gridLinesVert.core.applyStyle(e),null!=t.xAxis&&t.xAxis.core.applyStyle(e),null!=t.xTopAxis&&t.xTopAxis.core.applyStyle(e),null!=t.yAxis&&t.yAxis.core.applyStyle(e),null!=t.yRightAxis&&t.yRightAxis.core.applyStyle(e))}render(s,n){let l=this.area,a=(l.yAxis.info.minimum=0,l.yAxis.info.maximum=0,l.yRightAxis.info.minimum=0,l.yRightAxis.info.maximum=0,l.xAxis.info.minimum=0,l.xAxis.info.maximum=0,l.xTopAxis.info.minimum=0,l.xTopAxis.info.maximum=0,this.prepareInfo(n.clone()),null),o=null,h=null,u=null,d=null,c=null,e=null,t=null,i=null,r=null,m=null,S=null,g=re.empty,p=re.empty,f=re.empty,w=re.empty,x=re.empty,C=re.empty;var b=re.empty,y=l.core.getSeries();if(0<y.length){let e=0,t=0,i=0,r=0;var A,A,v,A=(g=(l.reverseHor?l.yRightAxis:l.yAxis).core.getAxisRect(s,n,!0,!0,!1,!0),!this.area.chart.table.core.showTable()||(A=this.area.chart.table.core.getWidthCellLegend(s))>g.width&&(g.width=A,g.x=-A,0==g.height&&(g.height=1)),g.isEmpty||(g.x+=n.x,g.y+=n.y),g.isEmpty||(i=g.width,g.top<n.top&&(e=Math.abs(n.top-g.top)),n.bottom<g.bottom&&(t=Math.abs(g.bottom-n.bottom))),(p=l.yAxis.core.getCenterAxisRect(s,n,!0,!0,!1)).isEmpty||(p.x+=n.x,p.y+=n.y),(f=(l.reverseHor?l.yAxis:l.yRightAxis).core.getAxisRect(s,n,!0,!0,!1,!0)).isEmpty||(f.x+=n.x,f.y+=n.y),f.isEmpty||(r=f.width,f.top<n.top&&(e=Math.max(e,Math.abs(n.top-f.top))),n.bottom<f.bottom&&(t=Math.max(t,Math.abs(f.bottom-n.bottom)))),(w=l.xTopAxis.core.getAxisRect(s,n,!0,!0,!1,!0)).isEmpty||(w.x+=n.x,w.y+=n.y),w.isEmpty||(e=Math.max(w.height,e),w.x<n.x&&(i=Math.max(i,Math.abs(n.left-w.left))),n.right<w.right&&(r=Math.max(r,Math.abs(w.right-n.right)))),(x=l.xAxis.core.getCenterAxisRect(s,n,!0,!0,!1)).isEmpty||(x.x+=n.x,x.y+=n.y),l.reverseHor&&(A={ref:i},v={ref:r},this.swap(A,v),i=A.ref,r=v.ref),new re(n.x+i,n.y,n.width-i-r,n.height)),v=(l.xAxis.info.dpi=A.width/l.xAxis.info.range,this.calculateStepX(l.xAxis,A.left,A.right),{ref:l.xAxis.info.labelsCollection}),v,A,v,A;this.calculatePositions(l.xAxis,v,0<l.xAxis.labels.step?P.trunc(l.xAxis.labels.step):1,!1),l.xAxis.info.labelsCollection=v.ref,(C=l.xAxis.core.getAxisRect(s,A,!0,!0,!1,!0)).isEmpty||this.area.chart.table.core.showTable()||(C.x+=n.x,C.y+=n.y),C.isEmpty||this.area.chart.table.core.showTable()&&!this.area.chart.table.chart.area.is(Q.d.IStiClusteredBarArea)||(t=Math.max(C.height,t),C.x<n.x&&(i=Math.max(i,Math.abs(n.left-C.left))),n.right<C.right&&(r=Math.max(r,Math.abs(C.right-n.right)))),l.reverseHor&&(v={ref:i},A={ref:r},this.swap(v,A),i=v.ref,r=A.ref),l.reverseVert&&(v={ref:e},A={ref:t},this.swap(v,A),e=v.ref,t=A.ref),n.x+=i,n.width-=i+r,n.y+=e,n.height-=e+t,this.prepareInfo(n),a=l.yAxis.core.renderView(s,n),o=l.yAxis.core.renderCenterView(s,n),h=l.yRightAxis.core.renderView(s,n),u=l.xTopAxis.core.renderView(s,n),d=l.xAxis.core.renderCenterView(s,n),c=l.xAxis.core.renderView(s,n)}var b=n.clone(),v=this.calculateScrollValuesX(n.clone(),l),A=this.calculateScrollValuesY(n.clone(),l);n.x=-this.scrollDistanceX,n.y=-this.scrollDistanceY,n.width*=v,n.height*=A,this.prepareInfo(n.clone()),0<y.length&&(e=l.yAxis.core.render(s,n.clone()),t=l.yAxis.core.renderCenter(s,n.clone()),i=l.yRightAxis.core.render(s,n.clone()),r=l.xTopAxis.core.render(s,n.clone()),m=l.xAxis.core.renderCenter(s,n.clone()),S=l.xAxis.core.render(s,n.clone()),null!=e&&(e.view=a),null!=t&&(t.view=o),null!=i&&(i.view=h),null!=r&&(r.view=u),null!=m&&(m.view=d),null!=S&&(S.view=c)),null!=c&&l.xAxis.core.renderScrollBar(s,c.clientRectangle,c),null!=u&&l.xTopAxis.core.renderScrollBar(s,u.clientRectangle,u),null!=a&&l.yAxis.core.renderScrollBar(s,a.clientRectangle,a),null!=h&&l.yRightAxis.core.renderScrollBar(s,h.clientRectangle,h);let L=new Q.d.StiAxisAreaViewGeom(l,b);var T=new Q.d.StiAxisAreaGeom(L,l,n.clone()),k,I,F,B;L.createChildGeoms(),L.childGeoms.push(T);for(k of this.area.chart.strips.list)k.showBehind&&k.core.render(s,T,n.clone());for(I of this.area.chart.constantLines.list)I.showBehind&&I.core.render(s,T,n.clone());this.renderSeries(s,n.clone(),T,y);for(F of this.area.chart.strips.list)F.showBehind||F.core.render(s,T,n.clone());for(B of this.area.chart.constantLines.list)B.showBehind||B.core.render(s,T,n.clone());return null!=e&&(L.createChildGeoms(),a.createChildGeoms(),L.childGeoms.push(a),a.childGeoms.push(e)),null!=t&&(L.createChildGeoms(),o.createChildGeoms(),L.childGeoms.push(o),o.childGeoms.push(t)),null!=i&&(L.createChildGeoms(),h.createChildGeoms(),L.childGeoms.push(h),h.childGeoms.push(i)),null!=r&&(L.createChildGeoms(),u.createChildGeoms(),L.childGeoms.push(u),u.childGeoms.push(r)),null!=m&&(L.createChildGeoms(),d.createChildGeoms(),L.childGeoms.push(d),d.childGeoms.push(m)),null==S||this.area.chart.table.core.showTable()&&!this.area.chart.table.chart.area.is(Q.d.IStiClusteredBarArea)||(L.createChildGeoms(),c.createChildGeoms(),L.childGeoms.push(c),c.childGeoms.push(S)),L}calculateScrollValuesX(e,t){let i,r;var s=1;if(this.isAutoRangeXAxis(t.xAxis)?(i=t.xAxis.info.minimum,r=t.xAxis.info.maximum):(i=t.xAxis.range.minimum,r=t.xAxis.range.maximum,i>r&&(i=t.xAxis.info.minimum,r=t.xAxis.info.maximum)),this._scrollRangeX=t.xAxis.info.maximum-t.xAxis.info.minimum,this._scrollViewX=r-i,!t.xAxis.core.getStartFromZero()||t.xAxis.logarithmicScale?this.blockScrollValueX=!0:this.blockScrollValueX=!1,!this.blockScrollValueX&&!t.xAxis.interaction.showScrollBar){let e=i+Math.abs(t.xAxis.info.minimum);0<t.xAxis.info.minimum&&0<i&&(e=Math.abs(i-t.xAxis.info.minimum)),t.reverseHor?this.scrollValueX=this._scrollRangeX-e-this._scrollViewX:this.scrollValueX=e}return s=this.scrollRangeX/this.scrollViewX,this._scrollDpiX=e.width*s/this.scrollRangeX,s}calculateScrollValuesY(e,t){let i,r;var s=1,n;return this.isAutoRangeYAxis(t.yAxis)?(i=t.yAxis.info.minimum,r=t.yAxis.info.maximum):(i=t.yAxis.range.minimum,r=t.yAxis.range.maximum,i>r&&(i=t.yAxis.info.minimum,r=t.yAxis.info.maximum)),this._scrollRangeY=t.yAxis.info.maximum-t.yAxis.info.minimum,this._scrollViewY=r-i,!t.yAxis.core.getStartFromZero()||t.yAxis.logarithmicScale?this.blockScrollValueY=!0:this.blockScrollValueY=!1,this.blockScrollValueY?this.scrollValueY=0:(n=i+Math.abs(t.yAxis.info.minimum),t.reverseVert?this.scrollValueY=n:this.scrollValueY=this._scrollRangeY-n-this._scrollViewY),s=this.scrollRangeY/this.scrollViewY,this._scrollDpiY=e.height*s/this.scrollRangeY,s}prepareInfo(l){let a=this.getSeries();if(0<a.length){let e=this.area,t=(this.valuesCount=0,this.is(Q.d.StiClusteredBarAreaCoreXF)?e.yAxis:e.xAxis),i=this.is(Q.d.StiClusteredBarAreaCoreXF)?e.yRightAxis:e.xTopAxis,r=this.is(Q.d.StiClusteredBarAreaCoreXF)?e.xAxis:e.yAxis,s=this.is(Q.d.StiClusteredBarAreaCoreXF)?e.xTopAxis:e.yRightAxis,n=(t.info.stripLines=new Q.d.StiStripLinesXF,r.info.stripLines=new Q.d.StiStripLinesXF,s.info.stripLines=new Q.d.StiStripLinesXF,!1);for(let t=0;t<a.length;t++){let e=a[t].values;null!=(e=a[t].is(Q.d.StiCandlestickSeries)?a[t].valuesOpen:e)&&(this.valuesCount=Math.max(e.length,this.valuesCount)),a[t].core.isDateTimeValues&&(n=!0)}this.is(Q.d.StiBoxAndWhiskerAreaCoreXF)&&(this.valuesCount=a.length),this.prepareRange(t,i,r,s),!r.range.auto&&r.range.maximum>r.info.maximum&&(r.info.maximum=r.range.maximum),!r.range.auto&&r.range.minimum<r.info.minimum&&(r.info.minimum=r.range.minimum),(!s.range.auto&&s.range.maximum>s.info.maximum||e.is(Q.d.StiParetoArea))&&(s.info.maximum=s.range.maximum),!s.range.auto&&s.range.minimum<s.info.minimum&&(s.info.minimum=s.range.minimum);var o=0<this.area.chart.series.count&&this.area.chart.series.getByIndex(0).is(Q.d.StiScatterSeries),o=(r.logarithmicScale&&o||(this.checkStartFromZeroYAxis(r),this.checkStartFromZeroYAxis(s),this.calculateMinimumAndMaximumYAxis(r),s.range.auto&&this.calculateMinimumAndMaximumYAxis(s)),this.calculateMinimumAndMaximumXAxis(t),this.createStripLinesXAxis(t),this.createStripLinesYAxis(r,n),this.createStripLinesYAxis(s,n),this.checkStripLinesAndMaximumMinimumXAxis(t),this.checkStripLinesAndMaximumMinimumYAxis(r),this.checkStripLinesAndMaximumMinimumYAxis(s),e.is(Q.d.IStiClusteredBarArea)&&(Pi.rotateStripLines(t),Pi.rotateStripLines(r),Pi.rotateStripLines(s)),i.info=t.info.clone(),this.checkShowEdgeValues(t),this.checkShowEdgeValues(i),e.reverseHor&&(Pi.rotateStripLines(e.xAxis),Pi.rotateStripLines(e.xTopAxis)),e.reverseVert&&(Pi.rotateStripLines(e.yAxis),Pi.rotateStripLines(e.yRightAxis)),e.xAxis.info.dpi=l.width/e.xAxis.info.range,e.xTopAxis.info.dpi=l.width/e.xTopAxis.info.range,e.yAxis.info.dpi=l.height/e.yAxis.info.range,e.yRightAxis.info.dpi=l.height/e.yRightAxis.info.range,this.calculateStepX(e.xAxis,l.left,l.right),this.calculateStepX(e.xTopAxis,l.left,l.right),this.calculateStepY(e.yAxis,l.top,l.bottom),this.calculateStepY(e.yRightAxis,l.top,l.bottom),{ref:e.xAxis.info.labelsCollection}),l=(this.calculatePositions(e.xAxis,o,0<e.xAxis.labels.step?P.trunc(e.xAxis.labels.step):1,!1),e.xAxis.info.labelsCollection=o.ref,o={ref:e.xTopAxis.info.labelsCollection},this.calculatePositions(e.xTopAxis,o,0<e.xTopAxis.labels.step?P.trunc(e.xTopAxis.labels.step):1,!1),e.xTopAxis.info.labelsCollection=o.ref,o={ref:e.yAxis.info.labelsCollection},this.calculatePositions(e.yAxis,o,0<e.yAxis.labels.step?P.trunc(e.yAxis.labels.step):1,!1),e.yAxis.info.labelsCollection=o.ref,o={ref:e.yRightAxis.info.labelsCollection},this.calculatePositions(e.yRightAxis,o,0<e.yRightAxis.labels.step?P.trunc(e.yRightAxis.labels.step):1,!1),e.yRightAxis.info.labelsCollection=o.ref,{ref:e.xAxis.info.ticksCollection});this.calculatePositions(e.xAxis,l,0<e.xAxis.ticks.step?P.trunc(e.xAxis.ticks.step):1,!0),e.xAxis.info.ticksCollection=l.ref,l={ref:e.xTopAxis.info.ticksCollection},this.calculatePositions(e.xTopAxis,l,0<e.xTopAxis.ticks.step?P.trunc(e.xTopAxis.ticks.step):1,!0),e.xTopAxis.info.ticksCollection=l.ref,l={ref:e.yAxis.info.ticksCollection},this.calculatePositions(e.yAxis,l,0<e.yAxis.ticks.step?P.trunc(e.yAxis.ticks.step):1,!0),e.yAxis.info.ticksCollection=l.ref,l={ref:e.yRightAxis.info.ticksCollection},this.calculatePositions(e.yRightAxis,l,0<e.yRightAxis.ticks.step?P.trunc(e.yRightAxis.ticks.step):1,!0),e.yRightAxis.info.ticksCollection=l.ref}}renderSeries(r,s,n,e){let t=[],i=new he;for(var l of e)if(this.isAcceptableSeries(l.stimulsoft().getType())){let e=i.get(l.stimulsoft().getType());null==e&&(e=[],t.push(e),i.add(l.stimulsoft().getType(),e)),e.push(l)}for(var a of t){let i=a.stimulsoft().toArray();if(i[0].is(Q.d.StiStackedBarSeries)||i[0].is(Q.d.StiStackedColumnSeries)||i[0].is(Q.d.StiStackedBaseLineSeries)){let e=[],t=[];for(var o of i)(o.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?e:t).push(o);0<e.length&&e.stimulsoft().toArray()[0].core.renderSeries(r,s,n,e.stimulsoft().toArray()),0<t.length&&t.stimulsoft().toArray()[0].core.renderSeries(r,s,n,t.stimulsoft().toArray())}else i[0].core.renderSeries(r,s,n,i)}}isAutoRangeXAxis(e){return e.range.auto||e.range.minimum>=e.range.maximum||e.logarithmicScale}isAutoRangeYAxis(e){return e.range.auto||e.range.maximum==e.range.minimum||this.area.isDefaultSeriesTypeFullStackedColumnSeries||e.logarithmicScale}calculateMinimumAndMaximumXAxis(e){e.range.auto||(e.info.maximum=e.range.maximum,e.info.minimum=e.range.minimum)}calculateMinimumAndMaximumYAxis(t){if(0<this.getSeries().length&&this.getSeries()[0].is(Q.d.StiGanttSeries))return void(t.range.auto||(t.info.maximum=t.range.maximum,t.info.minimum=t.range.minimum));if(!t.startFromZero&&t.range.auto&&t.is(Q.d.IStiYAxis)){var i=.05*(t.info.maximum-t.info.minimum);t.info.minimum=t.info.minimum-i,t.info.maximum=t.info.maximum+i,t.info.minimum<0&&0<=t.info.minimum+i&&(t.info.minimum=0)}else{let e=.1;0<this.getSeries().length&&this.getSeries()[0].seriesLabels.is(Q.d.StiOutsideEndAxisLabels)&&(e=.15);var i=Math.min(e,Math.abs(4/((t.info.maximum+t.info.minimum)/2)));t.info.maximum*=1+i*Math.sign(t.info.maximum),t.info.minimum*=1-i*Math.sign(t.info.minimum)}t.info.minimum==t.info.maximum&&(0==t.info.maximum?t.info.maximum=100:(t.info.minimum-=.1*t.info.minimum,t.info.maximum+=.1*t.info.maximum))}getArgumentLabel(e,t){if(null==e)return"";let i=this.area;return(i.core.seriesOrientation==Q.d.StiChartSeriesOrientation.Vertical?i.xAxis:i.yAxis).core.getLabelText(e,t)}switchOff(){let e=this.area;e.gridLinesHor.visible=!1,e.gridLinesVert.visible=!1,e.interlacingHor.visible=!1,e.interlacingVert.visible=!1,e.xAxis.visible=!1,e.yAxis.visible=!1,e.xTopAxis.visible=!1,e.yRightAxis.visible=!1,e.yAxis.range.auto=!0,e.xAxis.range.auto=!0}swap(e,t){var i=e.ref;e.ref=t.ref,t.ref=i}prepareRange(e,t,i,r){}createStripLinesXAxis(i){var r=i.core.getStartFromZero(),t=r?this.valuesCount+1:this.valuesCount,e,s,n;for(let e=r?0:1;e<=t;e++)i.info.stripLines.add2(e,e);for(s of this.getSeries())for(let t=0;t<this.valuesCount;t++){let e=null;if(null!=s.arguments&&t<s.arguments.length&&(e=s.arguments[t],G.isNullOrEmpty(e)))continue;null==e||(n=r?1+t:t)<i.info.stripLines.count&&(i.info.stripLines.getByIndex(n).valueObject=e)}}checkShowEdgeValues(e){var t;0<e.info.stripLines.count&&((e.is(Q.d.IStiXTopAxis)?e.area.xTopAxis:e.area.xAxis).showEdgeValues&&!e.area.is(Q.d.IStiClusteredBarArea)||(e.info.stripLines.getByIndex(0).valueObject=null,e.info.stripLines.getByIndex(e.info.stripLines.count-1).valueObject=null))}createStripLinesYAxis(s,t){if(this.area.isDefaultSeriesTypeFullStackedColumnSeries||this.area.isDefaultSeriesTypeFullStackedBarSeries){let e=!1,t=!1;var n,l;for(l of this.getSeries())for(var a of l.values)0<a&&(e=!0),a<0&&(t=!0);var o=t?-100:0,h;let i=e?100:0,r=(0==o&&0==i&&(i=100),s.labels.step);0==r&&(r=Q.d.StiStripLineCalculatorXF.getInterval(o,i,6)),s.info.stripLines=Q.d.StiStripLineCalculatorXF.getStripLines(o,i,r,!1);for(h of s.info.stripLines.list)h.valueObject=G.format("{0}%",h.valueObject)}else{let e=s.labels.step;var i;0==(e=0<e&&0<s.info.range&&500<s.info.range/e?0:e)&&(e=Q.d.StiStripLineCalculatorXF.getInterval(s.info.minimum,s.info.maximum,6),this.area.chart.isDashboard&&(s.labels.calculatedStep=e)),s.info.stripLines=Q.d.StiStripLineCalculatorXF.getStripLines(s.info.minimum,s.info.maximum,e,t)}}checkStripLinesAndMaximumMinimumXAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.minimum=0,e.info.maximum=1)}checkStripLinesAndMaximumMinimumYAxis(e){0<e.info.stripLines.count?(e.info.maximum=e.info.stripLines.getByIndex(0).value,e.info.minimum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.maximum=100,e.info.minimum=0)}calculateStepX(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(0).value-e.info.stripLines.getByIndex(1).value)*e.info.dpi),e.core.calculateStripPositions(t,i)):(e.info.step=1,e.info.stripPositions=[])}calculateStepY(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(1).value-e.info.stripLines.getByIndex(0).value)*e.info.dpi),e.core.calculateStripPositions(t,i)):(e.info.step=1,e.info.stripPositions=[])}checkStartFromZeroYAxis(e){e.core.getStartFromZero()&&(e.info.maximum<0&&(e.info.maximum=0),0<e.info.minimum&&(e.info.minimum=0))}calculatePositions(i,e,r,s){let n=[];var t=this.area;let l=!1,a=(this.area.is(Q.d.IStiYAxis)?l=t.reverseVert:this.area.is(Q.d.IStiXAxis)&&(l=t.reverseHor),0);var o=i.info.stripPositions.length,h;for(let t=0;t<o;t++){if(0==a){let e=new Q.d.StiStripPositionXF;var u=l?o-t-1:t;e.stripLine=i.info.stripLines.getByIndex(u),e.position=i.info.stripPositions[u],l?n.stimulsoft().insert(0,e):n.push(e)}if(this.area.core.is(Q.d.StiScatterAreaCoreXF)&&i.is(Q.d.IStiXAxis)&&!i.logarithmicScale)continue;if(this.area.core.is(Q.d.StiClusteredBarAreaCoreXF)&&i.is(Q.d.IStiXAxis)&&!s)continue;if(!this.area.core.is(Q.d.StiClusteredBarAreaCoreXF)&&i.is(Q.d.IStiYAxis)&&!s)continue;if(t==o-1&&0!=a)if(null!=i&&i.showEdgeValues){let e=new Q.d.StiStripPositionXF;var u=l?0:o-1;e.stripLine=i.info.stripLines.getByIndex(u),e.position=i.info.stripPositions[u],l?n.stimulsoft().insert(0,e):n.push(e)}++a==r&&(a=0)}e.ref=n}calculateDivider(e){var t=this.area;let i=0;if(null!=e.info.stripLines)for(var r of e.info.stripLines.list){if(0==r.value)return e.info.stripPositions[i];i++}return e.is(Q.d.IStiYAxis)?t.reverseVert?-e.info.minimum*e.info.dpi:null==e.info.stripPositions||0==e.info.stripPositions.length?e.info.minimum*e.info.dpi:e.info.stripPositions[e.info.stripPositions.length-1]+e.info.minimum*e.info.dpi:e.is(Q.d.IStiXAxis)?t.reverseHor?null==e.info.stripPositions||0==e.info.stripPositions.length?e.info.minimum*e.info.dpi:e.info.stripPositions[e.info.stripPositions.length-1]+e.info.minimum*e.info.dpi:-e.info.minimum*e.info.dpi:0}static rotateStripLines(e){let t=new Q.d.StiStripLinesXF;for(var i of e.info.stripLines.list)t.insert(0,i);e.info.stripLines=t}getDividerX(){var e=this.area;if(this.is(Q.d.StiClusteredBarAreaCoreXF)||this.is(Q.d.StiScatterAreaCoreXF))return this.calculateDivider(e.xAxis);return 0}getDividerTopX(){var e=this.area;if(this.is(Q.d.StiClusteredBarAreaCoreXF))return this.calculateDivider(e.xTopAxis);return 0}getDividerY(){var e=this.area;return this.is(Q.d.StiClusteredBarAreaCoreXF)&&!this.is(Q.d.StiGanttAreaCoreXF)?0:this.calculateDivider(e.yAxis)}getDividerRightY(){var e=this.area;return this.is(Q.d.StiClusteredBarAreaCoreXF)&&!this.is(Q.d.StiGanttAreaCoreXF)?0:this.calculateDivider(e.yRightAxis)}get scrollDistanceX(){return this.scrollDpiX*this.scrollValueX}get scrollDistanceY(){return this.scrollDpiY*this.scrollValueY}get scrollRangeX(){return this._scrollRangeX}get scrollRangeY(){return this._scrollRangeY}get scrollViewX(){return this._scrollViewX}get scrollViewY(){return this._scrollViewY}get scrollDpiX(){return this._scrollDpiX}get scrollDpiY(){return this._scrollDpiY}}Q.d.StiAxisAreaCoreXF=Pi}Q.d.StiClusteredColumnAreaCoreXF=class extends Q.d.StiAxisAreaCoreXF{prepareRange(e,t,i,r){let s=!0,n=!0,l=!1,a=!1;i.info.maximum=0,i.info.minimum=0,r.info.maximum=0,r.info.minimum=0;var o=this.getSeries();for(let e=0;e<o.length;e++){var h=o[e],u,d;for(d of h.values)h.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?null!=d&&(s?(l=!0,i.info.maximum=d,i.info.minimum=d,s=!1):(l=!0,i.info.maximum=Math.max(d,i.info.maximum),i.info.minimum=Math.min(d,i.info.minimum))):null!=d&&(n?(a=!0,r.info.maximum=d,r.info.minimum=d,n=!1):(a=!0,r.info.maximum=Math.max(d,r.info.maximum),r.info.minimum=Math.min(d,r.info.minimum)))}l||(i.info.maximum=r.info.maximum,i.info.minimum=r.info.minimum),a||(r.info.maximum=i.info.maximum,r.info.minimum=i.info.minimum)}get localizedName(){return x.get("Chart","ClusteredColumn")}get position(){return Q.d.StiChartAreaPosition.ClusteredColumn}constructor(e){super(e)}};let nt=Q.d.StiChartAreaPosition,lt=(Q.d.StiBoxAndWhiskerAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","BoxAndWhisker")}get position(){return nt.Bubble}constructor(e){super(e)}},Z.Base.StiConvert),at=(Q.d.StiScatterAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{constructor(e){super(e),this.isArgumentDateTime=!1}isXAxisAutoRange(e){var t=this.area;return e.range.auto||t.xAxis.range.maximum==t.xAxis.range.minimum||e.logarithmicScale}prepareRange(e,t,i,r){super.prepareRange(e,t,i,r);let s=!0;var n,l;e.info.maximum=0,e.info.minimum=0,this.isArgumentDateTime=!1;for(l of this.getSeries()){if(0<l.arguments.length&&"string"==typeof l.arguments[0]){let e=l.arguments[0];if(e.stimulsoft().endsWith("AM")||e.stimulsoft().endsWith("PM"))for(let e=0;e<l.arguments.length;e++){var a=T.fromString(l.arguments[e].toString(),!1);null!=a&&(l.arguments[e]=a)}}for(var o of l.arguments){let t=0;if(o instanceof T)this.isArgumentDateTime=!0,t=o.toOADate();else if("string"==typeof o){var h={ref:0};Q.d.StiSeries.tryParseValue(o,l.chart.report.culture,h)&&(t=h.ref)}else try{t=lt.changeType(o,Number)}catch(e){t=0}s?(s=!1,e.info.maximum=t,e.info.minimum=t):(e.info.maximum=Math.max(e.info.maximum,t),e.info.minimum=Math.min(e.info.minimum,t))}}}checkStripLinesAndMaximumMinimumXAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.minimum=0,e.info.maximum=1)}createStripLinesXAxis(i){var e;this.isArgumentDateTime||i.logarithmicScale||this.isXAxisAutoRange(i)&&(0!=(e=.05*Math.abs(i.info.maximum-i.info.minimum))?(i.info.maximum+=e,i.info.minimum-=e,i.info.minimum<0&&0<=i.info.minimum+e&&(i.info.minimum=0)):(i.info.maximum*=1.05,i.info.minimum<0?i.info.minimum*=1.05:i.info.minimum*=.95),i.core.getStartFromZero()&&(i.info.minimum=0),i.info.minimum==i.info.maximum&&(0==i.info.maximum?i.info.maximum=100:(i.info.minimum-=.1*i.info.minimum,i.info.maximum-=.1*i.info.maximum)));let t=!1;var r=this.getSeries();for(let e=0;e<r.length;e++)if(r[e].core.isDateTimeValues){t=!0;break}let s=i.labels.step;0==s&&(s=Q.d.StiStripLineCalculatorXF.getInterval(i.info.minimum,i.info.maximum,6));let n;n=i.logarithmicScale?Q.d.StiStripLineCalculatorXF.getStripLinesLogScale(i.info.minimum,i.info.maximum):Q.d.StiStripLineCalculatorXF.getStripLines(i.info.minimum,i.info.maximum,s,t),i.info.stripLines.clear();for(let t=n.count-1;0<=t;t--){var l=n.getByIndex(t).value;let e=n.getByIndex(t).valueObject;this.isArgumentDateTime&&(e=T.fromOADate(l)),i.info.stripLines.add2(e,l)}}createStripLinesYAxis(r,t){if(this.area.isDefaultSeriesTypeFullStackedColumnSeries||this.area.isDefaultSeriesTypeFullStackedBarSeries){let e=!1,t=!1;var s,n;for(n of this.getSeries())for(var l of n.values)0<l&&(e=!0),l<0&&(t=!0);var a=t?-100:0,o=e?100:0,h;let i=r.labels.step;0==i&&(i=Q.d.StiStripLineCalculatorXF.getInterval(a,o,6)),r.info.stripLines=Q.d.StiStripLineCalculatorXF.getStripLines(a,o,i,!1);for(h of r.info.stripLines.list)h.valueObject=G.format("{0}%",h.valueObject)}else{let e=r.labels.step;0==(e=0<e&&0<r.info.range&&500<r.info.range/e?0:e)&&(e=Q.d.StiStripLineCalculatorXF.getInterval(r.info.minimum,r.info.maximum,6)),r.logarithmicScale?r.info.stripLines=Q.d.StiStripLineCalculatorXF.getStripLinesLogScale(r.info.minimum,r.info.maximum):r.info.stripLines=Q.d.StiStripLineCalculatorXF.getStripLines(r.info.minimum,r.info.maximum,e,t)}}get localizedName(){return x.get("Chart","Scatter")}get position(){return Q.d.StiChartAreaPosition.Scatter}},Q.d.StiBubbleAreaCoreXF=class extends Q.d.StiScatterAreaCoreXF{get localizedName(){return x.get("Chart","Bubble")}get position(){return nt.Bubble}constructor(e){super(e)}},Q.d.StiCandlestickAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","Candlestick")}get position(){return Q.d.StiChartAreaPosition.Candlestick}createStripLinesXAxis(t){var e,i;t.info.stripLines.clear(),t.info.stripLines.add2(0,0);for(i of this.getSeries())for(var r of i.arguments){let e=!0;for(var s of t.info.stripLines.list)s.valueObject.toString()==r.toString()&&(e=!1);e&&t.info.stripLines.add2(r,t.info.stripLines.count)}t.info.stripLines.add2("",t.info.stripLines.count)}prepareRange(e,t,i,r){var s,n;e.info.maximum=0,e.info.minimum=0,i.info.maximum=0,i.info.minimum=0;let l=!0;for(n of this.getSeries()){for(var a of n.valuesOpen)null!=a&&(l?(l=!1,i.info.maximum=a,i.info.minimum=a):(i.info.maximum=Math.max(i.info.maximum,a),i.info.minimum=Math.min(i.info.minimum,a)));for(var o of n.valuesClose)null!=o&&(i.info.maximum=Math.max(i.info.maximum,o),i.info.minimum=Math.min(i.info.minimum,o));for(var h of n.valuesHigh)null!=h&&(i.info.maximum=Math.max(i.info.maximum,h));for(var u of n.valuesLow)null!=u&&(i.info.minimum=Math.min(i.info.minimum,u))}r.info.maximum=i.info.maximum,r.info.minimum=i.info.minimum}constructor(e){super(e)}},Q.d.StiClusteredBarAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","ClusteredBar")}get seriesOrientation(){return Q.d.StiChartSeriesOrientation.Horizontal}get position(){return Q.d.StiChartAreaPosition.ClusteredBar}constructor(e){super(e)}},Q.d.StiAreaAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","Area")}get position(){return Q.d.StiChartAreaPosition.Area}constructor(e){super(e)}},Q.d.StiHistogramAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","Histogram")}get position(){return Q.d.StiChartAreaPosition.Histogram}constructor(e){super(e)}},Q.d.StiLineAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","Line")}get position(){return Q.d.StiChartAreaPosition.Line}constructor(e){super(e)}},Q.d.StiParetoAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","Pareto")}get position(){return Q.d.StiChartAreaPosition.Pareto}constructor(e){super(e)}},Q.d.StiSplineAreaAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","SplineArea")}get position(){return Q.d.StiChartAreaPosition.SplineArea}constructor(e){super(e)}},Q.d.StiSplineAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","Spline")}get position(){return Q.d.StiChartAreaPosition.Spline}constructor(e){super(e)}},Q.d.StiSteppedAreaAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","SteppedArea")}get position(){return Q.d.StiChartAreaPosition.SteppedArea}constructor(e){super(e)}},Q.d.StiSteppedLineAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","SteppedLine")}get position(){return Q.d.StiChartAreaPosition.SteppedLine}constructor(e){super(e)}},Q.d.StiWaterfallAreaCoreXF=class extends Q.d.StiAxisAreaCoreXF{prepareRange(e,t,i,r){let s=!0,n=0;i.info.maximum=0,i.info.minimum=0;var l=this.getSeries();for(let e=0;e<l.length;e++){var a=l[e],o=a.total.visible?1:0;for(let e=0;e<a.values.length-o;e++){var h=a.values[e];a.yAxis==Q.d.StiSeriesYAxis.LeftYAxis&&null!=h&&(s?(n=h,i.info.maximum=Math.max(0,h),i.info.minimum=Math.min(0,h),s=!1):(n+=h,i.info.maximum=Math.max(n,i.info.maximum),i.info.minimum=Math.min(n,i.info.minimum)))}}}get localizedName(){return x.get("Chart","Waterfall")}get position(){return Q.d.StiChartAreaPosition.Waterfall}constructor(e){super(e)}},Q.d.StiPieAreaCoreXF=class extends Q.d.StiAreaCoreXF{constructor(e){super(e),this.valuesCount=0}render(e,t){this.prepareInfo(t);var i=new Q.d.StiPieAreaGeom(this.area,t),r=this.getSeries();return this.renderSeries(e,t,i,r),i}renderSeries(t,i,r,e){let s=[],n=new he;for(var l of e){let e=n.get(l.stimulsoft().getType());null==e&&(e=[],s.push(e),n.set(l.stimulsoft().getType(),e)),e.push(l)}for(var a of s){let e=a.stimulsoft().toArray();e[0].core.renderSeries(t,i,r,e)}}prepareInfo(e){this.valuesCount=0;var t=this.getSeries();if(0<t.length)for(let e=0;e<t.length;e++){var i=t[e].values;null!=i&&(this.valuesCount=Math.max(i.length,this.valuesCount))}}get localizedName(){return x.get("Chart","Pie")}get position(){return Q.d.StiChartAreaPosition.Pie}},Q.d.StiDoughnutAreaCoreXF=class extends Q.d.StiPieAreaCoreXF{render(e,t){this.prepareInfo(t);var i=new Q.d.StiDoughnutAreaGeom(this.area,t),r=this.getSeries();return this.renderSeries(e,t,i,r),i}get localizedName(){return x.get("Chart","Doughnut")}get position(){return Q.d.StiChartAreaPosition.Doughnut}constructor(e){super(e)}},Q.d.StiStackedBarAreaCoreXF=class extends Q.d.StiClusteredBarAreaCoreXF{prepareSeriesRange(t){let i=[],r=[],s=[],n=[];var l=this.getSeries(),a,a,e;for(let e=0;e<this.valuesCount;e++)for(var o of l){o.stimulsoft().getType()==t&&(o.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?(i.push(0),r.push(0),e<o.values.length&&(0<(a=o.values[e])?r[e]=r[e]+a:i[e]=i[e]+a)):(s.push(0),n.push(0),e<o.values.length&&(0<(a=o.values[e])?n[e]=n[e]+a:s[e]=s[e]+a)))}return[i,r,s,n]}prepareRange(e,t,i,r){var s=this.getSeries(),n,l,a,o,h,u;let d=new he;for(n of s)d.set(n.stimulsoft().getType(),n.stimulsoft().getType());let c=[],m=[],S=[],g=[];for(l of d.values){var p=this.prepareSeriesRange(l),f,w,x,C;let e=0;for(f of p[0])c.length<=e?c.push(f):c[e]=Math.min(c[e],f),e++;e=0;for(w of p[1])m.length<=e?m.push(w):m[e]=Math.max(m[e],w),e++;e=0;for(x of p[2])S.length<=e?S.push(x):S[e]=Math.min(S[e],x),e++;e=0;for(C of p[3])g.length<=e?g.push(C):g[e]=Math.max(g[e],C),e++}0==c.length&&(c=S),0==m.length&&(m=g),0==S.length&&(S=c),0==g.length&&(g=m);let b=!0;for(a of c)b?(i.info.minimum=a,b=!1):i.info.minimum=Math.min(a,i.info.minimum);b=!0;for(o of m)b?(i.info.maximum=o,b=!1):i.info.maximum=Math.max(o,i.info.maximum);b=!0;for(h of S)b?(r.info.minimum=h,b=!1):r.info.minimum=Math.min(h,r.info.minimum);b=!0;for(u of g)b?(r.info.maximum=u,b=!1):r.info.maximum=Math.max(u,r.info.maximum)}get localizedName(){return x.get("Chart","StackedBar")}get seriesOrientation(){return Q.d.StiChartSeriesOrientation.Horizontal}get position(){return Q.d.StiChartAreaPosition.StackedBar}constructor(e){super(e)}},Q.d.StiFullStackedBarAreaCoreXF=class extends Q.d.StiStackedBarAreaCoreXF{get localizedName(){return x.get("Chart","FullStackedBar")}get position(){return Q.d.StiChartAreaPosition.FullStackedBar}constructor(e){super(e)}},Q.d.StiStackedColumnAreaCoreXF=class extends Q.d.StiAxisAreaCoreXF{prepareSeriesRange(t){let i=[],r=[],s=[],n=[];var l=this.getSeries(),a,a,e;for(let e=0;e<this.valuesCount;e++)for(var o of l){o.stimulsoft().getType()==t&&(o.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?(i.push(0),r.push(0),e<o.values.length&&(0<(a=o.values[e])?r[e]=r[e]+a:i[e]=i[e]+a)):(s.push(0),n.push(0),e<o.values.length&&(0<(a=o.values[e])?n[e]=n[e]+a:s[e]=s[e]+a)))}return[i,r,s,n]}prepareRange(e,t,i,r){var s=this.getSeries(),n,l,a,o,h,u;let d=new he;for(n of s)d.set(n.stimulsoft().getType(),n.stimulsoft().getType());let c=[],m=[],S=[],g=[];for(l of d.values){var p=this.prepareSeriesRange(l),f,w,x,C;let e=0;for(f of p[0])c.length<=e?c.push(f):c[e]=Math.min(c[e],f),e++;e=0;for(w of p[1])m.length<=e?m.push(w):m[e]=Math.max(m[e],w),e++;e=0;for(x of p[2])S.length<=e?S.push(x):S[e]=Math.min(S[e],x),e++;e=0;for(C of p[3])g.length<=e?g.push(C):g[e]=Math.max(g[e],C),e++}0==c.length&&(c=S),0==m.length&&(m=g),0==S.length&&(S=c),0==g.length&&(g=m);let b=!0;for(a of c)b?(i.info.minimum=a,b=!1):i.info.minimum=Math.min(a,i.info.minimum);b=!0;for(o of m)b?(i.info.maximum=o,b=!1):i.info.maximum=Math.max(o,i.info.maximum);b=!0;for(h of S)b?(r.info.minimum=h,b=!1):r.info.minimum=Math.min(h,r.info.minimum);b=!0;for(u of g)b?(r.info.maximum=u,b=!1):r.info.maximum=Math.max(u,r.info.maximum)}get localizedName(){return x.get("Chart","StackedColumn")}get position(){return Q.d.StiChartAreaPosition.StackedColumn}constructor(e){super(e)}},Q.d.StiFullStackedColumnAreaCoreXF=class extends Q.d.StiStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","FullStackedColumn")}get position(){return Q.d.StiChartAreaPosition.FullStackedColumn}constructor(e){super(e)}},Q.d.StiFullStackedAreaAreaCoreXF=class extends Q.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","FullStackedArea")}get position(){return Q.d.StiChartAreaPosition.FullStackedArea}constructor(e){super(e)}},Q.d.StiFullStackedLineAreaCoreXF=class extends Q.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","FullStackedLine")}get position(){return Q.d.StiChartAreaPosition.FullStackedLine}constructor(e){super(e)}},Q.d.StiFullStackedSplineAreaAreaCoreXF=class extends Q.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","FullStackedSplineArea")}get position(){return Q.d.StiChartAreaPosition.FullStackedSplineArea}constructor(e){super(e)}},Q.d.StiFullStackedSplineAreaCoreXF=class extends Q.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","FullStackedSpline")}get position(){return Q.d.StiChartAreaPosition.FullStackedSpline}constructor(e){super(e)}},Q.d.StiFunnelAreaCoreXF=class extends Q.d.StiAreaCoreXF{get localizedName(){return x.get("Chart","Funnel")}get position(){return Q.d.StiChartAreaPosition.Funnel}render(e,t){var i=new Q.d.StiPieAreaGeom(this.area,t),r=this.getSeries();return this.renderSeries(e,t,i,r),i}renderSeries(t,i,r,e){let s=[],n=new he;for(var l of e){let e=n.get(l.stimulsoft().getType());null==e&&(e=[],s.push(e),n.set(l.stimulsoft().getType(),e)),e.push(l)}for(var a of s){let e=a.stimulsoft().toArray();e[0].core.renderSeries(t,i,r,e)}}prepareInfo(e){}constructor(e){super(e)}},Q.d.StiGanttAreaCoreXF=class extends Q.d.StiClusteredBarAreaCoreXF{createStripLinesXAxis(t){var e,i;t.info.stripLines.clear(),t.info.stripLines.add2(0,0);for(i of this.getSeries())for(var r of i.arguments){let e=!0;for(var s of t.info.stripLines.list){var n=null==r?"":r.toString();null!=s.valueObject&&s.valueObject.toString()==n&&(e=!1)}e&&t.info.stripLines.add2(null!==r&&void 0!==r?r:"",t.info.stripLines.count)}t.info.stripLines.add2("",t.info.stripLines.count)}prepareRange(e,t,i,r){var s,n;e.info.maximum=0,e.info.minimum=0,i.info.maximum=0,i.info.minimum=0;let l=!0;for(n of this.getSeries()){for(var a of n.values)null!=a&&(l?(l=!1,i.info.maximum=a,i.info.minimum=a):(i.info.maximum=Math.max(i.info.maximum,a),i.info.minimum=Math.min(i.info.minimum,a)));for(var o of n.valuesEnd)null!=o&&(i.info.maximum=Math.max(i.info.maximum,o),i.info.minimum=Math.min(i.info.minimum,o))}r.info.maximum=i.info.maximum,r.info.minimum=i.info.minimum}get localizedName(){return x.get("Chart","Gantt")}get seriesOrientation(){return Q.d.StiChartSeriesOrientation.Horizontal}get position(){return Q.d.StiChartAreaPosition.Gantt}constructor(e){super(e)}},Q.d.StiPictorialAreaCoreXF=class extends Q.d.StiAreaCoreXF{render(e,t){var i=new Q.d.StiPictorialAreaGeom(this.area,t);let r=this.getSeries();return e.pushTranslateTransform(t.x,t.y),0<r.length&&r[0].core.renderSeries(e,new re(0,0,t.width,t.height),i,r.stimulsoft().toArray()),e.popTransform(),i}get localizedName(){return x.get("Chart","Pictorial")}get position(){return Q.d.StiChartAreaPosition.Pictorial}constructor(e){super(e)}},Q.d.StiPictorialStackedAreaCoreXF=class extends Q.d.StiAreaCoreXF{render(e,t){var i=new Q.d.StiPictorialAreaGeom(this.area,t);let r=this.getSeries();return e.pushTranslateTransform(t.x,t.y),0<r.length&&r[0].core.renderSeries(e,new re(0,0,t.width,t.height),i,r.stimulsoft().toArray()),e.popTransform(),i}get localizedName(){return x.get("Chart","PictorialStacked")}get position(){return Q.d.StiChartAreaPosition.PictorialStacked}constructor(e){super(e)}},Q.d.StiPie3dAreaCoreXF=class extends Q.d.StiPieAreaCoreXF{render(e,t){this.prepareInfo(t);var i=new Q.d.StiPieAreaGeom(this.area,t),r=this.getSeries();return this.renderSeries(e,t,i,r),i}get localizedName(){return x.get("Chart","Pie")+"3D"}get position(){return Q.d.StiChartAreaPosition.Pie3d}constructor(e){super(e)}},Z.Base.Drawing.StiEmptyBrush);{class Di extends Q.d.StiAreaCoreXF{constructor(e){super(e),this.valuesCount=0,this.points=[],this.arguments=[],this.centerPoint=te.empty}applyStyle(e){super.applyStyle(e);let t=this.area;t.allowApplyStyle&&(null!=t.interlacingHor&&t.interlacingHor.core.applyStyle(e),null!=t.interlacingVert&&t.interlacingVert.core.applyStyle(e),null!=t.gridLinesHor&&t.gridLinesHor.core.applyStyle(e),null!=t.gridLinesVert&&t.gridLinesVert.core.applyStyle(e),null!=t.xAxis&&t.xAxis.core.applyStyle(e),null!=t.yAxis&&t.yAxis.core.applyStyle(e),t.brush=new at)}render(e,t){let i=this.area;var r=t.clone(),r=Di.centerArea(r);this.prepareInfo(r),r=this.measureLabels(e,r).clone(),r=Di.centerArea(r).clone(),r=new re(t.x+(t.width-r.width)/2,t.y+(t.height-r.height)/2,r.width,r.height),this.prepareInfo(r);let s=new Q.d.StiRadarAreaGeom(this.area,r,this.valuesCount);var t=i.yAxis.yCore.render(e,r),t=(null!=t&&(s.createChildGeoms(),s.childGeoms.push(t)),0<this.area.chart.series.count&&this.renderArguments(e,s,this.area.chart.series.getByIndex(0)),this.getSeries());return this.renderSeries(e,r,s,t),s}static centerArea(e){return e.width>e.height?e.width=e.height:e.height=e.width,e}measureLabels(r,s){if(0==this.valuesCount)return s;let n=this.area;if(null!=n.xAxis&&n.xAxis.visible&&null!=n.yAxis.info.stripPositions){var l=n.yAxis.info.stripPositions[n.yAxis.info.stripPositions.length-1]+4*r.options.zoom;let e=0;var a=360/this.valuesCount,o;let t=0,i=s.clone();for(o of this.points){var h=e<this.arguments.length?this.arguments[e]:null,u=new te(this.centerPoint.x+l*o.x,this.centerPoint.y+l*o.y),h=n.xAxis.core.getLabelText(h),u=n.xAxis.xCore.getLabelRect(r,u,h,t).clone();u.isEmpty||(i=re.union(i,u)),t+=a,e++}var d=s.left-i.left,c=i.right-s.right,m=s.top-i.top,S=i.bottom-s.bottom;0<d&&(s.width-=d),0<c&&(s.width-=c),0<m&&(s.height-=m),0<S&&(s.height-=S)}return s}renderArguments(r,s,n){if(0==this.valuesCount)return;let l=this.area;if(null!=l.xAxis&&l.xAxis.visible&&null!=l.yAxis.info.stripPositions){var a=l.yAxis.info.stripPositions[l.yAxis.info.stripPositions.length-1]+4*r.options.zoom;let t=0;var o=360/this.valuesCount,h;let i=0;for(h of this.points){var u=t<this.arguments.length?this.arguments[t]:null;let e=new te(this.centerPoint.x+a*h.x,this.centerPoint.y+a*h.y);e.x-=s.clientRectangle.x,e.y-=s.clientRectangle.y;var u=l.xAxis.xCore.renderLabel(r,n,e,u,i,t,this.valuesCount);null!=u&&(s.createChildGeoms(),s.childGeoms.push(u)),i+=o,t++}}}renderSeries(t,i,r,e){let s=[],n=new he;for(var l of e){let e=n.get(l.stimulsoft().getType());null==e&&(e=[],s.push(e),n.set(l.stimulsoft().getType(),e)),e.push(l)}for(var a of s){let e=a.stimulsoft().toArray();e[0].core.renderSeries(t,i,r,e)}}prepareInfo(e){let t=this.area;this.valuesCount=0;var i=this.getSeries();if(0<i.length)for(let e=0;e<i.length;e++){var r=i[e].values;null!=r&&(this.valuesCount=Math.max(r.length,this.valuesCount))}if(this.arguments=[],0<i.length){let t=i[0];for(var s of i)if(s.arguments.length==this.valuesCount){t=s;break}for(let e=0;e<this.valuesCount;e++)e<t.arguments.length&&this.arguments.push(t.arguments[e].toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator))}else this.arguments.push("1"),this.arguments.push("2"),this.arguments.push("3"),this.arguments.push("4"),this.arguments.push("5");this.centerPoint=new te(e.x+e.width/2,e.y+e.height/2);let n,l=(n=0<this.valuesCount?360/this.valuesCount:360/5,this.points=[],0);while(l<360){var a=(l-90)*Math.PI/180,a=new te(Math.cos(a),Math.sin(a));if(this.points.push(a),l+=n,this.points.length==this.valuesCount)break}let o=0,h=0;if(t.yAxis.range.auto){let t=!0;for(let e=0;e<i.length;e++){var u=i[e].values;if(null!=u)for(var d of u){if(null==d)continue;t?(o=d,h=d,t=!1):(o=Math.min(o,d),h=Math.max(h,d))}}0==i.length&&(h=1),0==(h=Math.abs(o)>h?Math.abs(o):h)&&0==o&&(h=1),o=0}else o=t.yAxis.range.minimum,h=t.yAxis.range.maximum;this.createStripLinesAxis(t.yAxis,o,h),null!=t.yAxis.info.stripLines&&0<t.yAxis.info.stripLines.count&&(t.yAxis.info.minimum=t.yAxis.info.stripLines.getByIndex(t.yAxis.info.stripLines.count-1).value,t.yAxis.info.maximum=t.yAxis.info.stripLines.getByIndex(0).value),t.yAxis.info.dpi=.5*e.height/t.yAxis.info.range,this.calculateStep(t.yAxis,0,e.height/2);var e={ref:t.yAxis.info.labelsCollection},e=(this.calculatePositions(t.yAxis,e,0<t.yAxis.labels.step?P.trunc(t.yAxis.labels.step):1,!1),t.yAxis.info.labelsCollection=e.ref,{ref:t.yAxis.info.ticksCollection});this.calculatePositions(t.yAxis,e,0<t.yAxis.ticks.step?P.trunc(t.yAxis.ticks.step):1,!0),t.yAxis.info.ticksCollection=e.ref}createStripLinesAxis(e,t,i){let r=this.area,s=r.yAxis.labels.step;0==s&&(s=Q.d.StiStripLineCalculatorXF.getInterval(t,i,6)),r.yAxis.info.stripLines=Q.d.StiStripLineCalculatorXF.getStripLines(t,i,s,!1);for(var n of r.yAxis.info.stripLines.list)n.valueObject=G.format("{0}",n.valueObject)}calculateStep(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(1).value-e.info.stripLines.getByIndex(0).value)*e.info.dpi),e.yCore.calculateStripPositions(t,i)):e.info.step=1}calculatePositions(i,e,r,s){let n=[],l=0;if(null!=i.info.stripPositions){var a=i.info.stripPositions.length;for(let t=0;t<a;t++){if(0==l){let e=new Q.d.StiStripPositionXF;var o=t;e.stripLine=i.info.stripLines.getByIndex(o),e.position=i.info.stripPositions[o],n.push(e)}++l!=r&&s||(l=0)}}e.ref=n}}Q.d.StiRadarAreaCoreXF=Di}Q.d.StiRadarAreaAreaCoreXF=class extends Q.d.StiRadarAreaCoreXF{get localizedName(){return x.get("Chart","RadarArea")}get position(){return Q.d.StiChartAreaPosition.RadarArea}constructor(e){super(e)}},Q.d.StiRadarLineAreaCoreXF=class extends Q.d.StiRadarAreaCoreXF{get localizedName(){return x.get("Chart","RadarLine")}get position(){return Q.d.StiChartAreaPosition.RadarLine}constructor(e){super(e)}},Q.d.StiRadarPointAreaCoreXF=class extends Q.d.StiRadarAreaCoreXF{get localizedName(){return x.get("Chart","RadarPoint")}get position(){return Q.d.StiChartAreaPosition.RadarPoint}constructor(e){super(e)}},Q.d.StiRangeAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("PropertyMain","Range")}get position(){return Q.d.StiChartAreaPosition.Range}prepareRange(e,t,r,s){let n=!0,l=!0,a=!1,o=!1;r.info.maximum=0,r.info.minimum=0,s.info.maximum=0,s.info.minimum=0;var h=this.getSeries();for(let e=0;e<h.length;e++){var u=h[e];let t=u.values,i=u.valuesEnd;var d=Math.min(t.length,i.length);for(let e=0;e<d;e++){var c=null!=t[e]?t[e].stimulsoft().toNumber():0,m=null!=i[e]?i[e].stimulsoft().toNumber():0,S=Math.max(c,m),c=Math.min(c,m);u.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?n?(a=!0,r.info.maximum=S,r.info.minimum=c,n=!1):(a=!0,r.info.maximum=Math.max(S,r.info.maximum),r.info.minimum=Math.min(c,r.info.minimum)):l?(o=!0,s.info.maximum=S,s.info.minimum=c,l=!1):(o=!0,s.info.maximum=Math.max(S,s.info.maximum),s.info.minimum=Math.min(c,s.info.minimum))}}a||(r.info.maximum=s.info.maximum,r.info.minimum=s.info.minimum),o||(s.info.maximum=r.info.maximum,s.info.minimum=r.info.minimum)}constructor(e){super(e)}},Q.d.StiRangeBarAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{createStripLinesXAxis(t){var e,i;t.info.stripLines.clear(),t.info.stripLines.add2(0,0);for(i of this.getSeries())for(var r of i.arguments){let e=!0;for(var s of t.info.stripLines.list)s.valueObject.toString()==r.toString()&&(e=!1);e&&t.info.stripLines.add2(r,t.info.stripLines.count)}t.info.stripLines.add2("",t.info.stripLines.count),0<t.info.stripLines.count&&(t.area.xAxis.showEdgeValues||(t.info.stripLines.getByIndex(0).valueObject="",t.info.stripLines.getByIndex(t.info.stripLines.count-1).valueObject=""))}prepareRange(e,t,i,r){var s,n;e.info.maximum=0,e.info.minimum=0,i.info.maximum=0,i.info.minimum=0;let l=!0;for(n of this.getSeries()){for(var a of n.values)null!=a&&(l?(l=!1,i.info.maximum=a,i.info.minimum=a):(i.info.maximum=Math.max(i.info.maximum,a),i.info.minimum=Math.min(i.info.minimum,a)));for(var o of n.valuesEnd)null!=o&&(i.info.maximum=Math.max(i.info.maximum,o),i.info.minimum=Math.min(i.info.minimum,o))}r.info.maximum=i.info.maximum,r.info.minimum=i.info.minimum}get localizedName(){return x.get("Chart","RangeBar")}get position(){return Q.d.StiChartAreaPosition.RangeBar}constructor(e){super(e)}},Q.d.StiSplineRangeAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","SplineRange")}get position(){return Q.d.StiChartAreaPosition.SplineRange}prepareRange(e,t,r,s){let n=!0,l=!0,a=!1,o=!1;r.info.maximum=0,r.info.minimum=0,s.info.maximum=0,s.info.minimum=0;var h=this.getSeries();for(let e=0;e<h.length;e++){var u=h[e];let t=u.values,i=u.valuesEnd;var d=Math.min(t.length,i.length);for(let e=0;e<d;e++){var c=null!=t[e]?t[e].stimulsoft().toNumber():0,m=null!=i[e]?i[e].stimulsoft().toNumber():0,S=Math.max(c,m),c=Math.min(c,m);u.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?n?(a=!0,r.info.maximum=S,r.info.minimum=c,n=!1):(a=!0,r.info.maximum=Math.max(S,r.info.maximum),r.info.minimum=Math.min(c,r.info.minimum)):l?(o=!0,s.info.maximum=S,s.info.minimum=c,l=!1):(o=!0,s.info.maximum=Math.max(S,s.info.maximum),s.info.minimum=Math.min(c,s.info.minimum))}}a||(r.info.maximum=s.info.maximum,r.info.minimum=s.info.minimum),o||(s.info.maximum=r.info.maximum,s.info.minimum=r.info.minimum)}constructor(e){super(e)}},Q.d.StiSteppedRangeAreaCoreXF=class extends Q.d.StiClusteredColumnAreaCoreXF{get localizedName(){return x.get("Chart","SteppedRange")}get position(){return Q.d.StiChartAreaPosition.SteppedRange}prepareRange(e,t,r,s){let n=!0,l=!0,a=!1,o=!1;r.info.maximum=0,r.info.minimum=0,s.info.maximum=0,s.info.minimum=0;var h=this.getSeries();for(let e=0;e<h.length;e++){var u=h[e];let t=u.values,i=u.valuesEnd;var d=Math.min(t.length,i.length);for(let e=0;e<d;e++){var c=null!=t[e]?t[e].stimulsoft().toNumber():0,m=null!=i[e]?i[e].stimulsoft().toNumber():0,S=Math.max(c,m),c=Math.min(c,m);u.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?n?(a=!0,r.info.maximum=S,r.info.minimum=c,n=!1):(a=!0,r.info.maximum=Math.max(S,r.info.maximum),r.info.minimum=Math.min(c,r.info.minimum)):l?(o=!0,s.info.maximum=S,s.info.minimum=c,l=!1):(o=!0,s.info.maximum=Math.max(S,s.info.maximum),s.info.minimum=Math.min(c,s.info.minimum))}}a||(r.info.maximum=s.info.maximum,r.info.minimum=s.info.minimum),o||(s.info.maximum=r.info.maximum,s.info.minimum=r.info.minimum)}constructor(e){super(e)}},Q.d.StiStackedAreaAreaCoreXF=class extends Q.d.StiStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","StackedArea")}get position(){return Q.d.StiChartAreaPosition.StackedArea}constructor(e){super(e)}},Q.d.StiStackedLineAreaCoreXF=class extends Q.d.StiStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","StackedLine")}get position(){return Q.d.StiChartAreaPosition.StackedLine}constructor(e){super(e)}},Q.d.StiStackedSplineAreaAreaCoreXF=class extends Q.d.StiStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","StackedSplineArea")}get position(){return Q.d.StiChartAreaPosition.StackedSplineArea}constructor(e){super(e)}},Q.d.StiStackedSplineAreaCoreXF=class extends Q.d.StiStackedColumnAreaCoreXF{get localizedName(){return x.get("Chart","StackedSpline")}get position(){return Q.d.StiChartAreaPosition.StackedSpline}constructor(e){super(e)}},Q.d.StiStockAreaCoreXF=class extends Q.d.StiCandlestickAreaCoreXF{get localizedName(){return x.get("Chart","Stock")}get position(){return Q.d.StiChartAreaPosition.Stock}constructor(e){super(e)}},Q.d.StiSunburstAreaCoreXF=class extends Q.d.StiAreaCoreXF{render(e,t){var i=new Q.d.StiSunburstAreaGeom(this.area,t);let r=this.getSeries();return 0<r.length&&r[0].core.renderSeries(e,t,i,r),i}prepareInfo(e){}get localizedName(){return x.get("Chart","Sunburst")}get position(){return Q.d.StiChartAreaPosition.Sunburst}constructor(e){super(e)}};let ot=Z.Base.Helpers.StiValueHelper,ht=(Q.d.StiTreemapAreaCoreXF=class extends Q.d.StiAreaCoreXF{render(e,t){var i=new Q.d.StiTreemapAreaGeom(this.area,t),r=this.getSeries(),s;let n=[];for(s of r){let e=[];for(var l of s.values)e.push(ot.tryToNumber(l));n.push(e.stimulsoft().toList().sum())}var t=new re(0,0,t.width,t.height),a=this.area.core.normalizeDataForArea(n,t.width*t.height),a=this.area.core.squarify(a,[],t,[]);return this.renderSeries(e,a,t,i,r),i}renderSeries(t,i,e,r,s){for(let e=0;e<s.length;e++)i.length-1>=e&&s[e].core.renderSeries(t,i[e],r,s.stimulsoft().toArray())}cutArea(e,t){let i;var r,s,r,s;return i=e.width>=e.height?(r=t/e.height,s=e.width-r,new re(e.x+r,e.y,s,e.height)):(r=t/e.width,s=e.height-r,new re(e.x,e.y+r,e.width,s))}squarify(e,t,i,r){if(0==e.length)return r.stimulsoft().addRange(this.getCoordinates(i,t)),r;var s=Math.min(i.width,i.height),n=e[0],s,l;return this.improvesRatio(t,n,s)?(t.push(n),this.squarify(e.stimulsoft().toList().skip(1),t,i,r)):(s=this.cutArea(i,t.stimulsoft().toList().sum()),r.stimulsoft().addRange(this.getCoordinates(i,t)),this.squarify(e,l=[],s,r)),r}improvesRatio(e,t,i){if(0==e.length)return!0;let r=e.stimulsoft().clone();r.push(t);var t=this.calculateRatio(e,i),s;return this.calculateRatio(r,i)<=t}calculateRatio(e,t){var i=e.stimulsoft().toList().sum(),r=Math.pow(t,2)*e.stimulsoft().toList().max()/Math.pow(i,2),i=Math.pow(i,2)/(Math.pow(t,2)*e.stimulsoft().toList().min());return Math.max(r,i)}normalizeDataForArea(t,e){let i=[];var r=t.stimulsoft().toList().sum();if(0==r)return i;var s=e/r;for(let e=0;e<t.length;e++)i.push(t[e]*s);return i}getCoordinates(e,t){let i=[],r=e.x,s=e.y;var n=t.stimulsoft().toList().sum()/e.height,l=t.stimulsoft().toList().sum()/e.width;if(e.width>=e.height)for(let e=0;e<t.length;e++)i.push(new re(r,s,n,t[e]/n)),s+=t[e]/n;else for(let e=0;e<t.length;e++)i.push(new re(r,s,t[e]/l,l)),r+=t[e]/l;return i}prepareInfo(e){}get localizedName(){return x.get("Chart","Treemap")}get position(){return Q.d.StiChartAreaPosition.Treemap}constructor(e){super(e)}},Z.System.Drawing.StringTrimming),ut=Z.System.Drawing.StringFormatFlags;{class Mi{constructor(e){this.axis=e}implements(){return Mi.implementsStiAxisCoreXF||(Mi.implementsStiAxisCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiAxisCoreXF]),Mi.implementsStiAxisCoreXF}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.axis.allowApplyStyle&&(this.axis.lineColor=e.core.axisLineColor,this.axis.labels.core.applyStyle(e),this.axis.title.core.applyStyle(e))}getStartFromZero(){if(1==this.axis.area.axisCore.valuesCount)return!0;if(null!=this.axis&&null!=this.axis.range&&!this.axis.range.auto)return!0;return null==this.axis||this.axis.startFromZero}render(e,t){return null}renderView(e,t){return null}calculateStripPositions(t,i){if(i-=t,t=0,null==this.axis.info.stripLines||this.axis.info.stripLines.count<2)this.axis.info.stripPositions=[];else{let e=!1;if(0<this.axis.area.chart.series.count&&this.axis.area.chart.series.getByIndex(0).is(Q.d.StiScatterSeries)&&(e=!0),this.axis.logarithmicScale&&e){var r=this.axis.info.stripLines.count,s=(this.axis.info.stripPositions=U.create(Number,this.axis.info.stripLines.count),this.axis.info.stripPositions[0]=t,this.axis.info.stripPositions[this.axis.info.stripPositions.length-1]=i,this.axis.info.stripLines.getByIndex(0).value),r=this.axis.info.stripLines.getByIndex(r-1).value,n=i/(P.log10(r)-P.log10(s));for(let e=1;e<this.axis.info.stripPositions.length-1;e++){var l=Math.abs(P.log10(Math.abs(this.axis.info.stripLines.getByIndex(e).value))*n-P.log10(Math.abs(this.axis.info.stripLines.getByIndex(e-1).value))*n);this.axis.info.stripPositions[e]=t+l,t=this.axis.info.stripPositions[e]}}else{this.axis.info.stripPositions=U.create(Number,this.axis.info.stripLines.count),this.axis.info.stripPositions[0]=t,this.axis.info.stripPositions[this.axis.info.stripPositions.length-1]=i;for(let e=1;e<this.axis.info.stripPositions.length-1;e++)this.axis.info.stripPositions[e]=t+e*this.axis.info.step}}}getTicksMaxLength(e){return this.axis.core.ticksMaxLength*e.options.zoom}getArrowHeight(e){return 4*this.axis.core.arrowHeight*e.options.zoom}getLabelsSpaceAxis(e){return 5*e.options.zoom}getLabelsTwoLinesDestination(e){return 2*this.axis.labels.font.sizeInPoints*e.options.zoom}getFontGeom(e){var t;return I.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom)}getTextAlignment(){if(this.axis.is(Q.d.IStiYAxis)){var e=this.axis;if(this.axis.labels.placement==Q.d.StiLabelsPlacement.TwoLines){if(e.core.isLeftSide)return de.Right;if(e.core.isRightSide)return de.Left}}return this.axis.labels.textAlignment}getStringFormatGeom(e){let t=e.getGenericStringFormat();var e;return t.trimming=ht.None,this.axis.labels.wordWrap||(t.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap),0<this.axis.labels.width&&((e=this.getTextAlignment())==de.Left?t.alignment=A.Near:e==de.Right?t.alignment=A.Far:e==de.Center&&(t.alignment=A.Center)),t}getAxisTitleSize(e){if(G.isNullOrEmpty(this.axis.title.text))return Y.empty;var t=I.changeFontSize(this.axis.title.font,this.axis.title.font.size*e.options.zoom),i=e.measureString(this.axis.title.text,t);switch(this.axis.title.direction){case Q.d.StiDirection.LeftToRight:case Q.d.StiDirection.RightToLeft:return i;case Q.d.StiDirection.BottomToTop:case Q.d.StiDirection.TopToBottom:return new Y(i.height,i.width)}return Y.empty}getAngleTitle(){let e=0;switch(this.axis.title.direction){case Q.d.StiDirection.LeftToRight:e=0;break;case Q.d.StiDirection.RightToLeft:e=180;break;case Q.d.StiDirection.BottomToTop:e=-90;break;case Q.d.StiDirection.TopToBottom:e=90;break}return e}getCorrectionFontSize(e,t,i){switch(this.axis.title.direction){case Q.d.StiDirection.LeftToRight:case Q.d.StiDirection.RightToLeft:e.width<t.width&&(i=e.width/t.width*i);break;case Q.d.StiDirection.BottomToTop:case Q.d.StiDirection.TopToBottom:e.height<t.height&&(i=e.height/t.height*i);break}return i}checkUseMaxWidth(e,t,i){switch(i.ref=0,this.axis.title.direction){case Q.d.StiDirection.LeftToRight:case Q.d.StiDirection.RightToLeft:if(e.width<t.width)return i.ref=e.width,!0;break;case Q.d.StiDirection.BottomToTop:case Q.d.StiDirection.TopToBottom:if(e.height<t.height)return i.ref=e.width,!0;break}return!1}get ticksMaxLength(){return this.axis.visible?Math.max(this.axis.ticks.visible?this.axis.ticks.length:0,this.axis.ticks.minorVisible?this.axis.ticks.minorLength:0):0}get arrowWidth(){return 3}get arrowHeight(){if(this.is(Q.d.StiXAxisCoreXF))return this.axis.area.reverseHor?-5:5;if(this.is(Q.d.StiYAxisCoreXF))return this.axis.area.reverseVert?-5:5;return 0}get info(){return this.axis.info}set info(e){this.axis.info=e}}Mi.defaultScrollBarSize=12,Mi.defaultScrollBarSmallFactor=.01,Mi.defaultScrollBarFirstRecallTime=.3,Mi.defaultScrollBarOtherRecallTime=.05,Q.d.StiAxisCoreXF=Mi}{class Ei{constructor(){this.dpi=0,this.step=0,this.stripPositions=null,this.ticksCollection=null,this.labelsCollection=null,this.minimum=0,this.maximum=0}implements(){return Ei.implementsStiAxisInfoXF||(Ei.implementsStiAxisInfoXF=[n,Q.d.IStiAxisInfoXF]),Ei.implementsStiAxisInfoXF}clone(){let e=this.stimulsoft().memberwiseClone();return e.stripLines=this.stripLines.clone(),e}get range(){return this.maximum-this.minimum}}Q.d.StiAxisInfoXF=Ei}Q.d.StiAxisLabelInfoXF=class{constructor(){this.clientRectangle=re.empty,this.textPoint=te.empty}};{class Ni{constructor(e){this.labels=e}implements(){return Ni.implementsStiAxisLabelsCoreXF||(Ni.implementsStiAxisLabelsCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiAxisLabelsCoreXF]),Ni.implementsStiAxisLabelsCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.labels.allowApplyStyle&&(this.labels.color=e.core.axisLabelsColor)}}Q.d.StiAxisLabelsCoreXF=Ni}{class Oi{constructor(e){this.title=e}implements(){return Oi.implementsStiAxisTitleCoreXF||(Oi.implementsStiAxisTitleCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiAxisTitleCoreXF]),Oi.implementsStiAxisTitleCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.title.allowApplyStyle&&(this.title.color=e.core.axisTitleColor)}}Q.d.StiAxisTitleCoreXF=Oi}let L=Z.Base.Drawing.StiRotationMode,dt=Q.e.TextFormats.StiDateFormatService,ct=Q.e.TextFormats.StiTimeFormatService,mt=(Q.d.StiXAxisCoreXF=class extends Q.d.StiAxisCoreXF{constructor(e){super(e)}getStartFromZero(){if(null!=this.axis.info.labelsCollection&&this.isArgumentDateTime1(this.axis.info.labelsCollection)&&(this.axis.area.is(Q.d.StiScatterArea)||this.axis.area.is(Q.d.StiGanttArea)))return!1;return super.getStartFromZero()}render(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t,!1,!1,!0,!1).clone();i.x=0,i.y=0,this.axis.interaction.showScrollBar&&this.axis.is(Q.d.IStiXTopAxis)&&this.axis.area.reverseVert&&(i.y+=Q.d.StiAxisCoreXF.defaultScrollBarSize*e.options.zoom);var t=new Q.d.StiXAxisGeom(this.axis,i,!1);return this.renderLabels(e,i,t),this.renderTitle(e,i,t),t}renderView(e,t){if(!this.axis.visible)return null;var e=this.getAxisRect(e,t,!1,!1,!0,!0).clone();return new Q.d.StiXAxisViewGeom(this.axis,e,!1)}renderScrollBar(s,n,t){if(this.axis.interaction.showScrollBar){let i=n.clone(),r=(i.x=0,i.height=Q.d.StiAxisCoreXF.defaultScrollBarSize*s.options.zoom,this.axis.is(Q.d.IStiXTopAxis)&&!this.axis.area.reverseVert||this.axis.is(Q.d.IStiXBottomAxis)&&this.axis.area.reverseVert?i.y=n.height-i.height:i.y=0,new Q.d.StiHorzScrollBarGeom(this.axis,i));if(t.createChildGeoms(),t.childGeoms.push(r),i.x=0,i.y=0,i.inflate(-2,-2),this.axis.interaction.rangeScrollEnabled){let e=i.clone();e.width=i.height;var s=new Q.d.StiLeftButtonGeom(this.axis,e);r.createChildGeoms(),r.childGeoms.push(s);let t=i.clone();t.width=i.height,t.x=i.right-t.width;var n=new Q.d.StiRightButtonGeom(this.axis,t);r.createChildGeoms(),r.childGeoms.push(n),i.inflate(-i.height-2,0)}let e=i.clone();var t=this.axis.area.xAxis,s=this.axis.area.core,n,t,s,n=(t.range.auto||(n=i.width/s.scrollRangeX,t=s.scrollValueX*n,s=s.scrollViewX<s.scrollRangeX?s.scrollViewX*n:s.scrollRangeX*n,e=new re(t+i.x,i.y,s,i.height)),new Q.d.StiHorzTrackBarGeom(this.axis,e,r));r.createChildGeoms(),r.childGeoms.push(n)}}renderCenter(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.yAxis.info.minimum)return null;let i=this.getCenterAxisRect(e,t,!1,!1,!0).clone();return i.x=0,i.y=0,new Q.d.StiXAxisGeom(this.axis,i,!0)}renderCenterView(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.yAxis.info.minimum)return null;var e=this.getCenterAxisRect(e,t,!1,!1,!0).clone(),i;return new Q.d.StiXAxisViewGeom(this.axis,e,!0)}getLabelText(e,t){return this.getLabelText2(e.valueObject,e.value,t)}getLabelText2(i,e,r){null==i&&(i=""),this.storedCulture=ge.currentCulture;var s=this.axis.area.chart.report.culture;try{if(null!=this.axis.labels.formatService&&!this.axis.labels.formatService.is(J)){if(i instanceof T)return this.axis.labels.formatService.is(dt)||this.axis.labels.formatService.is(ct)?``+this.axis.labels.textBefore+this.axis.labels.formatService.format(i)+this.axis.labels.textAfter:``+this.axis.labels.textBefore+i+this.axis.labels.textAfter;return``+this.axis.labels.textBefore+this.axis.labels.formatService.format(e)+this.axis.labels.textAfter}G.isNullOrEmpty(this.axis.area.chart.report.culture)||(ge.currentCulture=ge.cultures[s]);let t="";if(null!=(t=null!=(t=null!=r?r.format:t)&&0!=t.trim().length?t:this.axis.labels.format)&&0!=t.trim().length){if("string"==typeof i){var n=Z.System.StiNumber.tryParse(i),l;n.successfully?i=n.result:null!=(l=T.fromString(i.toString(),!1))&&(i=l)}else if(null==i)return"";if(!Q.d.StiChartOptions.oldChartPercentMode&&t.stimulsoft().startsWith("P")){let e=0;return 1<t.length&&(e=t.stimulsoft().remove(0,1).stimulsoft().toNumber()),G.format("{0}{1:N"+e.toString()+"}{2}{3}",this.axis.labels.textBefore,i,"%",this.axis.labels.textAfter)}return G.format("{0}{1:"+t+"}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}return G.format("{0}{1}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}finally{G.isNullOrEmpty(s)||(ge.currentCulture=this.storedCulture)}return i.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}get isLabelsAngleByWidth(){return this.axis.labels.angle<30||150<this.axis.labels.angle}checkAutoAngleLabels(s,n){if(this.axis.labels.placement!=Q.d.StiLabelsPlacement.AutoRotation)return!1;let l=[];if(null!=this.axis.info.labelsCollection){var a=this.getStringFormatGeom(s),o=this.getFontGeom(s);let t=L.CenterCenter;var h=-this.axis.labels.angle;let i=te.empty,r=(t=this.isTopSide?L.CenterBottom:L.LeftCenter,0),e=0;var u=this.axis.area.reverseVert?this.isBottomSide:this.isTopSide,d;for(d of this.axis.info.labelsCollection){if(u&&this.axis.area.yRightAxis.arrowStyle!=Q.d.StiArrowStyle.None&&0==e){l.push(new Q.d.StiAxisLabelInfoXF),e++;continue}if(u&&this.axis.area.yAxis.arrowStyle!=Q.d.StiArrowStyle.None&&e==this.axis.info.stripLines.count-1){l.push(new Q.d.StiAxisLabelInfoXF),e++;continue}var c=this.getLabelText(d.stripLine,null),m=d.position;if(i=this.isTopSide?new te(m,n.height-(this.getTicksMaxLength(s)+this.getLabelsSpaceAxis(s))):new te(m,this.getTicksMaxLength(s)+this.getLabelsSpaceAxis(s)),this.axis.labels.placement!=Q.d.StiLabelsPlacement.None){var m=s.measureRotatedString3(c,o,i,a,t,h,P.trunc(this.axis.labels.width*s.options.zoom));let e=new Q.d.StiAxisLabelInfoXF;e.angle=h,e.clientRectangle=m,e.rotationMode=t,e.textPoint=i,e.text=c,e.stripLine=d.stripLine,l.push(e),this.isLabelsAngleByWidth&&(r=Math.max(r,m.width))}else l.push(new Q.d.StiAxisLabelInfoXF);e++}for(let t=1;t<l.length;t++){var S=l[t-1].clientRectangle;let e=new re(S.x,S.y,Math.ceil(S.width),Math.ceil(S.height));var g=l[t].clientRectangle,p;if(S.height/Math.sqrt(2)+S.width/Math.sqrt(2)>this.axis.area.chart.stimulsoft().as(Q.e.StiChart).core.fullRectangle.height/4)return!1;if(e.intersectsWith(g))return!0}}return!1}measureStripLines(o,h){let u=[],d=null,c=-this.axis.labels.angle;var e=this.checkAutoAngleLabels(o,h),e,e,t;if(e&&(c=-45,d=this.axis.is(Q.d.IStiXTopAxis)?L.LeftBottom:L.RightTop),null!=this.axis.info.labelsCollection&&this.axis.labels.placement!=Q.d.StiLabelsPlacement.None){let i=0,r=0;for(var m of this.axis.info.labelsCollection){var S=this.axis.area.reverseVert?this.isBottomSide:this.isTopSide;if(S&&this.axis.area.yRightAxis.arrowStyle!=Q.d.StiArrowStyle.None&&0==r){u.push(new Q.d.StiAxisLabelInfoXF),r++;continue}if(S&&this.axis.area.yAxis.arrowStyle!=Q.d.StiArrowStyle.None&&r==this.axis.info.stripLines.count-1){u.push(new Q.d.StiAxisLabelInfoXF),r++;continue}var S=this.getLabelText(m.stripLine,null),g=m.position;if(this.axis.labels.placement!=Q.d.StiLabelsPlacement.None){var p=this.getStringFormatGeom(o),f=this.getFontGeom(o);d=L.CenterCenter;let e=te.empty;d=this.isTopSide?(e=new te(g,h.height-(this.getTicksMaxLength(o)+this.getLabelsSpaceAxis(o))),0==c?L.CenterBottom:L.LeftCenter):(e=new te(g,this.getTicksMaxLength(o)+this.getLabelsSpaceAxis(o)),0==c?L.CenterTop:L.RightCenter),this.axis.labels.placement==Q.d.StiLabelsPlacement.TwoLines&&0!=(1&r)&&(this.isTopSide&&(e.y-=this.getLabelsTwoLinesDestination(o)),this.isBottomSide&&(e.y+=this.getLabelsTwoLinesDestination(o)));var g=o.measureRotatedString3(S,f,e,p,d,c,P.trunc(this.axis.labels.width*o.options.zoom));let t=new Q.d.StiAxisLabelInfoXF;t.angle=c,t.clientRectangle=g,t.rotationMode=d,t.textPoint=e,t.text=S,t.stripLine=m.stripLine,u.push(t),this.isLabelsAngleByWidth&&(i=Math.max(i,g.width))}else u.push(new Q.d.StiAxisLabelInfoXF);r++}let s=1;this.axis.range.auto?e?(i=1.4*this.axis.labels.font.getHeight()*o.options.zoom,e=h.width/this.axis.info.stripLines.count,s=Math.ceil(i/e)):(this.isLabelsAngleByWidth||(i=1.5*this.axis.labels.font.sizeInPoints*o.options.zoom),e=h.width/this.axis.info.stripLines.count,1<i/e&&(s=P.trunc(Q.d.StiStripLineCalculatorXF.getInterval(0,this.axis.info.labelsCollection.length,6)),this.axis.logarithmicScale&&(s=1))):s=P.trunc(Math.max(1,this.axis.step));let n=!1,l=0,a=0;if(this.axis.labels.placement==Q.d.StiLabelsPlacement.TwoLines&&1<u.length&&(a=u[0].textPoint.y,l=u[1].textPoint.y),1==s||0!=this.axis.labels.step)return u;{let e=0,t=[];for(var w of u)0==e&&(this.axis.labels.placement==Q.d.StiLabelsPlacement.TwoLines&&1<u.length&&(n=n?(w.textPoint.y=l,!1):(w.textPoint.y=a,!0)),t.push(w)),++e==s&&(e=0);return t}}return u}getCenterAxisRect(e,t,i,r,s){if(0<=this.axis.area.yAxis.info.minimum)return re.empty;var n=-this.getTicksMaxLength(e);return new re(0,n,t.width,this.getTicksMaxLength(e))}getAxisRect(t,i,e,r,s,n){let l=re.empty;if(!this.axis.visible)return l;var a=this.measureStripLines(t,i);if(0==a.length)l=this.isTopSide?new re(0,-this.getTicksMaxLength(t),i.width,this.getTicksMaxLength(t)):new re(0,i.height,i.width,this.getTicksMaxLength(t));else{for(var o of a){if(o.clientRectangle.isEmptyF)continue;l=l.isEmpty?o.clientRectangle:re.union(l,o.clientRectangle)}this.axis.interaction.showScrollBar&&n&&(l.height+=Q.d.StiAxisCoreXF.defaultScrollBarSize*t.options.zoom),l.height+=this.getTicksMaxLength(t)+this.getLabelsSpaceAxis(t);var a=l.clone();this.isTopSide&&(l=new re(0,-l.height,i.width,l.height)),this.isBottomSide&&(l=new re(0,i.height,i.width,l.height)),r&&(l.x=a.x,l.width=a.width)}if(this.axis.arrowStyle!=Q.d.StiArrowStyle.None&&e){let e=this.getArrowHeight(t);this.axis.area.reverseHor&&(e=-e),l=re.union(l,new re(i.width,l.y+l.height/2,e,1))}var n=this.getAxisTitleSize(t);return n.isEmpty||this.axis.title.position!=Q.d.StiTitlePosition.Outside||(l.height+=n.height,0==l.width&&(l.width=n.width),this.isTopSide&&(l.y-=n.height)),l}renderLabels(h,e,t){if(null!=this.axis.info.stripLines&&this.axis.labels.placement!=Q.d.StiLabelsPlacement.None){var e=this.measureStripLines(h,e),i;t.createChildGeoms();let o=this.axis.area.xAxis;if(this.isArgumentDateTime2(e)&&null!=o&&o.dateTimeStep.step!=Q.d.StiTimeDateStep.None){let e,i;var u=o.info.labelsCollection,d,c;let r=[],s="",n=!0,l=0;for(let t=0;t<u.length;t++){if(null==u[t].stripLine.valueObject)continue;switch(e=u[t].stripLine.valueObject,i=t<u.length-2&&!o.area.is(Q.d.StiScatterArea)?u[t+1].stripLine.valueObject:e,n&&(l=u[t].position,n=!1),this.axis.area.xAxis.dateTimeStep.step){case Q.d.StiTimeDateStep.Day:e.toString("yyyyMMMMdd")==i.toString("yyyyMMMMdd")&&t!=u.length-2||(s=e.toString("dd"));break;case Q.d.StiTimeDateStep.Hour:e.toString("yyyyMMMMddHH")==i.toString("yyyyMMMMddHH")&&t!=u.length-2||(s=e.toString("HH"));break;case Q.d.StiTimeDateStep.Minute:e.toString("yyyyMMMMddHHmm")==i.toString("yyyyMMMMddHHmm")&&t!=u.length-2||(s=e.toString("mm"));break;case Q.d.StiTimeDateStep.Month:e.toString("yyyyMMMM")==i.toString("yyyyMMMM")&&t!=u.length-2||(s=x.get("A_WebViewer","Month"+e.toString("MMMM")));break;case Q.d.StiTimeDateStep.Second:e.toString("yyyyMMMMddHHmmss")==i.toString("yyyyMMMMddHHmmss")&&t!=u.length-2||(s=e.toString("ss"));break;case Q.d.StiTimeDateStep.Year:e.toString("yyyy")==i.toString("yyyy")&&t!=u.length-2||(s=e.toString("yyyy"));break}if(""!=s){var m=new te((u[t].position+l)/2,this.getTicksMaxLength(h)+this.getLabelsSpaceAxis(h)),S=0;let e=new Q.d.StiAxisLabelInfoXF;e.angle=S,e.clientRectangle=h.measureRotatedString3(s,this.getFontGeom(h),m,this.getStringFormatGeom(h),L.CenterCenter,S,P.trunc(this.axis.labels.width*h.options.zoom)),e.rotationMode=L.CenterCenter,e.stripLine=u[t].stripLine,e.text=s,e.textPoint=m,r.push(e),n=!0,s=""}}n=!0;let a=[];for(let t=0;t<r.length-1;t++){switch(e=r[t].stripLine.valueObject,i=r[t+1].stripLine.valueObject,n&&(l=r[t].textPoint.x,n=!1),this.axis.area.xAxis.dateTimeStep.step){case Q.d.StiTimeDateStep.Day:e.toString("yyyyMMMM")==i.toString("yyyyMMMM")&&t!=r.length-2||(s=x.get("A_WebViewer","Month"+e.toString("MMMM")));break;case Q.d.StiTimeDateStep.Hour:e.toString("yyyyMMMMdd")==i.toString("yyyyMMMMdd")&&t!=r.length-2||(s=e.toString("dd"));break;case Q.d.StiTimeDateStep.Minute:e.toString("yyyyMMMMddhh")==i.toString("yyyyMMMMddhh")&&t!=r.length-2||(s=e.toString("hh"));break;case Q.d.StiTimeDateStep.Month:e.toString("yyyy")==i.toString("yyyy")&&t!=r.length-2||(s=e.toString("yyyy"));break;case Q.d.StiTimeDateStep.Second:e.toString("yyyyMMMMddhhmm")==i.toString("yyyyMMMMddhhmm")&&t!=r.length-2||(s=e.toString("mm"));break;case Q.d.StiTimeDateStep.Year:if(e.toString("yyyy")!=i.toString("yyyy")||t==r.length-2)continue;break}if(""!=s){var g=new te((r[t+1].textPoint.x+l)/2,this.getTicksMaxLength(h)+2*this.getLabelsSpaceAxis(h)),p=0;let e=new Q.d.StiAxisLabelInfoXF;e.angle=p,e.clientRectangle=h.measureRotatedString3(s,this.getFontGeom(h),g,this.getStringFormatGeom(h),L.CenterCenter,p,P.trunc(this.axis.labels.width*h.options.zoom)),e.rotationMode=L.CenterTop,e.stripLine=r[t].stripLine,e.text=s,e.textPoint=g,a.push(e),n=!0,s=""}}r.stimulsoft().addRange(a);for(d of r){d.clientRectangle.isEmpty||(c=new Q.d.StiAxisLabelGeom(this.axis,d.clientRectangle,d.textPoint,d.text,d.stripLine,d.angle,d.rotationMode),t.childGeoms.push(c))}}else for(var i of e){i.clientRectangle.isEmpty||(i=new Q.d.StiAxisLabelGeom(this.axis,i.clientRectangle,i.textPoint,i.text,i.stripLine,i.angle,i.rotationMode),t.childGeoms.push(i))}}}renderTitle(e,t,i){if(G.isNullOrEmpty(this.axis.title.text))return;var r=this.getAxisTitleSize(e);let s=re.empty;if(this.isTopSide){switch(this.axis.title.alignment){case A.Near:s=new re(0,0,r.width,r.height);break;case A.Center:s=new re((t.width-r.width)/2,0,r.width,r.height);break;case A.Far:s=new re(t.width-r.width,0,r.width,r.height);break}this.axis.title.position==Q.d.StiTitlePosition.Inside&&(s.y+=t.height)}if(this.isBottomSide){switch(this.axis.title.alignment){case A.Near:s=new re(0,t.height-r.height,r.width,r.height);break;case A.Center:s=new re((t.width-r.width)/2,t.height-r.height,r.width,r.height);break;case A.Far:s=new re(t.width-r.width,t.height-r.height,r.width,r.height);break}this.axis.title.position==Q.d.StiTitlePosition.Inside&&(s.y-=t.height)}let n=this.axis.title.font.size*e.options.zoom;var l,e=(this.axis.area.chart.isDashboard&&this.checkUseMaxWidth(t,s,{ref:0})&&(n=this.getCorrectionFontSize(t,s,n)),I.changeFontSize(this.axis.title.font,n)),a=this.getAngleTitle(),a=new Q.d.StiAxisTitleGeom(this.axis,s,a,this.axis.title.alignment,e);i.createChildGeoms(),i.childGeoms.push(a)}isArgumentDateTime1(e){for(var t of e)if(null!=t.stripLine.valueObject&&t.stripLine.valueObject instanceof T)return!0;return!1}isArgumentDateTime2(e){for(var t of e)if(null!=t.stripLine.valueObject&&t.stripLine.valueObject instanceof T)return!0;return!1}get dock(){return null}get isTopSide(){return this.dock==Q.d.StiXAxisDock.Top&&!this.axis.area.reverseVert||this.dock==Q.d.StiXAxisDock.Bottom&&this.axis.area.reverseVert}get isBottomSide(){return this.dock==Q.d.StiXAxisDock.Bottom&&!this.axis.area.reverseVert||this.dock==Q.d.StiXAxisDock.Top&&this.axis.area.reverseVert}},Q.d.StiXBottomAxisCoreXF=class extends Q.d.StiXAxisCoreXF{get dock(){return Q.d.StiXAxisDock.Bottom}constructor(e){super(e)}},Q.d.StiXTopAxisCoreXF=class extends Q.d.StiXAxisCoreXF{get dock(){return Q.d.StiXAxisDock.Top}constructor(e){super(e)}},Q.e.TextFormats.StiNumberFormatService);Q.d.StiYAxisCoreXF=class extends Q.d.StiAxisCoreXF{constructor(e){super(e)}render(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t,!1,!1,!0,!1).clone();i.x=0,i.y=0,this.axis.interaction.showScrollBar&&this.axis.is(Q.d.IStiYLeftAxis)&&this.axis.area.reverseHor&&(i.x+=Q.d.StiAxisCoreXF.defaultScrollBarSize*e.options.zoom);var t=new Q.d.StiYAxisGeom(this.axis,i.clone(),!1);return this.renderLabels(e,i.clone(),t),this.axis.range.auto||(this.axis.area.reverseVert?i.y=(this.axis.info.minimum-this.axis.range.minimum)*this.axis.info.dpi:i.y=(this.axis.info.maximum-this.axis.range.maximum)*this.axis.info.dpi,i.height=(this.axis.range.maximum-this.axis.range.minimum)*this.axis.info.dpi),this.renderTitle(e,i,t),t}renderView(e,t){if(!this.axis.visible)return null;var e=this.getAxisRect(e,t,!1,!1,!0,!0).clone();return new Q.d.StiYAxisViewGeom(this.axis.stimulsoft().as(Q.d.IStiYAxis),e,!1)}renderScrollBar(e,t,i){}renderCenter(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.xAxis.info.minimum)return null;let i=this.getCenterAxisRect(e,t,!1,!1,!0).clone();var r;return i.x=0,i.y=0,new Q.d.StiYAxisGeom(this.axis,i,!0)}renderCenterView(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.xAxis.info.minimum)return null;var e=this.getCenterAxisRect(e,t,!1,!1,!0).clone(),i;return new Q.d.StiYAxisViewGeom(this.axis,e,!0)}setTotalNumberCapacity(){let e=this.axis.labels.formatService.as(mt);var t,i;null!=e&&(t=this.axis.labels.calculatedStep,e.totalNumberCapacity=Math.floor((t<1?-1:1)*P.log10(t)+1))}getLabelText(e,t){let i=e.valueObject;null==i&&(i="");try{if(null!=this.axis.labels.formatService){if(this.setTotalNumberCapacity(),i instanceof T)return this.axis.labels.formatService.is(dt)||this.axis.labels.formatService.is(ct)?``+this.axis.labels.textBefore+this.axis.labels.formatService.format(i)+this.axis.labels.textAfter:``+this.axis.labels.textBefore+i+this.axis.labels.textAfter;return``+this.axis.labels.textBefore+this.axis.labels.formatService.format(e.value)+this.axis.labels.textAfter}if(null!=this.axis.labels.format&&0!=this.axis.labels.format.trim().length){this.storedCulture=ge.currentCulture;var r=this.axis.area.chart.report.culture;G.isNullOrEmpty(this.axis.area.chart.report.culture)||(ge.currentCulture=ge.cultures[r]);try{if("string"==typeof i&&(i=i.stimulsoft().toNumber()),!Q.d.StiChartOptions.oldChartPercentMode&&this.axis.labels.format.stimulsoft().startsWith("P")){let e=0;return 1<this.axis.labels.format.length&&(e=parseInt(this.axis.labels.format.stimulsoft().remove(0,1))),G.format("{0}{1:N"+e.toString()+"}{2}{3}",this.axis.labels.textBefore,i,"%",this.axis.labels.textAfter)}return G.format("{0}{1:"+this.axis.labels.format+"}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}finally{G.isNullOrEmpty(r)||(ge.currentCulture=this.storedCulture)}}return G.format("{0}{1}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}return i.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}measureStripLines(l,a){let o=[];if(null!=this.axis.info.labelsCollection&&this.axis.labels.placement!=Q.d.StiLabelsPlacement.None){var h=this.getAxisTitleSize(l),u;let n=0;for(u of this.axis.info.labelsCollection){var d=this.axis.area.reverseHor?this.isLeftSide:this.isRightSide;if(d&&this.axis.area.xTopAxis.arrowStyle!=Q.d.StiArrowStyle.None&&0==n){o.push(new Q.d.StiAxisLabelInfoXF),n++;continue}if(d&&this.axis.area.xAxis.arrowStyle!=Q.d.StiArrowStyle.None&&n==this.axis.info.stripLines.count-1){o.push(new Q.d.StiAxisLabelInfoXF),n++;continue}var d=this.getLabelText(u.stripLine,null),c=u.position,m=l.getGenericStringFormat(),S=I.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*l.options.zoom),g=this.getTextAlignment();let e=L.LeftCenter,t=-this.axis.labels.angle,i=te.empty,r=(this.isLeftSide?g==de.Left?(e=L.LeftCenter,i=new te(h.width,c),t=0):g==de.Center?(e=L.CenterCenter,i=new te((a.width-h.width)/2,c),t=0):(e=L.RightCenter,i=new te(a.width-this.getTicksMaxLength(l)-this.getLabelsSpaceAxis(l),c)):g==de.Left?(e=L.LeftCenter,i=new te(this.getTicksMaxLength(l)+this.getLabelsSpaceAxis(l),c)):t=(i=g==de.Center?(e=L.CenterCenter,new te((a.width-h.width)/2,c)):(e=L.RightCenter,new te(a.width-h.width,c)),0),this.axis.labels.placement==Q.d.StiLabelsPlacement.TwoLines&&0!=(1&n)&&(this.isLeftSide&&(i.x-=this.getLabelsTwoLinesDestination(l)),this.isRightSide&&(i.x+=this.getLabelsTwoLinesDestination(l))),l.measureRotatedString3(d,S,i,m,e,t,this.axis.labels.width*l.options.zoom));var p=this.axis.labels.width*l.options.zoom;if(0!=p){switch(e.toString()){case"3":case"4":case"5":r.x-=(p-r.width)/2;break;case"6":case"7":case"8":r.x-=p-r.width;break}r.width=p}let s=new Q.d.StiAxisLabelInfoXF;s.angle=t,s.clientRectangle=r,s.rotationMode=e,s.textPoint=i,s.text=d,s.stripLine=u.stripLine,o.push(s),n++}}if(this.axis.range.auto){var e=this.axis.labels.font.getHeight()*l.options.zoom,r=a.height/this.axis.info.stripLines.count,s=Math.ceil(e/r);let t=0,i=new $;o.reverse();for(let e=0;e<o.length;e++)0==t&&i.push(o[e]),++t==s&&(t=0);return i}return o}getCenterAxisRect(e,t,i,r,s){if(0<=this.axis.area.xAxis.info.minimum)return re.empty;var n=-this.getTicksMaxLength(e);return new re(n,0,this.getTicksMaxLength(e),t.height)}getAxisRect(t,e,i,r,s,n){let l=re.empty;if(!this.axis.visible)return l;var a=this.measureStripLines(t,e);if(0==a.length)l=this.isLeftSide?new re(-this.getTicksMaxLength(t),0,this.getTicksMaxLength(t),e.height):new re(e.width,0,this.getTicksMaxLength(t),e.height);else{for(var o of a){if(o.clientRectangle.isEmpty)continue;l=l.isEmpty?o.clientRectangle.clone():re.union(l,o.clientRectangle)}this.axis.interaction.showScrollBar&&n&&(l.width+=Q.d.StiAxisCoreXF.defaultScrollBarSize*t.options.zoom),l.width+=this.getTicksMaxLength(t)+this.getLabelsSpaceAxis(t);var a=l.clone();this.isLeftSide&&(l=new re(-l.width,0,l.width,e.height)),this.isRightSide&&(l=new re(e.width,0,l.width,e.height)),r&&(l.y=a.y,l.height=a.height)}if(this.axis.arrowStyle!=Q.d.StiArrowStyle.None&&i){let e=this.getArrowHeight(t);this.axis.area.reverseVert&&(e=-e),l=re.union(l,new re(l.x,-e,1,e))}var n=this.getAxisTitleSize(t);return n.isEmpty||this.axis.title.position!=Q.d.StiTitlePosition.Outside||(l.width+=n.width,this.isLeftSide&&(l.x-=n.width)),l}renderLabels(e,t,i){if(this.axis.labels.placement!=Q.d.StiLabelsPlacement.None){var e=this.measureStripLines(e,t),r,s;i.createChildGeoms();for(r of e){r.clientRectangle.isEmpty||(s=new Q.d.StiAxisLabelGeom(this.axis,r.clientRectangle,r.textPoint,r.text,r.stripLine,r.angle,r.rotationMode),i.childGeoms.push(s))}}}renderTitle(e,t,i){if(G.isNullOrEmpty(this.axis.title.text))return;var r=this.getAxisTitleSize(e);let s=re.empty;if(this.isLeftSide){switch(this.axis.title.alignment){case A.Near:s=new re(0,t.height-r.height+t.y,r.width,r.height);break;case A.Center:s=new re(0,(t.height-r.height)/2+t.y,r.width,r.height);break;case A.Far:s=new re(0,t.y,r.width,r.height);break}this.axis.title.position==Q.d.StiTitlePosition.Inside&&(s.x+=t.width)}if(this.isRightSide){switch(this.axis.title.alignment){case A.Near:s=new re(t.width-r.width,t.height-r.height+t.y,r.width,r.height);break;case A.Center:s=new re(t.width-r.width,(t.height-r.height)/2+t.y,r.width,r.height);break;case A.Far:s=new re(t.width-r.width,t.y,r.width,r.height);break}this.axis.title.position==Q.d.StiTitlePosition.Inside&&(s.x-=t.width)}let n=this.axis.title.font.size*e.options.zoom;var l,e=(this.axis.area.chart.isDashboard&&this.checkUseMaxWidth(t,s,{ref:0})&&(n=this.getCorrectionFontSize(t,s,n)),I.changeFontSize(this.axis.title.font,n)),a=this.getAngleTitle(),a=new Q.d.StiAxisTitleGeom(this.axis,s,a,this.axis.title.alignment,e);i.createChildGeoms(),i.childGeoms.push(a)}get dock(){return null}get isLeftSide(){return this.dock==Q.d.StiYAxisDock.Left&&!this.axis.area.reverseHor||this.dock==Q.d.StiYAxisDock.Right&&this.axis.area.reverseHor}get isRightSide(){return this.dock==Q.d.StiYAxisDock.Right&&!this.axis.area.reverseHor||this.dock==Q.d.StiYAxisDock.Left&&this.axis.area.reverseHor}},Q.d.StiYLeftAxisCoreXF=class extends Q.d.StiYAxisCoreXF{get dock(){return Q.d.StiYAxisDock.Left}constructor(e){super(e)}},Q.d.StiYRightAxisCoreXF=class extends Q.d.StiYAxisCoreXF{get dock(){return Q.d.StiYAxisDock.Right}getStartFromZero(){if(1==this.axis.area.axisCore.valuesCount)return!0;if(null!=this.axis&&null!=this.axis.range&&!this.axis.range.auto)return!1;return null==this.axis||this.axis.startFromZero}constructor(e){super(e)}};{class Gi{static getInterval1(e){let t=Math.abs(e),i=0;if(1<e){while(1<t)t/=10,i++;t=t<.15?.1:t<.3?.2:t<.75?.5:1;while(0<i)t*=10,i--}else if(0<e){while(10*t<1)t*=10,i++;t=t<.15?.1:t<.3?.2:t<.75?.5:1;while(0<i)t/=10,i--}return t}static getInterval(e,t,i){if(t==e)return 0;return Gi.getInterval1((t-e)/i)}static getStripLines(e,t,i,r){let s=new Q.d.StiStripLinesXF;if(e==t)return s;var n=e,l=t,a=i;let o=0;o=P.trunc(n/a)*a;while(n<o+a)o-=a;var e=this.getCountAfterComma(a),t=this.getCountAfterComma(o),h=Math.max(e,t);while(o<l)o+=a,0<h&&(o=P.round2(o,h)),r?s.insert(0,new Q.d.StiStripLineXF(T.fromOADate(o),o)):s.insert(0,new Q.d.StiStripLineXF(o.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),o));return s}static getCountAfterComma(e){let t=e.toString().stimulsoft().replaceAll(",",".");var e=t.indexOf(".");let i=0;return i=0<e?t.substring(e).length-1:i}static getStripLinesLogScale(e,t){let i=new Q.d.StiStripLinesXF;if(e==t)return i;var r=e,s=t;let n=1,l=1;if(0<e&&e<1)while(r<n)n/=10;if(1<e){while(r>n)n*=10;n/=10}if(0<s&&s<1){while(l>s)l/=10;l*=10}if(1<s)while(s>l)l*=10;let a=n,o=a,h=1;while(a<=l)i.insert(0,new Q.d.StiStripLineXF(a.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),a)),a+=o,10==++h&&(h=1,o=a);return i}}Q.d.StiStripLineCalculatorXF=Gi}{class Vi{constructor(e,t){this.valueObject=null,this.valueObj=0,this.valueObject=e,this.valueObj=t}implements(){return Vi.implementsStiStripLineXF||(Vi.implementsStiStripLineXF=[n,Q.d.IStiStripLinesXF]),Vi.implementsStiStripLineXF}clone(){return this.stimulsoft().memberwiseClone()}get value(){return this.valueObj}set value(e){this.valueObj=e}}Q.d.StiStripLineXF=Vi}{class Xi extends z{implements(){return Xi.implementsStiStripLinesXF||(Xi.implementsStiStripLinesXF=[n,Q.d.IStiStripLinesXF]),Xi.implementsStiStripLinesXF}clone(){let e=new Xi;for(var t of this.list){var t=t.clone();e.add(t)}return e}add2(e,t){this.add(new Q.d.StiStripLineXF(e,t))}}Q.d.StiStripLinesXF=Xi}{class _i{implements(){return _i.implementsStiStripPositionXF||(_i.implementsStiStripPositionXF=[Q.d.IStiStripPositionXF]),_i.implementsStiStripPositionXF}}Q.d.StiStripPositionXF=_i}{class Hi{constructor(e){this.chartTitle=e}implements(){return Hi.implementsStiChartTitleCoreXF||(Hi.implementsStiChartTitleCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiChartTitleCoreXF]),Hi.implementsStiChartTitleCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.chartTitle.allowApplyStyle&&(this.chartTitle.brush=new ie(e.core.axisTitleColor))}render(e,t,i){if(!t.visible)return null;var r=new I(t.font.fontFamily.name,t.font.size,t.font.style,t.font.unit);let s=e.getDefaultStringFormat(),n=(s.alignment=t.alignment,e.measureRotatedString2(t.text,r,i,s,L.CenterCenter,t.dock,0));switch(t.dock){case Q.d.StiChartTitleDock.Top:n.height+=t.spacing,n.height*=e.options.zoom,n.y=i.y,t.alignment!=A.Center&&(n.width*=e.options.zoom),t.alignment==A.Near&&(n.x=i.x),t.alignment==A.Center&&(n.x=i.x+i.width/2-n.width/2),t.alignment==A.Far&&(n.x=i.x+i.width-n.width);break;case Q.d.StiChartTitleDock.Right:n.width+=t.spacing,n.width*=e.options.zoom,n.x=i.x+i.width-n.width,t.alignment!=A.Center&&(n.height*=e.options.zoom),t.alignment==A.Near&&(n.y=i.y),t.alignment==A.Center&&(n.y=i.y+i.height/2-n.height/2),t.alignment==A.Far&&(n.y=i.y+i.height-n.height);break;case Q.d.StiChartTitleDock.Bottom:n.height+=t.spacing,n.height*=e.options.zoom,n.y=i.y+i.height-n.height,t.alignment!=A.Center&&(n.width*=e.options.zoom),t.alignment==A.Near&&(n.x=i.x+i.width-n.width),t.alignment==A.Center&&(n.x=i.x+i.width/2-n.width/2),t.alignment==A.Far&&(n.x=i.x);break;case Q.d.StiChartTitleDock.Left:n.width+=t.spacing,n.width*=e.options.zoom,n.x=i.x,t.alignment!=A.Center&&(n.height*=e.options.zoom),t.alignment==A.Near&&(n.y=i.y+i.height-n.height),t.alignment==A.Center&&(n.y=i.y+i.height/2-n.height/2),t.alignment==A.Far&&(n.y=i.y);break}return new Q.d.StiChartTitleGeom(t,n)}}Q.d.StiChartTitleCoreXF=Hi}{class zi{constructor(e){this.constantLines=e}implements(){return zi.implementsStiConstantLinesCoreXF||(zi.implementsStiConstantLinesCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiConstantLinesCoreXF]),zi.implementsStiConstantLinesCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.constantLines.allowApplyStyle&&(this.constantLines.lineColor=e.core.seriesLabelsColor)}renderXConstantLines(e,t){let i=e.area;if(null==i)return;let r,s=T.fromString(this.constantLines.axisValue,!1);if(null!=s)r=s.toOADate();else try{r=this.constantLines.axisValue.stimulsoft().toNumber()}catch(e){Z.System.StiError.showError(e,!1),r=0}i.reverseVert&&(r=-r);let n=0;if(i.xAxis.logarithmicScale&&0<i.xAxis.info.stripLines.count){var l=i.xAxis.info.stripLines.count,a=i.reverseHor?l-1:0,l=i.reverseHor?0:l-1,o=i.xAxis.info.stripLines.getByIndex(a).value,l=i.xAxis.info.stripLines.getByIndex(l).value,l=Math.abs(t.width/(P.log10(l)-P.log10(o)));n=Math.abs(P.log10(r)*l-P.log10(i.xAxis.info.stripLines.getByIndex(a).value)*l)}else{n=i.axisCore.getDividerX()+r*i.xAxis.info.dpi;for(var h of i.xAxis.info.stripLines.list)null!=h.valueObject&&h.valueObject.toString()==this.constantLines.axisValue&&(r=h.value,i.reverseHor&&(r=-r),n=r*i.xAxis.info.dpi+i.axisCore.getDividerX())}let u=new te(0,0),d=L.LeftTop;switch(this.constantLines.position){case Q.d.StiConstantLines_StiTextPosition.LeftTop:d=L.LeftBottom,u=new te(n+this.constantLines.lineWidth/2,0);break;case Q.d.StiConstantLines_StiTextPosition.LeftBottom:d=L.LeftTop,u=new te(n-this.constantLines.lineWidth/2,0);break;case Q.d.StiConstantLines_StiTextPosition.CenterTop:d=L.CenterBottom,u=new te(n+this.constantLines.lineWidth/2,t.height/2);break;case Q.d.StiConstantLines_StiTextPosition.CenterBottom:d=L.CenterTop,u=new te(n-this.constantLines.lineWidth/2,t.height/2);break;case Q.d.StiConstantLines_StiTextPosition.RightTop:d=L.RightBottom,u=new te(n+this.constantLines.lineWidth/2,t.height);break;case Q.d.StiConstantLines_StiTextPosition.RightBottom:d=L.RightTop,u=new te(n-this.constantLines.lineWidth/2,t.height);break}var o=new Q.d.StiConstantLinesVerticalGeom(this.constantLines,new re(n,0,n,t.height),u,d);e.createChildGeoms(),e.childGeoms.push(o)}renderYConstantLines(e,t){let i=e.area;if(null==i)return;let r;try{r=this.constantLines.axisValue.stimulsoft().toNumber()}catch(e){Z.System.StiError.showError(e,!1),r=0}i.reverseVert&&(r=-r);let s;var n,l,a,o,a,a;s=i.yAxis.logarithmicScale?(l=0,a=i.yAxis.info.stripLines.count-1,o=i.yAxis.info.stripLines.getByIndex(l).value,a=i.yAxis.info.stripLines.getByIndex(a).value,a=Math.abs(t.height/(P.log10(a)-P.log10(o))),Math.abs(P.log10(i.yAxis.info.stripLines.getByIndex(l).value)*a-P.log10(r)*a)):this.constantLines.orientation==Q.d.StiConstantLines_StiOrientation.Horizontal?i.axisCore.getDividerY()-r*i.yAxis.info.dpi:i.axisCore.getDividerRightY()-r*i.yRightAxis.info.dpi;let h=new te(0,0),u=L.LeftTop;switch(this.constantLines.position){case Q.d.StiConstantLines_StiTextPosition.LeftTop:u=L.LeftBottom,h=new te(-t.x,s-this.constantLines.lineWidth/2);break;case Q.d.StiConstantLines_StiTextPosition.LeftBottom:u=L.LeftTop,h=new te(-t.x,s+this.constantLines.lineWidth/2);break;case Q.d.StiConstantLines_StiTextPosition.CenterTop:u=L.CenterBottom,h=new te(t.width/2,s-this.constantLines.lineWidth/2);break;case Q.d.StiConstantLines_StiTextPosition.CenterBottom:u=L.CenterTop,h=new te(t.width/2,s+this.constantLines.lineWidth/2);break;case Q.d.StiConstantLines_StiTextPosition.RightTop:u=L.RightBottom,h=new te(t.width,s-this.constantLines.lineWidth/2);break;case Q.d.StiConstantLines_StiTextPosition.RightBottom:u=L.RightTop,h=new te(t.width,s+this.constantLines.lineWidth/2);break}var o=new Q.d.StiConstantLinesYGeom(this.constantLines,new re(0,s,t.width,s),h,u);e.createChildGeoms(),e.childGeoms.push(o)}render(e,t,i){if(!this.constantLines.visible)return;this.constantLines.orientation==Q.d.StiConstantLines_StiOrientation.Vertical&&this.renderXConstantLines(t,i),this.constantLines.orientation!=Q.d.StiConstantLines_StiOrientation.Horizontal&&this.constantLines.orientation!=Q.d.StiConstantLines_StiOrientation.HorizontalRight||this.renderYConstantLines(t,i)}}Q.d.StiConstantLinesCoreXF=zi}{class ji{constructor(e){this.gridLines=e}implements(){return ji.implementsStiGridLinesCoreXF||(ji.implementsStiGridLinesCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiGridLinesCoreXF]),ji.implementsStiGridLinesCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.gridLines.allowApplyStyle&&(this.gridLines.stimulsoft().is(Q.d.IStiGridLinesVert)?(this.gridLines.color=e.core.gridLinesVertColor,this.gridLines.minorColor=e.core.gridLinesVertColor):(this.gridLines.color=e.core.gridLinesHorColor,this.gridLines.minorColor=e.core.gridLinesHorColor))}}Q.d.StiGridLinesCoreXF=ji}{class Yi{constructor(e){this.gridLines=e}implements(){return Yi.implementsStiRadarGridLinesCoreXF||(Yi.implementsStiRadarGridLinesCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiRadarGridLinesCoreXF]),Yi.implementsStiRadarGridLinesCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.gridLines.allowApplyStyle&&(this.gridLines.stimulsoft().is(Q.d.IStiRadarGridLinesVert)?this.gridLines.color=e.core.gridLinesVertColor:this.gridLines.color=e.core.gridLinesHorColor)}}Q.d.StiRadarGridLinesCoreXF=Yi}{class Wi{constructor(e){this.interlacing=e}implements(){return Wi.implementsStiInterlacingCoreXF||(Wi.implementsStiInterlacingCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiInterlacingCoreXF]),Wi.implementsStiInterlacingCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.interlacing.allowApplyStyle&&(this.interlacing.stimulsoft().is(Q.d.IStiInterlacingVert)?this.interlacing.interlacedBrush=e.core.interlacingVertBrush:this.interlacing.interlacedBrush=e.core.interlacingHorBrush)}}Q.d.StiInterlacingCoreXF=Wi}let St=Z.System.Drawing.Rectangle,gt=Q.d.StiChartSeriesOrientation;{class Ji{constructor(e){this.legend=e}implements(){return Ji.implementsStiLegendCoreXF||(Ji.implementsStiLegendCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiLegendCoreXF]),Ji.implementsStiLegendCoreXF}applyStyle(e){this.legend.allowApplyStyle&&(this.legend.brush=e.core.legendBrush.clone(),this.legend.labelsColor=e.core.legendLabelsColor,this.legend.titleColor=e.core.legendTitleColor,this.legend.borderColor=e.core.legendBorderColor,this.legend.showShadow=e.core.legendShowShadow,this.legend.font=e.core.legendFont)}clone(){return this.stimulsoft().memberwiseClone()}render(a,e){var o,t={ref:o},h=this.getLegendItems(t),o=t.ref,u,d;if(!this.legend.visible||0==h.length)return null;var t={ref:u},c={ref:d},i=this.getLegendSize(a,e,t,c),u=t.ref,d=c.ref;let r=new re(e.x,e.y,i.width,i.height),m=r.clone(),s=(m.location=new te(0,0),null);if(!G.isNullOrEmpty(this.legend.title)){var t=this.getTitleSize(a);let e=r.clone();e.location=new te(0,0),e.height=t.height,s=new Q.d.StiLegendTitleGeom(this.legend,e),m.y+=e.height,m.height-=e.height}let S=new Q.d.StiLegendGeom(this.legend,r,h);null!=s&&(S.createChildGeoms(),S.childGeoms.push(s),S.legendTitleGeom=s);var g=this.legend.horSpacing*a.options.zoom,p=this.legend.vertSpacing*a.options.zoom;if(0<r.width&&0<r.height)if(0==this.legend.columns){var c=g+m.x,f=p+m.y;let i=c,r=f;var w=this.getMatrixIndexItem(u,d,h.length);let s=0,n=new $;for(let t=0;t<w.length;t++)for(let e=0;e<w[0].length;e++){var x=w[t][e],x,x;0<=x&&(x=h[x],x=this.getItemRealSize(a,x),s=Math.max(s,x.height),n.add(x))}let l=0;for(let t=0;t<w.length;t++){for(let e=0;e<w[0].length;e++){var C=w[t][e],C,b,b,b;0<=C&&(C=h[C],b=this.getItemRealSize(a,C),l=Math.max(l,b.width),b=new St(i,r,b.width,s),b=new Q.d.StiLegendItemGeom(this.legend,C,b,C.colorIndex,o,C.index),S.createChildGeoms(),S.childGeoms.push(b)),r+=s+p}r=f,i+=l+g,l=0}}else{let e=0,t=0,i=this.getItemSize1(a,h,0),r=(this.legend.direction==Q.d.StiLegendDirection.LeftToRight||this.legend.direction==Q.d.StiLegendDirection.TopToBottom?(e=g+m.x,t=p+m.y):this.legend.direction==Q.d.StiLegendDirection.RightToLeft?(e=m.right-g-i.width,t=p+m.y):this.legend.direction==Q.d.StiLegendDirection.BottomToTop&&(e=g+m.x,t=m.bottom-p-i.height),e),s=t,n=0,l=0;for(var y of h){i=this.getItemSize2(a,h,y);var A=new re(r,s,i.width,i.height),y=new Q.d.StiLegendItemGeom(this.legend,y,A,y.colorIndex,o,y.index);S.createChildGeoms(),S.childGeoms.push(y),n++,this.legend.direction==Q.d.StiLegendDirection.TopToBottom?(s+=p+A.height,n==this.legend.columns&&(s=t,r+=i.width+g,n=0)):this.legend.direction==Q.d.StiLegendDirection.LeftToRight?(r+=g+A.width,n==this.legend.columns&&(r=e,s+=i.height+p,n=0)):this.legend.direction==Q.d.StiLegendDirection.RightToLeft?(i=this.getItemSize1(a,h,l+1),r-=g+i.width,n==this.legend.columns&&(r=e,s+=i.height+p,n=0)):this.legend.direction==Q.d.StiLegendDirection.BottomToTop&&(s-=p+A.height,n==this.legend.columns&&(s=t,r+=i.width+g,n=0)),l++}}return S}getMatrixIndexItem(r,s,n){let l=U.create2(Number,r,s);if(this.legend.direction==Q.d.StiLegendDirection.TopToBottom){let i=0;for(let t=0;t<s;t++)for(let e=0;e<r;e++)l[e][t]=i<n?i:-1,i++}else if(this.legend.direction==Q.d.StiLegendDirection.BottomToTop){let i=0;for(let t=s-1;0<=t;t--)for(let e=0;e<r;e++)l[e][t]=i<n?i:-1,i++}else if(this.legend.direction==Q.d.StiLegendDirection.LeftToRight){let i=0;for(let t=0;t<r;t++)for(let e=0;e<s;e++)l[t][e]=i<n?i:-1,i++}else if(this.legend.direction==Q.d.StiLegendDirection.RightToLeft){let i=0;for(let t=r-1;0<=t;t--)for(let e=0;e<s;e++)l[t][e]=i<n?i:-1,i++}return l}getArgumentText(e,t){if(e.arguments.length>t&&null!=e.arguments[t])return e.arguments[t].toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}getLegendItemColumn(e,t){let i=0,r=0;for(var s of e){if(s==t)break;++i>=this.legend.columns&&(i=0,r++)}if(this.legend.direction==Q.d.StiLegendDirection.TopToBottom||this.legend.direction==Q.d.StiLegendDirection.BottomToTop)return r;return i}getTitleSize(e){if(G.isNullOrEmpty(this.legend.title))return new Y(0,0);var t=I.changeFontSize(this.legend.titleFont,this.legend.titleFont.size*e.options.zoom);let i=e.getDefaultStringFormat(),r=(i.formatFlags=0,e.measureString(this.legend.title,t));return r.width++,r}getItemSize1(e,t,i){var i;if(0<=i&&i<t.length)return i=t[i],this.getItemSize2(e,t,i);return new Y(0,0)}getItemSize2(e,t,i){let r=0,s=0;var n=this.getLegendItemColumn(t,i),l=I.changeFontSize(this.legend.font,this.legend.font.size*e.options.zoom),a,o;for(a of t){this.getLegendItemColumn(t,a)==n&&(o=a.measureString(e,l),r=Math.max(o.width,r+2),s=Math.max(o.height,s))}return this.legend.markerVisible&&(r=Math.max(this.legend.markerSize.width*e.options.zoom,r)+this.legend.markerSize.width*e.options.zoom,s=Math.max(this.legend.markerSize.height*e.options.zoom,s)),new Y(r,s)}getItemRealSize(e,t){var i=I.changeFontSize(this.legend.font,this.legend.font.size*e.options.zoom),t=t.measureString(e,i);let r=t.width,s=t.height;return this.legend.markerVisible&&(r+=this.legend.markerSize.width*e.options.zoom,s=Math.max(this.legend.markerSize.height*e.options.zoom,s)),new Y(r,s)}getItemsSize(t,i){var r=this.legend.horSpacing*t.options.zoom;let s=0,n=0,l=this.legend.columns;this.legend.direction!=Q.d.StiLegendDirection.TopToBottom&&this.legend.direction!=Q.d.StiLegendDirection.BottomToTop||(l=P.trunc((i.length-1)/this.legend.columns)+1);for(let e=0;e<l;e++)for(var a of i)if(this.getLegendItemColumn(i,a)==e){var a=this.getItemSize2(t,i,a);s+=a.width+r,n=Math.max(a.height,n);break}return new Y(s,n)}getItemsAutoSize(s,n,l,e,t){var a=this.legend.direction==Q.d.StiLegendDirection.TopToBottom||this.legend.direction==Q.d.StiLegendDirection.BottomToTop,o=this.legend.horSpacing*s.options.zoom,h=this.legend.vertSpacing*s.options.zoom,u=I.changeFontSize(this.legend.font,this.legend.font.size*s.options.zoom);let d=0,c=0,m=new $,S=new $,g=0,p=null;for(let r=0;r<n.length;r++){let e=n[r];var f=e.measureString(s,u);let t=f.width+o,i=f.height+h;if(this.legend.markerVisible&&(t+=this.legend.markerSize.width*s.options.zoom,i=Math.max(this.legend.markerSize.height*s.options.zoom+h,i)),g=Math.max(i,g),a){if(m.length-1<d&&null==p||m.length-1<d&&null!=p&&d<=p)m.push(t);else if(m[d]<t){m[d]=t,m.removeRange(d+1,m.length-(d+1)),r=-1,d=0,c=0;continue}d++,null!=p&&p<=d&&(d=0,c++),m.sum()+o>l.width&&1<m.length&&(d=0,c++,0<r&&r--,0<m.length&&(m.removeAt(m.length-1),p=m.length))}else S.length-1<c&&S.push(i),c++,m.length-1<d?m.push(t):m[d]=Math.max(m[d],t),S.sum()+h>l.height&&1<S.length&&(d++,(c=0)<r&&r--,0<S.length&&S.removeAt(S.length-1))}return e.ref=m.length,t.ref=a?Math.ceil(n.length/m.length):S.length,new Y(m.sum()+o,t.ref*g+h)}getSeriesSize(e,t,i,r){var s=this.legend.horSpacing*e.options.zoom,n=this.legend.vertSpacing*e.options.zoom,l={ref:0},a=this.getLegendItems(l),o=l.ref;let h=0,u=0;if(0==this.legend.columns){var l=this.getItemsAutoSize(e,a,t,i,r);h=l.width,u=l.height}else{r.ref=0,i.ref=this.legend.columns;var d=this.getItemsSize(e,a);switch(this.legend.direction){case Q.d.StiLegendDirection.TopToBottom:case Q.d.StiLegendDirection.BottomToTop:{h=d.width+s;let e=this.legend.columns;e>o&&(e=o),u=(d.height+n)*e+n;break}case Q.d.StiLegendDirection.LeftToRight:case Q.d.StiLegendDirection.RightToLeft:{let e=Math.ceil(o/this.legend.columns);e*this.legend.columns<o&&e++,h=d.width+s,u=(d.height+n)*e+n;break}}}return new Y(h,u)}getLegendSize(e,t,i,r){var s=this.getTitleSize(e),n={ref:i},l={ref:r},t=this.getSeriesSize(e,t,n,l);i.ref=n.ref,r.ref=l.ref;let a=new Y(Math.max(s.width,t.width),s.height+t.height),o=0,h=0;return h=null!=this.legend.chart?(o=this.legend.chart.convertToHInches(this.legend.size.width*e.options.zoom),this.legend.chart.convertToHInches(this.legend.size.height*e.options.zoom)):(o=this.legend.size.width*e.options.zoom,this.legend.size.height*e.options.zoom),0!=o&&(a.width=o),0!=h&&(a.height=h),a.width=Math.round(a.width),a.height=Math.round(a.height),a}getLegendItems(e){let r=0,s=this.legend.chart.area.core.getSeries().stimulsoft().toList();var n=this.legend.chart.area.as(Q.d.IStiAxisArea),t,i,l;let a=[];if(this.legend.chart.area.colorEach||s.any(e=>e.is(Q.d.IStiFunnelSeries))||s.any(e=>e.is(Q.d.IStiPictorialSeries))||s.any(e=>e.is(Q.d.IStiDoughnutSeries))){let t=0;for(var o of s)t=Math.max(o.values.length,t);let i=0;for(var h of s)if(this.legend.chart.area.core.isAcceptableSeries(h.stimulsoft().getType()))for(let e=0;e<t;e++){if(h.showInLegend&&null!=h.values){var u=null!=n&&(n.reverseHor||n.axisCore.seriesOrientation==gt.Horizontal);if(e>=h.values.length)continue;var u=u?h.values.length-e-1:e,d=h.values[u],c,m,S;null!=d&&(c=h.stimulsoft().as(Q.d.IStiPieSeries),m=h.stimulsoft().as(Q.d.IStiFunnelSeries),S=h.stimulsoft().as(Q.d.IStiDoughnutSeries),(null!=c&&!c.showZeros||null!=S&&!S.showZeros||null!=m&&!m.showZeros)&&0==d||a.push(new Q.d.StiLegendItemCoreXF(this.legend.chart.seriesLabels.core.getLabelText(h,d,this.getArgumentText(h,u),h.core.getTag(u),h.coreTitle,!0),h,u,i)))}r++,i++}}else if(this.legend.chart.area.is2(Q.d.IStiSunburstArea)){if(1<=s.length){let e=s[0];let t=0;for(i of e.arguments.stimulsoft().toList().groupBy(e=>e).select(e=>e.key).toList()){var g=i.toString();G.isNullOrEmpty(g)||a.push(new Q.d.StiLegendItemCoreXF(g,e,t,t)),t++,r++}}}else if(this.legend.chart.area.is2(Q.d.IStiBoxAndWhiskerArea)){if(1<=s.length){var p=s[0],f;let e=0;for(f of s)a.push(new Q.d.StiLegendItemCoreXF(f.coreTitle,p,e,e)),e++,r++}}else if(this.legend.chart.area.is2(Q.d.IStiWaterfallArea)){1<=s.length&&(l=s[0],a.push(new Q.d.StiLegendItemCoreXF(x.get("PropertyMain","Positive"),l,0,0)),a.push(new Q.d.StiLegendItemCoreXF(x.get("PropertyMain","Negative"),l,0,1)),a.push(new Q.d.StiLegendItemCoreXF(l.total.text,l,0,2)),r=3)}else for(var w of s)!this.legend.chart.area.core.isAcceptableSeries(w.stimulsoft().getType())||!w.showInLegend||this.legend.hideSeriesWithEmptyTitle&&G.isNullOrEmpty(w.coreTitle)&&!this.legend.chart.isDesigning||(a.push(new Q.d.StiLegendItemCoreXF(w.coreTitle,w,-1,0)),r++);return e.ref=r,a}}Q.d.StiLegendCoreXF=Ji}Q.d.StiLegendItemCoreXF=class{constructor(e,t,i,r){this.index=-1,this.colorIndex=0,this.text=e,this.series=t,this.index=i,this.colorIndex=r}getText(e,t){var i=this.series.chart.legend.columnWidth*e.options.zoom;if(0==i)return this.text;return Q.d.StiTextContentHelper.getMeasureText2(e,this.text,t,i)}measureString(e,t){var i=this.getText(e,t),r=this.series.chart.legend.columnWidth*e.options.zoom;let s=e.getDefaultStringFormat(),n=(s.formatFlags=ut.NoWrap,e.measureString2(i,t,r,s));return n.width<r&&(n.width=r),n}};let pt=Z.Base.Context.StiPathGeom,v=Z.Base.Context.StiPenGeom,ft=Z.Base.Context.StiLinesSegmentGeom,se=Z.System.Drawing.Rectangle,wt=Z.Base.Context.Animation.StiScaleAnimation,xt=Z.System.Drawing.Point,Ct=Z.Base.Context.StiArcSegmentGeom,k=Z.Base.Context.StiLineSegmentGeom,bt=Z.System.Drawing.Size;{class Zi{constructor(e){this.marker=e}implements(){return Zi.implementsStiMarkerCoreXF||(Zi.implementsStiMarkerCoreXF=[n,Q.d.IStiMarkerCoreXF]),Zi.implementsStiMarkerCoreXF}clone(){return this.stimulsoft().memberwiseClone()}drawMarkers(e,t,i){if(0==t.length)return;if(null!=this.marker&&this.marker.visible){e.pushSmoothingModeToAntiAlias();var r=e.options.zoom,s;for(s of t)this.marker.core.draw(e,this.marker,s,r,i,!1,!1,!1,"",null,null);e.popSmoothingMode()}}static getMarkerRect(e,t,i){var t=t*i/2;return new re(e.x-t,e.y-t,2*t,2*t)}draw(e,t,i,r,s,n,l,a,o,h,u){var d=new ie(ee.fromArgb(55,ee.black)),i;let c=Zi.getMarkerRect(i,t.size,r).clone(),m=(s&&(c.x+=2*r,c.y+=2*r,this.drawPoint(e,c.x+c.width/2,c.y+c.height/2,r,d,null,t.type,t.icon,t.size,t.angle,!1,a,o,null,null),c.x-=2*r,c.y-=2*r),t.brush);a&&l&&!t.visible&&(i=null==t.brush?ee.lightGray:rt.toColor(t.brush),m=new ie(ee.fromArgb(0,i.r,i.g,i.b)),a=!1);var s=l?null:new v(t.borderColor);(t.visible||l)&&this.drawPoint(e,c.x+c.width/2,c.y+c.height/2,r,m,s,t.type,t.icon,t.size,t.angle,n,a,o,h,u)}drawLine(e,t,i,r,s,n,l,a,o,h,u,d){this.drawLines(e,[new te(t,i),new te(r,s)],n,l,a,o,h,u,d)}drawLines(t,i,r,s,n,l,a,o,h){if(t.pushSmoothingModeToAntiAlias(),i.length<2)return;let u=0;for(let e=0;e<i.length-1;e++){var d=i[e],c=i[e+1];if(null==d||null==c)continue;var m=d.x,S=d.y,g,p,f=c.x-m,w=c.y-S,x=Math.sqrt(f*f+w*w),C=a;while(u<x){var b=m+f*u/x,y=S+w*u/x;this.drawPoint(t,b,y,r,s,n,l,this.marker.icon,o,h,!1,!1,"",null,null),u+=C*r}u-=x}t.popSmoothingMode()}drawPoint(t,e,i,r,s,n,l,a,o,h,u,d,c,m,S){var g=o*r/2,p=e-g,f=e+g,w=i-g,x=i+g,o,C;if(null!=a)return o=new se(p,w,o*r,o*r),void Q.a.StiFontIconsHelper.drawDirectionIcons(t,s,o,new bt(o.height,o.height),a,c,!1);switch(l){case Q.d.StiMarkerType.Star5:this.drawPolygon(t,s,n,e,i,g,10,h,!0,u,d,c,m,S);break;case Q.d.StiMarkerType.Star6:this.drawPolygon(t,s,n,e,i,g,12,h,!0,u,d,c,m,S);break;case Q.d.StiMarkerType.Star7:this.drawPolygon(t,s,n,e,i,g,14,h,!0,u,d,c,m,S);break;case Q.d.StiMarkerType.Star8:this.drawPolygon(t,s,n,e,i,g,16,h,!0,u,d,c,m,S);break;case Q.d.StiMarkerType.Hexagon:this.drawPolygon(t,s,n,e,i,g,6,30+h,!1,u,d,c,m,S);break;case Q.d.StiMarkerType.Rectangle:this.drawPolygon(t,s,n,e,i,g,4,45+h,!1,u,d,c,m,S);break;case Q.d.StiMarkerType.Circle:d?(C=new wt(0,0,0,0,0,0,Q.d.StiChartHelper.globalDurationElement,K.zero),t.fillDrawAnimationEllipse(s,n,p,w,f-p,x-w,c,m,C,S)):(null!=s&&t.fillEllipse3(s,p,w,f-p,x-w,c,S),u&&t.fillEllipse3(Q.d.StiMouseOverHelper.getMouseOverColor(),p,w,f-p,x-w,c,null),null!=n&&t.drawEllipse(n,p,w,f-p,x-w));break;case Q.d.StiMarkerType.HalfCircle:{var C=new se(p,w,f-p,x-w),b=new se(0,0,f-p,x-w),y;let e=new $;e.push(new Ct(new se(b.x,b.top+b.height/4,b.width,b.height),360,-180)),e.push(new k(new xt(b.x,b.bottom-b.height/4),new xt(b.right,b.bottom-b.height/4))),t.pushTranslateTransform(C.x+C.width/2,C.y+C.height/2),t.pushRotateTransform(h),t.pushTranslateTransform(-C.width/2,-C.height/2),d?(y=new wt(0,0,0,0,0,0,Q.d.StiChartHelper.globalDurationElement,K.zero),t.fillDrawAnimationPath(s,n,e,C,m,y,S)):(null!=s&&t.fillPath2(s,e,b,null,c.toString()),u&&t.fillPath2(Q.d.StiMouseOverHelper.getMouseOverColor(),e,C,null,c.toString()),null!=n&&t.drawPath(n,e,b)),t.popTransform(),t.popTransform(),t.popTransform();break}case Q.d.StiMarkerType.Triangle:this.drawPolygon(t,s,n,e,i,g,3,h,!1,u,d,c,m,S);break}}drawPolygon(e,t,i,r,s,n,l,a,o,h,u,d,c,m){let S=[],g=-90+(a=-a),p=U.create(te,l+1,!0);if(o)for(let e=0;e<l;e+=2)p[e].x=r+n*Math.cos(g*Math.PI/180),p[e].y=s+n*Math.sin(g*Math.PI/180),g+=360/l,p[e+1].x=r+n/2*Math.cos(g*Math.PI/180),p[e+1].y=s+n/2*Math.sin(g*Math.PI/180),g+=360/l;else for(let e=0;e<l;e++)p[e].x=r+n*Math.cos(g*Math.PI/180),p[e].y=s+n*Math.sin(g*Math.PI/180),g+=360/l;var a,o;p[l]=p[0],S.push(new ft(p)),u?(a=new wt(0,0,0,0,0,0,Q.d.StiChartHelper.globalDurationElement,K.zero),e.fillDrawAnimationPath(t,i,S,pt.getBoundsState,c,a,m)):(o=null!=d?d.toString():null,null!=t&&e.fillPath2(t,S,pt.getBoundsState,null,o),h&&e.fillPath2(Q.d.StiMouseOverHelper.getMouseOverColor(),S,pt.getBoundsState,null,o),null!=i&&e.drawPath(i,S,null))}}Q.d.StiMarkerCoreXF=Zi}{class qi{constructor(e){this.axis=e}implements(){return qi.implementsStiRadarAxisCoreXF||(qi.implementsStiRadarAxisCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiRadarAxisCoreXF]),qi.implementsStiRadarAxisCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){}}Q.d.StiRadarAxisCoreXF=qi}{class $i{constructor(e){this.labels=e}implements(){return $i.implementsStiRadarAxisLabelsCoreXF||($i.implementsStiRadarAxisLabelsCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiRadarAxisLabelsCoreXF]),$i.implementsStiRadarAxisLabelsCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.labels.allowApplyStyle&&(this.labels.color=e.core.axisLabelsColor,this.labels.brush=new at)}}Q.d.StiRadarAxisLabelsCoreXF=$i}{class Ki extends Q.d.StiRadarAxisCoreXF{constructor(e){super(e)}implements(){return Ki.implementsStiXRadarAxisCoreXF||(Ki.implementsStiXRadarAxisCoreXF=[Q.d.IStiXRadarAxisCoreXF]),Ki.implementsStiXRadarAxisCoreXF}applyStyle(e){this.axis.allowApplyStyle&&this.axis.labels.core.applyStyle(e)}renderLabel(e,t,i,r,s,n,l){var r=this.getLabelText(r);let a=this.getLabelRect(e,i,r,0).clone();a.x=-a.width/2,a.y=-a.height/2;var e=this.getLabelRect(e,i,r,s).clone(),o=this.axis.labels.borderColor,h=new ie(this.axis.labels.color);return new Q.d.StiXRadarAxisLabelGeom(this.axis,r,h,o,s,a,e,i)}getLabelText(t){try{null==t&&(t="");let e=this.axis;if(null!=e.labels.format&&0!=e.labels.format.trim().length)try{var i;return!Q.d.StiChartOptions.oldChartPercentMode&&e.labels.format.stimulsoft().startsWith("P")?(i=0,e.labels.format.length,G.format("{0}{1:N"+i.toString()+"}{2}{3}",e.labels.textBefore,t,"%",e.labels.textAfter)):G.format("{0}{1:"+e.labels.format+"}{2}",e.labels.textBefore,t,e.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}return G.format("{0}{1}{2}",e.labels.textBefore,t,e.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}return t.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getLabelRect(e,t,i,r){var s=I.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom);let n=e.getGenericStringFormat();return n.trimming=ht.None,this.axis.labels.wordWrap||(n.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap),e.measureRotatedString3(i,s,t,n,L.CenterBottom,r,P.trunc(this.axis.labels.width*e.options.zoom))}get xAxis(){return this.axis}}Q.d.StiXRadarAxisCoreXF=Ki}{class Qi extends Q.d.StiRadarAxisCoreXF{constructor(e){super(e)}implements(){return Qi.implementsStiYRadarAxisCoreXF||(Qi.implementsStiYRadarAxisCoreXF=[Q.d.IStiYRadarAxisCoreXF]),Qi.implementsStiYRadarAxisCoreXF}applyStyle(e){this.axis.allowApplyStyle&&(this.yAxis.lineColor=e.core.axisLineColor,this.yAxis.labels.core.applyStyle(e))}render(e,t){if(!this.axis.visible)return null;var t=this.getAxisRect(e,t).clone(),i=new Q.d.StiRadarAxisGeom(this.axis,t);return this.renderLabels(e,t,i),i}measureStripLines(l,a){let o=[];if(null!=this.yAxis.info.labelsCollection&&this.yAxis.labels.placement!=Q.d.StiLabelsPlacement.None){let n=0;for(var h of this.yAxis.info.labelsCollection){var u=this.getLabelText(h.stripLine),d=h.position,c=l.getGenericStringFormat(),m=I.changeFontSize(this.yAxis.labels.font,this.yAxis.labels.font.size*l.options.zoom),S=this.getTextAlignment();let e,t=-this.yAxis.labels.angle,i=te.empty,r=(S==de.Left?(e=L.LeftCenter,i=new te(0,d),t=0):(e=L.RightCenter,i=new te(a.width-this.getTicksMaxLength(l)-this.getLabelsSpaceAxis(l),d)),this.yAxis.labels.placement==Q.d.StiLabelsPlacement.TwoLines&&0!=(1&n)&&(i.x-=this.getLabelsTwoLinesDestination(l)),l.measureRotatedString3(u,m,i,c,e,t,P.trunc(this.yAxis.labels.width*l.options.zoom))),s=new Q.d.StiAxisLabelInfoXF;s.angle=t,s.clientRectangle=r.clone(),s.rotationMode=e,s.textPoint=i,s.text=u,s.stripLine=h.stripLine,o.push(s),n++}}return o}renderLabels(e,t,i){if(this.yAxis.labels.placement!=Q.d.StiLabelsPlacement.None){var e=this.measureStripLines(e,t),r,s;i.createChildGeoms();for(r of e){r.clientRectangle.isEmpty||(s=new Q.d.StiYRadarAxisLabelGeom(this.yAxis,r.clientRectangle,r.textPoint,r.text,r.stripLine,r.angle,r.rotationMode),i.childGeoms.push(s))}}}calculateStripPositions(t,e){if(e-=t,t=0,null==this.yAxis.info.stripLines||this.yAxis.info.stripLines.count<2)this.yAxis.info.stripPositions=[];else{this.yAxis.info.stripPositions=U.create(Number,this.yAxis.info.stripLines.count),this.yAxis.info.stripPositions[0]=t,this.yAxis.info.stripPositions[this.yAxis.info.stripPositions.length-1]=e;for(let e=1;e<this.yAxis.info.stripPositions.length-1;e++)this.yAxis.info.stripPositions[e]=t+e*this.yAxis.info.step}}getAxisRect(e,t){var i;return new re(t.width/2-this.getTicksMaxLength(e),0,this.getTicksMaxLength(e),t.height/2)}getTicksMaxLength(e){return this.yAxis.yCore.ticksMaxLength*e.options.zoom}getLabelsSpaceAxis(e){return 5*e.options.zoom}getLabelsTwoLinesDestination(e){return 2*this.yAxis.labels.font.sizeInPoints*e.options.zoom}getTextAlignment(){if(this.yAxis.labels.placement==Q.d.StiLabelsPlacement.TwoLines)return de.Right;return this.yAxis.labels.textAlignment}setTotalNumberCapacity(){let e=this.yAxis.labels.formatService.as(mt);var t,i;null!=e&&(t=this.yAxis.labels.calculatedStep,e.totalNumberCapacity=Math.floor((t<1?-1:1)*P.log10(t)+1))}getLabelText(e){var t,i;let r=null!=(t=null==e?void 0:e.valueObject)?t:"";try{if(null!=this.yAxis.labels.formatService)return this.setTotalNumberCapacity(),``+this.yAxis.labels.textBefore+this.yAxis.labels.formatService.format(e.value)+this.yAxis.labels.textAfter;if(null!=this.yAxis.labels.format&&0!=this.yAxis.labels.format.trim().length)try{return r,!Q.d.StiChartOptions.oldChartPercentMode&&this.yAxis.labels.format.stimulsoft().startsWith("P")?(i=0,this.yAxis.labels.format.length,G.format("{0}{1:N"+i.toString()+"}{2}{3}",this.yAxis.labels.textBefore,r,"%",this.yAxis.labels.textAfter)):G.format("{0}{1:"+this.yAxis.labels.format+"}{2}",this.yAxis.labels.textBefore,r,this.yAxis.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}return G.format("{0}{1}{2}",this.yAxis.labels.textBefore,r,this.yAxis.labels.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}return r.toString().replace(".",",").stimulsoft().replaceAll(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getStringFormatGeom(e){let t=e.getGenericStringFormat();var e;return t.trimming=ht.None,t.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap,0<this.yAxis.labels.width&&((e=this.getTextAlignment())==de.Left?t.alignment=A.Near:e==de.Right?t.alignment=A.Far:e==de.Center&&(t.alignment=A.Center)),t}getFontGeom(e){var t;return I.changeFontSize(this.yAxis.labels.font,this.yAxis.labels.font.size*e.options.zoom)}get yAxis(){return this.axis}get info(){return this.yAxis.info}set info(e){this.yAxis.info=e}get ticksMaxLength(){return this.axis.visible?Math.max(this.yAxis.ticks.visible?this.yAxis.ticks.length:0,this.yAxis.ticks.minorVisible?this.yAxis.ticks.minorLength:0):0}}Q.d.StiYRadarAxisCoreXF=Qi}{class Ui{constructor(e){this.isDateTimeValues=!1,this.isDateTimeArguments=!1,this.series=e}implements(){return Ui.implementsStiSeriesCoreXF||(Ui.implementsStiSeriesCoreXF=[n,Q.d.IStiApplyStyleSeries,Q.d.IStiSeriesCoreXF]),Ui.implementsStiSeriesCoreXF}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e,t){this.series.allowApplyStyle&&(this.series.showShadow=e.core.seriesShowShadow,null!=this.series.seriesLabels&&this.series.seriesLabels.core.applyStyle(e))}checkLabelsRect(e,t,i){return this.checkLabelsRect2(e,t.clientRectangle,i)}checkLabelsRect2(e,t,i){if(null!=e&&e.preventIntersection){i.x<0&&(i.x=0),i.y<0&&(i.y=14),i.right>t.width&&(i.x=t.width-i.width),i.bottom>t.height&&(i.y=t.height-i.height);var e=this.getDrawRectangle(i.clone(),e.angle);if(e.y<0)return i.y=e.height/2,i;e.y+e.height>t.height&&(i.y-=e.height/2)}return i}getDrawRectangle(e,t){var i=new te(e.left,e.top),r=new te(e.right,e.top),s=new te(e.right,e.bottom),n=new te(e.left,e.bottom),e=new te((e.left+e.right)/2,(e.top+e.bottom)/2),i=this.rotatePoint(i,e,t),r=this.rotatePoint(r,e,t),s=this.rotatePoint(s,e,t),n=this.rotatePoint(n,e,t),e=Math.min(Math.min(i.y,r.y),Math.min(s.y,n.y)),t=Math.max(Math.max(i.y,r.y),Math.max(s.y,n.y)),l=Math.min(Math.min(i.x,r.x),Math.min(s.x,n.x)),i=Math.max(Math.max(i.x,r.x),Math.max(s.x,n.x));return new re(l,e,i-l,t-e)}rotatePoint(e,t,i){var i=i*(Math.PI/180),r=Math.cos(i),i=Math.sin(i);return new te(P.trunc(r*(e.x-t.x)-i*(e.y-t.y)+t.x),P.trunc(i*(e.x-t.x)+r*(e.y-t.y)+t.y))}checkIntersectionLabels(l){var e=l.childGeoms;let a=[];if(null!=e)for(var t of e)t.is(Q.d.StiSeriesLabelsGeom)&&a.push(t);var i=a.length,r=!0;let s=0;while(r&&s<29){s++;for(let n=0;n<i;n++)for(let s=0;s<i;s++){if(s==n)continue;let e=this.getDrawRectangle(a[n].clientRectangle.clone(),a[n].seriesLabels.angle),t=this.getDrawRectangle(a[s].clientRectangle.clone(),a[s].seriesLabels.angle),i=!1,r=!1;var o=e.height-Math.abs(t.y-e.y)+2;e.intersectsWith(t)&&(r=(i=(e.y>t.y?(e.y+=o/2,t.y-=o/2):(e.y-=o/2,t.y+=o/2),!0),!0)),e.y<0&&(e.y=0,i=!0),t.y<2&&(t.y=0,r=!0),e.y+e.height>l.clientRectangle.height&&(e.y=l.clientRectangle.height-e.height-2,i=!0),t.y+o/2+t.height>l.clientRectangle.height&&(t.y=l.clientRectangle.height-t.height-2,r=!0),i&&(a[n].clientRectangle=this.getDrawRectangle(e.clone(),-a[n].seriesLabels.angle)),r&&(a[s].clientRectangle=this.getDrawRectangle(t.clone(),-a[s].seriesLabels.angle))}}}getLabelRectangle(e,t){var i=Math.pow(Math.pow(t.width,2)+Math.pow(t.height,2),.5),r;return e+=Math.atan(t.height/t.width)/Math.PI*180,new re(t.x,t.y,i*Math.cos(e*Math.PI/180),i*Math.sin(e*Math.PI/180))}renderSeries(e,t,i,r){}getSeriesBrush(i,r){if(null==this.series.chart||null==this.series.chart.area)return null;if((this.series.chart.area.colorEach||this.is(Q.d.StiBoxAndWhiskerSeriesCoreXF)||this.is(Q.d.StiDoughnutSeriesCoreXF)||this.is(Q.d.StiSunburstSeriesCoreXF)||this.is(Q.d.StiPictorialSeriesCoreXF)||this.is(Q.d.StiPictorialStackedSeriesCoreXF)||this.is(Q.d.StiWaterfallSeriesCoreXF))&&G.isNullOrEmpty(this.series.autoSeriesColorDataColumn)){let e=null!=this.series.chart.style?this.series.chart.style.core:new Q.d.StiStyleCoreXF29;var i=e.getColorByIndex(i,r,this.seriesColors);let t=e.getColumnBrush(i);return this.series.chart.area.is(Q.d.IStiClusteredBarArea)&&(t.is(Ce)&&(t.angle+=90),t.is(be)&&(t.angle+=90)),t}return null}getSeriesBorderColor(t,i){if(null==this.series.chart||null==this.series.chart.area)return null;if(this.series.chart.area.colorEach&&this.series.allowApplyStyle||this.is(Q.d.StiBoxAndWhiskerSeriesCoreXF)||this.is(Q.d.StiDoughnutSeriesCoreXF)||this.is(Q.d.StiSunburstSeriesCoreXF)||this.is(Q.d.StiPictorialStackedSeriesCoreXF)){let e=null!=this.series.chart.style?this.series.chart.style.core:new Q.d.StiStyleCoreXF29;var t=e.getColorByIndex(t,i,this.seriesColors);return e.getColumnBorder(t)}return null}getSeriesLabels(){if(this.series.showSeriesLabels==Q.d.StiShowSeriesLabels.FromChart)return this.series.chart.seriesLabels.stimulsoft().as(Q.d.IStiAxisSeriesLabels);if(this.series.showSeriesLabels==Q.d.StiShowSeriesLabels.FromSeries)return this.series.seriesLabels.stimulsoft().as(Q.d.IStiAxisSeriesLabels);return null}getTag(e){return null!=this.series.tags&&e<this.series.tags.length&&null!=this.series.tags[e]?this.series.tags[e].toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator):""}get localizedName(){return null}get interaction(){return this.series.interaction}set interaction(e){this.series.interaction=e}}Ui.falseObject={},Ui.trueObject={},Q.d.StiSeriesCoreXF=Ui}let yt=Z.System.Drawing.Point,ne=Z.Base.Context.Animation.StiOpacityAnimation,At=(Q.d.StiBoxAndWhiskerSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t),this.series.borderThickness=e.core.seriesBorderThickness)}renderSeries(l,a,o,h){let e=o.area.stimulsoft().as(Q.d.IStiBoxAndWhiskerArea);var u=e.xAxis.info.dpi,d=e.yAxis.info.dpi,c=e.axisCore.getDividerY(),t;let m=1;for(t of h){let r=t,s=new $,n=r.brush;if(r.allowApplyBrush&&(n=r.core.getSeriesBrush(m-1,h.length),n=r.processSeriesBrushes(m-1,n)),0<r.values.length){var S=r.values.stimulsoft().toList().min(),g=r.values.stimulsoft().toList().max(),p=this.getMedian(r.values),f=this.getFirstQuartile(r.values),w=this.getThirdQuartile(r.values),x=m*u,C=Math.abs(c-g*d),b=Math.abs(c-S*d),y=Math.abs(c-p*d),A=Math.abs(c-f*d),v=Math.abs(c-w*d),L=new se(x-u/4,b,u/2,C-b),T=rt.toColor(rt.dark(n,30)),k,p;s.add([S,new yt(x,b)]),s.add([g,new yt(x,C)]),s.add([p,new yt(x,y)]),s.add([f,new yt(x,A)]),s.add([w,new yt(x,v)]);let e=new $;if(r.showInnerPoints)for(var I of r.values){var I=I,F;I==S||I==g||e.contains(I)||(F=Math.abs(c-I*d),e.add(F),s.add([I,new yt(x,F)]))}let t=null;r.showMeanMarkers&&(p=r.values.stimulsoft().toList().sum()/r.values.length,t=Math.abs(c-p*d),s.add([p,new yt(x,t)]));var f=new Q.d.StiBoxAndWhiskerSeriesElementGeom(o,r,x,b,C,A,v,y,e.stimulsoft().toArray(),t,L,n,T,new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/h.length*m));o.createChildGeoms(),o.childGeoms.push(f);let i=r.core.getSeriesLabels();if(null!=i&&i.visible)for(var B of s){var R=new ne(Q.d.StiChartHelper.globalBeginTimeElement,K.zero),B=i.core.renderLabel(r,l,B[1],B[1],m,B[0],B[0],B[0].toString(),null,0,1,a,R);null!=B&&(o.createChildGeoms(),o.childGeoms.push(B))}}m++}}getFirstValues(e){var t=this.getMedianIndices(e),i=[],t=1==t.length?t[0]+1:t[1];return U.copy2(e,0,i,0,t),i}getSecondValues(e){var t=this.getMedianIndices(e),i=[],t=1==t.length?t[0]+1:t[1];return U.copy2(e,t-1,i,0,t),i}getThirdQuartile(e){e.sort((e,t)=>e-t);var e=this.getSecondValues(e);return this.getMedian(e)}getFirstQuartile(e){e.sort((e,t)=>e-t);var e=this.getFirstValues(e);return this.getMedian(e)}getMedian(e){e.sort((e,t)=>e-t);var t=this.getMedianIndices(e),i;let r=0;for(i of t)r+=e[i];return r/t.length}getMedianIndices(e){let t=e.length%2==0?[0,1]:[0];var i,i;return 1==t.length?(i=Math.ceil(e.length/2)-1,t[0]=i):(i=e.length/2-1,t[0]=i,t[1]=i+1),t}get localizedName(){return x.get("Chart","BoxAndWhisker")}constructor(e){super(e)}},Z.Base.Context.StiSeriesInteractionData),vt=Z.Base.Context.Animation.StiLabelAnimation;{class er extends Q.d.StiSeriesCoreXF{constructor(e){super(e)}implements(){return er.implementsStiBaseLineSeriesCoreXF||(er.implementsStiBaseLineSeriesCoreXF=super.implements().concat([Q.d.IStiApplyStyleSeries])),er.implementsStiBaseLineSeriesCoreXF}applyStyle(e,t){super.applyStyle(e,t);let i=this.series;var r;i.allowApplyStyle&&(i.lineColor=t,i.lighting=e.core.seriesLighting,null!=i.marker&&(null!=(r=i.marker.stimulsoft().as(Q.d.StiMarker))&&r.extendedVisible!=Q.d.StiExtendedStyleBool.FromStyle?i.marker.visible=r.extendedVisible==Q.d.StiExtendedStyleBool.True:i.marker.visible=e.core.markerVisible,i.marker.brush=new ie(w.light(t,100)),i.marker.borderColor=w.dark(t,100)),null!=i.lineMarker&&(i.lineMarker.brush=new ie(w.light(t,50)),i.lineMarker.borderColor=w.dark(t,150)))}clipLinePoints(e,t,i,r,s){let n=r.ref,l=s.ref;if(this.series.chart.area.xAxis.range.auto)return n=0,l=i.length,r.ref=n,s.ref=l,i;n=-1,l=-1;let a=t.view.clientRectangle.clone(),o=(a.x=0,a.y=0,0);for(var h of i){if(null!=h){let e=h;if(e.x+=t.clientRectangle.x,e.y+=t.clientRectangle.y,a.x<=e.x&&e.x<a.right&&-1==n&&(n=o),!(a.x<=e.x&&e.x<a.right)&&-1!=n){l=o;break}}o++}-1==l&&(l=i.length-1),n--,l++,n<0&&(n=0);var u=(l=l>=i.length?i.length-1:l)-n+1;if(u==i.length)return r.ref=n,s.ref=l,i;var d=U.create(te,u,!0);return U.copy(i,n,d,u),r.ref=n,s.ref=l,d}renderMarkers(s,n,e){var l=n.area,a=this.series;if(0==e.length)return;var o=!a.marker.visible&&0<a.toolTips.length;if(null!=a.marker){let r=0;for(var h of e){if(null!=h){let e=l.reverseHor?a.values[a.values.length-r-1]:a.values[r],t=(null==e&&a.showNulls&&(e=0),n.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),new te(h.x,h.y));if(i.x+=n.clientRectangle.x,i.y+=n.clientRectangle.y,t.contains(i.x,i.y)){let t=new Q.d.StiMarkerGeom(this.series,r,e,h,a.marker,a.showShadow,s.options.zoom,o);if(null!=t){if(null!=a.core.interaction){let e=new At;e.fill(l,a,r),t.interaction=e}n.createChildGeoms(),n.childGeoms.push(t)}}}r++}}}getInteractions(e,i,r){let s=[];for(let t=0;t<r.length;t++){let e=new At;e.fill(i.area,this.series,t),e.point=r[t],s.push(e)}return s}renderLines(e,t,i){}renderAreas(e,t,i){}renderSeries(a,o,h,u){var d,e=h.area;if(null==u||0==u.length||null==this.series.chart)return;let c=e;var l=c.xAxis.core.getStartFromZero(),m;o.width+=.001;let S=0,t=[],g=[],p=[],f=[],w=[];for(let e=0;e<u.length;e++){let i=u[e];var x=i.values.length;let r=U.create(te,x,!0),s=U.create(te,x,!0),n=U.create(String,x,!0);var C=i.valuesStart;for(let t=0;t<x;t++){var b=l?t+1:t;if(b>=c.xAxis.info.stripPositions.length)break;var y=c.xAxis.info.stripPositions[b];r[t]=this.getPointValue(t,i,i.values,c,y),s[t]=this.getPointValue(t,i,C,c,y);let e=c.xAxis.info.stripLines.getByIndex(b).valueObject;n[t]=null==e?"":e.stimulsoft().toString()}var A=this.getPointsZeroConnect(i,c),v=this.getPointsNullConnect(i,c);if(p.push(A),f.push(v),w.push(n),0<r.length){var L,T,k=(r=Q.d.StiPointHelper.optimizePoints(r),{ref:L}),I={ref:T},F=this.clipLinePoints(a,h,r,k,I),B=this.clipLinePoints(a,h,s,k,I),L=k.ref,T=I;let e=new Q.d.StiSeriesPointsInfo;e.pointsFrom=B,e.points=F,e.pointsZeroConnect=A,e.pointsNullConnect=v,e.pointsIds=n,i.core.renderAreas(a,h,e),this.isTopmostLine(i)||i.core.renderLines(a,h,e)}t.push(r),g.push(s)}let R=0;for(m of t){var i,r,s={ref:i},P={ref:r};let t=this.clipLinePoints(a,h,m,s,P);var D=this.clipLinePoints(a,h,g[R],s,P),i=s.ref,r=P.ref,M=w[R],E=this.clipLinePoints(a,h,p[R],s,P),s=this.clipLinePoints(a,h,f[R],s,P);let n=u[R];if(this.isTopmostLine(u[R])){let e=new Q.d.StiSeriesPointsInfo;e.pointsFrom=D,e.points=t,e.pointsZeroConnect=E,e.pointsNullConnect=s,e.pointsIds=M,n.core.renderLines(a,h,e)}n.as(Q.d.StiSeries).trendLines.list.forEach(e=>{null!=e&&e.core.renderTrendLine(h,t,c.axisCore.getDividerY())});let l=n.core.getSeriesLabels();if(null!=l&&l.visible)for(let s=i;s<=r;s++)if(n.values.length>s){let i=c.reverseHor?n.values[n.values.length-s-1]:n.values[s],r=i=null==i&&n.showNulls?0:i;c.reverseVert&&null!=i&&(r=-r),S=n.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?c.axisCore.getDividerY():c.axisCore.getDividerRightY();var N=m[s];if(null!=N){let e=0;null!=n.valuesStart&&n.valuesStart.length>s&&(e=c.reverseHor?n.valuesStart[n.values.length-s-1]:n.valuesStart[s]);var O=new te(N.x,S),d;let t=null;if(this.series.chart.isAnimationChangingValues&&l.valueType==Q.d.StiSeriesLabelsValueType.Value&&(t=l.valueType==Q.d.StiSeriesLabelsValueType.Value&&G.isNullOrEmpty(l.format)&&null!=(d=l.formatService)&&d.is(J)?(d=g[R].length>s?g[R][s]:null,new vt(e,i,d,N,Q.d.StiChartHelper.globalBeginTimeElement,K.zero)):new ne(Q.d.StiChartHelper.globalBeginTimeElement,K.zero)),0==l.step||s%l.step==0){var d=c.xAxis.startFromZero?s+1:s;let e=l.core.renderLabel(n,a,this.correctPoint(N,o,n.labelsOffset*a.options.zoom),this.correctPoint(O,o,n.labelsOffset*a.options.zoom),s,r,i,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(d),n),n.core.getTag(s),0,1,o,t);null!=e&&(h.createChildGeoms(),h.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(l,h,e.clientRectangle))}}}R++}h.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(h)}getPointsZeroConnect(t,e){let i=new $;if(t.showZerosAs==Q.d.StiShowEmptyCellsAs.Gap)return i;let r=new $,s=new $;for(let e=0;e<t.values.length;e++){var n;0==t.values[e]?(s.add(e),1==s.length&&r.add(s)):s=new $}return i=this.getPointConnect(t,e,r)}getPointsNullConnect(t,e){let i=new $;if(t.showNullsAs==Q.d.StiShowEmptyCellsAs.Gap)return i;let r=new $,s=new $;for(let e=0;e<t.values.length;e++){var n;null==t.values[e]?(s.add(e),1==s.length&&r.add(s)):s=new $}return i=this.getPointConnect(t,e,r)}getPointConnect(i,r,e){let s=new $;for(var n of e){var l=n[0]-1,a=n[n.length-1]+1,l;let t=0,e=0;0<=l&&l<i.values.length&&(t=i.values[l],l=this.getPointValue2(i,r,t,l),s.add(l));var o=((e=0<=a&&a<i.values.length?i.values[a]:e)-t)/(n.length+1),l;for(let e=0;e<n.length;e++){var h=t+o*(e+1),h=this.getPointValue2(i,r,h,n[e]);s.add(h)}0<=a&&a<i.values.length&&(l=this.getPointValue2(i,r,e,a),s.add(l)),s.add(null)}return s}getPointValue2(e,t,i,r){if((r=t.xAxis.core.getStartFromZero()?r+1:r)>=t.xAxis.info.stripPositions.length)return te.empty;var r=t.xAxis.info.stripPositions[r];let s=0;return s=e.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-i*t.yAxis.info.dpi+t.axisCore.getDividerY():-i*t.yRightAxis.info.dpi+t.axisCore.getDividerRightY(),new te(r,s)}getPointValue(e,t,i,r,s){let n=0;return i.length>e&&(n=r.reverseHor?i[i.length-e-1]:i[e]),this.getPointValue1(n,t,r,s)}getPointValue1(e,t,i,r){var s=t.is(Q.d.StiAreaSeries)||t.is(Q.d.StiSplineAreaSeries)||t.is(Q.d.StiStackedAreaSeries)||t.is(Q.d.StiStackedSplineAreaSeries)||t.is(Q.d.StiSteppedAreaSeries);if(0==e&&!t.showZeros&&!s)return null;if(null==e&&!t.showNulls&&!s)return null;null==e&&t.showNulls&&(e=0),i.reverseVert&&null!=e&&(e=-e);let n=0;return n=t.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-e*i.yAxis.info.dpi+i.axisCore.getDividerY():-e*i.yRightAxis.info.dpi+i.axisCore.getDividerRightY(),new te(r,n)}isTopmostLine(e){if(e.is(Q.d.IStiSplineAreaSeries))return e.topmostLine;if(e.is(Q.d.IStiSteppedAreaSeries))return e.topmostLine;if(e.is(Q.d.IStiAreaSeries))return e.topmostLine;return!0}correctPoint(e,t,i){if(e.y+i<0)return new te(e.x,0);if(e.y+i>t.height)return new te(e.x,t.height);return new te(e.x,e.y+i)}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t),r;if(null==e){if(this.series.stimulsoft().is(Q.d.StiBubbleSeries))return this.series.brush;return new ie(w.dark(i.lineColor,20))}if(null==e)return new ie(w.dark(i.lineColor,20));return e}getSeriesBorderColor(e,t){var i=this.series,e=super.getSeriesBorderColor(e,t),r;if(null==e){if(this.series.stimulsoft().is(Q.d.StiBubbleSeries))return this.series.borderColor;return i.lineColor}return e}}Q.d.StiBaseLineSeriesCoreXF=er}Q.d.StiScatterSeriesCoreXF=class extends Q.d.StiBaseLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series.stimulsoft().as(Q.d.IStiBaseLineSeries);i.allowApplyStyle&&!e.core.markerVisible&&(i.marker.visible=!0)}renderLines(e,t,i){this.renderMarkers(e,t,i.points)}renderSeries(l,a,o,t){if(null==t||0==t.length||null==this.series.chart)return;let h=o.area,u=0,i=[],d=[];for(let e=0;e<t.length;e++){let s=t[e];var c=Math.min(s.values.length,s.arguments.length);let n=U.create(te,c,!0),l=U.create(String,c,!0);var m=s.arguments.stimulsoft().getKeys(),r,S,g,p,g,g,f,w,p,S,g,x,C,C;for(let r=0;r<c;r++){let e=s.values[r];if(0==(e=null==e&&this.series.showNulls?0:e)&&!this.series.showZeros){n[r]=null,l[r]="_zero_";continue}if(null!=e){h.reverseVert&&null!=e&&!h.yAxis.logarithmicScale&&(e=-e);let t=0;t=h.yAxis.logarithmicScale?(S=0,g=h.yAxis.info.stripLines.count-1,p=h.yAxis.info.stripLines.getByIndex(S).value,g=h.yAxis.info.stripLines.getByIndex(g).value,g=Math.abs(a.height/(P.log10(g)-P.log10(p))),Math.abs(P.log10(h.yAxis.info.stripLines.getByIndex(S).value)*g-P.log10(e)*g)):s.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-e*h.yAxis.info.dpi+h.axisCore.getDividerY():-e*h.yRightAxis.info.dpi+h.axisCore.getDividerRightY();let i=null;if(s.arguments.stimulsoft().getByIndex(r,m)instanceof T){let e=s.arguments.stimulsoft().getByIndex(r,m);i=e.toOADate().stimulsoft().toNumber()}else try{i=null==s.arguments.stimulsoft().getByIndex(r,m)?null:"string"==typeof(f=s.arguments.stimulsoft().getByIndex(r,m))?(w={ref:0},Q.d.StiSeries.tryParseValue(f,s.chart.report.culture,w)?w.ref:null):lt.changeType(f,Number)}catch(e){i=null}if(null==i)n[r]=null,l[r]="_zero_";else{let e=0;e=h.xAxis.logarithmicScale&&0<h.xAxis.info.stripLines.count?(p=h.xAxis.info.stripLines.count,S=h.reverseHor?p-1:0,g=h.reverseHor?0:p-1,x=h.xAxis.info.stripLines.getByIndex(S).value,C=h.xAxis.info.stripLines.getByIndex(g).value,C=Math.abs(a.width/(P.log10(C)-P.log10(x))),P.log10(i)*C-P.log10(h.xAxis.info.stripLines.getByIndex(S).value)*C):(i-h.xAxis.info.minimum)*h.xAxis.info.dpi,h.reverseHor&&(e=a.width-e),n[r]=new te(e,t),l[r]=i.stimulsoft().toString()}}else n[r]=null,l[r]="_zero_"}i.push(n),d.push(l)}let b=0;for(let n of i){let r=t[b];var y=r.arguments.stimulsoft().getKeys();let e=new Q.d.StiSeriesPointsInfo,s=(e.points=n,e.pointsIds=d[b],r.core.renderLines(l,o,e),r.stimulsoft().as(Q.d.StiSeries).trendLines.list.forEach(e=>{null!=e&&e.core.renderTrendLine(o,n,h.axisCore.getDividerY())}),r.core.getSeriesLabels());if(null!=s&&s.visible)for(let i=0;i<n.length;i++){var A=r.values[i];let t=A;h.reverseVert&&null!=A&&(t=-t),u=r.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?h.axisCore.getDividerY():h.axisCore.getDividerRightY();var v=n[i];if(null!=v){var L=new te(v.x,u);if((a.contains(L.x,L.y)||L.y==a.bottom||a.contains(v.x,v.y))&&(0==s.step||i%s.step==0)){let e=s.core.renderLabel(r,l,this.correctPoint(v,a,r.labelsOffset*l.options.zoom),this.correctPoint(L,a,r.labelsOffset*l.options.zoom),i,t,A,r.arguments.stimulsoft().getByIndex(i,y).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),r.core.getTag(i),0,1,a);null!=e&&(o.createChildGeoms(),o.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(s,o,e.clientRectangle.clone()))}}}b++}o.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(o)}get localizedName(){return x.get("Chart","Scatter")}constructor(e){super(e)}},Q.d.StiBubbleSeriesCoreXF=class extends Q.d.StiScatterSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t),this.series.borderColor=e.core.getColumnBorder(t),this.series.borderThickness=e.core.seriesBorderThickness)}renderLines(e,t,i){}renderBubbles(e,i,r,s,t){let n=0,l=0;for(var a of r.chart.series.list){var a=a,o;if(null==a)continue;for(o of a.weights)n=0==l?o:Math.max(o,n),l++}var h=i.area,u,d=.9*Math.min(h.xAxis.info.step,h.yAxis.info.step)/n,c=Q.d.StiChartHelper.globalBeginTimeElement,m;l=0;for(m of t){var S=s[l];if(null!=S&&0<m){var g=m*d,S=new re(S.x-g/2,S.y-g/2,g,g),g=this.getSeriesBrush(l,s.length),p=r.core.getSeriesBorderColor(l,s.length);let t=new Q.d.StiBubbleSeriesElementGeom(i,m,l,g,p,r,S,new K(c.ticks/h.core.valuesCount*l));if(null!=r.core.interaction){let e=new At;e.fill(h,r,l),t.interaction=e}i.createChildGeoms(),i.childGeoms.push(t)}l++}}renderSeries(l,a,o,t){if(null==t||0==t.length||null==this.series.chart)return;let h=o.area,u=0,i=[],d=[];for(let e=0;e<t.length;e++){let s=t[e];var c=Math.min(s.values.length,s.arguments.length);let n=[],l=[];for(let r=0;r<c;r++){let e=s.values[r],t=(null==e&&s.showNulls&&(e=0),h.reverseVert&&null!=e&&(e=-e),0),i=(t=s.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-e*h.yAxis.info.dpi+h.axisCore.getDividerY():-e*h.yRightAxis.info.dpi+h.axisCore.getDividerRightY(),null);if(s.arguments[r]instanceof T){let e=s.arguments[r];i=e.toOADate().stimulsoft().toNumber()}else try{null!=s.arguments[r]&&s.arguments[r]!=b.value&&(i=s.arguments[r].stimulsoft().toNumber())}catch(e){Z.System.StiError.showError(e,!1),i=null}if(null==i&&s.showNulls&&(i=0),null!=e&&null!=i){let e=(i-h.xAxis.info.minimum)*h.xAxis.info.dpi;h.reverseHor&&(e=a.width-e),n.push(new te(e,t))}else n.push(null);l.push(r<s.weights.length?s.weights[r]:0)}i.push(n),d.push(l)}for(let e=0;e<i.length;e++){var m=d[e];let r=i[e],s=t[e];s.core.renderBubbles(l,o,s,r,m);var m=s.stimulsoft().as(Q.d.StiSeries).trendLines,S=U.create(te,r.length,!0),g;r.stimulsoft().copyTo(S);for(g of m.list)g.core.renderTrendLine(o,S,h.axisCore.getDividerY());let n=s.core.getSeriesLabels();if(null!=n&&n.visible)for(let i=0;i<r.length;i++){var p=s.values[i];let t=p;h.reverseVert&&null!=t&&(t=-t),u=s.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?h.axisCore.getDividerY():h.axisCore.getDividerRightY();var f=r[i];if(null!=f){var w=new te(f.x,u);if((a.contains(w.x,w.y)||w.y==a.bottom||a.contains(f.x,f.y))&&(0==n.step||i%n.step==0)){let e=n.core.renderLabel2(s,l,this.correctPoint(f,a,s.labelsOffset*l.options.zoom),this.correctPoint(w,a,s.labelsOffset*l.options.zoom),i,t,p,s.arguments[i].toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),s.core.getTag(i),s.weights[i],i,r.length,a);null!=e&&(o.createChildGeoms(),o.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(n,o,e.clientRectangle))}}}}}get localizedName(){return x.get("Chart","Bubble")}constructor(e){super(e)}},Q.d.StiClusteredColumnSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t),this.series.borderColor=e.core.getColumnBorder(t),this.series.borderThickness=e.core.seriesBorderThickness,this.series.cornerRadius=e.core.seriesCornerRadius)}renderSeries(a,o,h,t){var u;let d=[];var e=h.area;if(null==t||0==t.length||null==this.series.chart)return;let c=e;var i=c.xAxis.core.getStartFromZero(),m=c.axisCore.getDividerY();let S=0;var g=c.axisCore.valuesCount*t.length,r,s;let p=[];for(let e=0;e<t.length;e++)p.push([]);let f=0;for(r of t)f+=c.xAxis.info.step/t.length*r.width;for(let l=0;l<c.axisCore.valuesCount;l++){let n=this.measureLeftPosition(c,l,f,i),r=0;c.reverseHor&&(r=t.length-1);while(r<t.length&&!c.reverseHor||0<=r&&c.reverseHor){let s=t[r];var w=c.xAxis.info.step/t.length*s.width,x=s.valuesStart;if(l<s.values.length){var C=this.getSeriesCurrentValue(c,s,l);let e=this.getColumnRect(a,s,C,n,w);var b=this.getSeriesValueStart(c,s.valuesStart,l),x=this.getSeriesValueStart(c,x,l),x=this.getColumnRect(a,s,null!=x?x:0,n,w),y;for(y of s.as(Q.d.StiSeries).trendLines.list)if(!y.is(Q.d.IStiTrendLineNone)){p[r].push(new te(n+w/2,e.y));break}let t=h.view.clientRectangle.clone(),i=(t.x=0,t.y=0,e.clone());if(i.x+=h.clientRectangle.x,i.y+=h.clientRectangle.y,i.right>t.x&&i.x<t.right||this.series.chart.area.xAxis.range.auto){var A=this.getSeriesBrush2(s,C,S,g,l),u=s.core.getSeriesBorderColor(S,g);if(null!=this.series.chart&&null!=this.series.chart.style&&0<e.height){let t=new Q.d.StiClusteredColumnSeriesElementGeom(h,C,l,A,u,s,e,x);if(null!=s.core.interaction){let e=new At;e.fill(c,s,l),t.interaction=e}h.createChildGeoms(),h.childGeoms.push(t)}let r=s.core.getSeriesLabels();if(null!=r&&r.visible){var A=this.getPointEnd(s,C,n,w),x;let t=0,i=(null!=C&&(t=c.reverseVert?-C:C),null);if(this.series.chart.isAnimationChangingValues&&(i=r.valueType==Q.d.StiSeriesLabelsValueType.Value&&G.isNullOrEmpty(r.format)&&null!=(u=r.formatService)&&u.is(J)?(x=this.getPointEnd(s,b,n,w),new vt(b,C,new te(x.x,x.y),new te(A.x,A.y),Q.d.StiChartHelper.globalBeginTimeElement,K.zero)):new ne(Q.d.StiChartHelper.globalBeginTimeElement,K.zero)),0==r.step||l%r.step==0){var u=c.xAxis.startFromZero?l+1:l;let e=r.core.renderLabel(s,a,this.correctPoint(A,o),this.correctPoint(new te(A.x,m),o),l,C,t,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(u),s),s.core.getTag(l),S,g,o,i);null!=e&&(d.push(e),e.clientRectangle=this.checkLabelsRect(r,h,e.clientRectangle))}}}}n+=w,S++,c.reverseHor?r--:r++}}for(let i=0;i<t.length;i++)t[i].trendLines.list.forEach(t=>{if(!t.is2(Q.d.IStiTrendLineNone)){let e=p[i];null!=t&&t.core.renderTrendLine(h,e.stimulsoft().toArray(),c.axisCore.getDividerY())}});for(s of d)h.createChildGeoms(),h.childGeoms.push(s);h.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(h)}getPointEnd(e,t,i,r){let s,n=e.chart.area;var l=n.axisCore.getDividerY(),a=n.axisCore.getDividerRightY();return s=e.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?new te(i+r/2,-(t*n.yAxis.info.dpi)+l):new te(i+r/2,-(t*n.yRightAxis.info.dpi)+a)}getColumnRect(e,t,i,r,s){let n=t.chart.area,l=0,a=0;var o=n.axisCore.getDividerY(),h=n.axisCore.getDividerRightY();return a=t.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?(n.reverseVert,-(l=i*n.yAxis.info.dpi)+o):-(l=i*n.yRightAxis.info.dpi)+h,!t.showZeros||0!=i&&null!=i||(l=Math.max(e.options.zoom,2),n.reverseVert||(a-=l)),i<0&&(a=t.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?o:h,l=-l),new re(r,a,s,l)}correctPoint(e,t){if(e.y<0)return new te(e.x,0);if(e.y>t.height)return new te(e.x,t.height);return e}getSeriesBrush(e,t){var e=super.getSeriesBrush(e,t);if(null==e)return this.series.brush;return e}getSeriesBorderColor(e,t){var e=super.getSeriesBorderColor(e,t);if(null==e)return this.series.borderColor;return e}measureLeftPosition(e,t,i,r){var r=r?e.xAxis.info.stripPositions[t+1]:e.xAxis.info.stripPositions[t],s;return(r-=e.xAxis.info.step/2)+(e.xAxis.info.step-i)/2}getSeriesCurrentValue(e,t,i){let r=e.reverseHor?t.values[t.values.length-i-1]:t.values[i];return r=e.reverseVert&&null!=r?-r:r}getSeriesValueStart(e,t,i){let r=null;return this.series.chart.isAnimationChangingValues&&(null!=t&&t.length>i&&(r=e.reverseHor?t[t.length-i-1]:t[i]),e.reverseVert&&null!=r&&(r=-r)),r}getSeriesBrush2(e,t,i,r,s){let n=e.core.getSeriesBrush(i,r);return e.allowApplyBrushNegative&&t<0&&(n=e.brushNegative),n=e.processSeriesBrushes(s,n)}get localizedName(){return x.get("Chart","ClusteredColumn")}constructor(e){super(e)}};{class tr extends Q.d.StiClusteredColumnSeriesCoreXF{constructor(e){super(e)}implements(){return tr.implementsStiClusteredBarSeriesCoreXF||(tr.implementsStiClusteredBarSeriesCoreXF=super.implements().concat([Q.d.IStiApplyStyleSeries])),tr.implementsStiClusteredBarSeriesCoreXF}applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.brush.is(Ce)&&(i.brush.angle+=90),i.brush.is(be)&&(i.brush.angle+=90),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(u,d,c,r){var m,S;let g=[];var e=c.area;if(null==r||0==r.length||null==this.series.chart)return;let p=e;var i=p.yAxis.core.getStartFromZero(),f=p.axisCore.getDividerX(),w=p.axisCore.getDividerTopX(),x=p.axisCore.valuesCount*r.length;let C=p.reverseVert?x-1:0;var b=p.axisCore.valuesCount;let y=[];for(let e=0;e<r.length;e++)y.push([]);var s=r.stimulsoft().getKeys(),t;for(let h=0;h<b;h++){var n=i?p.yAxis.info.stripPositions[h+1]-p.yAxis.info.step/2:p.yAxis.info.stripPositions[h]-p.yAxis.info.step/2,l;let e=0;for(l of r)e+=p.yAxis.info.step/r.length*l.width;let o=n+(p.yAxis.info.step-e)/2,t=0;p.reverseVert&&(t=r.length-1);var A=Q.d.StiChartHelper.globalBeginTimeElement;while(t<r.length&&!p.reverseVert||0<=t&&p.reverseVert){let a=r.stimulsoft().getByIndex(t,s);var v=p.yAxis.info.step/r.length*a.width;if(h<a.values.length){var L=-(p.reverseVert?a.values[h]:a.values[a.values.length-h-1]),T=L*p.xAxis.info.dpi,k;let i=this.getBarRect(u,a,L,o,v),s=se.empty,n=null;this.series.chart.isAnimationChangingValues&&((null==(m=a.valuesStart)?void 0:m.length)>h&&(n=-(p.reverseVert?a.valuesStart[h]:a.valuesStart[a.valuesStart.length-h-1])),s=p.reverseHor?L<0?se.fromLTRB(i.right,i.top,i.right,i.bottom):se.fromLTRB(i.left,i.top,i.left,i.bottom):0<=L?se.fromLTRB(i.right,i.top,i.right,i.bottom):se.fromLTRB(i.left,i.top,i.left,i.bottom));for(k of a.as(Q.d.StiSeries).trendLines.list)if(!k.is(Q.d.IStiTrendLineNone)){y[t].push(new te(T,o+v/2));break}let l=c.view.clientRectangle.clone(),e=(l.x=0,l.y=0,i.clone());if(e.x+=c.clientRectangle.x,e.y+=c.clientRectangle.y,e.bottom>l.y&&e.y<l.bottom||this.series.chart.area.yAxis.range.auto){if(null!=this.series.chart&&null!=this.series.chart.style&&0<i.width){let e=a.core.getSeriesBrush(C,x);a.allowApplyBrushNegative&&0<L&&(e=a.brushNegative),e=a.processSeriesBrushes(b-1-h,e);var m=a.core.getSeriesBorderColor(C,x);let t=new Q.d.StiClusteredBarSeriesElementGeom(c,n,p.reverseHor?-L:L,h,e,m,a,s,i);if(null!=a.core.interaction){let e=new At;e.fill(p,a,h),t.interaction=e}c.createChildGeoms(),c.childGeoms.push(t)}let r=a.core.getSeriesLabels();if(null!=r&&r.visible){let t=L;null!=L&&(t=p.reverseHor?L:-L);var I=a.yAxis==Q.d.StiSeriesYAxis.RightYAxis?w:f,F=(a.yAxis==Q.d.StiSeriesYAxis.RightYAxis?p.xTopAxis:p.xAxis).info.dpi,B=new te(t*F+I,o+v/2);let i=null;if(this.series.chart.isAnimationChangingValues)if(r.valueType==Q.d.StiSeriesLabelsValueType.Value&&G.isNullOrEmpty(r.format)&&null!=(S=r.formatService)&&S.is(J)){var S=new te(-(n*F)+I,o+v/2);let e=null,t=null;null!=n&&(e=p.reverseHor?n:-n),null!=L&&(t=p.reverseHor?L:-L),i=new vt(e,t,new te(S.x,S.y),new te(B.x,B.y),A,K.zero)}else i=new ne(Q.d.StiChartHelper.globalBeginTimeElement,K.zero);if(0==r.step||h%r.step==0){var F=p.yAxis.startFromZero?h+1:h;let e=r.core.renderLabel(a,u,this.correctPoint(B,d),this.correctPoint(new te(f,B.y),d),h,L,p.reverseHor?-t:t,p.axisCore.getArgumentLabel(p.yAxis.info.stripLines.getByIndex(F),a),a.core.getTag(h),C,x,d,i);null!=e&&(g.push(e),e.clientRectangle=this.checkLabelsRect2(r,l,e.clientRectangle))}}}}o+=v,C=p.reverseVert?C-1:C+1,p.reverseVert?t--:t++}}for(let i=0;i<r.length;i++)r.stimulsoft().getByIndex(i,s).trendLines.list.forEach(t=>{if(!t.is2(Q.d.IStiTrendLineNone)){let e=y[i];null!=t&&t.core.renderTrendLine(c,e.stimulsoft().toArray(),p.axisCore.getDividerY())}});for(t of g)c.createChildGeoms(),c.childGeoms.push(t)}getBarRect(e,t,i,r,s){let n=t.chart.area;var l=n.axisCore.getDividerX(),a=n.axisCore.getDividerTopX(),a=t.yAxis==Q.d.StiSeriesYAxis.RightYAxis?a:l,o;let h=i*(t.yAxis==Q.d.StiSeriesYAxis.RightYAxis?n.xTopAxis:n.xAxis).info.dpi,u=-h+a;return!this.series.showZeros||0!=i&&null!=i||(h=Math.max(e.options.zoom,2)),i<0&&(u=a,h=-h),new se(u,r,h,s)}correctPoint(e,t){if(e.x<0)return new te(0,e.y);if(e.x>t.width)return new te(t.width,e.y);return e}get localizedName(){return x.get("Chart","ClusteredBar")}}Q.d.StiClusteredBarSeriesCoreXF=tr}Q.d.StiLineSeriesCoreXF=class extends Q.d.StiBaseLineSeriesCoreXF{renderLines(t,i,r){if(null!=r.points&&1<r.points.length){let e=new Q.d.StiLineSeriesGeom(i,r,this.series);i.createChildGeoms(),i.childGeoms.push(e),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,r.points))}this.renderMarkers(t,i,r.points)}get localizedName(){return x.get("Chart","Line")}constructor(e){super(e)}},Q.d.StiAreaSeriesCoreXF=class extends Q.d.StiLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.points||i.points.length<=1)return;var i=new Q.d.StiAreaSeriesGeom(t,i,this.series);null!=i&&(t.createChildGeoms(),t.childGeoms.push(i))}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}get localizedName(){return x.get("Chart","Area")}constructor(e){super(e)}},Q.d.StiHistogramSeriesCoreXF=class extends Q.d.StiClusteredColumnSeriesCoreXF{get localizedName(){return x.get("Chart","Histogram")}constructor(e){super(e)}},Q.d.StiParetoSeriesCoreXF=class extends Q.d.StiClusteredColumnSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;this.series.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.lighting=e.core.seriesLighting,i.marker.visible=e.core.markerVisible,i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius,null!=i.marker&&(i.marker.brush=new ie(w.light(t,100)),i.marker.borderColor=w.dark(t,100)),null!=i.lineMarker&&(i.lineMarker.brush=new ie(w.light(t,50)),i.lineMarker.borderColor=w.dark(t,150))),i.allowApplyLineColor||(i.lineColor=w.light(t,50))}renderSeries(e,t,i,r){if(null==r||0==r.length||null==this.series.chart)return;super.renderSeries(e,t,i,r),this.renderLinePareto(e,t,i,r)}renderLinePareto(e,t,i,l){var r;let a=i.area;var o=a.xAxis.core.getStartFromZero();t.width+=.001;let h=[],u=[],d=[];for(let e=0;e<l.length;e++){var c=l[e],m=this.getParetoValues(c.values),S=c.values.length;let r=U.create(te,S,!0),s=U.create(te,S,!0),n=U.create(String,S,!0);for(let i=0;i<S;i++){var g=o?i+1:i;if(g>=a.xAxis.info.stripPositions.length)break;var p=a.xAxis.info.stripPositions[g],f=a.reverseHor?m[m.length-i-1]:m[i],f=(r[i]=this.getPointValue(f,c,a,p),this.getParetoValues(c.valuesStart));let e=0,t=(f.length>i&&(e=a.reverseHor?f[f.length-i-1]:f[i]),s[i]=this.getPointValue(e,c,a,p),a.xAxis.info.stripLines.getByIndex(g).valueObject);n[i]=null==t?"":t.stimulsoft().toString()}if(0<r.length){r=Q.d.StiPointHelper.optimizePoints(r);let e=new Q.d.StiSeriesPointsInfo;e.pointsFrom=s,e.points=r,e.pointsIds=n,this.renderLines(i,e,c)}h.push(r),this.series.chart.isAnimationChangingValues&&(u.push(s),d.push(n))}}renderLines(e,t,i){var t;null!=t.points&&1<t.points.length&&(t=new Q.d.StiLineSeriesGeom(e,t,i),e.createChildGeoms(),e.childGeoms.push(t))}getParetoValues(e){let t=new $,i=new $,r=0;for(var s of e)r+=s,t.push(r);for(var n of t){var n=n/r*100;i.push(n)}return i}getPointValue(e,t,i,r){var e=-(e=i.reverseVert&&null!=e?-e:e)*i.yRightAxis.info.dpi+i.axisCore.getDividerRightY();return new te(r,e)}get localizedName(){return x.get("Chart","ClusteredColumn")}constructor(e){super(e)}},Q.d.StiSplineSeriesCoreXF=class extends Q.d.StiBaseLineSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;let r=new Q.d.StiSplineSeriesGeom(t,i,this.series);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r)),null!=this.interaction&&(r.interactions=this.getInteractions(e,t,i.points)),this.renderMarkers(e,t,i.points)}get localizedName(){return x.get("Chart","Spline")}constructor(e){super(e)}},Q.d.StiSplineAreaSeriesCoreXF=class extends Q.d.StiSplineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.points||i.points.length<=1)return;var i=new Q.d.StiSplineAreaSeriesGeom(t,i,this.series);null!=i&&(t.createChildGeoms(),t.childGeoms.push(i))}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}get localizedName(){return x.get("Chart","SplineArea")}constructor(e){super(e)}},Q.d.StiSteppedLineSeriesCoreXF=class extends Q.d.StiBaseLineSeriesCoreXF{renderLines(t,i,r){var e=this.series;if(1<r.points.length||e.pointAtCenter&&0<r.points.length){let e=new Q.d.StiSteppedLineSeriesGeom(i,r,this.series);null!=e&&(i.createChildGeoms(),i.childGeoms.push(e)),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,r.points))}this.renderMarkers(t,i,r.points)}get localizedName(){return x.get("Chart","SteppedLine")}constructor(e){super(e)}},Q.d.StiSteppedAreaSeriesCoreXF=class extends Q.d.StiSteppedLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){var r=this.series;if(null==i.points||0==i.points.length||1==i.points.length&&!r.pointAtCenter)return;var r=new Q.d.StiSteppedAreaSeriesGeom(t,i,this.series);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r))}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}get localizedName(){return x.get("Chart","SteppedArea")}constructor(e){super(e)}};let Lt=Q.e.StiChart,Tt=(Q.d.StiWaterfallSeriesCoreXF=class extends Q.d.StiClusteredColumnSeriesCoreXF{renderSeries(e,t,i,r){if(null==r||0==r.length||null==this.series.chart)return;this.renderColumns(e,t,i,r)}getSumSeriesWidth(e,t){let i=0;for(var r of t)i+=e.xAxis.info.step/t.length*r.width;return i}getDividerYSeries(e,t){var i=e.axisCore.getDividerY();let r=[];for(let e=0;e<t.length;e++)r[e]=i;return r}renderColumns(d,c,m,e){var S=m.area;let g=new $,p=S,i=this.getDividerYSeries(p,e),f=0;var w=p.axisCore.valuesCount*e.length,t=this.getSumSeriesWidth(p,e),r;for(let u=0;u<p.axisCore.valuesCount;u++){var s=p.xAxis.core.getStartFromZero()?p.xAxis.info.stripPositions[u+1]:p.xAxis.info.stripPositions[u];let o=(s-=p.xAxis.info.step/2)+(p.xAxis.info.step-t)/2,h=p.reverseHor?e.length-1:0;while(h<e.length&&!p.reverseHor||0<=h&&p.reverseHor){let l=e[h],a=p.xAxis.info.step/e.length*l.width;if(u<l.values.length){let s=p.reverseHor?l.values[l.values.length-u-1]:l.values[u];null==s&&(a=0),p.reverseVert&&null!=s&&(s=-s);var x=u==l.values.length-1,C,b={ref:C=x&&l.total.visible?p.axisCore.getDividerY():i[h]},y={ref:i[h]},A=x&&l.total.visible?this.getColumnRect(d,l,s,o,a,b):this.getColumnRect(d,l,s,o,a,y),C=b.ref;i[h]=y.ref;let n,e=(n=s<0?se.fromLTRB(A.left,A.top,A.right,A.top):se.fromLTRB(A.left,A.bottom,A.right,A.bottom),m.as(Q.d.StiAxisAreaGeom).view.clientRectangle.clone()),t=(e.x=0,e.y=0,A);if(t.x+=m.clientRectangle.x,t.y+=m.clientRectangle.y,t.right>e.x&&t.x<e.right||this.series.chart.area.stimulsoft().as(Q.d.IStiAxisArea).xAxis.range.auto){let t,i;if(i=S.colorEach?(t=l.core.getSeriesBrush(f,w),l.allowApplyBrushNegative&&s<0&&(t=l.brushNegative),t=l.processSeriesBrushes(u,t),l.core.getSeriesBorderColor(f,w)):(t=!l.connectorLine.visible||x&&l.total.visible?l.core.getSeriesBrush(2,3):l.core.getSeriesBrush(0,3),s<0&&(t=l.allowApplyBrushNegative?l.brushNegative:l.core.getSeriesBrush(1,3)),t=l.processSeriesBrushes(u,t),t=rt.light(t,10*h),l.core.getSeriesBorderColor(0,3)),null!=this.series.chart&&null!=this.series.chart.style&&0<A.height){let e=null;if(
0<A.height&&(e=new Q.d.StiClusteredColumnSeriesElementGeom(m,s,u,t,i,l,A,n)),l.connectorLine.visible&&!x){let e=new v(l.connectorLine.lineColor,l.connectorLine.lineWidth);e.penStyle=l.connectorLine.lineStyle;var b=0<s?A.top:A.bottom,y=A.right+p.xAxis.info.step-a,y=new Q.d.StiWaterfallLineGeom(new yt(A.right,b),new yt(y,b),e,new se(A.right,b,y-A.right,b),l.chart.stimulsoft().as(Lt).isAnimation);m.createChildGeoms(),m.childGeoms.push(y)}null!=e&&(m.createChildGeoms(),m.childGeoms.push(e))}let r=l.core.getSeriesLabels();if(null!=r&&r.visible&&null!=s){var A=x&&l.total.visible?p.axisCore.getDividerY():C,b=this.getPointEnd(l,s,o,a,A),y=p.reverseVert?-s:s,x=null;if(0==r.step||u%r.step==0){var C=p.xAxis.startFromZero?u+1:u;let e=r.core.stimulsoft().as(Q.d.StiAxisSeriesLabelsCoreXF).renderLabel(l,d,this.correctPoint(b,c),this.correctPoint(new yt(b.x,A),c),u,s,y,p.axisCore.getArgumentLabel(p.xAxis.info.stripLines.getByIndex(C),l),l.core.getTag(u),f,w,c,x);null!=e&&(g.push(e),e.clientRectangle=this.checkLabelsRect(r,m,e.clientRectangle))}}}}o+=a,f++,p.reverseHor?h--:h++}}for(r of g)m.createChildGeoms(),m.childGeoms.push(r);m.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(m)}getPointEnd(e,t,i,r,s=null){let n,l=e.chart.area.stimulsoft().as(Q.d.IStiAxisArea);var a=l.axisCore.getDividerRightY();return n=e.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?new yt(i+r/2,-(t*l.yAxis.info.dpi)+s):new yt(i+r/2,-(t*l.yRightAxis.info.dpi)+a)}getColumnRect(e,t,i,r,s,n=null){let l=t.chart.area.stimulsoft().as(Q.d.IStiAxisArea),a=0,o=0;var h=l.axisCore.getDividerRightY();return o=t.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?(l.reverseVert,-(a=i*l.yAxis.info.dpi)+n.ref):-(a=i*l.yRightAxis.info.dpi)+h,!t.showZeros||0!=i&&null!=i||(a=Math.max(e.options.zoom,2),l.reverseVert||(o-=a)),i<0&&(o=t.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?n.ref:h,a=-a),n.ref=0<i?o:o+a,new se(r,o,s,a)}get localizedName(){return x.get("Chart","Waterfall")}constructor(e){super(e)}},Z.Base.Context.StiPieSegmentGeom),kt=(Q.d.StiPieSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.lighting=e.core.seriesLighting,i.borderThickness=e.core.seriesBorderThickness,i.allowApplyBrush&&(i.brush=e.core.getColumnBrush(t)),i.allowApplyBorderColor&&(i.borderColor=e.core.getColumnBorder(t)))}correctBrush(e){return e.is(Ce)&&((e=e.clone()).angle=-45),e.is(be)&&((e=e.clone()).angle=-45),e}renderPieElement(e,t,i,r,s,n,l,a,o,h,u,d,c){var m,S,g=re.empty,p=(s=this.correctBrush(s),{ref:m}),f={ref:S},w={ref:g},e=this.measurePieElementCore(e,t,i,n,l,h,u,p,f,w),m=p.ref,S=f.ref,g;if(e.isEmpty)return null;return new Q.d.StiPieSeriesElementGeom(d,a,o,h,g=w.ref,m,S,r,s,n,n+l,i)}renderPieElementShadow(e,t,i,r,s,n,l,a){if(this.series.chart.isAnimation)return;var o,h,u=re.empty,d=(r=this.correctBrush(r),{ref:o}),c={ref:h},m={ref:u},t=this.measurePieElementCore(e,t,i,s,n,l,a,d,c,m),o=d.ref,h=c.ref,u=m.ref,i;if(t.isEmpty)return;e.pushSmoothingModeToAntiAlias(),e.fillPath(r,o,u,null),null!=h&&(i=new Ce(ee.fromArgb(100,ee.white),ee.fromArgb(50,ee.black),45),e.fillPath(i,h,u,null)),e.popSmoothingMode()}measurePieElement(e,t,i,r,s,n,l){var a,o,h,u={ref:a},d={ref:o},c={ref:re.empty},e=this.measurePieElementCore(e,t,i,r,s,n,l,u,d,c),a=u.ref,o=d.ref,h=c.ref;return e}measurePieElementCore(e,t,i,r,s,n,l,a,o,h){let u=[],d=null;var c=re.empty,l,l;if(0==s||isNaN(s))return re.empty;if(0<l&&(t=this.getPoint(t,l*e.options.zoom,r+s/2)),(c=new re(t.x-i,t.y-i,2*i,2*i)).width<=0&&c.height<=0)return re.empty;return u.push(new Tt(new re(c.x,c.y,c.width,c.height),r,s,null,null,null)),n.lighting&&!ee.transparent.equals(n.borderColor)&&(l=0,l=.02*i,(d=[]).push(new Ct(c,r,s)),d.push(new k(this.getPoint(t,i-l,r+s),this.getPoint(t,i-l,r+s))),d.push(new Ct(new re(c.x+l,c.y+l,c.width-2*l,c.height-2*l),r+s,-s)),d.push(new k(this.getPoint(t,i-l,r),this.getPoint(t,i-l,r)))),a.ref=u,o.ref=d,h.ref=c,e.getPathBounds(u)}checkNonZerovalue(e,t,i,r,s=!1){let n=0,l=0,a=0,o=0,h=null;for(var u of e){var d,c;for(c of s?u.valuesStart:u.values)0==c||null==c||isNaN(c)||(n++,o=c,h=u,1==n&&(a=l)),l++}return i.ref=a,t.ref=n,r.ref=h,o}isNotNullValues(e){for(var t of e)for(var i of t.values)if(null!=i)return!0;return!1}renderSeries(s,i,r,e){let n=this.getRadius(s,i);var l=this.getPointCenter(i);if(null==e||0==e.length||null==this.series.chart||null!=e&&!this.isNotNullValues(e))return r.createChildGeoms(),void r.childGeoms.push(new Q.d.StiPieEmptySeriesElementGeom(new se(l.x-n,l.y-n,2*n,2*n)));var a=Q.d.StiChartHelper.globalDurationElement,o=Q.d.StiChartHelper.globalBeginTimeElement,N=this.series.chart,h=this.getColorCount(e),t={ref:0},u=(this.checkNonZerovalue(e,t,{ref:-1},{ref:null}),t.ref),d=this.getGradPerValue(e),c=this.getPercentPerValue(e);let m=e[0];var t=m.core.getPieSeriesLabels(),S;let g=m.startAngle,p=new re(0,0,i.width,i.height);for(S of e)if(1<u){var O=S,f;let e=0;for(f of S.values){var w=d*Math.abs(f),G=this.measurePieElement(s,l,n,g,w,O,this.getPieDistance(e));0!=f&&(p=re.union(p,G)),g+=w,e++}}var x=Math.max(-p.left,p.right-i.width),C=Math.max(-p.top,p.bottom-i.height),x=Math.max(x,C);n-=1.2*x;let b=U.create(re,h),y=U.create(Number,h),A=U.create(Number,4);U.clear(A,0,A.length),g=m.startAngle;var C=(p=new re(10*s.options.zoom,10*s.options.zoom,i.width-20*s.options.zoom,i.height-20*s.options.zoom)).clone(),v,x,x,L;let T=0;for(v of e){let i=v,r=0;for(var k of v.values){var V=d*Math.abs(k);let t=i.core.getPieSeriesLabels();if(null!=t&&t.visible){let e=n;0<this.getPieDistance(r)&&(e+=i.distance*s.options.zoom);var I=g+V/2,F={ref:null},F=(t.core.renderLabel(i,s,l,e,0,I,r,Math.abs(k),k,this.getArgumentText(v,r),i.core.getTag(r),!0,r,h,c,F,!1,0),F.ref);F.isEmpty||(p=re.union(p,F)),0==k&&!t.showZeros||(b[T]=F,y[T]=F.y,0<=I&&I<=90&&A[0]++,90<I&&I<=180&&A[1]++,180<I&&I<=270&&A[2]++,270<I&&I<=360&&A[3]++)}g+=V,r++,0==k&&!this.series.chart.seriesLabels.showZeros||T++}}0==m.diameter&&(x=0,x=Math.min(x,p.left-C.left),x=Math.min(x,C.right-p.right),x=Math.min(x,p.top-C.top),x=Math.min(x,C.bottom-p.bottom),n+=x),T=0;for(L of e){let i=L,r=0;for(var B of L.values){var X=d*B;let t=i.core.getPieSeriesLabels();if(null!=t&&t.visible){let e=n;0<this.getPieDistance(r)&&(e+=i.distance*s.options.zoom);var R=g+X/2,_={ref:null},R=(t.core.renderLabel(this.series,s,l,e,0,R,r,B,B,this.getArgumentText(L,r),i.core.getTag(r),!0,r,h,c,_,!1,0),_.ref);0==B&&!t.showZeros||(b[T]=R,y[T]=R.y)}g+=X,r++,0==B&&!this.series.chart.seriesLabels.showZeros||T++}}if(null!=this.series.chart&&null!=this.series.chart.seriesLabels){var x=this.series.chart.seriesLabels.as(Q.d.IStiTwoColumnsPieLabels);if(null!=x&&x.preventIntersection){let t=0;if(0<A[0]){var x=U.create(re,A[0],!0);if(U.copy(b,0,x,A[0]),this.isIntersectionLabels(x)){t=p.height/2/A[0],b[0].y=p.y+p.height/2+t/2-b[0].height/2;for(let e=1;e<A[0];e++)b[e].y=b[e-1].y+t}}let i=A[0];if(0<A[1]){var x=U.create(re,A[1],!0);if(U.copy(b,0,x,A[1]),this.isIntersectionLabels(x)){t=p.height/2/A[1],b[i].y=p.y+p.height-t/2-b[i].height/2;for(let e=i+1;e<i+A[1];e++)b[e].y=b[e-1].y-t}}if(i+=A[1],0<A[2]){var x=U.create(re,A[2],!0);if(U.copy(b,0,x,A[2]),this.isIntersectionLabels(x)){t=p.height/2/A[2],b[i].y=p.y+p.height/2-t/2-b[i].height/2;for(let e=i+1;e<i+A[2];e++)b[e].y=b[e-1].y-t}}if(i+=A[2],0<A[3]){var x=U.create(re,A[3],!0);if(U.copy(b,0,x,A[3]),this.isIntersectionLabels(x)){t=p.height/2/A[3],b[i].y=p.y+t/2-b[i].height/2;for(let e=i+1;e<i+A[3];e++)b[e].y=b[e-1].y+t}}for(let e=0;e<T;e++)y[e]=b[e].y-y[e]}}if(n<=5)return;if(m.showShadow){g=m.startAngle;for(var H of e){if(1==u){var z=new re(l.x-n,l.y-n,2*n,2*n),j=new re(0,0,2*n,2*n);let e=s.createShadowGraphics();null!=e&&e.fillEllipse2(ee.fromArgb(100,ee.black),j,null);var j=new Q.d.StiPieSeriesShadowElementGeom(m,z,.01*n+2*s.options.zoom,e,a,o);r.createChildGeoms(),r.childGeoms.push(j);break}{var Y=H,W;let t=0;for(W of H.values){var J=d*Math.abs(W),Z=l,q=new ie(ee.fromArgb(100,ee.black)),$=s.createShadowGraphics();let e=i.clone();e.x=0,e.y=0,N.isAnimation&&(e.x=l.x-n,e.y=l.y-n,e.height=2*n,e.width=2*n),this.renderPieElementShadow($,Z,n,q,g,J,Y,this.getPieDistance(t));var Z=new Q.d.StiPieSeriesShadowElementGeom(m,e,.01*n+2*s.options.zoom,$,a,o);r.createChildGeoms(),r.childGeoms.push(Z),g+=J,t++}}}}var P=this.getPieElementGeoms(s,r,n,i,e);if(P.length<1)return r.createChildGeoms(),void r.childGeoms.push(new Q.d.StiPieEmptySeriesElementGeom(new re(l.x-n,l.y-n,2*n,2*n)));for(let t=0;t<P.length;t++){let e=P[t];e.is(Q.d.StiPieSeriesFullElementGeom)?(null!=e.series.core.interaction&&(e.interaction=new At(r.area,e.series,e.index)),r.createChildGeoms(),r.childGeoms.push(e)):e.is(Q.d.StiPieSeriesElementGeom)&&(e.count=P.length,null!=e.series.core.interaction&&(e.interaction=new At(r.area,e.series,e.index)),r.createChildGeoms(),r.childGeoms.push(e))}g=m.startAngle;var D=this.getPieLabelGeoms(s,n,i,e,y);if(this.series.chart.isAnimationChangingValues&&null!=t&&t.valueType==Q.d.StiSeriesLabelsValueType.Value){var x=n/1.75;let e=new re;e.x=l.x-x,e.y=l.y-x,e.width=2*x,e.height=2*x;for(let e=0;e<P.length;e++){var K=D.length>e?D[e]:null;null!=K&&(r.createChildGeoms(),r.childGeoms.push(K))}}else for(var M of D)this.series.chart.isAnimationChangingValues&&M.is(Q.d.StiCenterPieLabelsGeom)&&(M.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalBeginTimeElement)),r.createChildGeoms(),r.childGeoms.push(M);let E=this.getPieSeriesLabels();null!=E&&E.preventIntersection&&(E.is(Q.d.IStiTwoColumnsPieLabels)?this.checkIntersectionTwoColumnsLabels(r,C):E.is(Q.d.IStiOutsidePieLabels)?this.checkIntersectionOutLabels(r):this.checkIntersectionLabels(r))}getColorCount(e,t=!1){let i=0;for(var r of e)t&&null!=r.valuesStart&&(i+=r.valuesStart.length),t||null==r.values||(i+=r.values.length);return i}isIntersectionLabels(i){for(let t=0;t<i.length;t++)for(let e=0;e<i.length;e++){if(t==e)continue;if(i[t].intersectsWith(i[e]))return!0}return!1}getPieLabelGeoms(l,e,t,i,a,r=!1){let o=[],h=0,u=0;var s=i[0],d=this.getGradPerValue(i,r),c=this.getPercentPerValue(i,r),m=this.getPointCenter(t);let S=s.startAngle;var g=this.getColorCount(i,r),p,n,f;for(p of i){let s=p,n=0;for(f of r?p.valuesStart:p.values){var w=d*Math.abs(f),x=s.core.getPieSeriesLabels();if(null!=x&&x.visible){let r=x;var C=x;if(null!=r){let t=e;0<this.getPieDistance2(s,n)&&(t+=s.distance*l.options.zoom);var b=S+w/2;let i=0;if(null!=C&&C.preventIntersection&&(i+=a[u]),0==r.step||n%r.step==0){var C={ref:null};let e=r.core.renderLabel(s,l,m,t,0,b,n,Math.abs(f),f,this.getArgumentText(p,n),s.core.getTag(n),!1,h,g,c,C,!1,i);null!=e&&o.push(e),r.is(Q.d.IStiOutsidePieLabels)&&r.showValue&&null!=(e=r.core.renderLabel(s,l,m,t,0,b,n,Math.abs(f),f,this.getArgumentText(p,n),s.core.getTag(n),!1,h,g,c,C,!0,0))&&o.push(e)}}}h++,S+=w,n++,(0!=f||null!=x&&x.showZeros)&&u++}}return o}getPieSeriesLabels(){var e,e;if(this.series.showSeriesLabels==Q.d.StiShowSeriesLabels.FromChart)return null==(e=this.series.chart.seriesLabels)?void 0:e.as(Q.d.IStiPieSeriesLabels);if(this.series.showSeriesLabels==Q.d.StiShowSeriesLabels.FromSeries)return null==(e=this.series.seriesLabels)?void 0:e.as(Q.d.IStiPieSeriesLabels);return null}getPieElementGeoms(r,s,n,e,t,i=!1){let l=[];var a=t[0],o=this.getGradPerValue(t,i),h=this.getPointCenter(e);let u=a.startAngle;var d=this.getColorCount(t,i),e={ref:0},c,m,S=(this.checkNonZerovalue(t,e,{ref:-1},{ref:null},i),e.ref),g;let p=0;for(g of t){if(0==S)break;var f=i?g.valuesStart:g.values;for(let i=0;i<f.length;i++){var w=f[i];if(0!=w){var x=o*Math.abs(w);let e=g.brush,t=(g.allowApplyBrush&&(e=g.core.getSeriesBrush(p,d),e=g.processSeriesBrushes(i,e)),g.borderColor);g.allowApplyBorderColor&&(t=g.core.getSeriesBorderColor(p,d));var C=0==g.values.length?0:Q.d.StiChartHelper.globalBeginTimeElement.ticks/g.values.length*i,C=new K(C),w=this.renderPieElement(r,h,n,t,e,u,x,Math.abs(w),i,g,this.getPieDistance2(g,i),s,C);null!=w&&l.push(w),u+=x}p++}}return l}checkIntersectionOutLabels(s){var e=s.childGeoms;let n=[];if(null!=e)for(var t of e)t.is(Q.d.StiOutsidePieLabelsGeom)&&n.push(t);var l=n.length,i=!0,a;let r=0;while(i&&r<29){r++;for(let r=0;r<l;r++)for(let i=0;i<l;i++){if(i==r)continue;if(n[r].labelRect.intersectsWith(n[i].labelRect)){let e=n[r].labelRect,t=n[i].labelRect;e.intersectsWith(t)&&(a=e.height-Math.abs(n[i].labelRect.y-n[r].labelRect.y)+2,e.y>t.y?(e.y+=a/2,t.y-=a/2):(e.y-=a/2,t.y+=a/2),e.y<0&&(e.y=0),t.y<0&&(t.y=0),e.y+e.height>s.clientRectangle.height&&(e.y=s.clientRectangle.height-e.height),t.y+a/2+t.height>s.clientRectangle.height&&(t.y=s.clientRectangle.height-t.height),n[r].labelRect=e,n[i].labelRect=t)}}}}checkIntersectionTwoColumnsLabels(e,t){var e=e.childGeoms;if(null==e)return;var i=this.getPointCenter(t),r;let s=[],n=[];for(r of e)r.is(Q.d.StiTwoColumnsPieLabelsGeom)&&(r.clientRectangle.x<i.x?s:n).push(r);this.isIntersectionLabels(s.map(e=>e.clientRectangle))&&this.checkLabelPosition(s,t),this.isIntersectionLabels(n.map(e=>e.clientRectangle))&&this.checkLabelPosition(n,t)}checkIntersectionLabels(s){var e=s.childGeoms;let n=[];if(null!=e)for(var t of e)t.is(Q.d.StiCenterPieLabelsGeom)&&n.push(t);var l=n.length,i=!0,a;let r=0;while(i&&r<29){r++;for(let r=0;r<l;r++)for(let i=0;i<l;i++){if(i==r)continue;if(n[r].clientRectangle.intersectsWith(n[i].clientRectangle)){let e=n[r].labelRect,t=n[i].labelRect;e.intersectsWith(t)&&(a=e.height-Math.abs(n[i].clientRectangle.y-n[r].clientRectangle.y)+2,e.y>t.y?(e.y+=a/2,t.y-=a/2):(e.y-=a/2,t.y+=a/2),e.y<0&&(e.y=0),t.y<0&&(t.y=0),e.y+e.height>s.clientRectangle.height&&(e.y=s.clientRectangle.height-e.height),t.y+a/2+t.height>s.clientRectangle.height&&(t.y=s.clientRectangle.height-t.height),n[r].labelRect=e,n[i].labelRect=t)}}}}checkLabelPosition(e,t){let i=t.height;for(var r of e=e.stimulsoft().toList().orderBy(e=>e.clientRectangle.y))i-=r.clientRectangle.height;var s=i/(e.length+1),n;let l=t.y;for(n of e)n.clientRectangle=new re(n.clientRectangle.x,l+s,n.clientRectangle.width,n.clientRectangle.height),n.endPoint=new te(n.endPoint.x,n.clientRectangle.y+n.clientRectangle.height/2),l=n.clientRectangle.y+n.clientRectangle.height}getGradPerValue(e,t=!1){let i=0,r=0;for(var s of e){var n,l;for(l of t?s.valuesStart:s.values)i+=Math.abs(l),r++}return 0==r&&(r=1),0<i?360/i:360/r}getPercentPerValue(e,t=!1){let i=0;for(var r of e){var s,n;for(n of t?r.valuesStart:r.values)i+=Math.abs(n)}return 1/i*100}getPointCenter(e){return new te(e.width/2,e.height/2)}getRadius(e,t){var i=this.series;if(0<i.diameter)return i.diameter/2*e.options.zoom;return.95*Math.min(t.width/2,t.height/2)}getPoint(e,t,i){var i=Math.PI*i/180;return new te(e.x+Math.cos(i)*t,e.y+Math.sin(i)*t)}getArgumentText(e,t){var i=e.arguments.stimulsoft().getKeys();if(e.arguments.length>t&&null!=e.arguments.stimulsoft().getByIndex(t,i))return e.arguments.stimulsoft().getByIndex(t,i).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}getPieDistance(e){return this.getPieDistance2(this.series,e)}getPieDistance2(e,t){if(0==e.distance)return 0;if(0==e.cutPieListValues.length)return e.distance;for(var i of e.cutPieListValues)if(i==t+1)return e.distance;return 0}getSeriesBrush(e,t){var e=super.getSeriesBrush(e,t);if(null==e)return this.series.brush;return e}getSeriesBorderColor(e,t){var e=super.getSeriesBorderColor(e,t);if(null==e)return this.series.borderColor;return e}get localizedName(){return x.get("Chart","Pie")}constructor(e){super(e)}},Q.d.StiDoughnutSeriesCoreXF=class extends Q.d.StiPieSeriesCoreXF{renderDoughnutElement(e,t,i,r,s,n,l,a,o,h,u,d,c,m){if(r<0&&(r=1),0==a||isNaN(a))return null;var S=new re(t.x-i,t.y-i,2*i,2*i),g=new re(t.x-r,t.y-r,2*r,2*r);if(S.width<=0&&S.height<=0)return null;d||(n.is(Ce)&&((n=n.clone()).angle=-45),n.is(be)&&((n=n.clone()).angle=-45));let p=[],f=null,w=null,x=null,C=null,b=0;u.lighting&&!d&&(x=[],C=[],b=.02*i,f=new Ce(ee.fromArgb(100,ee.white),ee.fromArgb(50,ee.black),45),w=new Ce(ee.fromArgb(50,ee.black),ee.fromArgb(100,ee.white),45));var y=this.series.chart,y,A;if(p.push(new Ct(S,l,a)),a-l!=360&&p.push(new k(this.getPoint(t,i,l+a),this.getPoint(t,r,l+a))),p.push(new Ct(g,l+a,-a)),a-l!=360&&p.push(new k(this.getPoint(t,r,l),this.getPoint(t,i,l))),d&&(y.isAnimation?(y=new ne(K.fromSeconds(1),m),e.fillDrawAnimationPath(n,null,p,S,null,y,null)):e.fillPath(n,p,S,null)),null==f||d||(x.push(new k(this.getPoint(t,i-b,l),this.getPoint(t,i,l))),x.push(new Ct(S,l,a)),x.push(new k(this.getPoint(t,i,l+a),this.getPoint(t,i-b,l+a))),x.push(new Ct(new re(S.x+b,S.y+b,S.width-2*b,S.height-2*b),l+a,-a)),C.push(new k(this.getPoint(t,r+b,l),this.getPoint(t,r,l))),C.push(new Ct(g,l,a)),C.push(new k(this.getPoint(t,r,l+a),this.getPoint(t,r+b,l+a))),C.push(new Ct(new re(g.x-b,g.y-b,g.width+2*b,g.height+2*b),l+a,-a))),!d)return new Q.d.StiDoughnutSeriesElementGeom(c,o,h,u,S,g,p,x,C,s,n,f,w,l,l+a,i,r,m);return null}isNotNullValues(e){for(var t of e)for(var i of t.values)if(null!=i)return!0;return!1}renderSeries(n,e,l,t){let i=this.getRadius(n,e);var a=this.getPointCenter(e);if(null==t||0==t.length||null==this.series.chart||null!=t&&!this.isNotNullValues(t))return l.createChildGeoms(),void l.childGeoms.push(new Q.d.StiDoughnutEmptySeriesElementGeom(new se(a.x-i,a.y-i,2*i,2*i)));var r=Q.d.StiChartHelper.globalDurationElement,o=Q.d.StiChartHelper.globalBeginTimeElement,s;let h=i/(t.length+1),u=h,d=0;for(s of t)null!=s.values&&(d+=s.values.length),u+=0!=s.width?s.width:h;if(u<i&&(i=u),0==d)return;let c=t[0],m=0,S=new re(10*n.options.zoom,10*n.options.zoom,e.width-20*n.options.zoom,e.height-20*n.options.zoom);var e=S.clone(),g;let p=0,f=i;for(g of t){let i=0;p=g.startAngle;var N=this.getGradPerValue([g]),w;for(w of g.values){var O=this.getPercentPerValue([g]),x=N*Math.abs(w),C,b,y;let t=null;if(g.showSeriesLabels==Q.d.StiShowSeriesLabels.FromChart&&(t=this.series.chart.seriesLabels),g.showSeriesLabels==Q.d.StiShowSeriesLabels.FromSeries&&(t=c.seriesLabels),null!=this.series.chart&&null!=t&&t.visible){let e=t.stimulsoft().as(Q.d.IStiPieSeriesLabels);null!=e&&e.visible&&(C=0!=g.width?f-g.width:f-h,y={ref:b},e.core.renderLabel(g,n,a,f,C,p+x/2,i,Math.abs(w),w,this.getArgumentText(g,i),c.core.getTag(i),!0,m,d,O,y,!1,0),(b=y.ref).isEmpty||(S=re.union(S,b)))}m++,p+=x,i++}f-=0!=g.width?g.width+.2*h:1.2*h}var A=0,A=Math.min(A,S.left-e.left),e=(A=Math.min(A,e.right-S.right),A=Math.min(A,S.top-e.top),A=Math.min(A,e.bottom-S.bottom),i+=A,this.series.chart),v,L;if(c.showShadow&&!e.isAnimation){var T=new re(a.x-i,a.y-i,2*i,2*i),k=n.createShadowGraphics(),G=new ie(ee.fromArgb(100,ee.black)),I;h=i/(t.length+1),f=i;for(I of t){p=I.startAngle;var V=this.getGradPerValue([I]),F;let e=0;for(F of I.values){var B=V*Math.abs(F),X=0!=I.width?f-I.width:f-h;this.renderDoughnutElement(k,new te(T.width/2,T.height/2),f,X,ee.black,G,p,B,Math.abs(F),e,I,!0,l,new K(o.ticks)),p+=B,e++}f-=0!=I.width?I.width+.2*h:1.2*h}var A=new Q.d.StiPieSeriesShadowElementGeom(c,T,.01*i+2*n.options.zoom,k,r,o);l.createChildGeoms(),l.childGeoms.push(A)}h=i/(t.length+1),m=0,f=i;for(v of t){let s=0;v.chart.area.colorEach||(m=0),p=v.startAngle;var _=this.getGradPerValue([v]),R={ref:null},P={ref:null},H,R=(this.checkNonZerovalue(t,R,P,{ref:null}),R.ref),P=P.ref;if(0!=R){if(1==R){let e=v.brush;v.allowApplyBrush&&(e=v.core.getSeriesBrush(P,d),e=v.processSeriesBrushes(P,e));var R=c.core.getSeriesBorderColor(m,d);if(P>=v.values.length)continue;var z=0!=v.width?f-v.width:f-h;let t=this.renderDoughnutElement(n,a,f,z,R,e,0,360,v.values[P],P,v,!1,l,new K(o.ticks));null!=t&&(null!=v.core.interaction&&(t.interaction=new At,t.interaction.fill(l.area,v,0)),l.createChildGeoms(),l.childGeoms.push(t)),f-=1.2*h,s++,m++;continue}{let r=0;for(var D of v.values){var M=_*Math.abs(D);if(0!=D){let e=v.brush,t=(v.allowApplyBrush&&(e=v.core.getSeriesBrush(m,d),e=v.processSeriesBrushes(s,e)),v.borderColor);v.allowApplyBorderColor&&(t=v.core.getSeriesBorderColor(m,d));var j=0!=v.width?f-v.width:f-h;let i=this.renderDoughnutElement(n,a,f,j,t,e,p,M,Math.abs(D),r,v,!1,l,new K(o.ticks/v.values.length*m));if(null!=i){if(null!=v.core.interaction){let e=new At;e.fill(l.area,v,r),i.interaction=e}l.createChildGeoms(),l.childGeoms.push(i)}p+=M}s++,m++,r++}}}f-=0!=v.width?v.width+.2*h:1.2*h}m=0,f=i;for(L of t){let i=0;p=L.startAngle;var Y=this.getGradPerValue([L]),E;for(E of L.values){var W=this.getPercentPerValue([L]),J=Y*Math.abs(E);let e=null;if(L.showSeriesLabels==Q.d.StiShowSeriesLabels.FromChart&&(e=this.series.chart.seriesLabels),L.showSeriesLabels==Q.d.StiShowSeriesLabels.FromSeries&&(e=c.seriesLabels),null!=this.series.chart&&null!=e&&e.visible){let t=e.stimulsoft().as(Q.d.IStiPieSeriesLabels);if(null!=t&&t.visible&&(0==t.step||i%t.step==0)){var Z,q=0!=L.width?f-L.width:f-h,$={ref:Z};let e=t.core.renderLabel(L,n,a,f,q,p+J/2,i,Math.abs(E),E,this.getArgumentText(L,i),this.getTag(i),!1,m,d,W,$,!1,0);Z=$.ref,null!=e&&(e.duration=r,e.beginTime=new K(o.ticks/L.values.length*m),l.createChildGeoms(),l.childGeoms.push(e))}}m++,p+=J,i++}f-=0!=L.width?L.width+.2*h:1.2*h}}checkNonZerovalue(e,t,i,r,s=!1){let n=0,l=0,a=0,o=0,h=null;for(var u of e){var d,c;for(c of s?u.valuesStart:u.values)0==c||null==c||isNaN(c)||(n++,o=c,h=u,1==n&&(a=l)),l++}return t.ref=n,i.ref=a,r.ref=h,o}getGradPerValue(e){let t=0;for(var i of e[0].values)t+=Math.abs(i);return 360/t}getPercentPerValue(e){let t=0;for(var i of e[0].values)t+=Math.abs(i);return 1/t*100}getArgumentText(e,t){if(e.arguments.length>t)return e.arguments[t].toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}get localizedName(){return x.get("Chart","Doughnut")}constructor(e){super(e)}},Q.d.StiCandlestickSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(t,i){if(super.applyStyle(t,i),this.series.allowApplyStyle){var r=t.core.getColumnBrush(i);this.series.brush=r;let e=t.core.getColumnBorder(i);ee.transparent.equals(e)&&(e=rt.toColor(r)),this.series.borderColor=e}}renderSeries(e,t,h,i){var u,u;if(null==i||0==i.length||null==this.series.chart)return;let d=h.area;var c=d.axisCore.getDividerY(),m=Q.d.StiChartHelper.globalBeginTimeElement,S;for(S of i){var g=S.valuesOpen,p=S.valuesClose,f=S.valuesHigh,w=S.valuesLow,x=Math.min(Math.min(g.length,p.length),Math.min(f.length,w.length)),r=S.arguments.length,s=Math.min(x,r),C=S.arguments.stimulsoft().getKeys();for(let o=0;o<s;o++){let e=g[o],t=p[o],i=f[o],r=w[o];if(null==e||null==t||null==i||null==r)continue;let s=0;for(var b of d.xAxis.info.stripLines.list){if((null==(u=S.arguments.stimulsoft().getByIndex(o,C))?void 0:u.toString())==(null==(u=b.valueObject)?void 0:u.toString()))break;s++}var y=d.xAxis.info.dpi,A;let n=new ie,l;e>t?(n=S.brush,l=S.borderColor,i<e&&(i=e),t<r&&(r=t)):(n=S.brushNegative,l=S.borderColorNegative,r>e&&(r=e),t>i&&(i=t),e=p[o],t=g[o]),d.reverseVert&&e>t&&(A=e,e=t,t=A,A=r,r=i,i=A);var A=d.yAxis.info.dpi,v=Math.abs(c-e*A),L=Math.abs(c-t*A),T=Math.abs(c-i*A),k=Math.abs(c-r*A),I=s*y,y=new re(I-y/4,v,y/2,L-v);n=S.processSeriesBrushes(o,n);let a=new Q.d.StiCandlestickSeriesElementGeom(h,S,y,v,L,T,k,I,s-1,n,l,new K(m.ticks/x*o));if(null!=a&&null!=S.core.interaction){let e=new At;e.fill(h.area,S,o),a.interaction=e}h.createChildGeoms(),h.childGeoms.push(a)}}}get localizedName(){return x.get("Chart","Candlestick")}constructor(e){super(e)}},Q.d.StiStockSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.lineColor=t)}renderSeries(e,t,l,i){var a,a;if(null==i||0==i.length||null==this.series.chart)return;let o=l.area;var h=o.axisCore.getDividerY(),u=Q.d.StiChartHelper.globalBeginTimeElement,d;for(d of i){var c=d.valuesOpen,m=d.valuesClose,S=d.valuesHigh,g=d.valuesLow,p=Math.min(Math.min(c.length,m.length),Math.min(S.length,g.length)),r=d.arguments.length,s=Math.min(p,r);for(let n=0;n<s;n++){var f=c[n],w=m[n],x=S[n],C=g[n];let e=0;var b=d.arguments.stimulsoft().getKeys(),y;for(y of o.xAxis.info.stripLines.list){if((null==(a=d.arguments.stimulsoft().getByIndex(n,b))?void 0:a.toString())==(null==(a=y.valueObject)?void 0:a.toString()))break;e++}var A=o.xAxis.info.dpi;let t=d.lineColor;if(!d.allowApplyColorNegative&&f<w&&(t=d.lineColorNegative),null==f||null==w||null==x||null==C)continue;var v=o.yAxis.info.dpi;let i=Math.abs(h-f*v),r=Math.abs(h-w*v);var f=Math.abs(h-x*v),w=Math.abs(h-C*v),x=e*A,C,v=(o.reverseHor&&(C=i,i=r,r=C),new re(x-A/3,Math.min(f,w),2*A/3,Math.abs(w-f)));t=d.processSeriesColors(n,t);let s=new Q.d.StiStockSeriesElementGeom(l,d,v,i,r,f,w,x,e-1,t,new K(u.ticks/p*n));if(null!=s&&null!=d.core.interaction){let e=new At;e.fill(l.area,d,n),s.interaction=e}l.createChildGeoms(),l.childGeoms.push(s)}}}get localizedName(){return x.get("Chart","Stock")}constructor(e){super(e)}},Q.d.StiStackedBarSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.brush.is(Ce)&&(i.brush.angle+=90),i.brush.is(be)&&(i.brush.angle+=90),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(S,g,p,f){if(null==f||0==f.length||null==this.series.chart)return;let w=[],x=[];var e;let C=p.area;var t=this.series,b=C.axisCore.getDividerX();let y=C.xAxis.info.dpi;var A=C.axisCore.valuesCount;let v=[],r=0;for(let i=0;i<f.length;i++){let t=[];for(let e=0;e<f[i].values.length;e++)t.push(r),r++;v.push(t)}var L=r,i;for(let m=0;m<A;m++){var T,k,s={ref:T=0},n={ref:k=0},s=(this.calculateTotalWidth(f,m,s,n),T=s.ref,k=n.ref,C.yAxis.info.stripPositions[C.yAxis.startFromZero?m+1:m]-C.yAxis.info.step/2),I=C.yAxis.info.step-C.yAxis.info.step*(1-t.width),F=s+(C.yAxis.info.step-I)/2,l,n,s;let d=0,c=0;if(0==f.length)return;if(f[0].showShadow){for(let t=0;t<f.length;t++)if(m<f[t].values.length){var a=f[t];let e=C.reverseVert?a.values[m]:a.values[a.values.length-m-1];0<(e=C.reverseHor&&null!=e?-e:e)?d+=e:c+=e}if(this.series.is(Q.d.IStiFullStackedBarSeries)){var n=C.reverseHor?k:T,s=C.reverseHor?T:k;if(0<n&&0<s){var o=new re(-8,F,g.width+8,I),o=new Q.d.StiStackedBarSeriesShadowElementGeom(f[0],o,!1,!1);p.createChildGeoms(),p.childGeoms.push(o)}else if(0<n){let e=new re(C.axisCore.getDividerX()-8,F,g.width-C.axisCore.getDividerX()+8,I);var o=new Q.d.StiStackedBarSeriesShadowElementGeom(f[0],e.clone(),!1,!1);p.createChildGeoms(),p.childGeoms.push(o)}else if(0<s){let e=new re(-8,F,C.axisCore.getDividerX()+8,I);var n=new Q.d.StiStackedBarSeriesShadowElementGeom(f[0],e.clone(),!1,!1);p.createChildGeoms(),p.childGeoms.push(n)}}else{if(0<d){let e=new re(b,F,d*y,I);e.x-=7,e.width+=7;var s=new Q.d.StiStackedBarSeriesShadowElementGeom(f[0],e,!1,!0);p.createChildGeoms(),p.childGeoms.push(s)}c<0&&(n=new re(b+c*y,F,-c*y,I),s=new Q.d.StiStackedBarSeriesShadowElementGeom(f[0],n,!0,!1),p.createChildGeoms(),p.childGeoms.push(s))}}d=0;for(let u=c=0;u<f.length;u++){let h=f[u];if(m<h.values.length){let s=v[u][m],n=C.reverseVert?h.values[m]:h.values[h.values.length-m-1],l=null!=n?-n:n;var B=C.reverseHor?f.stimulsoft().toList().cast().sum(e=>e.values[m]):f.stimulsoft().toList().cast().sum(e=>e.values[h.values.length-m-1]);!this.series.is(Q.d.IStiFullStackedBarSeries)||0==T&&0==k||null==l||(y=0<l?C.axisCore.getDividerX()/k:(g.width-C.axisCore.getDividerX())/T);let e=(l=C.reverseHor&&null!=l?-l:l)*y,t=-e+b,a=(0<l?t-=d:(t=c+b,e=-e),!h.showZeros||0!=l&&null!=l||(e=Math.max(S.options.zoom,1),C.reverseHor||(t-=e)),new re(t,F,e,I));a=this.correctRect(a,g.clone());let i,r=(i=l<0?re.fromLTRB(a.left,a.top,a.left,a.bottom):re.fromLTRB(a.right,a.top,a.right,a.bottom),p.view.clientRectangle.clone()),o=(r.x=0,r.y=0,a.clone());if(o.x+=p.clientRectangle.x,o.y+=p.clientRectangle.y,o.bottom>r.y&&o.y<r.bottom||this.series.chart.area.yAxis.range.auto){let e=h.core.getSeriesBrush(s,L);if(h.allowApplyBrushNegative&&0<l&&(e=h.brushNegative),e=h.processSeriesBrushes(A-1-m,e),0!=a.height&&0<P.round2(a.width,2)&&null!=e){var R=h.core.getSeriesBorderColor(s,L);let t=new Q.d.StiStackedBarSeriesElementGeom(p,l,m,e,R,h,a,i);if(null!=h.core.interaction){let e=new At;e.fill(C,h,A-1-m),t.interaction=e}x.push(t)}let r=h.core.getSeriesLabels();if(null!=r&&r.visible&&0<P.round2(a.width,2)){let t=new te(a.x,a.y+a.height/2),i=new te(a.right,a.y+a.height/2);if(l<0&&(i.x=a.x,t.x=a.right),l<0&&(i.x=a.x,t.x=a.right),0==r.step||m%r.step==0){let e=l;h.stimulsoft().as(Q.d.StiSeries).isTotalLabel&&(e=n=B);var R=C.yAxis.startFromZero?m+1:m,B=C.yAxis.info.stripLines.count>m?C.yAxis.info.stripLines.getByIndex(R):null,B=r.core.renderLabel(h,S,t,i,m,e,n,C.axisCore.getArgumentLabel(B,h),h.core.getTag(m),s,L,g);null!=B&&w.push(B)}}}0<l?d+=e:c+=e,s++}}}for(let e=x.length-1;0<=e;e--){var h=x[e];p.createChildGeoms(),p.childGeoms.push(h)}for(i of w)p.createChildGeoms(),p.childGeoms.push(i),i.clientRectangle=this.checkLabelsRect(i.seriesLabels,p,i.clientRectangle.clone())}calculateTotalWidth(e,t,i,r){let s=0,n=0;if(this.series.is(Q.d.IStiFullStackedBarSeries))for(var l of e){var l;t<l.values.length&&(0<(l=this.series.chart.area.reverseVert?l.values[t]:l.values[l.values.length-t-1])?s+=l:n+=Math.abs(l))}i.ref=s,r.ref=n}correctRect(e,t){if(e.x>t.width||e.right<0)return e.width=0,e;var i,i;return e.x<0&&(i=-e.x,e.x+=i,e.width-=i),e.right>t.width&&(i=e.right-t.width,e.width-=i),e}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}getSeriesBorderColor(e,t){var i=this.series,e=super.getSeriesBorderColor(e,t);if(null==e)return i.borderColor;return e}get localizedName(){return x.get("Chart","StackedBar")}constructor(e){super(e)}},Q.d.StiFullStackedBarSeriesCoreXF=class extends Q.d.StiStackedBarSeriesCoreXF{get localizedName(){return x.get("Chart","FullStackedBar")}constructor(e){super(e)}},Q.d.StiStackedBaseLineSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.lineColor=t,i.lighting=e.core.seriesLighting,i.marker.visible=e.core.markerVisible,null!=i.marker&&(i.marker.brush=new ie(w.light(t,100)),i.marker.borderColor=w.dark(t,100)),null!=i.lineMarker&&(i.lineMarker.brush=new ie(w.light(t,50)),i.lineMarker.borderColor=w.dark(t,150)))}clipLinePoints(e,t,i,r,s,n,l,a){let o=s.ref,h=n.ref,u=l.ref,d=a.ref;if(this.series.chart.area.xAxis.range.auto)return u=0,d=i.length,o=i,h=r,s.ref=o,n.ref=h,l.ref=u,void(a.ref=d);u=-1,d=-1;let c=t.view.clientRectangle.clone(),m=(c.x=0,c.y=0,0);for(var S of i){let e=new te(S.x,S.y);if(e.x+=t.clientRectangle.x,e.y+=t.clientRectangle.y,c.x<=e.x&&e.x<c.right&&-1==u&&(u=m),!(c.x<=e.x&&e.x<c.right)&&-1!=u){d=m;break}m++}-1==d&&(d=i.length-1),u--,d++,u<0&&(u=0);var g=(d=d>=i.length?i.length-1:d)-u+1;if(g==i.length)return o=i,h=r,s.ref=o,n.ref=h,l.ref=u,void(a.ref=d);o=U.create(te,g,!0),U.copy(i,u,o,g),null!=r?(h=U.create(te,g,!0),U.copy(r,u,h,g)):h=null,s.ref=o,n.ref=h,l.ref=u,a.ref=d}renderMarkers(s,n,e){var l=n.area,a=this.series;if(0==e.length)return;var o=!a.marker.visible&&0<a.toolTips.length;if(null!=a.marker&&(a.marker.visible||o)){let r=0;for(var h of e){if(null!=h){let e=l.reverseHor?this.series.values[this.series.values.length-r-1]:this.series.values[r],t=(null==e&&a.showNulls&&(e=0),n.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),new te(h.x,h.y));if(i.x+=n.clientRectangle.x,i.y+=n.clientRectangle.y,t.contains(i.x,i.y)){let t=new Q.d.StiMarkerGeom(this.series,r,e,h,a.marker,this.series.showShadow,s.options.zoom,o);if(null!=t){if(null!=a.core.interaction){let e=new At;e.fill(l,a,r),t.interaction=e}n.createChildGeoms(),n.childGeoms.push(t)}}}r++}}}renderLines(e,t,i){}renderAreas(e,t,i){}renderSeries(o,h,t,u){var d=this.series;let l=[];var s=t.area;if(null==u||0==u.length||null==this.series.chart)return;let c=s;var m=this.series.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?c.axisCore.getDividerY():c.axisCore.getDividerRightY(),S=c.xAxis.core.getStartFromZero(),a,e;let g=new he,p=new he,i=[],r=[],f=[],w=c.yAxis.info.dpi;this.series.yAxis==Q.d.StiSeriesYAxis.RightYAxis&&(w=c.yRightAxis.info.dpi);for(let e=0;e<u.length;e++){let s=u[e];var x=s.values.length;let n=U.create(te,x,!0),l=U.create(te,x,!0),a=U.create(String,x,!0);for(let r=0;r<x;r++){var C=S?c.xAxis.info.stripPositions[r+1]:c.xAxis.info.stripPositions[r];let i=c.reverseHor?s.values[s.values.length-r-1]:s.values[r];if(null!=i||s.showNulls){null==i&&s.showNulls&&(i=0);var b,y,A={ref:b=0},v={ref:y=0},A=(this.calculateTotalHeight(u,r,A,v),b=A.ref,y=v.ref,!d.core.isFullStacked||0==b&&0==y||null==i||(w=0<=i?m/b:(h.height-m)/y),-(i=c.reverseVert&&null!=i?-i:i)*w);let e=0,t=(0<=i?null!=g.get(r)&&(e=g.get(r)):null!=p.get(r)&&(e=p.get(r)),A+=e,(0<=i?g:p).set(r,A),l[r]=new te(C,e+m),n[r]=new te(C,A+m),(S?c.xAxis.info.stripLines.getByIndex(r+1):c.xAxis.info.stripLines.getByIndex(r)).valueObject);a[r]=null==t?"":t.stimulsoft().toString()}else l[r]=null,n[r]=null,a[r]=null}if(0<n.length&&0<l.length){var L,T,k,I,F={ref:k=null},B={ref:I=null},G={ref:L},V={ref:T};this.clipLinePoints(o,t,l,n,F,B,G,V),k=F.ref,I=B.ref,L=G.ref,T=V.ref;let e=new Q.d.StiSeriesPointsInfo;e.pointsStart=k,e.pointsEnd=I,e.pointsIds=a,s.core.renderAreas(o,t,e)}i.push(n),r.push(l),f.push(a)}let R=0,P=U.create(Number,c.axisCore.valuesCount),D=U.create(Number,c.axisCore.valuesCount);for(let e=0;e<c.axisCore.valuesCount;e++)P[e]=m,D[e]=m;for(a of i){var M,E,N,X,_={ref:N=null},H={ref:X=null},z={ref:M},j={ref:E};this.clipLinePoints(o,t,a,null,_,H,z,j),N=_.ref,X=H.ref,M=z.ref,E=j.ref;let s=u[R],e=new Q.d.StiSeriesPointsInfo,n=(e.points=N,e.pointsFrom=r[R],e.pointsIds=f[R],s.core.renderLines(o,t,e),s.core.getSeriesLabels());if(null!=n&&n.visible)for(let r=M;r<=E;r++)if(r<s.values.length){let e=s.values[r],t=m,i=(0<(e=null==e&&d.showNulls?0:e)?(t=P[r],null!=a[r]&&(P[r]=a[r].y)):(t=D[r],null!=a[r]&&(D[r]=a[r].y)),e);c.reverseVert&&null!=e&&(i=-i);var O=a[r],Y,O;null!=O&&(Y=new te(O.x,t),0!=n.step&&r%n.step!=0||null!=(O=n.core.renderLabel(s,o,O,Y,r,i,e,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(r),s),s.core.getTag(r),0,1,h))&&l.push(O))}R++}for(e of l)t.createChildGeoms(),t.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(e.seriesLabels,t,e.clientRectangle.clone())}calculateTotalHeight(e,t,i,r){var s=this.series;let n=0,l=0;if(s.core.isFullStacked)for(var a of e)if(t<a.values.length){let e=this.series.chart.area.reverseHor?a.values[a.values.length-t-1]:a.values[t];0<(e=null==e&&s.showNulls?0:e)?n+=e:l+=Math.abs(e)}i.ref=n,r.ref=l}correctPoint(e,t){if(e.y<0)return new te(e.x,0);if(e.y>t.height)return new te(e.x,t.height);return e}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return new ie(w.dark(i.lineColor,20));return e}getSeriesBorderColor(e,t){var i=this.series,e=super.getSeriesBorderColor(e,t);if(null==e)return i.lineColor;return e}get isFullStacked(){return this.is2(Q.d.StiFullStackedAreaSeriesCoreXF)||this.is2(Q.d.StiFullStackedLineSeriesCoreXF)||this.is2(Q.d.StiFullStackedSplineSeriesCoreXF)||this.is2(Q.d.StiFullStackedSplineAreaSeriesCoreXF)}constructor(e){super(e)}},Q.d.StiStackedLineSeriesCoreXF=class extends Q.d.StiStackedBaseLineSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;var r=new Q.d.StiStackedLineSeriesGeom(t,i,this.series);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r)),this.renderMarkers(e,t,i.points)}get localizedName(){return x.get("Chart","StackedLine")}constructor(e){super(e)}},Q.d.StiStackedAreaSeriesCoreXF=class extends Q.d.StiStackedLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.pointsStart||i.pointsStart.length<=1)return;if(null==i.pointsEnd||i.pointsEnd.length<=1)return;var i=new Q.d.StiStackedAreaSeriesGeom(t,i,this.series);null!=i&&(t.createChildGeoms(),t.childGeoms.push(i))}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}get localizedName(){return x.get("Chart","StackedArea")}constructor(e){super(e)}},Q.d.StiFullStackedAreaSeriesCoreXF=class extends Q.d.StiStackedAreaSeriesCoreXF{get localizedName(){return x.get("Chart","FullStackedArea")}constructor(e){super(e)}},Q.d.StiStackedColumnSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(m,S,g,p){if(null==p||0==p.length||null==this.series.chart)return;let f=[],w=[];var e;let x=g.area;var C=this.series,t=x.xAxis.core.getStartFromZero(),b=x.axisCore.getDividerY();let y=x.yAxis.info.dpi,A=(this.series.yAxis==Q.d.StiSeriesYAxis.RightYAxis&&(y=x.yRightAxis.info.dpi),[]),r=0;for(let i=0;i<p.length;i++){let t=[];for(let e=0;e<p[i].values.length;e++)t.push(r),r++;A.push(t)}var v=r,i;for(let c=0;c<x.axisCore.valuesCount;c++){var L,T,s={ref:L=0},n={ref:T=0},s=(this.calculateTotalHeight(p,c,s,n),L=s.ref,T=n.ref,t?x.xAxis.info.stripPositions[c+1]:x.xAxis.info.stripPositions[c]),k=(s-=x.xAxis.info.step/2,x.xAxis.info.step-x.xAxis.info.step*(1-C.width)),I=s+(x.xAxis.info.step-k)/2,l,n,s;let u=0,d=0;if(0==p.length)return;if(p[0].showShadow){for(let t=0;t<p.length;t++)if(c<p[t].values.length){var a=p[t];let e=x.reverseHor?a.values[a.values.length-c-1]:a.values[c];null!=e&&(0<(e=x.reverseVert?-e:e)?u+=e:d+=e)}if(this.is(Q.d.StiFullStackedColumnSeriesCoreXF)){var n=x.reverseVert?T:L,s=x.reverseVert?L:T,o,o,o,n,n,s;0<n&&0<s?(o=new re(I,-8,k,S.height+8),o=new Q.d.StiStackedColumnSeriesShadowElementGeom(p[0],o,!1,!1),g.createChildGeoms(),g.childGeoms.push(o)):0<n?(o=new re(I,-8,k,x.axisCore.getDividerY()+8),n=new Q.d.StiStackedColumnSeriesShadowElementGeom(p[0],o,!1,!1),g.createChildGeoms(),g.childGeoms.push(n)):0<s&&(n=new re(I,x.axisCore.getDividerY()-8,k,S.height-x.axisCore.getDividerY()+8),s=new Q.d.StiStackedColumnSeriesShadowElementGeom(p[0],n,!1,!1),g.createChildGeoms(),g.childGeoms.push(s))}else{if(0<u&&(n=new re(I,-u*y+b,k,u*y),s=new Q.d.StiStackedColumnSeriesShadowElementGeom(p[0],n,!0,!1),g.createChildGeoms(),g.childGeoms.push(s)),d<0){let e=new re(I,b,k,-d*y);e.y-=7,e.height+=7;var n=new Q.d.StiStackedColumnSeriesShadowElementGeom(p[0],e,!1,!0);g.createChildGeoms(),g.childGeoms.push(n)}}}u=0;for(let h=d=0;h<p.length;h++){let o=p[h];if(c<o.values.length){let n=A[h][c],l=x.reverseHor?o.values[o.values.length-c-1]:o.values[c];var F=x.reverseHor?p.stimulsoft().toList().cast().sum(e=>e.values[o.values.length-c-1]):p.stimulsoft().toList().cast().sum(e=>e.values[c]);!this.series.is(Q.d.IStiFullStackedColumnSeries)||0==L&&0==T||null==l||(y=0<=l?x.axisCore.getDividerY()/L:(S.height-x.axisCore.getDividerY())/T);let e=(l=x.reverseVert&&null!=l?-l:l)*y,t=-e+b,a=(0<l?t-=u:(t=d+b,e=-e),!C.showZeros||0!=l&&null!=l||(e=Math.max(m.options.zoom,1),x.reverseVert||(t-=e)),new re(I,t,k,e));a=this.correctRect(a,S);let i,r=(i=l<0?re.fromLTRB(a.left,a.top,a.right,a.top):re.fromLTRB(a.left,a.bottom,a.right,a.bottom),g.view.clientRectangle.clone()),s=(r.x=0,r.y=0,a.clone());if(s.x+=g.clientRectangle.x,s.y+=g.clientRectangle.y,s.right>r.x&&s.x<r.right||this.series.chart.area.xAxis.range.auto){let e=o.core.getSeriesBrush(n,v);if(o.allowApplyBrushNegative&&l<0&&(e=o.brushNegative),e=o.processSeriesBrushes(c,e),0!=a.width&&0<P.round2(a.height,2)&&null!=e){var B=o.core.getSeriesBorderColor(n,v);let t=new Q.d.StiStackedColumnSeriesElementGeom(g,l,c,e,B,o,a,i);if(null!=o.core.interaction){let e=new At;e.fill(x,o,c),t.interaction=e}w.push(t)}let s=o.core.getSeriesLabels();if(null!=s&&s.visible&&0<P.round2(a.height,2)){let t=new te(a.x+a.width/2,a.y),i=new te(a.x+a.width/2,a.bottom),r=o.values[c];if(x.reverseVert&&null!=r&&(r=-l),l<0&&(i.y=a.y,t.y=a.bottom),0==s.step||c%s.step==0){let e=l;o.stimulsoft().as(Q.d.StiSeries).isTotalLabel&&(e=r=F);var B=x.xAxis.startFromZero?c+1:c,F=s.core.renderLabel(o,m,t,i,c,e,r,x.axisCore.getArgumentLabel(x.xAxis.info.stripLines.getByIndex(B),o),o.core.getTag(c),n,v,S);null!=F&&f.push(F)}}}0<l?u+=e:d+=e,n++}}}for(let e=w.length-1;0<=e;e--){var h=w[e];g.createChildGeoms(),g.childGeoms.push(h)}for(i of f)g.createChildGeoms(),g.childGeoms.push(i),i.clientRectangle=this.checkLabelsRect(i.seriesLabels,g,i.clientRectangle.clone())}calculateTotalHeight(e,t,i,r){let s=0,n=0;if(this.series.is(Q.d.IStiFullStackedColumnSeries))for(var l of e){var l;t<l.values.length&&(0<(l=this.series.chart.area.reverseHor?l.values[l.values.length-t-1]:l.values[t])?s+=l:n+=Math.abs(l))}i.ref=s,r.ref=n}correctRect(e,t){if(e.y>t.height||e.bottom<0)return e.height=0,e;var i,i;return e.top<0&&(i=-e.top,e.y+=i,e.height-=i),e.bottom>t.height&&(i=e.bottom-t.height,e.height-=i),e}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}getSeriesBorderColor(e,t){var i=this.series,e=super.getSeriesBorderColor(e,t);if(null==e)return i.borderColor;return e}get localizedName(){return x.get("Chart","StackedColumn")}constructor(e){super(e)}},Q.d.StiFullStackedColumnSeriesCoreXF=class extends Q.d.StiStackedColumnSeriesCoreXF{get localizedName(){return x.get("Chart","FullStackedColumn")}constructor(e){super(e)}},Q.d.StiFullStackedLineSeriesCoreXF=class extends Q.d.StiStackedLineSeriesCoreXF{get localizedName(){return x.get("Chart","FullStackedLine")}constructor(e){super(e)}},Q.d.StiStackedSplineSeriesCoreXF=class extends Q.d.StiStackedBaseLineSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;var r=new Q.d.StiStackedSplineSeriesGeom(t,i,this.series);t.createChildGeoms(),t.childGeoms.push(r),this.renderMarkers(e,t,i.points)}get localizedName(){return x.get("Chart","StackedSpline")}constructor(e){super(e)}},Q.d.StiStackedSplineAreaSeriesCoreXF=class extends Q.d.StiStackedSplineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.pointsStart||i.pointsStart.length<=1)return;if(null==i.pointsEnd||i.pointsEnd.length<=1)return;var i=new Q.d.StiStackedSplineAreaSeriesGeom(t,i,this.series);null!=i&&(t.createChildGeoms(),t.childGeoms.push(i))}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}get localizedName(){return x.get("Chart","StackedSplineArea")}constructor(e){super(e)}},Q.d.StiFullStackedSplineAreaSeriesCoreXF=class extends Q.d.StiStackedSplineAreaSeriesCoreXF{get localizedName(){return x.get("Chart","FullStackedSplineArea")}constructor(e){super(e)}},Q.d.StiFullStackedSplineSeriesCoreXF=class extends Q.d.StiStackedSplineSeriesCoreXF{get localizedName(){return x.get("Chart","FullStackedSpline")}constructor(e){super(e)}},Z.Base.Context.StiCloseFigureSegmentGeom);Q.d.StiFunnelSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{constructor(e){super(e)}applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}isNotNullValues(e){for(var t of e)for(var i of t.values)if(null!=i)return!0;return!1}renderSeries(a,o,h,e){if(null==e||0==e.length||null==this.series.chart||null!=e&&!this.isNotNullValues(e))return void this.renderFunnelEmpty(h,o);var t=e.stimulsoft().toList().cast().stimulsoft().toArray(),u=this.getAllValues(t),d=this.getAllTrueValues(t),i,c;let m=0;for(i of e)null!=i.values&&(m+=i.values.length);if(0==m)return void this.renderFunnelEmpty(h,o);let S=this.getSingleValueHeight(m,o),g=this.getSingleValueWidth(u,o),p=(this.labels=this.series.chart.seriesLabels.stimulsoft().as(Q.d.IStiFunnelSeriesLabels),o.clone()),r=o.clone();for(c of e){var f=c,w,x,C;if(null!=this.labels&&this.labels.visible){for(let e=0;e<f.values.length;e++){c.values.length>e&&(w=f.values[e],x=e==f.values.length-1?w:f.values[e+1],0!=this.labels.step&&e%this.labels.step!=0||(C={ref:p},this.labels.core.renderLabel(c,a,e,w,x,this.getArgumentText(c,e),c.core.getTag(e),0,m,o,S,g,1,C),p=C.ref,r=p.width<r.width?p:r))}p=r.clone()}S=this.getSingleValueHeight(m,p),g=this.getSingleValueWidth(u,p);let s=0,n=0,l;l=null!=this.labels&&this.labels.is(Q.d.StiOutsideLeftFunnelLabels)?p.width/2+p.x:p.width/2;var b=Q.d.StiChartHelper.globalBeginTimeElement,y;for(y of t){var A={ref:null},v={ref:null},L,A=(this.checkNonZerovalue(e,A,v,{ref:null}),A.ref),v=v.ref;if(0!=A)if(1==A){let e=y.brush,t=(y.allowApplyBrush&&(e=y.core.getSeriesBrush(v,y.values.length),e=y.processSeriesBrushes(v,e)),y.borderColor),i=(y.allowApplyBorderColor&&(t=y.core.getSeriesBorderColor(n,m)),this.renderFunnelElement(t,e,y.values[v],0,n,v,y,h,p,S,g,new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks)));if(null!=i){if(null!=y.core.interaction){let e=new At;e.fill(h.area,y,v),i.interaction=e}h.createChildGeoms(),h.childGeoms.push(i)}}else for(let r=0;r<y.values.length;r++){var T=this.getCurrentValue(y,s,d);if(0==T&&!y.showZeros){s++;continue}var k=this.getNextCurrentValue(y,s,d);let e=y.brush,t=(y.allowApplyBrush&&(e=y.core.getSeriesBrush(s,m),e=y.processSeriesBrushes(s,e)),y.borderColor),i=(y.allowApplyBorderColor&&(t=y.core.getSeriesBorderColor(n,m)),this.renderFunnelElement(t,e,T,k,n,r,y,h,p,S,g,new K(b.ticks/u.length*r)));if(null!=i){if(null!=c.core.interaction){let e=new At;e.fill(h.area,c,r),i.interaction=e}h.createChildGeoms(),h.childGeoms.push(i)}if(null!=this.labels&&this.labels.visible&&(0==this.labels.step||r%this.labels.step==0)){var I={ref:p};let e=this.labels.core.renderLabel(y,a,n,T,k,this.getArgumentText(y,r),y.core.getTag(r),n,m,o,S,g,l,I);p=I.ref,null!=e&&(h.createChildGeoms(),h.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(this.labels,h,e.clientRectangle))}n++,s++}}}}checkNonZerovalue(e,t,i,r,s=!1){let n=0,l=0,a=0,o=0,h=null;for(var u of e){var d,c;for(c of s?u.valuesStart:u.values)0==c||null==c||isNaN(c)||(n++,o=c,h=u,1==n&&(a=l)),l++}return t.ref=n,i.ref=a,r.ref=h,o}getSeriesBorderColor(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new Q.d.StiStyleCoreXF29;var e=i.getColorByIndex(e,t,this.seriesColors);return i.getColumnBorder(e)}getSeriesBrush(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new Q.d.StiStyleCoreXF29;var e=i.getColorByIndex(e,t,this.seriesColors),r;return i.getColumnBrush(e)}getCurrentValue(e,t,i){return i[t]}getNextCurrentValue(t,i,r){if(i!=r.length-1){let e=r[i+1];if(0==e&&!t.showZeros)while(0==e&&i<r.length-2)i++,e=r[i+1];return e}return r[i]}getAllValues(e){let t=new $;for(var i of e)for(var r of i.values){if(0==r&&!i.showZeros)continue;t.push(r)}return t.stimulsoft().toArray()}getAllTrueValues(e){let t=new $;for(var i of e)for(var r of i.values)t.push(r);return t.stimulsoft().toArray()}getValues(e){let t=[];for(var i of e.values){if(!e.showZeros&&0==i)continue;t.push(i)}return t.stimulsoft().toArray()}getArgumentText(e,t){var i=e.arguments.stimulsoft().getKeys();if(e.arguments.length>t&&null!=e.arguments.stimulsoft().getByIndex(t,i))return e.arguments.stimulsoft().getByIndex(t,i).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}renderFunnelEmpty(t,i){var r=[3,2,1],s=.9*i.height/r.length,n=.9*i.width/r.length;for(let e=0;e<r.length;e++){var l=r[e],a=e!=r.length-1?r[e+1]:r[e],l=this.measureFunnelElementCore(l,a,e,i,s,n);t.createChildGeoms(),t.childGeoms.push(new Q.d.StiFunnelEmptySeriesElementGeom(i,l))}}renderFunnelElement(e,t,i,r,s,n,l,a,o,h,u,d){var r=this.measureFunnelElementCore(i,r,s,o,h,u);return new Q.d.StiFunnelSeriesElementGeom(a,i,n,l,o,t,e,r,d)}getSingleValueHeight(e,t){return.9*t.height/e}getSingleValueWidth(e,t){let i=Number.MIN_VALUE;for(var r of e)i=i>r?i:r;return.9*t.width/i}measureFunnelElementCore(e,t,i,r,s,n){let l=new $;var a=.05*r.height;let o;o=null!=this.labels&&this.labels.is(Q.d.StiOutsideLeftFunnelLabels)?r.width/2+r.x:r.width/2;var r=new te(o-e/2*n,s*i+a),h,u,d,e=[r,new te(o+e/2*n,s*i+a),new te(o+t/2*n,s*(i+1)+a),new te(o-t/2*n,s*(i+1)+a),r];return l.push(new ft(e)),l.push(new kt),l}get localizedName(){return x.get("Chart","Funnel")}},Q.d.StiFunnelWeightedSlicesSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{constructor(e){super(e)}applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}isNotNullValues(e){for(var t of e)for(var i of t.values)if(null!=i)return!0;return!1}renderSeries(n,l,a,e){if(null==e||0==e.length||null==this.series.chart||null!=e&&!this.isNotNullValues(e))return void this.renderFunnelEmpty(a,l);var t=e.stimulsoft().toList().cast().stimulsoft().toArray(),i;let o=0;for(i of e)null!=i.values&&(o+=i.values.length);if(0==o)return void this.renderFunnelEmpty(a,l);let h=new $;var u=this.getAllValues(t),d=this.getAllTrueValues(t),c=.9*l.height/this.getSumValues(d);let m=0,S=0,g;g=null!=this.labels&&this.labels.is(Q.d.StiOutsideLeftFunnelLabels)?l.width/2+l.x:l.width/2;var p=Q.d.StiChartHelper.globalBeginTimeElement,f,r;for(f of e){let s=f;var w=this.getValues(s),x=(this.labels=this.series.chart.seriesLabels.stimulsoft().as(Q.d.StiFunnelSeriesLabels),{ref:null}),C={ref:null},b,x=(this.checkNonZerovalue(e,x,C,{ref:null}),x.ref),C=C.ref;if(0!=x)if(1==x){let e=s.brush,t=(s.allowApplyBrush&&(e=s.core.getSeriesBrush(C,s.values.length),e=s.processSeriesBrushes(C,e)),s.borderColor),i=(s.allowApplyBorderColor&&(t=s.core.getSeriesBorderColor(m,o)),this.renderFunnelElement(t,e,s.values[C],u,m,C,s,a,l,c,new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks)));if(null!=i){if(null!=s.core.interaction){let e=new At;e.fill(a.area,s,C),i.interaction=e}a.createChildGeoms(),a.childGeoms.push(i)}}else for(let r=0;r<w.length;r++){var y=w[r],A,v,y;if(!s.showZeros&&0==y){m++;continue}let e=s.brush,t=(s.allowApplyBrush&&(e=s.core.getSeriesBrush(m,o),e=s.processSeriesBrushes(m,e)),s.borderColor),i=(s.allowApplyBorderColor&&(t=s.core.getSeriesBorderColor(m,o)),this.renderFunnelElement(t,e,y,u,S,r,f,a,l,c,new K(p.ticks/f.values.length*r)));if(null!=i){if(null!=f.core.interaction){let e=new At;e.fill(a.area,f,r),i.interaction=e}a.createChildGeoms(),a.childGeoms.push(i)}null!=this.labels&&this.labels.visible&&(A=m==d.length-1?y:d[r+1],0!=this.labels.step&&r%this.labels.step!=0||(v={ref:l},y=this.labels.core.renderLabel(s,n,m,y,A,this.getArgumentText(s,r),s.core.getTag(r),m,o,l,c,0,g,v),l=v.ref,null!=y&&h.push(y))),S++,m++}}for(r of h)a.createChildGeoms(),a.childGeoms.push(r),r.clientRectangle=this.checkLabelsRect(this.labels,a,r.clientRectangle)}checkNonZerovalue(e,t,i,r,s=!1){let n=0,l=0,a=0,o=0,h=null;for(var u of e){var d,c;for(c of s?u.valuesStart:u.values)0==c||null==c||isNaN(c)||(n++,o=c,h=u,1==n&&(a=l)),l++}return t.ref=n,i.ref=a,r.ref=h,o}getSeriesBorderColor(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new Q.d.StiStyleCoreXF29;var e=i.getColorByIndex(e,t,this.seriesColors);return i.getColumnBorder(e)}getSeriesBrush(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new Q.d.StiStyleCoreXF29;var e=i.getColorByIndex(e,t,this.seriesColors),r;return i.getColumnBrush(e)}getAllValues(e){let t=new $;for(var i of e)for(var r of i.values){if(0==r&&!i.showZeros)continue;t.push(r)}return t.stimulsoft().toArray()}getAllTrueValues(e){let t=new $;for(var i of e)for(var r of i.values)t.push(r);return t.stimulsoft().toArray()}getValues(e){let t=[];for(var i of e.values){if(!e.showZeros&&0==i)continue;t.push(i)}return t.stimulsoft().toArray()}getArgumentText(e,t){var i=e.arguments.stimulsoft().getKeys();if(e.arguments.length>t&&null!=e.arguments.stimulsoft().getByIndex(t,i))return e.arguments.stimulsoft().getByIndex(t,i).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}renderFunnelEmpty(i,r){var s=[3,2,1],n=.9*r.height/this.getSumValues(s);for(let t=0;t<s.length;t++){let e=this.measureFunnelElementCore(t,r,n,s);i.createChildGeoms(),i.childGeoms.push(new Q.d.StiFunnelEmptySeriesElementGeom(r,e.stimulsoft().toList()))}}getPathFunnelEmpty(e){let t=new $;var i=.05*e.height,r=e.width/2,s=new te(r-.9*e.width/2,i),n=new te(r+.9*e.width/2,i),l=new te(r-.1*e.width/2,e.height+i-e.height/5),a,o,h,s=[s,n,new te(r+.1*e.width/2,e.height+i-e.height/5),new te(r+.1*e.width/2,e.height+i),new te(r-.1*e.width/2,e.height+i),l];return t.push(new ft(s)),t.push(new kt),t}renderFunnelElement(e,t,i,r,s,n,l,a,o,h,u){var s=this.measureFunnelElementCore(s,o,h,r);return new Q.d.StiFunnelSeriesElementGeom(a,i,n,l,o,t,e,s,u)}getSumValues(e){let t=0;for(var i of e)t+=Math.abs(i);return t}getSumLastValues(t,i){let r=0;for(let e=0;e<t;e++){if(e>=i.length)break;r+=Math.abs(i[e])}return r}measureFunnelElementCore(e,t,i,r){let s=[];var n=.05*t.height,l,a,e,r;let o,h=(o=null!=this.labels&&this.labels.is(Q.d.StiOutsideLeftFunnelLabels)?t.width/2+t.x:t.width/2,new te),u=new te,d=!1;var c=this.getSumLastValues(e,r);let m=!1,S=t.height-i*c,g=(S<t.height/5&&(S=t.height/5,m=!0),.9*t.width*S/t.height);l=new te(o-g/2,i*c+n),a=new te(o+g/2,i*c+n),c=this.getSumLastValues(e+1,r),(S=t.height-i*c)<t.height/5&&(S=t.height/5,m||(g=.9*t.width*S/t.height,h=new te(o-g/2,t.height+n-S),u=new te(o+g/2,t.height+n-S),d=!0)),g=.9*t.width*S/t.height,e=new te(o+g/2,i*c+n),r=new te(o-g/2,i*c+n);let p;return p=d?[l,a,u,e,r,h,l]:[l,a,e,r,l],s.push(new ft(p)),s.push(new kt),s}get localizedName(){return x.get("Chart","FunnelWeightedSlices")}},Q.d.StiGanttSeriesCoreXF=class extends Q.d.StiClusteredBarSeriesCoreXF{renderSeries(h,u,d,e){var c;let m=[];if(null==e||0==e.length||null==this.series.chart)return;let S=d.area;var g=S.axisCore.getDividerX(),p=S.axisCore.getDividerY(),f,t;for(f of e){let e=f.values.length;f.valuesEnd.length<e&&(e=f.valuesEnd.length);var i=f.arguments.length,w=Math.min(e,i);let a=i-1,o=0;var x=f.arguments.stimulsoft().getKeys();while(o<w){let i=f.values[o],r=f.valuesEnd[o];null==i&&(i=0),null==r&&(r=0);var C=Math.abs(i-r)*S.xAxis.info.dpi;let e=g;var b=Math.min(i,r),y;S.reverseHor?e-=b*S.xAxis.info.dpi+C:e+=b*S.xAxis.info.dpi;let t=S.yAxis.info.stripLines.count-1;for(y of S.yAxis.info.stripLines.list){let e=null!=(c=f.arguments.stimulsoft().getByIndex(o,x))?c:"";if(null==e&&null==y.valueObject||null!=e&&null!=y.valueObject&&e.toString()==y.valueObject.toString())break;t--}S.reverseVert&&(t=S.yAxis.info.stripLines.count-1-t);var A=S.yAxis.info.step/2;let s=p-A/2;S.reverseVert?s+=S.yAxis.info.step*t:s-=S.yAxis.info.step*t;var v=new re(e,s,C,A),L=re.fromLTRB(v.left,v.top,v.left,v.bottom),T=f.core.getSeriesBrush(a,w),T=f.processSeriesBrushes(a,T);let n=new Q.d.StiGanttSeriesElementGeom(d,b,o,f,v,L,T);if(null!=f.core.interaction){let e=new At;e.fill(S,f,o),n.interaction=e}d.createChildGeoms(),d.childGeoms.push(n);let l=f.core.getSeriesLabels();if(null!=l&&l.visible)if(l.is(Q.d.StiValueAxisLabels)){var v=new te(e,s+A/2),L=new te(e+C,s+A/2),T;if(0==l.step||o%l.step==0){r<i&&(T=i,i=r,r=T);let e=l.core.renderLabel(f,h,L,L,o,r,r,f.arguments.stimulsoft().getByIndex(o,x).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),f.core.getTag(o),0,1,u),t=l.core.renderLabel(f,h,v,v,o,i,i,f.arguments.stimulsoft().getByIndex(o,x).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),f.core.getTag(o),0,1,u);null!=t&&(m.push(t),t.clientRectangle=this.checkLabelsRect(l,d,t.clientRectangle.clone())),null!=e&&(m.push(e),e.clientRectangle=this.checkLabelsRect(l,d,e.clientRectangle.clone()))}}else if(!l.is(Q.d.StiNoneLabels)){let i,r;r=l.is(Q.d.StiCenterAxisLabels)?(i=new te(e,s+A/2),new te(e+C,s+A/2)):(i=new te(e+C/2,s),new te(e+C/2,s));var T=b;if(0==l.step||o%l.step==0){let e=f.arguments.stimulsoft().getByIndex(o,x),t=(e=null==e?"":e,l.core.renderLabel(f,h,r,i,o,b,T,e.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),f.core.getTag(o),0,1,u));null!=t&&(m.push(t),t.clientRectangle=this.checkLabelsRect(l,d,t.clientRectangle.clone()))}}a-=1,o++}}for(t of m)d.createChildGeoms(),d.childGeoms.push(t)}get localizedName(){return x.get("Chart","Gantt")}constructor(e){super(e)}};{class ir{constructor(e,t,i){this.value=e,this.series=t,this.index=i}}Q.d.DataPictorial=ir,Q.d.StiPictorialSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{constructor(e){super(e),this.singleSizeConst=new Y(25,25)}applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t))}get localizedName(){return x.get("Chart","Pictorial")}getSingleSize(e){return new Y(this.singleSizeConst.width*e.options.zoom,this.singleSizeConst.height*e.options.zoom)}renderSeries(e,l,a,t){var o=this.getSingleSize(e),e=Math.floor(l.width/o.width),i=Math.floor(l.height/o.height),r=e*o.width,s=i*o.height,n=l.x+(l.width-r)/2,h=l.y+(l.height-s)/2,u=new re(n,h,r,s),n=e*i,d=this.series.chart.area,c,m;let S=[];for(c of t){var g=c.stimulsoft().as(Q.d.StiPictorialSeries),p;let e=0;for(p of c.values){var f=null==p?0:d.roundValues?Math.round(p):p;S.push(new ir(Math.abs(f),g,e)),e++}}let w=0;for(m of S)w+=m.value;let x=n/w,C=(1<x&&d.actual&&(x=1),new te(u.x,u.y)),b=0;for(let n=0;n<S.length;n++){var y=Math.abs(S[n].value);if(0==y)continue;var A=x*y,v=d.roundValues?this.roundPictirialValue(A,b):A,A=(b+=A-v,v*o.width*o.height),L;let t=A/o.height,i=[],r=[];do{let e=0;var T=C,k=u.right-C.x,k=(C=k>t?(e=t,new te(C.x+t,C.y)):(e=k,new te(u.x,C.y+o.height)),t-=e,(T.x-u.x)/o.width),k=(k-Math.floor(k))*o.width,k=new re(T.x-k,T.y,e+k,o.height),T=new re(T.x,T.y,e,o.height);i.push(k),r.push(T)}while(0<t&&C.y<u.bottom);let s=new Q.d.StiPictorialSeriesElementGeom(a,y,S[n].index,this.getSeriesBrush(n,S.length),S[n].series,S[n].series.icon,i,r,l,null);if(null!=S[n].series.core.interaction){let e=new At;e.fill(d,S[n].series,n),s.interaction=e}a.createChildGeoms(),a.childGeoms.push(s)}}roundPictirialValue(e,t){return 0<t?Math.ceil(e):t<0?Math.floor(e):Math.round(e)}getSeriesBrush(e,t){var e=super.getSeriesBrush(e,t);if(null==e)return this.series.brush;return e}}}{let n=Z.Base.Drawing.PointD;Q.d.StiPictorialStackedSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{constructor(e){super(e),this.correctionAlfa=.22}applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}renderSeries(s,n,l,e){if(0==e.length||n.width<=0||n.height<=0)return;var a=e,t=this.getAllTrueValues(a),i;let o=0,h=0;for(i of a)null!=i.values&&(h+=i.values.length);let u=this.series.chart.seriesLabels;var r=u.width*s.options.zoom;let d=0;0!=r?d=r:e.forEach(t=>{if(null!=u&&u.visible)for(let e=0;e<t.values.length;e++){var i,i,r,i;t.values.length>e&&(i=t.values[e],0!=u.step&&e%u.step!=0||(i=u.core.getLabelText(t,i,this.getArgumentText(t,e),t.core.getTag(e),t.coreTitle,!1),r=I.changeFontSize(u.font,u.font.size*s.options.zoom),i=s.measureString(i,r),d=Math.max(d,Math.ceil(i.width))))}}),d*=1.1,u.is(Q.d.StiOutsideLeftPictorialStackedLabels)?n=new se(n.x+d,n.y,n.width-d,n.height):u.is(Q.d.StiOutsideRightPictorialStackedLabels)&&(n=new se(n.x,n.y,n.width-d,n.height));var c=e[0].icon,m=this.getRectangle(s,n,c),r=this.correctionMainPoint(m,c),m=new se(m.x+r.x,m.y,m.width,m.height);let S=n.clone(),g=4;(n=new se(n.x+r.x,n.y+0,n.width,n.height)).height>=n.width?u.is(Q.d.StiOutsideLeftPictorialStackedLabels)?S=new se(n.x-d,m.y,d,m.height):u.is(Q.d.StiOutsideRightPictorialStackedLabels)&&(S=new se(n.right-g,m.y,d,m.height)):u.is(Q.d.StiOutsideLeftPictorialStackedLabels)?(S=new se(n.x-d,m.y,d,m.height),g=m.left-S.right-d-m.width*this.correctionAlfa):u.is(Q.d.StiOutsideRightPictorialStackedLabels)&&(S=new se(m.right,m.y,d,m.height),g=n.right-m.right);var p=m.height/this.getSumValues(t),f;let w=new $,x=n.x,C=0,b=!0;for(let s=0;s<a.length;s++){let r=a[s];for(let i=0;i<r.values.length;i++){var y=r.values[i];if(0==y||null==y){o++;continue}var A=r.core.getSeriesBrush(o,h),A=r.processSeriesBrushes(o,A);A=new ie(rt.toColor(A));let e=p*Math.abs(y);b&&(b=!1,e+=m.y),s==a.length-1&&i==r.values.length-1&&(e=n.bottom-C);var v=new se(x,C,n.width,e);let t=new Q.d.StiPictorialStackedSeriesElementGeom(l,y,o,A,r,c,n,v,null);null!=t&&(null!=r.core.interaction&&(t.interaction=new At(l.area,r,i)),l.createChildGeoms(),l.childGeoms.push(t)),C+=e,o++}}x=m.x,C=m.y;for(let e=o=0;e<a.length;e++){let i=a[e];for(let t=0;t<i.values.length;t++){var L=i.values[t];if(0==L||null==L){o++;continue}var T=p*Math.abs(L),k,L;if(null!=u&&u.visible&&(0==u.step||t%u.step==0)){let e=u.core.stimulsoft().as(Q.d.StiPictorialStackedLabelsCoreXF);null!=e&&(k=new se(S.x,C,S.width,T),null!=(L=e.renderLabel(i,s,o,L,this.getArgumentText(i,t),i.core.getTag(t),o,h,g,k))&&w.add(L))}C+=T,o++}}for(f of w)l.createChildGeoms(),l.childGeoms.push(f),f.clientRectangle=this.checkLabelsRect(u,l,f.clientRectangle)}correctionMainPoint(e,t){var t=Q.a.StiFontIconsHelper.getIconPadding(t),i=t[0],r=t[1],s=t[2],t=t[3];return new n((s-i)/100*e.width/2,(t-r)/100*e.height/2)}getArgumentText(e,t){if(e.arguments.length>t&&null!=e.arguments[t])return e.arguments[t].toString();return""}getRectangle(e,t,i){var r=new I("Stimulsoft",1e3,Z.System.Drawing.FontStyle.Regular,Z.System.Drawing.GraphicsUnit.Point),r=this.measureFontSize(e,t,r,i);if(r<=0)return se.empty;var r=new I("Stimulsoft",r,Z.System.Drawing.FontStyle.Regular,Z.System.Drawing.GraphicsUnit.Point),s=Q.a.StiFontIconsHelper.getContent(i),s=e.measureRotatedString2(s,r,t,this.getStringFormatGeom(e),L.CenterCenter,0,t.width),r=Q.a.StiFontIconsHelper.getIconPadding(i),e=r[0],i=r[1],n=r[2],r=r[3];return new se(t.x+s.x+e/100*s.width,t.y+s.y+i/100*s.height,s.width*(1-(e+n)/100),s.height*(1-(i+r)/100))}getStringFormatGeom(e){let t=e.getDefaultStringFormat();return t.trimming=ht.None,t.formatFlags|=ut.MeasureTrailingSpaces|ut.NoWrap,t.alignment=A.Center,t.lineAlignment=A.Center,t}measureFontSize(e,t,i,r){var r=Q.a.StiFontIconsHelper.getContent(r),e=e.measureString(r,i),r,i,i,r;let s=null;if(0==e.width||0==e.height)return 0;return t.width>t.height?(r=t.width/e.width,i=(i=t.height/e.height)<r?i:r,(null==s||s>i)&&(s=i)):(r=t.width/e.width*e.width/e.height,(null==s||s>r)&&(s=r)),1e3*s}getSumValues(e){let t=0;for(var i of e)t+=Math.abs(i);return t}getAllTrueValues(e){let t=new $;for(var i of e)for(var r of i.values)t.push(r);return t.stimulsoft().toArray()}get localizedName(){return x.get("Chart","PictorialStacked")}}}{class It{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m){this.textPosition=new yt(0,0),this.startSideExists=!0,this.endSideExists=!0,this.value=t,this.argumentText=i,this.tag=r,this.index=s,this.colorIndex=c,this.colorCount=m,this.area=e,this.series=n,this.rectPieSlilce=l,this.pieHeight=a,this.startAngle=o,this.sweepAngle=h,this.seriesBrush=u,this.borderColor=d,null!=n.core.interaction&&(this.interaction=new At(e,n,c))}get endAngle(){return(this.startAngle+this.sweepAngle)%360}drawLabels(t,i){let r=this.series.core.getPieSeriesLabels();if(null!=r&&!r.is(Q.d.StiNoneLabels)&&r.visible){let e=r.core;var i;null!=e&&(i=e.renderLabel2(this.series,i,this),t.createChildGeoms(),t.childGeoms.push(i))}}drawTopPieSliceGeom(e){var t=new Q.d.StiPie3dMainSideSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,this.rectPieSlilce,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle);e.createChildGeoms(),e.childGeoms.push(t)}drawBottomPieSliceGeom(e){var t=new se(this.rectPieSlilce.x,this.rectPieSlilce.y+this.pieHeight,this.rectPieSlilce.width,this.rectPieSlilce.height),t=new Q.d.StiPie3dMainSideSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,t,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle);e.createChildGeoms(),e.childGeoms.push(t)}drawSides(e){let t=new Q.d.StiPie3dSidesSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,this.rectPieSlilce,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle,this.pieHeight,this.startSideExists,this.endSideExists);this.textPosition=t.getTextPosition(),e.createChildGeoms(),e.childGeoms.push(t)}split(e){if(this.startAngle==e||this.endAngle==e)return[this.stimulsoft().memberwiseClone()];var t=this.startAngle,t;let i=this.getNewModified(t,t=(e-t+360)%360),r=(i.startSideExists=!0,i.endSideExists=!1,t=this.endAngle-e,this.getNewModified(e,t));return r.startSideExists=!1,r.endSideExists=!0,[i,r]}initTextPosition(e){let t=new Q.d.StiPie3dSidesSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,this.rectPieSlilce,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle,this.pieHeight,this.startSideExists,this.endSideExists);this.textPosition=t.getTextPosition()}getNewModified(e,t){let i=new It(this.area,this.value,this.argumentText,this.tag,this.index,this.series,this.rectPieSlilce,this.pieHeight,e,t,this.seriesBrush,this.borderColor,this.colorIndex,this.colorCount);return i.textPosition=this.textPosition,i}}Q.d.StiPie3dSlice=It}let It=Q.d.StiPie3dSlice,Ft=Z.System.Drawing.Size;Q.d.StiPie3dSeriesCoreXF=class extends Q.d.StiPieSeriesCoreXF{constructor(e){super(e)}renderSeries(e,t,i,r){this.initializePieSlices(i.area,t,r,e.options.zoom),null!=this.mPieSlices&&0!=this.mPieSlices.length||this.initializeEmptyPieSlices(i.area,t,r,e.options.zoom),this.drawBottoms(i),0<this.pieHeight&&this.drawSliceSides(i),this.drawTops(i),this.drawLabels(i,e)}drawLabels(i,r){if(null==this.mPieSlices)return;for(let t=0;t<this.mPieSlices.length;t++){let e=this.mPieSlices[t];e.drawLabels(i,r)}}drawTops(i){if(null==this.mPieSlices)return;for(let t=0;t<this.mPieSlices.length;t++){let e=this.mPieSlices[t];e.drawTopPieSliceGeom(i)}}drawSliceSides(s){if(null==this.mPieSlices)return;let n=this.mPieSlices.stimulsoft().toList();if(0==n.length)return;let e=null;var t,t;90<this.mPieSlices[0].startAngle&&this.mPieSlices[0].startAngle<=270&&450<this.mPieSlices[0].startAngle+this.mPieSlices[0].sweepAngle?(t=(e=n[0]).split(0),n[0]=t[0],e.initTextPosition(s),0<Math.abs(t[1].sweepAngle)&&n.insert(1,t[1])):(270<this.mPieSlices[0].startAngle&&450<this.mPieSlices[0].startAngle+this.mPieSlices[0].sweepAngle||this.mPieSlices[0].startAngle<90&&270<this.mPieSlices[0].startAngle+this.mPieSlices[0].sweepAngle)&&(t=(e=n[0]).split(180),n[0]=t[1],e.initTextPosition(s),0<Math.abs(t[1].sweepAngle)&&n.add(t[0])),(e=n[0]).drawSides(s);let l=1,a=n.length-1;while(l<a){let e=n[a],t=e.startAngle-90,i=((180<t||t<0)&&(t=0),n[l]),r=(450-i.endAngle)%360;(r=180<r||r<0?0:r)>=t?(i.drawSides(s),++l):r<t&&(e.drawSides(s),--a)}(e=n[a]).drawSides(s)}drawBottoms(i){if(null==this.mPieSlices)return;for(let t=0;t<this.mPieSlices.length;t++){let e=this.mPieSlices[t];e.drawBottomPieSliceGeom(i)}}measureBoundingRect(e){var t=1.61,i,i;let r=se.empty;return r=e.width/e.height>t?(i=e.height*t,new se((e.width-i)/2,0,i,e.height)):(i=e.width/t,new se(0,(e.height-i)/2,e.width,i)),r=new se(r.x+.025*r.width,r.y+.025*r.height,.95*r.width,.95*r.height)}initializePieSlices(n,e,t,l){var a=this.measureBoundingRect(e);let o=new $;var h=this.getGradPerValue(t),e=t[0];let u=e.startAngle%360;var d=this.getColorCount(t),c=(this.pieHeight=e.options3D.height*l,this.getLargestDisplacement(l)),m=this.getTopEllipseSize(a,l),S;let g=0,p=-1;for(S of t.stimulsoft().toList())for(let s=0;s<S.values.length;s++){var f=S.values[s];if(0!=f&&null!=f){var w=h*Math.abs(f),x,x,x;let e=S.brush,t=(S.allowApplyBrush&&(e=S.core.getSeriesBrush(g,d),e=S.processSeriesBrushes(s,e)),0<=S.options3D.opacity&&S.options3D.opacity<1&&(x=rt.toColor(e),x=ee.fromArgb(255*S.options3D.opacity,x.r,x.g,x.b),e=new ie(x)),S.borderColor),i=(S.allowApplyBorderColor&&(t=S.core.getSeriesBorderColor(g,d)),this.getLargestDisplacement(l)),r=this.getLargestDisplacement(l);0<i&&(x=this.getSliceDisplacement(u+w/2,i,r),i=x.width,r=x.height);var C=new se(a.x+2*c+i,a.y+2*c+r,m.width,m.height),f=new It(n,f,this.getArgumentText(S,s),S.core.getTag(s),s,S,C,this.pieHeight,u%360,w,e,t,g,d);-1<p||u<=270&&270<u+w||270<=u&&630<u+w?(++p,o.insert(p,f)):o.add(f),u+=w}g++,360<u&&(u-=360)}this.mPieSlices=o}initializeEmptyPieSlices(r,e,t,s){var n=this.measureBoundingRect(e);let l=new $,i=new Lt,a=(i.isAnimation=!1,new Q.d.StiPie3dSeries);a.chart=i;var o=[1,3],h=360/4;let u=0;this.pieHeight=20*s;var d=this.getLargestDisplacement(s),c=this.getTopEllipseSize(n,s);let m=-1;for(let i=0;i<o.length;i++){var S=o[i];if(0!=S&&null!=S){var g=h*Math.abs(S),p=new ie(ee.fromArgb(50,ee.lightGray)),f=ee.lightGray,w;let e=this.getLargestDisplacement(s),t=this.getLargestDisplacement(s);0<e&&(w=this.getSliceDisplacement(u+g/2,e,t),e=w.width,t=w.height);var w=new se(n.x+2*d+e,n.y+2*d+t,c.width,c.height),S=new It(r,S,"",null,i,a,w,this.pieHeight,u%360,g,p,f,0,0);-1<m||u<=270&&270<u+g||270<=u&&630<u+g?(++m,l.insert(m,S)):l.add(S),u+=g}360<u&&(u-=360)}this.mPieSlices=l}getTopEllipseSize(e,t){var t=this.getLargestDisplacement(t);let i=e.width-4*t,r=e.height-4*t-this.pieHeight;return i<1&&(i=1),r<1&&(r=1),new Ft(i,r)}getSliceDisplacement(e,t,i){if(0==t)return Ft.empty;var t=t*Math.cos(e*Math.PI/180),i=i*Math.sin(e*Math.PI/180);return new Ft(t,i)}getLargestDisplacement(e){return this.series.options3D.distance*e}get localizedName(){return"3D "+x.get("Chart","Pie")}},Q.d.StiRadarSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&null!=i.marker&&(i.marker.brush=new ie(w.light(t,100)),i.marker.borderColor=w.dark(t,100))}getPointsList(e,r,t){let s=[];var n=r.area,l=n.core,a;for(a of t){let i=[],e=(s.push(i),0);for(var o of l.points){let t=e<a.values.length?a.values[e]:null;if(null==(t=null==t&&a.showNulls?0:t))i.push(null);else{null!=t&&(t=(t-n.yAxis.info.minimum)*n.yAxis.info.dpi);let e=new te(l.centerPoint.x+t*o.x,l.centerPoint.y+t*o.y);e.x-=r.clientRectangle.x,e.y-=r.clientRectangle.y,i.push(e)}e++}}return s}renderSeries(n,e,l,t){if(null==t||0==t.length||null==this.series.chart)return;var a=this.getPointsList(this.series.values,l,t),o=this.getPointsList(this.series.valuesStart,l,t),h;let u=0;for(h of t){let e=a[u],t=(e.push(e[0]),h.arguments.map(e=>e)),i=((t=t.length<e.length-1?e.map((e,t)=>t.toString()):t).push(t[0]+"_e"),o[u]),r=(i.push(i[0]),new te(l.clientRectangle.width/2,l.clientRectangle.height/2)),s=new Q.d.StiSeriesPointsInfo;s.pointsFrom=i.map(e=>null!=e?e:r),s.points=e.map(e=>null!=e?e:r),s.pointsIds=t.map(e=>e),this.renderAreas(n,h,s,l),this.renderLines(n,h,s,l),e.splice(e.length-1,1),this.renderPoints(n,h,e,l),e.splice(e.length-1,1),u++}}renderAreas(e,t,i,r){}renderLines(e,t,i,r){}renderPoints(i,r,e,s){let n=0;for(var l of e){if(null!=l){var a=n<r.values.length?r.values[n]:null,o=new Q.d.StiRadarPointSeriesElementGeom(s,a,n,r.marker.brush,r,l,i.options.zoom);null!=s&&(s.createChildGeoms(),s.childGeoms.push(o));let t=r.core.getSeriesLabels();if(null!=t&&t.visible&&null!=a){var o=l;if(0==t.step||n%t.step==0){let e=t.core.renderLabel(r,i,o,o,n,a,a,this.getArgument(r,n),r.core.getTag(n),0,1,s.clientRectangle);null!=e&&(s.createChildGeoms(),s.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(t,s,e.clientRectangle.clone()))}}}n++}}getArgument(e,t){var i=e.arguments.stimulsoft().getKeys();return e.arguments.length>t?e.arguments.stimulsoft().getByIndex(t,i).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator):""}getSeriesBrush(e,t){var e=super.getSeriesBrush(e,t);if(null==e)return new ie(w.dark(ee.white,20));return e}getSeriesBorderColor(e,t){var e=super.getSeriesBorderColor(e,t);if(null==e)return ee.black;return e}constructor(e){super(e)}},Q.d.StiRadarAreaSeriesCoreXF=class extends Q.d.StiRadarSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t),i.lineColor=t)}get localizedName(){return x.get("Chart","RadarArea")}renderLines(e,t,i,r){var i=new Q.d.StiLineSeriesGeom(r,i,t);null!=r&&(r.createChildGeoms(),r.childGeoms.push(i))}renderAreas(e,t,i,r){var t=new Q.d.StiRadarAreaSeriesGeom(t,i);null!=r&&(r.createChildGeoms(),r.childGeoms.push(t))}constructor(e){super(e)}},Q.d.StiRadarLineSeriesCoreXF=class extends Q.d.StiRadarSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.lineColor=t)}get localizedName(){return x.get("Chart","RadarLine")}renderLines(e,t,i,r){var i=new Q.d.StiLineSeriesGeom(r,i,t);null!=r&&(r.createChildGeoms(),r.childGeoms.push(i))}constructor(e){super(e)}},Q.d.StiRadarPointSeriesCoreXF=class extends Q.d.StiRadarSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series.stimulsoft().as(Q.d.StiRadarPointSeries);i.allowApplyStyle&&!e.core.markerVisible&&(i.marker.visible=!0)}get localizedName(){return x.get("Chart","RadarPoint")}constructor(e){super(e)}},Q.d.StiRangeBarSeriesCoreXF=class extends Q.d.StiClusteredColumnSeriesCoreXF{renderSeries(o,h,u,d){var c,c;let m=[];if(null==d||0==d.length||null==this.series.chart)return;let S=u.area;var g=S.axisCore.getDividerX(),p=S.axisCore.getDividerY(),f,e;for(f of d){let e=f.values.length;f.valuesEnd.length<e&&(e=f.valuesEnd.length);var t=f.arguments.length,w=Math.min(e,t);let l=S.reverseHor?w-1:0,a=0;var x=f.arguments.stimulsoft().getKeys();while(a<w){let i=f.values[a],r=f.valuesEnd[a];null==i&&(i=0),null==r&&(r=0);var C=Math.abs(i-r)*S.yAxis.info.dpi;let e=p;var b=Math.max(i,r),y;S.reverseVert?e+=Math.min(i,r)*S.yAxis.info.dpi:e-=b*S.yAxis.info.dpi;let t=S.xAxis.info.stripLines.count-1;for(y of S.xAxis.info.stripLines.list){if((null==(c=f.arguments.stimulsoft().getByIndex(a,x))?void 0:c.toString())==(null==(c=y.valueObject)?void 0:c.toString()))break;t--}t=S.xAxis.info.stripLines.count-1-t;var A=(S.xAxis.info.step-S.xAxis.info.step*(1-f.width))/d.length,v=g-A/2,L=(v+=S.xAxis.info.step*t,new re(v,e,A,C)),T=re.fromLTRB(L.left,L.bottom,L.right,L.bottom),k=f.core.getSeriesBrush(l,w),k=f.processSeriesBrushes(l,k);let s=new Q.d.StiRangeBarElementGeom(u,b,a,f,k,L,T);if(null!=f.core.interaction){let e=new At;e.fill(S,f,a),s.interaction=e}u.createChildGeoms(),u.childGeoms.push(s);let n=f.core.getSeriesLabels();if(null!=n&&n.visible){var b=new te(v+A/2,e),k=new te(v+A/2,e+C),L;if(0==n.step||a%n.step==0){r<i&&(L=i,i=r,r=L);let e=n.core.renderLabel(f,o,k,k,a,i,i,f.arguments.stimulsoft().getByIndex(a,x).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),f.core.getTag(a),0,1,h),t=n.core.renderLabel(f,o,b,b,a,r,r,f.arguments.stimulsoft().getByIndex(a,x).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),f.core.getTag(a),0,1,h);null!=t&&(m.push(t),t.clientRectangle=this.checkLabelsRect(n,u,t.clientRectangle.clone())),null!=e&&(m.push(e),e.clientRectangle=this.checkLabelsRect(n,u,e.clientRectangle.clone()))}}l=S.reverseHor?l-1:l+1,a++}}for(e of m)u.createChildGeoms(),u.childGeoms.push(e)}get localizedName(){return x.get("Chart","RangeBar")}constructor(e){super(e)}},Q.d.StiRangeSeriesCoreXF=class extends Q.d.StiLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderSeries(h,u,d,e){if(null==e||0==e.length||null==this.series.chart)return;let c=d.area,m=d.area;var s=m.xAxis.core.getStartFromZero(),S;for(S of e){let i=Math.min(S.values.length,S.valuesEnd.length),n=U.create(te,i,!0),l=U.create(te,i,!0),r=U.create(String,i,!0);S.valuesEnd.length<i&&(i=S.valuesEnd.length);for(let t=0;t<i;t++){var g=c.reverseHor?S.values[i-t-1]:S.values[t],p=c.reverseHor?S.valuesEnd[i-t-1]:S.valuesEnd[t];g==p?n[t]=l[t]=this.getYPoint(g,S,c,t):(n[t]=this.getYPoint(g,S,c,t),l[t]=this.getYPoint(p,S,c,t));let e=(s?m.xAxis.info.stripLines.getByIndex(t+1):m.xAxis.info.stripLines.getByIndex(t)).valueObject;r[t]=null==e?"":e.stimulsoft().toString()}let e=new Q.d.StiSeriesPointsInfo,t=(e.points=n,e.pointsEnd=l,e.pointsIds=r,new Q.d.StiSeriesPointsInfo),a=(t.points=l,t.pointsIds=r,t.additionalSeriesId="_e",this.renderAreas2(d,e,S),this.renderLines2(h,d,e,S.values,S),this.renderLines2(h,d,t,S.valuesEnd,S),0),o=S.core.getSeriesLabels();if(null!=o&&o.visible)for(let s=0;s<i;s++){let t=m.reverseHor?S.values[S.values.length-s-1]:S.values[s];var f=m.reverseHor?S.valuesEnd[S.valuesEnd.length-s-1]:S.valuesEnd[s];null==t&&S.showNulls&&(t=0);let i=t=null==f&&S.showNulls?0:t,r=(c.reverseVert&&null!=t&&(i=-i),f);c.reverseVert&&null!=f&&(r=-r),a=S.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?c.axisCore.getDividerY():c.axisCore.getDividerRightY();var w=n[s],x=l[s];if(null!=w){var C=new te(w.x,a);if(0==o.step||s%o.step==0){let e=o.core.renderLabel(S,h,this.correctPoint(w,u,S.labelsOffset*h.options.zoom),this.correctPoint(C,u,S.labelsOffset*h.options.zoom),s,i,t,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(s),S),S.core.getTag(s),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(o,d,e.clientRectangle.clone()))}}if(null!=x){var w=new te(x.x,a);if(0==o.step||s%o.step==0){let e=o.core.renderLabel(S,h,this.correctPoint(x,u,S.labelsOffset*h.options.zoom),this.correctPoint(w,u,S.labelsOffset*h.options.zoom),s,r,f,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(s),S),S.core.getTag(s),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(o,d,e.clientRectangle.clone()))}}}}}renderLines2(t,i,r,e,s){if(null!=r.points&&1<r.points.length){let e=new Q.d.StiLineSeriesGeom(i,r,s);i.createChildGeoms(),i.childGeoms.push(e),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,r.points))}this.renderMarkers2(t,i,r.points,e,s)}renderMarkers2(s,n,e,l,a){var o=n.area,h=a;if(0==e.length)return;var u=!h.marker.visible&&0<h.toolTips.length;if(null!=h.marker&&(h.marker.visible||u)){let r=0;var d=Math.min(h.values.length,h.valuesEnd.length),c;for(c of e){if(null!=c){let e=o.reverseHor?l[d-r-1]:l[r],t=(null==e&&h.showNulls&&(e=0),n.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),c);if(i.x+=n.clientRectangle.x,i.y+=n.clientRectangle.y,t.contains(i.x,i.y)){let t=new Q.d.StiMarkerGeom(a,r,e,c,h.marker,h.showShadow,s.options.zoom,u);if(null!=t){if(null!=h.core.interaction){let e=new At;e.fill(o,h,r),t.interaction=e}n.createChildGeoms(),n.childGeoms.push(t)}}}r++}}}getYPoint(t,i,r,s){let n;var s=r.xAxis.core.getStartFromZero()?r.xAxis.info.stripPositions[s+1]:r.xAxis.info.stripPositions[s];if(null!=t||i.showNulls){null==t&&i.showNulls&&(t=0),r.reverseVert&&null!=t&&(t=-t);let e=0;e=i.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-t*r.yAxis.info.dpi+r.axisCore.getDividerY():-t*r.yRightAxis.info.dpi+r.axisCore.getDividerRightY(),n=new te(s,e)}else n=null;return n}renderAreas2(e,t,i){if(null==t.points||t.points.length<=1)return;var t=new Q.d.StiRangeSeriesGeom(e,t,i);null!=t&&(e.createChildGeoms(),e.childGeoms.push(t))}get localizedName(){return x.get("Chart","Range")}constructor(e){super(e)}},Q.d.StiSplineRangeSeriesCoreXF=class extends Q.d.StiSplineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderSeries(h,u,d,e){if(null==e||0==e.length||null==this.series.chart)return;let c=d.area,m=d.area;var s=m.xAxis.core.getStartFromZero(),S;for(S of e){let e=S.values.length,n=(S.valuesEnd.length<e&&(e=S.valuesEnd.length),U.create(te,e,!0)),l=U.create(te,e,!0),i=U.create(String,e,!0);for(let t=0;t<e;t++){var g=c.reverseHor?S.values[S.values.length-t-1]:S.values[t],p=c.reverseHor?S.valuesEnd[S.values.length-t-1]:S.valuesEnd[t];n[t]=this.getYPoint(g,S,c,t),l[t]=this.getYPoint(p,S,c,t);let e=(s?m.xAxis.info.stripLines.getByIndex(t+1):m.xAxis.info.stripLines.getByIndex(t)).valueObject;i[t]=null==e?"":e.stimulsoft().toString()}let t=new Q.d.StiSeriesPointsInfo,r=(t.points=n,t.pointsEnd=l,t.pointsIds=i,new Q.d.StiSeriesPointsInfo),a=(r.points=l,r.pointsIds=i,r.additionalSeriesId="_e",this.renderAreas2(h,d,t,S),this.renderLines(h,d,t),this.renderLines(h,d,r),0),o=S.core.getSeriesLabels();if(null!=o&&o.visible)for(let s=0;s<e;s++){let t=m.reverseHor?S.values[S.values.length-s-1]:S.values[s];var f=m.reverseHor?S.valuesEnd[S.valuesEnd.length-s-1]:S.valuesEnd[s];null==t&&S.showNulls&&(t=0);let i=t=null==f&&S.showNulls?0:t,r=(c.reverseVert&&null!=t&&(i=-i),f);c.reverseVert&&null!=f&&(r=-r),a=S.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?c.axisCore.getDividerY():c.axisCore.getDividerRightY();var w=n[s],x=l[s];if(null!=w){var C=new te(w.x,a);if(0==o.step||s%o.step==0){let e=o.core.renderLabel(S,h,this.correctPoint(w,u,S.labelsOffset*h.options.zoom),this.correctPoint(C,u,S.labelsOffset*h.options.zoom),s,i,t,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(s),S),S.core.getTag(s),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(o,d,e.clientRectangle.clone()))}}if(null!=x){var w=new te(x.x,a);if(0==o.step||s%o.step==0){let e=o.core.renderLabel(S,h,this.correctPoint(x,u,S.labelsOffset*h.options.zoom),this.correctPoint(w,u,S.labelsOffset*h.options.zoom),s,r,f,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(s),S),S.core.getTag(s),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(o,d,e.clientRectangle.clone()))}}}}}getYPoint(t,i,r,s){let n;var s=r.xAxis.core.getStartFromZero()?r.xAxis.info.stripPositions[s+1]:r.xAxis.info.stripPositions[s];if(null!=t||i.showNulls){null==t&&i.showNulls&&(t=0),r.reverseVert&&null!=t&&(t=-t);let e=0;e=i.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-t*r.yAxis.info.dpi+r.axisCore.getDividerY():-t*r.yRightAxis.info.dpi+r.axisCore.getDividerRightY(),n=new te(s,e)}else n=null;return n}renderAreas2(e,t,i,r){if(null==i.points||i.points.length<=1)return;var i=new Q.d.StiSplineRangeSeriesGeom(t,i,r);null!=i&&(t.createChildGeoms(),t.childGeoms.push(i))}get localizedName(){return x.get("Chart","SplineRange")}constructor(e){super(e)}},Q.d.StiSteppedRangeSeriesCoreXF=class extends Q.d.StiSteppedLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderSeries(h,u,d,e){if(null==e||0==e.length||null==this.series.chart)return;let c=d.area,m=d.area;var s=m.xAxis.core.getStartFromZero(),S;for(S of e){let i=Math.min(S.values.length,S.valuesEnd.length),n=U.create(te,i,!0),l=U.create(te,i,!0),r=U.create(String,i,!0);S.valuesEnd.length<i&&(i=S.valuesEnd.length);for(let t=0;t<i;t++){var g=c.reverseHor?S.values[i-t-1]:S.values[t],p=c.reverseHor?S.valuesEnd[i-t-1]:S.valuesEnd[t];n[t]=this.getYPoint(g,S,c,t),l[t]=this.getYPoint(p,S,c,t);let e=(s?m.xAxis.info.stripLines.getByIndex(t+1):m.xAxis.info.stripLines.getByIndex(t)).valueObject;r[t]=null==e?"":e.stimulsoft().toString()}let e=new Q.d.StiSeriesPointsInfo,t=(e.points=n,e.pointsIds=r,e.pointsEnd=l,new Q.d.StiSeriesPointsInfo),a=(t.points=l,t.pointsIds=r,t.additionalSeriesId="_e",this.renderAreas2(h,d,e,S),this.renderLines2(h,d,e,S.values,S),this.renderLines2(h,d,t,S.valuesEnd,S),0),o=S.core.getSeriesLabels();if(null!=o&&o.visible)for(let s=0;s<i;s++){let t=m.reverseHor?S.values[S.values.length-s-1]:S.values[s];var f=m.reverseHor?S.valuesEnd[S.valuesEnd.length-s-1]:S.valuesEnd[s];null==t&&S.showNulls&&(t=0);let i=t=null==f&&S.showNulls?0:t,r=(c.reverseVert&&null!=t&&(i=-i),f);c.reverseVert&&null!=f&&(r=-r),a=S.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?c.axisCore.getDividerY():c.axisCore.getDividerRightY();var w=n[s],x=l[s];if(null!=w){var C=new te(w.x,a);if(0==o.step||s%o.step==0){let e=o.core.renderLabel(S,h,this.correctPoint(w,u,S.labelsOffset*h.options.zoom),this.correctPoint(C,u,S.labelsOffset*h.options.zoom),s,i,t,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(s),S),this.getTag(s),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(o,d,e.clientRectangle.clone()))}}if(null!=x){var w=new te(x.x,a);if(0==o.step||s%o.step==0){let e=o.core.renderLabel(S,h,this.correctPoint(x,u,S.labelsOffset*h.options.zoom),this.correctPoint(w,u,S.labelsOffset*h.options.zoom),s,r,f,c.axisCore.getArgumentLabel(c.xAxis.info.stripLines.getByIndex(s),S),this.getTag(s),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(o,d,e.clientRectangle.clone()))}}}}}renderAreas2(e,t,i,r){if(null==i.points||i.points.length<=1)return;if(null==i.pointsEnd||i.pointsEnd.length<=1)return;var i=new Q.d.StiSteppedRangeSeriesGeom(t,i,r);null!=i&&(t.createChildGeoms(),t.childGeoms.push(i))}renderLines2(t,i,r,e,s){var n;if(1<r.points.length||s.pointAtCenter&&0<r.points.length){let e=new Q.d.StiSteppedLineSeriesGeom(i,r,s);null!=e&&(i.createChildGeoms(),i.childGeoms.push(e)),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,r.points))}this.renderMarkers2(t,i,r.points,e,s)}renderMarkers2(s,n,e,l,a){var o=n.area,h=a;if(0==e.length)return;var u=!h.marker.visible&&0<h.toolTips.length;if(null!=h.marker&&(h.marker.visible||u)){let r=0;for(var d of e){if(null!=d){let e=o.reverseHor?l[h.values.length-r-1]:l[r],t=(null==e&&h.showNulls&&(e=0),n.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),new te(d.x,d.y));if(i.x+=n.clientRectangle.x,i.y+=n.clientRectangle.y,t.contains(i.x,i.y)){let t=new Q.d.StiMarkerGeom(a,r,e,d,h.marker,h.showShadow,s.options.zoom,u);if(null!=t){if(null!=h.core.interaction){let e=new At;e.fill(o,h,r),t.interaction=e}n.createChildGeoms(),n.childGeoms.push(t)}}}r++}}}getYPoint(t,i,r,s){let n;var e=r.xAxis.info.stripPositions.stimulsoft().getKeys(),s=r.xAxis.core.getStartFromZero()?r.xAxis.info.stripPositions.stimulsoft().getByIndex(s+1,e):r.xAxis.info.stripPositions.stimulsoft().getByIndex(s,e);if(null!=t||i.showNulls){null==t&&i.showNulls&&(t=0),r.reverseVert&&null!=t&&(t=-t);let e=0;e=i.yAxis==Q.d.StiSeriesYAxis.LeftYAxis?-t*r.yAxis.info.dpi+r.axisCore.getDividerY():-t*r.yRightAxis.info.dpi+r.axisCore.getDividerRightY(),n=new te(s,e)}else n=null;return n}get localizedName(){return x.get("Chart","SteppedRange")}constructor(e){super(e)}},Q.d.StiScatterLineSeriesCoreXF=class extends Q.d.StiScatterSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;var r=new Q.d.StiLineSeriesGeom(t,i,this.series);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r)),this.renderMarkers(e,t,i.points)}get localizedName(){return x.get("Chart","ScatterLine")}constructor(e){super(e)}},Q.d.StiScatterSplineSeriesCoreXF=class extends Q.d.StiScatterSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;var r=new Q.d.StiScatterSplineSeriesGeom(t,i,this.series);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r)),this.renderMarkers(e,t,i.points)}get localizedName(){return x.get("Chart","ScatterSpline")}constructor(e){super(e)}};{class rr extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(u,d,c,m){if(null==m||0==m.length||null==this.series.chart)return;let S=[],g=[],p=[],f=c.area;var e=this.series,i=f.xAxis.core.getStartFromZero(),w=f.axisCore.getDividerY();let x=f.yAxis.info.dpi,C=(this.series.yAxis==Q.d.StiSeriesYAxis.RightYAxis&&(x=f.yRightAxis.info.dpi),new $),r=0;for(let i=0;i<m.length;i++)for(let t=0;t<m[i].values.length;t++){let e;C.length>t?e=C[t]:(e=new Array(m.length),C.add(e)),e[i]=r,r++}var b=r,t;for(let h=0;h<f.axisCore.valuesCount;h++){var n=i?f.xAxis.info.stripPositions[h+1]:f.xAxis.info.stripPositions[h],y=(n-=f.xAxis.info.step/2,f.xAxis.info.step-f.xAxis.info.step*(1-e.width)),A=n+(f.xAxis.info.step-y)/2,l,n,n,v;let s=0,o=0;if(0==m.length)return;if(m[0].showShadow){for(let t=0;t<m.length;t++)if(h<m[t].values.length){var a=m[t];let e=f.reverseHor?a.values[a.values.length-h-1]:a.values[h];null!=e&&(0<(e=f.reverseVert?-e:e)?s+=e:o+=e)}if(0<s&&(n=new re(A,-s*x+w,y,s*x),n=new Q.d.StiStackedColumnSeriesShadowElementGeom(m[0],n,!0,!1),c.createChildGeoms(),c.childGeoms.push(n)),o<0){let e=new re(A,w,y,-o*x);e.y-=7,e.height+=7;var n=new Q.d.StiStackedColumnSeriesShadowElementGeom(m[0],e,!1,!0);c.createChildGeoms(),c.childGeoms.push(n)}}s=0,o=0;let t=new $;for(let e=0;e<m.length;e++){var L=m[e],L;h<L.values.length?(L=f.reverseHor?L.values[L.values.length-h-1]:L.values[h],t.add({key:e,value:L})):t.add({key:e,value:0})}for(v of t=t.orderBy(e=>e.value)){let l=v.value;if(null==l)continue;var T=v.key;let a=m[T];if(h<a.values.length){var k=C[h][T],I=f.reverseHor?m.stimulsoft().toList().cast().sum(e=>rr.getValueFromArray(e.values,a.values.length-h-1)):m.stimulsoft().toList().cast().sum(e=>rr.getValueFromArray(e.values,h));let e=(l=f.reverseVert&&null!=l?-l:l)*x,t=-e+w,n=(0<l?t-=s:(t=o+w,e=-e),new re(A,t,y,e));n=this.correctRect(n,d);var F=l<0?new re(n.left,n.top,n.right,n.top):new re(n.left,n.bottom,n.right,n.bottom);let i=c.view.clientRectangle.clone(),r=(i.x=0,i.y=0,n.clone());if(r.x+=c.clientRectangle.x,r.y+=c.clientRectangle.y,r.right>i.x&&r.x<i.right||this.series.chart.area.xAxis.range.auto){var B=a.core.getSeriesBrush(k,b),B=a.processSeriesBrushes(h,B);if(0!=n.width&&0<P.round2(n.height,2)&&null!=B){var R=a.core.getSeriesBorderColor(k,b),F;let e=new Q.d.StiStackedColumnSeriesElementGeom(c,l,h,B,R,a,n,F),t=(null!=a.core.interaction&&(e.interaction=new At(f,a,h)),g.push(e),p[T]);null!=t?t.rectangles.add(n):(F=rt.toColor(B).changeAlpha(150),(t=new Q.d.StiRibbonSeriesMetadata(new ie(F),R)).rectangles.add(n),p[T]=t)}let s=a.core.getSeriesLabels();if(null!=s&&s.visible&&(0<P.round2(n.height,2)||s.showNulls)){let t=new te(n.x+n.width/2,n.y),i=new te(n.x+n.width/2,n.bottom),r=f.reverseHor?a.values[a.values.length-h-1]:a.values[h];if(f.reverseVert&&null!=r&&(r=-l),l<0&&(i.y=n.y,t.y=n.bottom),0==s.step||h%s.step==0){let e=l;a.isTotalLabel&&(e=r=I);var B=f.xAxis.startFromZero?h+1:h,F=s.core.renderLabel(a,u,t,i,h,e,r,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines[B],a),a.core.getTag(h),k,b,d);null!=F&&S.push(F)}}}0<l?s+=e:o+=e}}}for(let e=0;e<p.length;e++){var s=p[e],o,s;s&&(o=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks+Q.d.StiChartHelper.globalBeginTimeElement.ticks/(e+1)*e),s=new Q.d.StiRibbonSeriesGeom(c,s,m[e],o),c.createChildGeoms(),c.childGeoms.push(s))}for(let e=g.length-1;0<=e;e--){var h=g[e];c.createChildGeoms(),c.childGeoms.push(h)}for(t of S)c.createChildGeoms(),c.childGeoms.push(t),t.ClientRectangle=this.checkLabelsRect(t.SeriesLabels,c,t.ClientRectangle)}static getValueFromArray(e,t){if(null==e||t<0||t>=e.length)return 0;return e[t]}correctRect(e,t){if(e.y>t.height||e.bottom<0)return e.height=0,e;var i,i;return e.top<0&&(i=-e.top,e.y+=i,e.height-=i),e.bottom>t.height&&(i=e.bottom-t.height,e.height-=i),e}getSeriesBrush(e,t){var i=this.series,e=super.getSeriesBrush(e,t);if(null==e)return i.brush;return e}getSeriesBorderColor(e,t){var i=this.series,e=super.getSeriesBorderColor(e,t);if(null==e)return i.borderColor;return e}get localizedName(){return x.get("Chart","Ribbon")}constructor(e){super(e)}}Q.d.StiRibbonSeriesCoreXF=rr}let Bt=Z.System.Collections.Dictionary,Rt=Z.System.Data.DataTable,Pt=Z.System.Data.DataColumn;Q.d.StiSunburstSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.borderThickness=e.core.seriesBorderThickness)}renderSeries(e,t,i,r){let s=this.getDataTable(r);if(s.rows.count<1)return;var n=s.columns.count-1,l;for(let t=0;t<s.rows.count;t++){for(let e=0;e<r.length;e++)0<r.length&&r[e].arguments.length>t?s.rows.getByIndex(t).setValue(e+1,r[e].arguments[t]):s.rows.getByIndex(t).setValue(e+1,null);0<r.length&&r[0].values.length>t?s.rows.getByIndex(t).setValue(n,r[0].values[t]):s.rows.getByIndex(t).setValue(n,null)}let a=new Bt;for(l of s.rows.list){var o=l.gett(1);if(null==o)continue;if(a.contains(o)){let e=a.get(o);e.loadDataRow(l.itemArray)}else{let e=s.clone();e.loadDataRow(l.itemArray),a.add(o,e)}}var h=this.getRadius(e,t),u=this.getPointCenter(t),d=this.getGradPerValue(s),c,m;if(Number.POSITIVE_INFINITY==d||Number.NEGATIVE_INFINITY==d)return;let S=0,g=0,p=new $;for(c of a.values){var f,w=d*this.getSumColumn(c,"Value"),x={ref:p};this.renderComputeSeries(e,i,c,u,h,S,d,g,a.count,x),p=x.ref,S+=w,g++}for(m of p)null!=m&&(i.createChildGeoms(),i.childGeoms.push(m))}renderComputeSeries(i,r,s,n,e,l,a,o,h,u){let d=1;var c=e/(s.columns.count-1);for(let t=1;t<s.columns.count-1;t++){let e=new Bt;for(var m of s.rows.list){var S=m.gett(t);if(null==S)continue;var m=ot.tryToNullableNumber(m.gett(s.columns.count-1)),g;e.contains(S)&&null!=m?(g=ot.tryToNullableNumber(e.get(S)),e.set(S,Math.abs(g)+Math.abs(m))):e.set(S,m)}var p=e.keys.toArray(),f=e.values.toArray(),p=(this.renderLevelSeries(i,r,p,f,n,c*d,c*(d+1),l,a,o,h,d),this.renderLevelSeriesLebels(i,p,f,n,c*d,c*(d+1),l,a));u.ref.addRange(p),d++}}renderLevelSeries(e,i,r,t,s,n,l,a,o,h,u,d){let c=this.series.core.getSeriesBorderColor(h,u);var m=this.series.core.getSeriesBrush(h,u),S=t,g=(0==c.a&&(c=ee.white),Q.d.StiChartHelper.globalBeginTimeElement);for(let t=0;t<S.length;t++){var p=S[t];let e=r[t];var f=o*Math.abs(p),p;G.isNullOrEmpty(e.toString())||null!=(p=this.renderSunburstElement(s,n,l,c,m,a,f,p,d,h,t,i,new K(g.ticks/(u+S.length)*(t+h))))&&(i.createChildGeoms(),i.childGeoms.push(p)),a+=f}}renderLevelSeriesLebels(s,e,t,n,l,a,o,h){let u=new $;for(let r=0;r<t.length;r++){var d=t[r];let i=e[r];var c=h*Math.abs(d),m,S,d,m;if(!G.isNullOrEmpty(i.toString())){let t=this.series.chart.seriesLabels;if(null!=this.series.chart&&null!=t&&t.visible){let e=t.as(Q.d.IStiPieSeriesLabels);null==e||!e.visible||0!=e.step&&r%e.step!=0||(S={ref:m},d=e.core.renderLabel(this.series,s,n,l,a,o+c/2,r,Math.abs(d),d,i,this.getTag(r),!1,0,1,h,S,!1,0),m=S.ref,u.push(d))}}o+=c}return u}renderSunburstElement(e,t,i,r,s,n,l,a,o,h,u,d,c){if(0==l||null==l)return null;var m=new se(e.x-t,e.y-t,2*t,2*t),S=new se(e.x-i,e.y-i,2*i,2*i),g;if(m.width<=0&&m.height<=0)return null;let p=new $;return p.push(new Ct(m,n,l)),p.push(new k(this.getPoint(e,t,n+l),this.getPoint(e,i,n+l))),p.push(new Ct(S,n+l,-l)),p.push(new k(this.getPoint(e,i,n),this.getPoint(e,t,n))),new Q.d.StiSunburstSeriesElementGeom(d,a,o,h,u,this.series,m,S,p,r,s,n,n+l,t,i,c)}getPoint(e,t,i){var i=Math.PI*i/180;return new yt(e.x+Math.cos(i)*t,e.y+Math.sin(i)*t)}getDataTable(t){let i=new Rt;var e=new Pt("Id",Number);i.columns.add(e);for(let e=0;e<t.length;e++){var r=new Pt("Argument-"+e.toString(),String);i.columns.add(r)}var e=new Pt("Value",Number),s=(i.columns.add(e),this.getCountRow(t));for(let e=0;e<s;e++){var n=i.newRow();i.rows.add(n)}return i}getCountRow(e){let t=0;for(var i of e)t=Math.max(t,i.arguments.length);return t}getGradPerValue(e){var t;return 360/this.getSumColumn(e,"Value")}getRadius(e,t){return.95*Math.min(t.width/2,t.height/2)}getPointCenter(e){return new yt(e.width/2,e.height/2)}getSumColumn(e,t){let i=0;for(var r of e.rows.toList()){var r=r.gett(t);i+=Math.abs(r)}return i}get localizedName(){return x.get("Chart","Sunburst")}constructor(e){super(e)}},Q.d.StiTreemapSeriesCoreXF=class extends Q.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(s,e,n,t){var l=Q.d.StiChartHelper.globalDurationElement,a=Q.d.StiChartHelper.globalBeginTimeElement,i;let o=[];for(i of this.series.values)o.push(ot.tryToNumber(i));e.inflate(-1,-1);var r=this.series.chart.area.core.normalizeDataForArea(o,e.width*e.height),h=this.series.chart.area.core.squarify(r,[],e,[]),u,d;let c=0;for(u of t){if(u==this.series)break;c+=u.values.length}let m=0;for(d of t)m+=d.values.length;for(let r=0;r<h.length;r++){if(0==o[r]||null==o[r])continue;var S=this.series.core.getSeriesBrush(c,m),S=this.series.processSeriesBrushes(c,S);let e=this.series.core.getSeriesBorderColor(c,m);0!=e.a||this.series.chart.area.colorEach||(e=ee.white);var g=new K(a.ticks/h.length*(r+2)),g=new ne(l,g),S;let t=new Q.d.StiTreemapSeriesElementGeom(n,ot.tryToNumber(this.series.values[r]),r,S,e,this.series,h[r],g);if(null!=this.series.core.interaction){let e=new At;e.fill(n.area,this.series,r),t.interaction=e}n.createChildGeoms(),n.childGeoms.push(t);let i=this.series.chart.seriesLabels.stimulsoft().as(Q.d.StiCenterTreemapLabels);null==i||!i.visible||null!=(S=i.core.renderLabel(this.series,s,r,ot.tryToNumber(this.series.values[r]),this.getArgumentText(this.series,r),this.series.core.getTag(r),c,m,h[r],null))&&(n.createChildGeoms(),n.childGeoms.push(S)),c++}}getArgumentText(e,t){if(e.arguments.length>t&&null!=e.arguments[t])return e.arguments[t].toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}getSeriesBrush(e,t){var e=super.getSeriesBrush(e,t);if(null==e)return this.series.brush;return e}getSeriesBorderColor(e,t){var e=super.getSeriesBorderColor(e,t);if(null==e)return this.series.borderColor;return e}get localizedName(){return x.get("Chart","Treemap")}constructor(e){super(e)}};{class sr{constructor(e){this.seriesLabels=e}implements(){return sr.implementsStiSeriesLabelsCoreXF||(sr.implementsStiSeriesLabelsCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiSeriesLabelsCoreXF]),sr.implementsStiSeriesLabelsCoreXF}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.seriesLabels.allowApplyStyle&&(this.seriesLabels.labelColor=e.core.seriesLabelsColor,this.seriesLabels.borderColor=e.core.seriesLabelsBorderColor,this.seriesLabels.brush=e.core.seriesLabelsBrush,this.seriesLabels.font=e.core.seriesLabelsFont)}get position(){return null}get seriesLabelsType(){return null}get localizedName(){return null}processSeriesColors(l,e,a){let o=e;if(null==this.seriesLabels)return o;for(var h of this.seriesLabels.chart.seriesLabelsConditions.list){if(null==a.values||a.values.length<=l)continue;var u=a.values[l];let e=null,t=(a.is(Q.d.IStiRangeSeries)&&l<a.valuesEnd.length&&(e=a.valuesEnd[l]),null),i=(null!=a.arguments&&l<a.arguments.length&&(t=a.arguments[l]),null),r=null,s=null,n=null;a.is(Q.d.IStiFinancialSeries)&&(l<a.valuesOpen.length&&(i=a.valuesOpen[l]),l<a.valuesClose.length&&(r=a.valuesClose[l]),l<a.valuesLow.length&&(s=a.valuesLow[l]),l<a.valuesHigh.length&&(n=a.valuesHigh[l]));var d=Q.d.StiChartHelper.getFilterData(null,h,null);if(Q.d.StiChartHelper.getFilterResult(h,t,u,e,i,r,s,n,d))return o=this.seriesLabels.chart.style.core.getColumnBrush(h.color),this.seriesLabels.chart.area.is(Q.d.IStiClusteredBarArea)&&(o.is(Ce)&&(o.angle+=90),o.is(be)&&(o.angle+=90)),o}return o}getSeriesLabelColor(e,t,i){let r=e.core.getSeriesBorderColor(t,i);return r=r.equals(ee.transparent)?rt.toColor(e.core.getSeriesBrush(t,i)):r}getBorderColor(e,t,i){if(this.seriesLabels.useSeriesColor)return this.getSeriesLabelColor(e,t,i);return this.seriesLabels.borderColor}getLabelColor(e,t,i){if(this.seriesLabels.useSeriesColor)return this.getSeriesLabelColor(e,t,i);return this.seriesLabels.labelColor}recalcValue(e,t){return e}getLabelText(e,t,i,r,s,n=!1){return this.getLabelText2(e,t,i,r,s,0,n)}getLabelText2(e,t,i,r,s,n,l){let a="",o=this.seriesLabels.valueType;switch(o=l?this.seriesLabels.legendValueType:o){case Q.d.StiSeriesLabelsValueType.Argument:a=this.getArgument(e,i);break;case Q.d.StiSeriesLabelsValueType.Value:a=this.getFormattedValue(e,t);break;case Q.d.StiSeriesLabelsValueType.SeriesTitle:a=s;break;case Q.d.StiSeriesLabelsValueType.Tag:a=r;break;case Q.d.StiSeriesLabelsValueType.Weight:a=n.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);break;case Q.d.StiSeriesLabelsValueType.ValueArgument:var h=this.getArgument(e,i);a=G.isNullOrEmpty(h)?this.getFormattedValue(e,t):G.format("{0} {1} {2}",this.getFormattedValue(e,t),this.seriesLabels.valueTypeSeparator,h);break;case Q.d.StiSeriesLabelsValueType.ArgumentValue:var h=this.getFormattedValue(e,t);a=G.isNullOrEmpty(h)?this.getArgument(e,i):G.format("{0} {1} {2}",this.getArgument(e,i),this.seriesLabels.valueTypeSeparator,h);break;case Q.d.StiSeriesLabelsValueType.SeriesTitleArgument:var h=this.getArgument(e,i);a=G.isNullOrEmpty(h)?s:G.format("{0} {1} {2}",s,this.seriesLabels.valueTypeSeparator,h);break;case Q.d.StiSeriesLabelsValueType.SeriesTitleValue:var h=this.getFormattedValue(e,t);a=G.isNullOrEmpty(h)?s:G.format("{0} {1} {2}",s,this.seriesLabels.valueTypeSeparator,h);break}if(l)return a;return G.format("{0}{1}{2}",this.seriesLabels.textBefore,a,this.seriesLabels.textAfter)}getArgument(t,i){let r=i;if(t.core.isDateTimeArguments){let e=T.fromString(i,!1);null!=e&&(r=this.getFormatted(t,e.toOADate(),!0))}return r}getFormatted(t,r,s){var n,l,a,o;try{this.storedCulture=ge.currentCulture;var h=null==(l=null==(n=this.seriesLabels.chart)?void 0:n.report)?void 0:l.culture;G.isNullOrEmpty(null==(o=null==(a=this.seriesLabels.chart)?void 0:a.report)?void 0:o.culture)||(ge.currentCulture=new ge(h));let e=r;s&&(e=T.fromOADate(r));var u=this.seriesLabels.stimulsoft().as(Q.d.StiPieSeriesLabels),d=this.seriesLabels.stimulsoft().as(Q.d.StiAxisSeriesLabels);if(!(null==this.seriesLabels.formatService||null!=u&&u.showInPercent||null!=d&&d.showInPercent))return this.seriesLabels.formatService.format(e);let i=null;if(null!=(i=null!=(i=null!=t?t.format:i)&&0!=i.trim().length?i:this.seriesLabels.format)&&0!=i.trim().length){if(i.stimulsoft().startsWith("P")&&null!=this.seriesLabels.chart&&!Q.d.StiChartOptions.oldChartPercentMode){let e=0,t;try{1<i.length&&(e=i.stimulsoft().remove(0,1).stimulsoft().toNumber()),t=this.recalcValue(r,e)}catch(e){Z.System.StiError.showError(e,!1),t=this.recalcValue(r,2)}return G.format("{0:N"+e.toString()+"}{1}",t,"%")}var c=G.format("{0:"+i+"}",e);if(!s&&c==i)return e.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return c}G.isNullOrEmpty(h)||(ge.currentCulture=this.storedCulture)}catch(e){Z.System.StiError.showError(e,!1)}return this.recalcValue(r,2).toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getFormattedValue(e,t){if(null==t)return"";return this.getFormatted(e,t,e.core.isDateTimeValues)}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=ht.None,this.seriesLabels.wordWrap||(t.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap),t}}Q.d.StiSeriesLabelsCoreXF=sr}Q.d.StiNoneLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{get seriesLabelsType(){return Q.d.StiSeriesLabelsType.All}get position(){return Q.d.StiSeriesLabelsPosition.None}get localizedName(){return x.get("Chart","LabelsNone")}constructor(e){super(e)}},Q.d.StiAxisSeriesLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{constructor(e){super(e),this.currentIndex=null}renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c=null){return null}renderLabel2(e,t,i,r,s,n,l,a,o,h,u,d,c,m=null){return null}recalcValue(t,i){if(this.seriesLabels.showInPercent&&this.seriesLabels.chart.area.is(Q.d.StiFullStackedColumnArea)&&null!=this.currentIndex){var r,s;let e=0;for(s of this.seriesLabels.chart.area.core.getSeries())this.currentIndex<s.values.length&&(e+=s.values[this.currentIndex]);if(0!=e)return P.round2(100*t/e,i)}return t}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Axis}},Q.d.StiCenterAxisLabelsCoreXF=class extends Q.d.StiAxisSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c=null){return this.currentIndex=s,this.renderLabel2(e,t,i,r,s,n,l,a,o,0,h,u,d,c)}renderLabel2(e,t,i,r,s,n,l,a,o,h,u,d,c,m=null){if(null==n&&!this.seriesLabels.showNulls)return null;if(0==n&&!this.seriesLabels.showZeros)return null;null==n&&(n=0);var l=this.getLabelText2(e,l=null==l?0:l,a,o,e.coreTitle,h,!1),a=this.getLabelColor(e,u,d),o=this.getBorderColor(e,u,d),h=this.getStringFormatGeom(t),S=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),g=e.core.getSeriesBorderColor(u,d),u=e.core.getSeriesBrush(u,d),d=this.processSeriesColors(s,this.seriesLabels.brush,e),i=this.getLabelRect(t,i,r,n,l,!0,S,h);let p=null!=m?m.stimulsoft().as(vt):null;return null!=p&&(p.labelRect=this.getLabelRect(t,p.pointFrom,r,p.valueFrom,p.valueFrom.toString(),!0,S,h)),new Q.d.StiCenterAxisLabelsGeom(this.seriesLabels,e,s,n,i,l,a,o,u,d,g,S,m)}getLabelRect(e,t,i,r,s,n,l,a){return this.seriesLabels.chart.area.core.seriesOrientation==Q.d.StiChartSeriesOrientation.Vertical?e.measureRotatedString3(s,l,new te(t.x,(t.y+i.y)/2),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te((t.x+i.x)/2,t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}get position(){return Q.d.StiSeriesLabelsPosition.CenterAxis}get localizedName(){return x.get("Chart","LabelsCenter")}constructor(e){super(e)}},Q.d.StiInsideBaseAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get localizedName(){return x.get("Chart","LabelsInsideBase")}get position(){return Q.d.StiSeriesLabelsPosition.InsideBaseAxis}getLabelRect(e,t,i,r,s,n,l,a){var o=e.measureString(s,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==Q.d.StiChartSeriesOrientation.Vertical?0<r?e.measureRotatedString3(s,l,new te(t.x,i.y-(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x,i.y+(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):0<r?e.measureRotatedString3(s,l,new te(i.x-(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(i.x+(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},Q.d.StiInsideEndAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get position(){return Q.d.StiSeriesLabelsPosition.InsideEndAxis}get localizedName(){return x.get("Chart","LabelsInsideEnd")}getLabelRect(e,t,i,r,s,n,l,a){var o=e.measureString(s,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==Q.d.StiChartSeriesOrientation.Vertical?0<r?e.measureRotatedString3(s,l,new te(t.x,t.y+(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x,t.y-(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):0<r?e.measureRotatedString3(s,l,new te(t.x+(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x-(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},Q.d.StiLeftAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get localizedName(){return x.get("PropertyMain","Left")}get position(){return Q.d.StiSeriesLabelsPosition.Left}getLabelRect(e,t,i,r,s,n,l,a){let o=e.measureString(s,l);return 0<this.seriesLabels.width?o.width=this.seriesLabels.width*e.options.zoom:o.width+=2*e.options.zoom,this.seriesLabels.chart.area.reverseHor?e.measureRotatedString3(s,l,new te(t.x+o.width,t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x-o.width,t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},Q.d.StiOutsideAxisLabelsCoreXF=class extends Q.d.StiAxisSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d){var c=this.seriesLabels;if(null==n&&!c.showNulls)return null;if(0==n&&!c.showZeros)return null;null==n&&(n=0);var l=this.getLabelText(e,l=null==l?0:l,a,o,e.coreTitle);let m=90;this.seriesLabels.chart.area.is(Q.d.IStiStackedBarArea)?(n<=0&&(m=-m),m+=90):n<0&&(m=-m),m*=Math.PI/180;var a=new te(i.x+c.lineLength*Math.cos(m)*t.options.zoom,i.y-c.lineLength*Math.sin(m)*t.options.zoom),o=I.changeFontSize(c.font,c.font.size*t.options.zoom),c=this.getStringFormatGeom(t),t=t.measureString2(l,o,this.seriesLabels.width*t.options.zoom,c),c=new re(a.x-t.width/2,a.y-t.height/2,t.width+1,t.height+1),t=this.getLabelColor(e,h,u),S=this.getBorderColor(e,h,u),g=e.core.getSeriesBorderColor(h,u),h=e.core.getSeriesBrush(h,u),h=this.processSeriesColors(s,h,e);return new Q.d.StiOutsideAxisLabelsGeom(this.seriesLabels,e,s,n,c,l,t,S,h,g,o,a,i,null)}get position(){return Q.d.StiSeriesLabelsPosition.OutsideAxis}get localizedName(){return x.get("Chart","LabelsOutside")}constructor(e){super(e)}},Q.d.StiOutsideBaseAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get localizedName(){return x.get("Chart","LabelsOutsideBase")}get position(){return Q.d.StiSeriesLabelsPosition.OutsideBaseAxis}getLabelRect(e,t,i,r,s,n,l,a){var o=e.measureString(s,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==Q.d.StiChartSeriesOrientation.Vertical?0<r?e.measureRotatedString3(s,l,new te(t.x,i.y+(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x,i.y-(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):0<r?e.measureRotatedString3(s,l,new te(i.x+(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(i.x-(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},Q.d.StiOutsideEndAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get localizedName(){return x.get("Chart","LabelsOutsideEnd")}get position(){return Q.d.StiSeriesLabelsPosition.OutsideEndAxis}getLabelRect(e,t,i,r,s,n,l,a){var o=e.measureString(s,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==Q.d.StiChartSeriesOrientation.Vertical?0<=r?e.measureRotatedString3(s,l,new te(t.x,t.y-(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x,t.y+(Math.abs(o.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):0<r?e.measureRotatedString3(s,l,new te(t.x-(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x+(Math.abs(o.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((o.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},Q.d.StiRightAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get localizedName(){return x.get("PropertyMain","Right")}get position(){return Q.d.StiSeriesLabelsPosition.Right}getLabelRect(e,t,i,r,s,n,l,a){let o=e.measureString(s,l);return 0<this.seriesLabels.width?o.width=this.seriesLabels.width*e.options.zoom:o.width+=2*e.options.zoom,this.seriesLabels.chart.area.reverseHor?e.measureRotatedString3(s,l,new te(t.x-o.width,t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(s,l,new te(t.x+o.width,t.y),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},Q.d.StiValueAxisLabelsCoreXF=class extends Q.d.StiCenterAxisLabelsCoreXF{get localizedName(){return x.get("PropertyMain","Value")}get position(){return Q.d.StiSeriesLabelsPosition.Value}getLabelRect(e,t,i,r,s,n,l,a){var s=e.measureRotatedString3(s,l,new te(0,0),a,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom));return new re(t.x-s.width/2,t.y-s.height/2,s.width,s.height)}constructor(e){super(e)}},Q.d.StiFunnelSeriesLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c,m){return null}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Funnel}constructor(e){super(e)}},Q.d.StiCenterFunnelLabelsCoreXF=class extends Q.d.StiFunnelSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c,m){var S=h.clone(),n=this.getLabelText(e,r,n,l,e.coreTitle),l=new ie(this.getLabelColor(e,a,o)),g=this.getBorderColor(e,a,o),p=this.getStringFormatGeom(t),f=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),w=e.core.getSeriesBorderColor(a,o),a=e.core.getSeriesBrush(a,o);let x;x=e.is(Q.d.StiFunnelWeightedSlicesSeries)?new te(h.width/2,.05*h.height+u*this.getSumLastValues(e,i)+u*r/2):new te(h.width/2,u*i+u/2+.05*h.height);var o=t.measureRotatedString3(n,f,x,p,L.CenterCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom));return m.ref=S,new Q.d.StiCenterFunnelLabelsGeom(this.seriesLabels,e,i,r,o,n,a,l,g,w,o,null)}getSumLastValues(e,t){let i=new $;for(var r of e.chart.series.list){var s=r.stimulsoft().as(Q.d.IStiFunnelSeries),n;for(n of s.values){if(!s.showZeros&&0==n)continue;i.push(n)}}let l=0;for(let e=0;e<t;e++){if(e>=i.length)break;l+=Math.abs(i[e])}return l}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Funnel}get position(){return Q.d.StiSeriesLabelsPosition.CenterFunnel}get localizedName(){return x.get("Chart","LabelsCenter")}constructor(e){super(e)}},Q.d.StiOutsideLeftFunnelLabelsCoreXF=class extends Q.d.StiFunnelSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c,m){let S=h.clone();var n=this.getLabelText(e,r,n,l,e.coreTitle),l=new ie(this.getLabelColor(e,a,o)),g=this.getBorderColor(e,a,o),p=this.getStringFormatGeom(t),f=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),w=e.core.getSeriesBorderColor(a,o),a=e.core.getSeriesBrush(a,o),o=t.measureRotatedString3(n,f,new te(0,0),p,L.CenterCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom)),c=(S.width-=o.width,S.x+=o.width,new te(c-(r+s)*d/4,u*i+u/2+.05*h.height)),s=new te(.05*h.width+o.width,u*i+u/2+.05*h.height),d=t.measureRotatedString3(n,f,s,p,L.RightCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom));return m.ref=S,new Q.d.StiOutsideFunnelLabelsGeom(this.seriesLabels,e,i,r,d,n,a,l,g,w,d,c,s)}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Funnel}get position(){return Q.d.StiSeriesLabelsPosition.OutsideLeftFunnel}get localizedName(){return x.get("PropertyMain","Left")}constructor(e){super(e)}},Q.d.StiOutsideRightFunnelLabelsCoreXF=class extends Q.d.StiFunnelSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c,m){let S=h.clone();var n=this.getLabelText(e,r,n,l,e.coreTitle),l=new ie(this.getLabelColor(e,a,o)),g=this.getBorderColor(e,a,o),p=this.getStringFormatGeom(t),f=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),w=e.core.getSeriesBorderColor(a,o),a=e.core.getSeriesBrush(a,o),o=t.measureRotatedString3(n,f,new te(0,0),p,L.CenterCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom)),c=(S.width-=o.width+5,new te(c+(r+s)*d/4,u*i+u/2+.05*h.height)),s=new te(.95*h.width-o.width,u*i+u/2+.05*h.height),d=t.measureRotatedString3(n,f,s,p,L.LeftCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom));return m.ref=S,new Q.d.StiOutsideFunnelLabelsGeom(this.seriesLabels,e,i,r,d,n,a,l,g,w,d,c,s)}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Funnel}get position(){return Q.d.StiSeriesLabelsPosition.OutsideRightFunnel}get localizedName(){return x.get("PropertyMain","Right")}constructor(e){super(e)}},Q.d.StiPictorialStackedLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h){return null}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.PictorialStacked}constructor(e){super(e)}},Q.d.StiCenterPictorialStackedLabelsCoreXF=class extends Q.d.StiPictorialStackedLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h){var s=this.getLabelText(e,r,s,n,e.coreTitle),n=new ie(this.getLabelColor(e,l,a)),u=this.getBorderColor(e,l,a),d=this.getStringFormatGeom(t),c=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),m=e.core.getSeriesBorderColor(l,a);let S=e.core.getSeriesBrush(l,a);null!=S&&(S=new ie(rt.toColor(S)));var l=new te(h.x+h.width/2,h.y+h.height/2),a=t.measureRotatedString3(s,c,l,d,L.CenterCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom));return new Q.d.StiCenterFunnelLabelsGeom(this.seriesLabels,e,i,r,a,s,S,n,u,m,a,null)}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.PictorialStacked}get position(){return Q.d.StiSeriesLabelsPosition.OutsideLeftPictorialStacked}get localizedName(){return x.get("Chart","LabelsCenter")}constructor(e){super(e)}},Q.d.StiOutsideLeftPictorialStackedLabelsCoreXF=class extends Q.d.StiPictorialStackedLabelsCoreXF{applyStyle(e){super.applyStyle(e),this.seriesLabels.allowApplyStyle&&(this.seriesLabels.lineColor=e.core.seriesLabelsLineColor)}renderLabel(e,t,i,r,s,n,l,a,o,h){var s=this.getLabelText(e,r,s,n,e.coreTitle),n=new ie(this.getLabelColor(e,l,a)),u=this.getBorderColor(e,l,a),d=this.getStringFormatGeom(t),c=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),m=e.core.getSeriesBorderColor(l,a);let S=e.core.getSeriesBrush(l,a);null!=S&&(S=new ie(rt.toColor(S)));var l=new te(h.right,h.y+h.height/2),a=this.seriesLabels.lineColor,c=t.measureRotatedString3(s,c,l,d,L.RightCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom)),l=new re(h.right,h.y,o,h.height);return new Q.d.StiOutsidePictorialStackedLabelGeom(this.seriesLabels,e,i,r,h,s,S,n,a,u,m,c,l,null)}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.PictorialStacked}get position(){return Q.d.StiSeriesLabelsPosition.CenterPictorialStacked}get localizedName(){return x.get("PropertyMain","Left")}constructor(e){super(e)}},Q.d.StiOutsideRightPictorialStackedLabelsCoreXF=class extends Q.d.StiPictorialStackedLabelsCoreXF{applyStyle(e){super.applyStyle(e),this.seriesLabels.allowApplyStyle&&(this.seriesLabels.lineColor=e.core.seriesLabelsLineColor)}renderLabel(e,t,i,r,s,n,l,a,o,h){var s=this.getLabelText(e,r,s,n,e.coreTitle),n=new ie(this.getLabelColor(e,l,a)),u=this.getBorderColor(e,l,a),d=this.getStringFormatGeom(t),c=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),m=e.core.getSeriesBorderColor(l,a);let S=e.core.getSeriesBrush(l,a);null!=S&&(S=new ie(rt.toColor(S)));var l=new te(h.x+o,h.y+h.height/2),a=this.seriesLabels.lineColor,c=t.measureRotatedString3(s,c,l,d,L.LeftCenter,0,P.trunc(this.seriesLabels.width*t.options.zoom)),l=new re(h.x+.3*o,h.y,.7*o,h.height);return new Q.d.StiOutsidePictorialStackedLabelGeom(this.seriesLabels,e,i,r,h,s,S,n,a,u,m,c,l,null)}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.PictorialStacked}get position(){return Q.d.StiSeriesLabelsPosition.OutsideRightPictorialStacked}get localizedName(){return x.get("PropertyMain","Right")}constructor(e){super(e)}},Q.d.StiCenterPie3dLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{constructor(e){super(e),this.percentPerValue=0}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Pie}get position(){return Q.d.StiSeriesLabelsPosition.CenterPie3d}get localizedName(){return"3D "+x.get("Chart","LabelsCenter")}renderLabel2(e,t,i){var r=this.getLabelText(e,i.value,i.argumentText,i.tag,e.coreTitle),s=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),n=this.getStringFormatGeom(t);let l=this.getLabelRect(t,i.textPosition,r,s,n),a=l.clone();a.x=-a.width/2,a.y=-a.height/2;var t=this.getBorderColor(e,i.colorIndex,i.colorCount),s=e.core.getSeriesBorderColor(i.colorIndex,i.colorCount),n=e.core.getSeriesBrush(i.colorIndex,i.colorCount),o=new ie(this.getLabelColor(e,i.colorIndex,i.colorCount)),n=this.processSeriesColors(i.index,n,e),h=this.processSeriesColors(i.index,this.seriesLabels.brush,e);return new Q.d.StiCenterPieLabelsGeom(this.seriesLabels,e,i.index,i.value,a,r,n,o,h,t,s,L.CenterCenter,l,this.seriesLabels.angle,null)}getLabelRect(e,t,i,r,s){return e.measureRotatedString3(i,r,t,s,L.CenterCenter,0,this.seriesLabels.width*e.options.zoom)}recalcValue(e,i){if(this.seriesLabels.showInPercent){let t=this.seriesLabels.chart.area.core.getSeries();if(0<t.length){let e=[];t.stimulsoft().copyTo(e),0<e.length&&e[0].is(Q.d.StiPieSeries)&&(this.percentPerValue=e[0].core.getPercentPerValue(e))}return P.round2(e*this.percentPerValue,i)}return e}},Q.d.StiPieSeriesLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{constructor(e){super(e),this.percentPerValue=0}renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g,p,f){return null}recalcValue(e,i){if(this.seriesLabels.showInPercent){let t=this.seriesLabels.chart.area.core.getSeries();if(0<t.length){let e=[];t.stimulsoft().copyTo(e),0<e.length&&e[0].is(Q.d.StiPieSeries)&&(this.percentPerValue=e[0].core.getPercentPerValue(e))}return P.round2(e*this.percentPerValue,i)}return e}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Pie}},Q.d.StiCenterPieLabelsCoreXF=class extends Q.d.StiPieSeriesLabelsCoreXF{renderLabel(t,i,r,s,n,l,a,o,h,u,d,c,m,S,g,p,f,e){let w=re.empty;if(p.ref=w,this.percentPerValue=g,null==h&&!this.seriesLabels.showNulls)return null;if(0==h&&!this.seriesLabels.showZeros)return null;if(null==o&&(o=0),null==h&&(h=0),isNaN(s)||isNaN(n))return null;let x="";x=f?this.getFormattedValue(t,h):this.getLabelText(t,h,u,d,t.coreTitle);var g=Math.PI*l/180;let C=this.getLabelPoint(r,(s-n)/1.75+n,g);f||(this.is(Q.d.StiOutsidePieLabelsCoreXF)&&(C=this.getLabelPoint(r,s+this.seriesLabels.lineLength*i.options.zoom,g)),this.is(Q.d.StiInsideEndPieLabelsCoreXF)&&(C=this.getLabelPoint(r,(s-n)/1.2+n,g)));var h=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*i.options.zoom),u=this.getStringFormatGeom(i);let b=this.getLabelRect(i,C,x,h,u),y=this.seriesLabels.angle,A=L.CenterCenter,v=b.clone();if(v.x=-v.width/2,v.y=-v.height/2,this.seriesLabels.autoRotate&&(0<(y=l)&&y<90||270<y?(this.seriesLabels.is(Q.d.IStiOutsidePieLabels)&&(A=L.LeftCenter),v.x=0):(this.seriesLabels.is(Q.d.IStiOutsidePieLabels)&&(A=L.RightCenter),y+=180,v.x=-v.width)),this.is(Q.d.StiOutsidePieLabelsCoreXF)?this.seriesLabels.autoRotate||(337.5<l||l<22.5?(v.x=0,v.y=-v.height/2,A=L.LeftCenter):22.5<=l&&l<67.5?(v.x=0,v.y=0,A=L.LeftTop):67.5<=l&&l<112.5?(v.x=-v.width/2,v.y=0,A=L.CenterTop):112.5<=l&&l<157.5?(v.x=-v.width,v.y=0,A=L.RightTop):157.5<=l&&l<202.5?(v.x=-v.width,v.y=-v.height/2,A=L.RightCenter):202.5<=l&&l<247.5?(v.x=-v.width,v.y=-v.height,A=L.RightBottom):247.5<=l&&l<292.5?(v.x=-v.width/2,v.y=-v.height,A=L.CenterBottom):292.5<=l&&(v.x=0,v.y=-v.height,A=L.LeftBottom)):(v.x=-v.width/2,v.y=-v.height/2),c)return w=i.measureRotatedString2(x,h,b,u,A,y),p.ref=w,null;var d=this.getBorderColor(t,m,S),f=t.core.getSeriesBorderColor(m,S),n=t.core.getSeriesBrush(m,S),l=new ie(this.getLabelColor(t,m,S)),n=this.processSeriesColors(a,n,t),c=this.processSeriesColors(a,this.seriesLabels.brush,t);if(w=re.empty,this.seriesLabels.is(Q.d.IStiOutsidePieLabels)){let e=this.as(Q.d.StiOutsidePieLabelsCoreXF);var h=e.getLineColor(t,m,S),u=(C=this.getLabelPoint(r,s+e.seriesLabels.lineLength*i.options.zoom,g),this.getLabelPoint(r,s,g));return p.ref=w,new Q.d.StiOutsidePieLabelsGeom(this.seriesLabels,t,a,o,v,x,n,l,c,d,f,A,b,y,h,C,u)}return p.ref=w,new Q.d.StiCenterPieLabelsGeom(this.seriesLabels,t,a,o,v,x,n,l,c,d,f,A,b,y,null)}getLabelPoint(e,t,i){return new te(e.x+Math.cos(i)*t,e.y+Math.sin(i)*t)}getLabelRect(e,t,i,r,s){return e.measureRotatedString3(i,r,t,s,L.CenterCenter,0,P.trunc(this.seriesLabels.width*e.options.zoom))}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Pie}get position(){return Q.d.StiSeriesLabelsPosition.CenterPie}get localizedName(){return x.get("Chart","LabelsCenter")}constructor(e){super(e)}},Q.d.StiInsideEndPieLabelsCoreXF=class extends Q.d.StiCenterPieLabelsCoreXF{get localizedName(){return x.get("Chart","LabelsInsideEnd")}get position(){return Q.d.StiSeriesLabelsPosition.InsideEndPie}constructor(e){super(e)}},Q.d.StiOutsidePieLabelsCoreXF=class extends Q.d.StiCenterPieLabelsCoreXF{applyStyle(e){super.applyStyle(e),this.seriesLabels.allowApplyStyle&&(this.seriesLabels.lineColor=e.core.seriesLabelsLineColor)}get position(){return Q.d.StiSeriesLabelsPosition.OutsidePie}get localizedName(){return x.get("Chart","LabelsOutside")}getLineColor(e,t,i){if(this.seriesLabels.useSeriesColor)return this.getSeriesLabelColor(e,t,i);return this.seriesLabels.lineColor}constructor(e){super(e)}},Q.d.StiTwoColumnsPieLabelsCoreXF=class extends Q.d.StiOutsidePieLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g,p,f){this.percentPerValue=S;let w=re.empty;if(null==o&&!this.seriesLabels.showNulls)return null;if(0==o&&!this.seriesLabels.showZeros)return null;if(null==a&&(a=0),null==o&&(o=0),isNaN(r)||isNaN(s))return null;if(p)return g.ref=w,super.renderLabel(e,t,i,r,s,n,l,a,o,this.getFormattedValue(e,o),u,d,c,m,S,g,p,f);var s=this.getLabelText(e,o,h,u,e.coreTitle),S=Math.PI*n/180,p=this.getLabelPoint(i,r,S),o=this.getLabelPoint(i,r+this.seriesLabels.lineLength*t.options.zoom,S);let x=0,C=(x=p.x>o.x?-1:1,new te(i.x+r*x+this.seriesLabels.lineLength*x+10*x,o.y));this.seriesLabels.preventIntersection&&(C.y=p.y),C.y+=f*Math.min(t.options.zoom,1);var h=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom);let b=this.seriesLabels.core.getStringFormatGeom(t);b.alignment=A.Center,b.lineAlignment=A.Center;var u=this.getLabelRect(t,C,s,h,b),n,S,r,r,f,t,h;let y=re.empty;return y=x<0?new re(C.x-u.width,C.y-u.height/2,u.width,u.height):new re(C.x,C.y-u.height/2,u.width,u.height),d?(w=y,g.ref=w,null):(w=re.empty,n=this.getBorderColor(e,c,m),S=e.core.getSeriesBorderColor(c,m),r=e.core.getSeriesBrush(c,m),r=this.processSeriesColors(l,r,e),f=new ie(this.getLabelColor(e,c,m)),t=this.getLineColor(e,c,m),h=this.processSeriesColors(l,this.seriesLabels.brush,e),g.ref=w,new Q.d.StiTwoColumnsPieLabelsGeom(this.seriesLabels,e,l,a,y,s,r,f,h,n,S,y,t,o,C,p,i,null))}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Pie|Q.d.StiSeriesLabelsType.Doughnut}get position(){return Q.d.StiSeriesLabelsPosition.TwoColumnsPie}get localizedName(){return x.get("Chart","LabelsTwoColumns")}constructor(e){super(e)}},Q.d.StiCenterTreemapLabelsCoreXF=class extends Q.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,r,s,n,l,a,o,h=null){var s=this.getLabelText(e,r,s,n,e.coreTitle),n=this.getLabelColor(e,l,a),u=this.getBorderColor(e,l,a),d=this.getStringFormatGeom(t),c=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),m=e.core.getSeriesBorderColor(l,a),l=e.core.getSeriesBrush(l,a),a=this.processSeriesColors(i,this.seriesLabels.brush,e),t=this.getLabelRect(t,o,r,s,!0,c,d);return new Q.d.StiCenterTreemapLabelsGeom(this.seriesLabels,e,i,r,t,s,n,u,l,a,m,c,h)}getLabelRect(e,t,i,r,s,n,l){return e.measureRotatedString3(r,n,new te(t.x+t.width/2,t.y+t.height/2),l,L.CenterCenter,0,this.seriesLabels.width*e.options.zoom)}get position(){return Q.d.StiSeriesLabelsPosition.CenterTreemap}get localizedName(){return x.get("Chart","LabelsCenter")}get seriesLabelsType(){return Q.d.StiSeriesLabelsType.Treemap}constructor(e){super(e)}};{class nr{constructor(e){this.strips=e}implements(){return nr.implementsStiStripsCoreXF||(nr.implementsStiStripsCoreXF=[Q.d.IStiApplyStyle,n,Q.d.IStiStripsCoreXF]),nr.implementsStiStripsCoreXF}clone(){return this.stimulsoft().memberwiseClone()}applyStyle(e){this.strips.allowApplyStyle&&(this.strips.titleColor=e.core.styleColors[e.core.styleColors.length-1],this.strips.stripBrush=new ie(ee.fromArgb(150,e.core.styleColors[e.core.styleColors.length-1])))}renderXStrips(e,t,i){var r=this.strips.chart.area,r;if(null==r)return;let s=this.calculateXValue(this.strips.minValue,r,i),n=this.calculateXValue(this.strips.maxValue,r,i);s>n&&(r=s,s=n,n=r);var r=new re(s,0,n-s,i.height),i=new Q.d.StiStripsXGeom(this.strips,r);t.createChildGeoms(),t.childGeoms.push(i)}calculateXValue(e,t,i){let r;try{r=e.stimulsoft().toNumber()}catch(e){Z.System.StiError.showError(e,!1),r=0}let s=0;var e,n,e,l,e,i;return s=t.xAxis.logarithmicScale&&0<t.xAxis.info.stripLines.count?(e=t.xAxis.info.stripLines.count,n=t.reverseHor?e-1:0,e=t.reverseHor?0:e-1,l=t.xAxis.info.stripLines.getByIndex(n).value,e=t.xAxis.info.stripLines.getByIndex(e).value,i=Math.abs(i.width/(P.log10(e)-P.log10(l))),Math.abs(P.log10(r)*i-P.log10(t.xAxis.info.stripLines.getByIndex(n).value)*i)):t.axisCore.getDividerX()+r*t.xAxis.info.dpi}renderYStrips(e,t,i){var r=this.strips.chart.area,r;if(null==r)return;let s=this.calculateYValue(this.strips.minValue,r,i),n=this.calculateYValue(this.strips.maxValue,r,i);s>n&&(r=s,s=n,n=r);var r=new re(0,s,i.width,n-s),i=new Q.d.StiStripsYGeom(this.strips,r);t.createChildGeoms(),t.childGeoms.push(i)}calculateYValue(e,t,i){let r;try{r=e.stimulsoft().toNumber()}catch(e){Z.System.StiError.showError(e,!1),r=0}let s=0;var n,l,e,a,e,i;return s=t.yAxis.logarithmicScale?(e=t.yAxis.info.stripLines.count-1,a=t.yAxis.info.stripLines.getByIndex(l=0).value,e=t.yAxis.info.stripLines.getByIndex(e).value,i=Math.abs(i.height/(P.log10(e)-P.log10(a))),Math.abs(P.log10(t.yAxis.info.stripLines.getByIndex(l).value)*i-P.log10(r)*i)):this.strips.orientation==Q.d.StiStrips_StiOrientation.Horizontal?t.axisCore.getDividerY()-r*t.yAxis.info.dpi:t.axisCore.getDividerRightY()-r*t.yRightAxis.info.dpi}render(e,t,i){if(!this.strips.visible)return;this.strips.orientation==Q.d.StiStrips_StiOrientation.Vertical&&this.renderXStrips(e,t,i),this.strips.orientation!=Q.d.StiStrips_StiOrientation.Horizontal&&this.strips.orientation!=Q.d.StiStrips_StiOrientation.HorizontalRight||this.renderYStrips(e,t,i)}}Q.d.StiStripsCoreXF=nr}let Dt=Z.Base.Drawing.StiSimpleBorder,Mt=Z.Base.Drawing.StiCornerRadius;{class lr{constructor(){this._markerVisible=!0}implements(){return lr.implementsStiStyleCoreXF||(lr.implementsStiStyleCoreXF=[Q.d.IStiStyleCoreXF]),lr.implementsStiStyleCoreXF}get localizedName(){return null}get styleId(){return Q.d.StiChartStyleId.StiStyle01}get chartBrush(){return new ie(w.light(this.basicStyleColor,100))}get chartAreaBrush(){return new Ce(w.light(this.basicStyleColor,80),w.light(this.basicStyleColor,40),90)}get chartAreaBorderColor(){return w.dark(this.basicStyleColor,150)}get chartAreaShowShadow(){return!1}get seriesLabelsBrush(){return new ie(this.basicStyleColor)}get seriesLabelsColor(){return w.dark(this.basicStyleColor,150)}get seriesLabelsBorderColor(){return w.dark(this.basicStyleColor,150)}get seriesLabelsLineColor(){return w.dark(this.basicStyleColor,150)}get seriesLabelsFont(){return new X("Arial",7)}get toolTipBrush(){return new ie(ee.fromArgb(180,50,50,50))}get toolTipTextBrush(){return new ie(ee.white)}get toolTipCornerRadius(){return new Mt(8)}get toolTipBorder(){return new Dt}get trendLineColor(){return w.dark(this.basicStyleColor,150)}get trendLineShowShadow(){return!1}get legendBrush(){return new Ce(w.light(this.basicStyleColor,80),w.light(this.basicStyleColor,20),90)}get legendLabelsColor(){return w.dark(this.basicStyleColor,150)}get legendBorderColor(){return w.dark(this.basicStyleColor,150)}get legendTitleColor(){return w.dark(this.basicStyleColor,150)}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",8)}get axisTitleColor(){return w.dark(this.basicStyleColor,150)}get axisLineColor(){return w.dark(this.basicStyleColor,150)}get axisLabelsColor(){return w.dark(this.basicStyleColor,150)}get interlacingHorBrush(){return new ie(ee.fromArgb(10,w.dark(this.basicStyleColor,100)))}get interlacingVertBrush(){return new ie(ee.fromArgb(10,w.dark(this.basicStyleColor,100)))}get gridLinesHorColor(){return ee.fromArgb(100,w.dark(this.basicStyleColor,150))}get gridLinesVertColor(){return ee.fromArgb(100,w.dark(this.basicStyleColor,150))}get seriesLighting(){return!0}get seriesShowShadow(){return!1}get seriesShowBorder(){return!0}get seriesBorderThickness(){return 1}get seriesCornerRadius(){return new Mt}get markerVisible(){return this._markerVisible}set markerVisible(e){this._markerVisible=e}get firstStyleColor(){return this.styleColors[0]}get lastStyleColor(){return this.styleColors[this.styleColors.length-1]}get styleColors(){return null}get basicStyleColor(){return null}fillColumn(e,t,i,r){e.fillRectangle2(i,t.x,t.y,t.width,t.height,r)}fillCicledColumn(e,t,i,r,s){e.fillCicledRectangle(r,t,i,s)}getAreaBrush(e){return new ie(ee.fromArgb(200,e))}getColumnBrush(e){return new Ce(e,w.dark(e,50),0)}getColumnBorder(e){if(!this.seriesShowBorder)return ee.transparent;return w.dark(e,100)}getColors(t,e){let i=U.create(ee,t);var r=null!=e?e:this.styleColors,s,n,l,a,s;let o=0,h=0;for(let e=0;e<t;e++){0==r.length||r.length<o?i[e]=ee.fromArgb(255,112,173,71):0!=h?(s=r[o],n=Math.min(s.a+h,255),l=Math.min(s.r+h,255),a=Math.min(s.g+h,255),s=Math.min(s.b+h,255),i[e]=ee.fromArgb(n,l,a,s)):i[e]=r[o],++o==r.length&&(o=0,h=50)}return i}getColorByIndex(e,t,i){return this.getColors(t,i)[e]}getColorBySeries(e,t){return this.getColors(e.chart.series.count,t)[e.chart.series.indexOf(e)]}}Q.d.StiStyleCoreXF=lr}Q.d.StiStyleCoreXF01=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,194,117,53),ee.fromArgb(255,231,140,65),ee.fromArgb(255,248,170,121),ee.fromArgb(255,250,203,180),ee.fromArgb(255,253,230,220)]}get localizedName(){return x.get("Chart","Style")+"01"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.wheat}get styleId(){return Q.d.StiChartStyleId.StiStyle01}getColumnBrush(e){return new be(w.dark(e,50),e,0)}},Q.d.StiCustomStyleCoreXF=class extends Q.d.StiStyleCoreXF01{constructor(e){super(),this._base=new Q.d.StiStyleCoreXF01,this.reportChartStyle=null,this.reportStyleName=null,this._customStyle=e}get localizedName(){return"CustomStyle"}get chartBrush(){if(null!=this.reportStyle)return this.reportStyle.brush;return this._base.chartBrush}get chartAreaBrush(){if(null!=this.reportStyle)return this.reportStyle.chartAreaBrush;return this._base.chartAreaBrush}get chartAreaBorderColor(){if(null!=this.reportStyle)return this.reportStyle.chartAreaBorderColor;return this._base.chartAreaBorderColor}get chartAreaShowShadow(){if(null!=this.reportStyle)return this.reportStyle.chartAreaShowShadow;return this._base.chartAreaShowShadow}get toolTipBrush(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipBrush}get toolTipTextBrush(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipTextBrush}get toolTipCornerRadius(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipCornerRadius}get toolTipBorder(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipBorder}get seriesLighting(){if(null!=this.reportStyle)return this.reportStyle.seriesLighting;return this._base.seriesLighting}get seriesShowShadow(){if(null!=this.reportStyle)return this.reportStyle.seriesShowShadow;return this._base.seriesShowShadow}get seriesShowBorder(){if(null!=this.reportStyle)return this.reportStyle.seriesShowBorder;return this._base.seriesShowBorder}get seriesLabelsBrush(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsBrush;return this._base.seriesLabelsBrush}get seriesLabelsColor(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsColor;return this._base.seriesLabelsColor}get seriesLabelsBorderColor(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsBorderColor;return this._base.seriesLabelsBorderColor}get seriesLabelsLineColor(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsLineColor;return this._base.seriesLabelsLineColor}get seriesBorderThickness(){if(null!=this.reportStyle)return this.reportStyle.seriesBorderThickness;return this._base.seriesBorderThickness}get seriesCornerRadius(){if(null!=this.reportStyle)return this.reportStyle.seriesCornerRadius;return this._base.seriesCornerRadius}get trendLineColor(){if(null!=this.reportStyle)return this.reportStyle.trendLineColor;return this._base.trendLineColor}get trendLineShowShadow(){if(null!=this.reportStyle)return this.reportStyle.trendLineShowShadow;return this._base.trendLineShowShadow}get legendBrush(){if(null!=this.reportStyle)return this.reportStyle.legendBrush;return this._base.legendBrush}get legendLabelsColor(){if(null!=this.reportStyle)return this.reportStyle.legendLabelsColor;return this._base.legendLabelsColor}get legendBorderColor(){if(null!=this.reportStyle)return this.reportStyle.legendBorderColor;return this._base.legendBorderColor}get legendTitleColor(){if(null!=this.reportStyle)return this.reportStyle.legendTitleColor;return this._base.legendTitleColor}get markerVisible(){if(null!=this.reportStyle)return this.reportStyle.markerVisible;return this._base.markerVisible}set markerVisible(e){}get axisTitleColor(){if(null!=this.reportStyle)return this.reportStyle.axisTitleColor;return this._base.axisTitleColor}get axisLineColor(){if(null!=this.reportStyle)return this.reportStyle.axisLineColor;return this._base.axisLineColor}get axisLabelsColor(){if(null!=this.reportStyle)return this.reportStyle.axisLabelsColor;return this._base.axisLabelsColor}get interlacingHorBrush(){if(null!=this.reportStyle)return this.reportStyle.interlacingHorBrush;return this._base.interlacingHorBrush}get interlacingVertBrush(){if(null!=this.reportStyle)return this.reportStyle.interlacingVertBrush;return this._base.interlacingVertBrush}get gridLinesHorColor(){if(null!=this.reportStyle)return this.reportStyle.gridLinesHorColor;return this._base.gridLinesHorColor}get gridLinesVertColor(){if(null!=this.reportStyle)return this.reportStyle.gridLinesVertColor;return this._base.gridLinesVertColor}get styleColors(){if(null!=this.reportStyle)return this.reportStyle.styleColors;return this._base.styleColors}get basicStyleColor(){if(null!=this.reportStyle)return this.reportStyle.basicStyleColor;return this._base.basicStyleColor}get reportStyle(){var e=null==this.reportStyleName?this.chart.customStyleName:this.reportStyleName,t;if(null==this.chart||null==this.chart.report||null==e||0==e.length)return null;return this.chart.report.styles.getByName(e)}get customStyle(){return this._customStyle}getColumnBrush(e){if(null!=this.reportStyle)switch(this.reportStyle.brushType){case Q.a.StiBrushType.Glare:return new be(w.dark(e,50),e,0);case Q.a.StiBrushType.Gradient0:return new Ce(w.dark(e,50),e,0);case Q.a.StiBrushType.Gradient90:return new Ce(w.dark(e,50),e,90);case Q.a.StiBrushType.Gradient180:return new Ce(w.dark(e,50),e,180);case Q.a.StiBrushType.Gradient270:return new Ce(w.dark(e,50),e,270);case Q.a.StiBrushType.Gradient45:return new Ce(w.dark(e,50),e,45);case Q.a.StiBrushType.Solid:return new ie(e)}return new ie(e)}},Q.d.StiStyleCoreXF02=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,128,145,165),ee.fromArgb(255,171,123,122),ee.fromArgb(255,155,167,129),ee.fromArgb(255,144,133,157),ee.fromArgb(255,121,161,173),ee.fromArgb(255,189,152,122),ee.fromArgb(255,139,164,194),ee.fromArgb(255,202,132,130),ee.fromArgb(255,179,198,141),ee.fromArgb(255,162,146,182)]}get localizedName(){return x.get("Chart","Style")+"02"}get basicStyleColor(){return ee.whiteSmoke}get styleColors(){return this._styleColor}get styleId(){return Q.d.StiChartStyleId.StiStyle02}getColumnBrush(e){return new be(e,w.light(e,50),0)}},Q.d.StiStyleCoreXF03=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,150,61,59),ee.fromArgb(255,179,74,71),ee.fromArgb(255,201,126,125),ee.fromArgb(255,221,182,181),ee.fromArgb(255,238,221,221)]}get localizedName(){return x.get("Chart","Style")+"03"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.whiteSmoke}get styleId(){return Q.d.StiChartStyleId.StiStyle03}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF04=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,72,57,90),ee.fromArgb(255,109,87,137),ee.fromArgb(255,146,123,173),ee.fromArgb(255,181,166,200)]}get localizedName(){return x.get("Chart","Style")+"04"}get basicStyleColor(){return ee.fromArgb(255,181,166,200)}get styleColors(){return this._styleColor}get styleId(){return Q.d.StiChartStyleId.StiStyle04}},Q.d.StiStyleCoreXF05=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,224,169,61),ee.fromArgb(255,180,181,0),ee.fromArgb(255,14,152,13),ee.fromArgb(255,170,72,36),ee.fromArgb(255,133,221,77),ee.fromArgb(255,230,199,69),ee.fromArgb(255,219,100,52),ee.fromArgb(255,131,190,47)]}get localizedName(){return x.get("Chart","Style")+"05"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.lemonChiffon}get styleId(){return Q.d.StiChartStyleId.StiStyle05}},Q.d.StiStyleCoreXF06=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,206,185,102),ee.fromArgb(255,156,176,132),ee.fromArgb(255,107,177,201),ee.fromArgb(255,101,133,207),ee.fromArgb(255,126,107,201),ee.fromArgb(255,163,121,187)]}get localizedName(){return x.get("Chart","Style")+"06"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,202,198,206)}get styleId(){return Q.d.StiChartStyleId.StiStyle06}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF07=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,217,251,168),ee.fromArgb(255,200,181,231),ee.fromArgb(255,158,232,255),ee.fromArgb(255,255,189,134),ee.fromArgb(255,163,195,254)]}get localizedName(){return x.get("Chart","Style")+"07"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.white}get styleId(){return Q.d.StiChartStyleId.StiStyle07}getColumnBrush(e){return new Ce(w.dark(e,50),w.light(e,50),-90)}},Q.d.StiStyleCoreXF08=class extends Q.d.StiStyleCoreXF03{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,60,100,148),ee.fromArgb(255,73,120,177),ee.fromArgb(255,126,155,200),ee.fromArgb(255,182,195,220),ee.fromArgb(255,221,227,238)]}get localizedName(){return x.get("Chart","Style")+"08"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(238,182,195,220)}get styleId(){return Q.d.StiChartStyleId.StiStyle08}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF09=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,79,129,189),ee.fromArgb(255,192,80,77),ee.fromArgb(255,155,187,89),ee.fromArgb(255,128,100,162),ee.fromArgb(255,75,172,198),ee.fromArgb(255,247,150,70)]}get localizedName(){return x.get("Chart","Style")+"09"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(238,238,236,225)}get styleId(){return Q.d.StiChartStyleId.StiStyle09}},Q.d.StiStyleCoreXF10=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,121,181,176),ee.fromArgb(255,180,188,76),ee.fromArgb(255,183,120,81),ee.fromArgb(255,119,106,91),ee.fromArgb(255,182,173,118),ee.fromArgb(255,149,174,177)]}get localizedName(){return x.get("Chart","Style")+"10"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,209,225,227)}get styleId(){return Q.d.StiChartStyleId.StiStyle10}},Q.d.StiStyleCoreXF11=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,204,77,92),ee.fromArgb(255,255,111,97),ee.fromArgb(255,255,149,62),ee.fromArgb(255,248,189,82)]}get localizedName(){return x.get("Chart","Style")+"11"}get styleColors(){return this._styleColor}get basicStyleColor(){return w.dark(ee.navajoWhite,30)}get styleId(){return Q.d.StiChartStyleId.StiStyle11}},Q.d.StiStyleCoreXF12=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.goldenrod,ee.khaki]}get localizedName(){return x.get("Chart","Style")+"12"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.moccasin}get styleId(){return Q.d.StiChartStyleId.StiStyle12}},Q.d.StiStyleCoreXF13=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,151,158,168),ee.fromArgb(255,189,174,137),ee.fromArgb(255,205,176,5),ee.fromArgb(255,170,166,194),ee.fromArgb(255,132,191,210),ee.fromArgb(255,139,159,115)]}get localizedName(){return x.get("Chart","Style")+"13"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,212,210,208)}get styleId(){return Q.d.StiChartStyleId.StiStyle13}},Q.d.StiStyleCoreXF14=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,240,162,46),ee.fromArgb(255,165,100,78),ee.fromArgb(255,181,139,128),ee.fromArgb(255,195,152,109),ee.fromArgb(255,161,149,116),ee.fromArgb(255,193,117,41)]}get localizedName(){return x.get("Chart","Style")+"14"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,251,238,201)}get styleId(){return Q.d.StiChartStyleId.StiStyle14}},Q.d.StiStyleCoreXF15=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,15,111,198),ee.fromArgb(255,0,157,217),ee.fromArgb(255,11,208,217),ee.fromArgb(255,16,207,155),ee.fromArgb(255,124,202,98),ee.fromArgb(255,165,194,73)]}get localizedName(){return x.get("Chart","Style")+"15"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,219,245,249)}get styleId(){return Q.d.StiChartStyleId.StiStyle15}},Q.d.StiStyleCoreXF16=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,255,128,0),ee.black,ee.silver,ee.red]}get localizedName(){return x.get("Chart","Style")+"16"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.white}get styleId(){return Q.d.StiChartStyleId.StiStyle16}},Q.d.StiStyleCoreXF17=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.white,ee.black]}get localizedName(){return x.get("Chart","Style")+"17"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.white}get styleId(){return Q.d.StiChartStyleId.StiStyle17}};let Et=Z.Base.Drawing.StiHatchBrush,Nt=Z.System.Drawing.Drawing2D.HatchStyle,Ot=(Q.d.StiStyleCoreXF18=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.white,ee.black,ee.silver,ee.red,ee.green,ee.blue]}get localizedName(){return x.get("Chart","Style")+"18"}fillColumn(e,t,i,r){let s=Nt.Cross;var i=i,i=(ee.white.equals(i.color)?s=Nt.BackwardDiagonal:ee.black.equals(i.color)?s=Nt.DottedGrid:ee.silver.equals(i.color)?s=Nt.Horizontal:ee.red.equals(i.color)?s=Nt.Percent25:ee.green.equals(i.color)?s=Nt.OutlinedDiamond:ee.blue.equals(i.color)&&(s=Nt.ForwardDiagonal),new Et(s,ee.black,ee.white));e.fillRectangle2(i,t.x,t.y,t.width,t.height,r)}getColumnBrush(e){return new ie(e)}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.white}get styleId(){return Q.d.StiChartStyleId.StiStyle18}},Q.d.StiStyleCoreXF19=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,242,234,221),ee.fromArgb(255,240,237,232),ee.fromArgb(255,232,221,203),ee.fromArgb(255,225,201,173),ee.fromArgb(255,216,180,140)]}get localizedName(){return x.get("Chart","Style")+"19"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,242,234,221)}get interlacingHorBrush(){return new ie(ee.fromArgb(128,240,237,232))}get interlacingVertBrush(){return new ie(ee.fromArgb(128,240,237,232))}get chartAreaBrush(){return new ie(ee.fromArgb(128,240,237,232))}get chartBrush(){return new ie(ee.white)}get styleId(){return Q.d.StiChartStyleId.StiStyle19}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF20=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(255,217,187,148),ee.fromArgb(255,245,190,119),ee.fromArgb(255,230,189,127),ee.fromArgb(255,220,217,212),ee.fromArgb(255,237,229,216),ee.fromArgb(255,246,233,212)]}get localizedName(){return x.get("Chart","Style")+"20"}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.bisque}get axisLineColor(){return w.dark(this.basicStyleColor,50)}get chartAreaBorderColor(){return w.dark(this.basicStyleColor,50)}get styleId(){return Q.d.StiChartStyleId.StiStyle20}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF21=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(35,159,217),ee.fromArgb(178,178,178)]}get localizedName(){return x.get("Chart","Style")+"21"}get chartBrush(){return new ie(w.light(this.basicStyleColor,100))}get chartAreaBrush(){return new ie(this.basicStyleColor)}get chartAreaBorderColor(){return ee.fromArgb(106,106,106)}get seriesLabelsBrush(){return new ie(w.light(this.basicStyleColor,100))}get seriesLabelsColor(){return ee.fromArgb(106,106,106)}get seriesLabelsBorderColor(){return ee.fromArgb(255,255,255)}get legendBrush(){return new ie(w.light(this.basicStyleColor,100))}get legendLabelsColor(){return ee.fromArgb(106,106,106)}get axisTitleColor(){return ee.fromArgb(106,106,106)}get axisLineColor(){return ee.fromArgb(106,106,106)}get axisLabelsColor(){return ee.fromArgb(106,106,106)}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(102,102,102)}get styleId(){return Q.d.StiChartStyleId.StiStyle21}getColumnBrush(e){return new ie(e)}getColumnBorder(e){return w.light(e,255)}},Z.Base.Drawing.StiBorderSides),u=Z.Base.Drawing.StiColor,d=(Q.d.StiStyleCoreXF22=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(91,155,213),ee.fromArgb(237,125,49),ee.fromArgb(159,159,159),ee.fromArgb(255,192,0),ee.fromArgb(68,114,196),ee.fromArgb(112,173,71)]}get localizedName(){return x.get("Chart","Style")+"22"}get chartBrush(){return new ie(w.light(this.basicStyleColor,100))}get chartAreaBrush(){return new ie(this.basicStyleColor)}get chartAreaBorderColor(){return ee.fromArgb(171,172,173)}get seriesLabelsBrush(){return new ie(w.light(this.basicStyleColor,100))}get seriesLabelsColor(){return ee.fromArgb(90,90,90)}get seriesLabelsBorderColor(){return ee.fromArgb(140,140,140)}get legendBrush(){return new ie(w.light(this.basicStyleColor,100))}get legendLabelsColor(){return ee.fromArgb(140,140,140)}get axisTitleColor(){return ee.fromArgb(140,140,140)}get axisLineColor(){return ee.fromArgb(140,140,140)}get axisLabelsColor(){return ee.fromArgb(140,140,140)}get styleColors(){return this._styleColor}get basicStyleColor(){return ee.fromArgb(255,255,255)}get toolTipBrush(){return new ie(ee.white)}get toolTipTextBrush(){return new ie(ee.dimGray)}get toolTipBorder(){return new Dt(Ot.All,u.get("#8c8c8c"),1,f.Solid)}get styleId(){return Q.d.StiChartStyleId.StiStyle22}getColumnBrush(e){return new ie(e)}getColumnBorder(e){return w.light(e,255)}},Q.d.StiStyleCoreXF23=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(91,155,213),ee.fromArgb(159,159,159),ee.fromArgb(68,114,196),ee.fromArgb(37,94,145),ee.fromArgb(99,99,99),ee.fromArgb(38,68,120)]}get localizedName(){return x.get("Chart","Style")+"23"}get styleColors(){return this._styleColor}get styleId(){return Q.d.StiChartStyleId.StiStyle23}},Q.d.StiStyleCoreXF24=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[ee.fromArgb(237,125,49),ee.fromArgb(255,192,0),ee.fromArgb(112,173,71),ee.fromArgb(158,72,14),ee.fromArgb(153,115,0),ee.fromArgb(67,104,43)]}get localizedName(){return x.get("Chart","Style")+"24"}get styleColors(){return this._styleColor}get styleId(){return Q.d.StiChartStyleId.StiStyle24}get chartAreaBorderColor(){return ee.transparent}get legendBorderColor(){return ee.transparent}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}},Z.System.Drawing.ColorTranslator);Q.d.StiStyleCoreXF25=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#70ad47"),d.fromHtml("#4472c4"),d.fromHtml("#ffc000"),d.fromHtml("#43682b"),d.fromHtml("#fd6a37"),d.fromHtml("#997300")]}get localizedName(){return x.get("Chart","Style")+"25"}get styleColors(){return this._styleColor}get styleId(){return Q.d.StiChartStyleId.StiStyle25}get chartAreaBorderColor(){return ee.transparent}get legendShowShadow(){return!1}get legendBorderColor(){return ee.transparent}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return d.fromHtml("#33475b")}get seriesLabelsFont(){return new X("Arial",10)}get seriesLighting(){return!1}get seriesShowShadow(){return!1}},Q.d.StiStyleCoreXF26=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#2ec6c8"),d.fromHtml("#b5a1dd"),d.fromHtml("#5ab0ee"),d.fromHtml("#f4984e"),d.fromHtml("#d77a80"),d.fromHtml("#d04456")]}get localizedName(){return x.get("Chart","Style")+"26"}get styleColors(){return this._styleColor}get chartAreaBorderColor(){return ee.transparent}get chartAreaBrush(){return new ie(d.fromHtml("#ffffff"))}get legendShowShadow(){return!1}get legendBorderColor(){return ee.transparent}get seriesLabelsColor(){return d.fromHtml("#33475B")}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsFont(){return new X("Arial",10)}get seriesLighting(){return!1}get seriesShowShadow(){return!1}get markerVisible(){return!1}set markerVisible(e){}get styleId(){return Q.d.StiChartStyleId.StiStyle26}getColumnBorder(e){return ee.transparent}},Q.d.StiStyleCoreXF27=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#0bac45"),d.fromHtml("#585257"),d.fromHtml("#ec334d"),d.fromHtml("#a1ae94"),d.fromHtml("#ed7d31"),d.fromHtml("#5ab0ee")]}get localizedName(){return x.get("Chart","Style")+"27"}get styleColors(){return this._styleColor}get chartBrush(){return new ie(d.fromHtml("#33475b"))}get chartAreaBrush(){return new ie(d.fromHtml("#33475b"))}get chartAreaBorderColor(){return ee.transparent}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return ee.white}get seriesLabelsFont(){return new X("Arial",10)}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return ee.white}get legendBorderColor(){return ee.transparent}get legendTitleColor(){return ee.white}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",9)}get seriesLighting(){return!1}getColumnBorder(e){return ee.transparent}get toolTipBrush(){return new ie(ee.fromArgb(180,50,50,50))}get toolTipTextBrush(){return new ie(ee.white)}get toolTipBorder(){return new Dt(Ot.All,ee.white,1,f.Solid)}get styleId(){return Q.d.StiChartStyleId.StiStyle27}},Q.d.StiStyleCoreXF28=class extends Q.d.StiStyleCoreXF26{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#165d9e"),d.fromHtml("#577eb6"),d.fromHtml("#569436"),d.fromHtml("#225056"),d.fromHtml("#d4dae0")]}get localizedName(){return x.get("Chart","Style")+"28"}get chartBrush(){return new ie(d.fromHtml("#0a325a"))}get chartAreaBrush(){return new ie(d.fromHtml("#0a325a"))}get chartAreaBorderColor(){return ee.transparent}get axisTitleColor(){return w.dark(this.basicStyleColor,50)}get axisLineColor(){return w.dark(this.basicStyleColor,50)}get axisLabelsColor(){return w.dark(this.basicStyleColor,50)}get legendBrush(){return new ie(ee.transparent)}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get legendBorderColor(){return ee.transparent}get legendTitleColor(){return ee.white}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",9)}get toolTipBrush(){return new ie(ee.fromArgb(150,6,32,59))}get toolTipTextBrush(){return new ie(ee.white)}get toolTipBorder(){return new Dt(Ot.All,ee.white,1,f.Solid)}get styleId(){return Q.d.StiChartStyleId.StiStyle28}},Q.d.StiStyleCoreXF29=class extends Q.d.StiStyleCoreXF26{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#3498db"),d.fromHtml("#ef717a"),d.fromHtml("#6dcbb3"),d.fromHtml("#f28161"),d.fromHtml("#fccd1b")]}get localizedName(){return x.get("Chart","Style")+"29"}get styleColors(){return this._styleColor}get styleId(){return Q.d.StiChartStyleId.StiStyle29}get chartAreaBorderColor(){return ee.transparent}get legendShowShadow(){return!1}get legendBorderColor(){return ee.transparent}get seriesLabelsColor(){return d.fromHtml("#323a45")}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}},Q.d.StiStyleCoreXF30=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#db7b46"),d.fromHtml("#d3d3d5"),d.fromHtml("#6b6e75"),d.fromHtml("#4a4c55")]}get localizedName(){return x.get("Chart","Style")+"30"}get styleColors(){return this._styleColor}get chartBrush(){return new ie(d.fromHtml("#595b65"))}get chartAreaBrush(){return new ie(d.fromHtml("#595b65"))}get chartAreaBorderColor(){return ee.transparent}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return ee.white}get seriesLabelsFont(){return new X("Arial",10)}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return ee.white}get legendTitleColor(){return ee.white}get legendShowShadow(){return!1}get legendBorderColor(){return ee.transparent}get legendFont(){return new X("Arial",8)}get seriesLighting(){return!1}getColumnBorder(e){return ee.transparent}get styleId(){return Q.d.StiChartStyleId.StiStyle30}},Q.d.StiStyleCoreXF31=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[d.fromHtml("#fefef9"),d.fromHtml("#a8d7e2"),d.fromHtml("#5ea8bf"),d.fromHtml("#2b7f9e"),d.fromHtml("#1c4458")]}get localizedName(){return x.get("Chart","Style")+"31"}get styleColors(){return this._styleColor}get chartBrush(){return new ie(d.fromHtml("#235e6d"))}get chartAreaBrush(){return new ie(d.fromHtml("#235e6d"))}get chartAreaBorderColor(){return ee.transparent}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return ee.white}get seriesLabelsFont(){return new X("Arial",10)}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return ee.white}get legendTitleColor(){return ee.white}get legendShowShadow(){return!1}get legendBorderColor(){return ee.transparent}get legendFont(){return new X("Arial",9)}get toolTipBrush(){return new ie(ee.fromArgb(150,30,74,97))}get toolTipTextBrush(){return new ie(ee.white)}get toolTipBorder(){return new Dt(Ot.All,ee.white,1,f.Solid)}get seriesLighting(){return!1}getColumnBorder(e){return ee.transparent}get styleId(){return Q.d.StiChartStyleId.StiStyle31}},Q.d.StiStyleCoreXF32=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[u.get("3a5263"),u.get("90a1ab"),u.get("c9d5dc")]}get localizedName(){return x.get("Chart","Style")+"32"}get styleColors(){return this._styleColor}get basicStyleColor(){return u.get("e9f4fc")}get chartBrush(){return new ie(u.get("6d7e8b"))}get chartAreaBrush(){return new ie(u.get("6d7e8b"))}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return u.get("e9f4fc")}get legendBorderColor(){return ee.transparent}get legendTitleColor(){return u.get("e9f4fc")}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",9)}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return u.get("e9f4fc")}get seriesLabelsLineColor(){return u.get("e9f4fc")}get seriesLabelsFont(){return new X("Arial",10)}get axisTitleColor(){return u.get("e9f4fc")}get axisLineColor(){return u.get("e9f4fc")}get axisLabelsColor(){return u.get("e9f4fc")}get gridLinesHorColor(){return u.get("e9f4fc")}get gridLinesVertColor(){return u.get("e9f4fc")}get toolTipBrush(){return new ie(ee.fromArgb(150,67,84,94))}get seriesLighting(){return!1}get styleId(){return Q.d.StiChartStyleId.StiStyle32}getColumnBorder(e){return ee.transparent}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF33=class extends Q.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[u.get("40568d"),u.get("4569bb"),u.get("e47334"),u.get("9d9c9c"),u.get("f8b92d"),u.get("5e93cc"),u.get("6ea548")]}get localizedName(){return x.get("Chart","Style")+"33"}get styleColors(){return this._styleColor}get basicStyleColor(){return u.get("e9f4fc")}get chartBrush(){return new ie(u.get("f2f5fc"))}get chartAreaBrush(){return new ie(u.get("f2f5fc"))}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return u.get("e9f4fc")}get legendBorderColor(){return ee.transparent}get legendTitleColor(){return u.get("e9f4fc")}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",9)}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return u.get("e9f4fc")}get seriesLabelsLineColor(){return u.get("e9f4fc")}get seriesLabelsFont(){return new X("Arial",10)}get axisTitleColor(){return u.get("e9f4fc")}get axisLineColor(){return u.get("e9f4fc")}get axisLabelsColor(){return u.get("e9f4fc")}get gridLinesHorColor(){return u.get("e9f4fc")}get gridLinesVertColor(){return u.get("e9f4fc")}get seriesLighting(){return!1}get styleId(){return Q.d.StiChartStyleId.StiStyle33}getColumnBorder(e){return ee.transparent}getColumnBrush(e){return new ie(e)}},Q.d.StiStyleCoreXF34=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[u.get("144b45"),u.get("ecb92f"),u.get("d66153"),u.get("25775b"),u.get("319491"),u.get("f7f7f7"),u.get("dd7c21")]}get localizedName(){return x.get("Chart","Style")+"34"}get styleColors(){return this._styleColor}get chartBrush(){return new ie(u.get("3f745e"))}get chartAreaBrush(){return new ie(u.get("3f745e"))}get chartAreaBorderColor(){return ee.transparent}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return ee.white}get legendBorderColor(){return ee.transparent}get legendTitleColor(){return ee.white}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",9)}get toolTipBrush(){return new ie(ee.fromArgb(150,20,75,69))}get toolTipTextBrush(){return new ie(ee.white)}get toolTipBorder(){return new Dt(Ot.None,ee.white,1,f.Solid)}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(ee.fromArgb(119,255,255,255))}get seriesLabelsColor(){return ee.white}get seriesLabelsFont(){return new X("Arial",10)}get seriesLighting(){return!1}get styleId(){return Q.d.StiChartStyleId.StiStyle34}getColumnBorder(e){return ee.transparent}},Q.d.StiStyleCoreXF35=class extends Q.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[u.get("#794d26"),u.get("#c7986a"),u.get("#c4b49a"),u.get("#894d29"),u.get("#422515"),u.get("#564438"),u.get("#876c57"),u.get("#d8814b"),u.get("#532525"),u.get("#59413f")]}get localizedName(){return x.get("Chart","Style")+"35"}get styleColors(){return this._styleColor}get chartBrush(){return new ie(u.get("#fefefe"))}get chartAreaBrush(){return new ie(u.get("#fefefe"))}get chartAreaBorderColor(){return ee.transparent}get legendBrush(){return new ie(ee.transparent)}get legendLabelsColor(){return u.get("#222222")}get legendBorderColor(){return ee.transparent}get legendTitleColor(){return ee.white}get legendShowShadow(){return!1}get legendFont(){return new X("Arial",9)}get seriesLabelsBorderColor(){return ee.transparent}get seriesLabelsBrush(){return new ie(u.get("#5a4941"))}get seriesLabelsColor(){return u.get("#fefefe")}get seriesLabelsFont(){return new X("Arial",10)}get toolTipBrush(){return new ie(ee.fromArgb(150,66,37,21))}get toolTipTextBrush(){return new ie(ee.white)}get toolTipBorder(){return new Dt(Ot.None,ee.white,1,f.Solid)}get seriesLighting(){return!1}get styleId(){return Q.d.StiChartStyleId.StiStyle35}getColumnBorder(e){return ee.transparent}};{class ar{constructor(e){this.chartTable=e}implements(){return ar.implementsStiChartTableCoreXF||(ar.implementsStiChartTableCoreXF=[n,Q.d.IStiApplyStyle,Q.d.IStiChartTableCoreXF]),ar.implementsStiChartTableCoreXF}applyStyle(e){this.chartTable.allowApplyStyle&&(this.chartTable.gridLineColor=e.core.legendBorderColor,this.chartTable.textColor=e.core.legendLabelsColor)}clone(){return this.stimulsoft().memberwiseClone()}showTable(){if((this.chartTable.chart.area.is2(Q.d.IStiClusteredColumnArea)||this.chartTable.chart.area.is2(Q.d.IStiStackedColumnArea))&&!this.chartTable.chart.area.is2(Q.d.IStiCandlestickArea)&&!this.chartTable.chart.area.is2(Q.d.IStiRangeArea)&&!this.chartTable.chart.area.is2(Q.d.IStiScatterArea)&&!this.chartTable.chart.area.is2(Q.d.IStiStockArea)&&this.chartTable.visible)return!0;return!1}getHeightTable(e,t){var i=I.changeFontSize(this.chartTable.dataCells.font,this.chartTable.dataCells.font.size*e.options.zoom),r;return e.measureString("HeightText",i).height*this.chartTable.chart.series.count+this.getHeightHeaderTable(e,t)}getHeightHeaderTable(i,e){let r=0;var t=this.chartTable.chart.area,s=t.xAxis.startFromZero,n=this.getArguments(),l=I.changeFontSize(this.chartTable.header.font,this.chartTable.header.font.size*i.options.zoom);let a=i.getGenericStringFormat();a.trimming=ht.None,this.chartTable.header.wordWrap||(a.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap),a.alignment=A.Center,a.lineAlignment=A.Center;var t=t.xAxis.startFromZero?n.length+1:n.length-1,o=(e-this.getWidthCellLegend(i))/t;for(let t=0;t<n.length;t++){let e=0;0!=t&&t!=n.length-1||(e=s?o/2:-o/2);var h=this.chartTable.header.wordWrap?P.trunc(o+e):0,h=i.measureRotatedString3(n[t],l,new te(0,0),a,L.CenterCenter,0,h).height;r=Math.max(r,h)}return r}getWidthCellLegend(e){var t=I.changeFontSize(this.chartTable.dataCells.font,this.chartTable.dataCells.font.size*e.options.zoom),i;let r=e.getGenericStringFormat(),s=(r.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap,r.alignment=A.Center,r.lineAlignment=A.Center,0),n=new re;for(i of this.chartTable.chart.series.list)n=e.measureRotatedString4(i.coreTitle,t,new te(0,0),r,L.CenterCenter,0),s=Math.max(n.width,s);return this.chartTable.markerVisible&&(s+=n.height),Math.ceil(s)}render(e,t){return new Q.d.StiChartTableGeom(t,this.getTableValues(),this.getWidthCellLegend(e),this.getHeightHeaderTable(e,t.width),this.chartTable)}getMaxCountValues(e){let t=0;for(var i of e.list)t=Math.max(t,i.values.length);return t}getArguments(){let t=this.chartTable.chart.series,i=[];var r=this.getMaxCountValues(t);for(let e=0;e<r;e++){var s=t.getByIndex(0).arguments.length>e?t.getByIndex(0).arguments[e]:(e+1).toString(),s=this.getLabelText(s,t.getByIndex(0));i.push(s)}return i}getLabelText(i,e){null==i&&(i=""),this.storedCulture=ge.currentCulture;var r=this.chartTable.chart.report.culture;try{G.isNullOrEmpty(this.chartTable.chart.report.culture)||(ge.currentCulture=ge.cultures[r]);let t="";if(null!=(t=null!=(t=null!=e?e.format:t)&&0!=t.trim().length?t:this.chartTable.header.format)&&0!=t.trim().length){if("string"==typeof i){let e=i.toString();var s=e.stimulsoft().toNumber(),n;0<e.length&&!isNaN(s)?i=s:null!=(n=T.fromString(i.toString(),!1))&&(i=n)}else if(null==i)return"";if(!Q.d.StiChartOptions.oldChartPercentMode&&t.stimulsoft().startsWith("P")){let e=0;return 1<t.length&&(e=t.stimulsoft().remove(0,1).stimulsoft().toNumber()),G.format("{0:N"+e.toString()+"}{1}{2}",i,"%",this.chartTable.header.textAfter)}return G.format("{0:"+t+"}{1}",i,this.chartTable.header.textAfter)}return G.format("{0}{1}",i,this.chartTable.header.textAfter)}catch(e){Z.System.StiError.showError(e,!1)}finally{G.isNullOrEmpty(r)||(ge.currentCulture=this.storedCulture)}return i.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getTableValues(){var e=this.chartTable.chart.series,t=this.getArguments();let n=U.create2(String,e.count+1,t.length+1);for(let e=0;e<t.length;e++)n[0][e+1]=t[e];var l=this.chartTable.chart.area,a;let o=1;for(a of e.list){n[o][0]=a.coreTitle;let s=1;for(let e=0;e<a.values.length;e++){let i=l.reverseHor?a.values[a.values.length-e-1]:a.values[e],r=this.chartTable.chart.table.format;if(null==r&&0==r.trim().length||null==i)n[o][s]=i.toString().replace(".",",").replace(",",Z.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);else if(r.stimulsoft().startsWith("P")&&!Q.d.StiChartOptions.oldChartPercentMode){let e=0,t;try{1<r.length&&(e=r.stimulsoft().remove(0,1).stimulsoft().toNumber()),t=a.seriesLabels.core.recalcValue(i,e)}catch(e){Z.System.StiError.showError(e,!1),t=a.seriesLabels.core.recalcValue(i,2)}n[o][s]=G.format("{0:N"+e.toString()+"}{1}",t,"%")}else{let e=i;a.core.isDateTimeValues&&(e=T.fromOADate(i)),n[o][s]=G.format("{0:"+r+"}",e)}s++}o++}return n}}Q.d.StiChartTableCoreXF=ar}{class or{constructor(e){this.trendLine=e}implements(){return or.implementsStiTrendLineCoreXF||(or.implementsStiTrendLineCoreXF=[n,Q.d.IStiTrendLineCoreXF]),or.implementsStiTrendLineCoreXF}clone(){return this.stimulsoft().memberwiseClone()}get localizedName(){return null}renderTrendLine(e,t,i){}sum(e){let t=0;for(var i of e)t+=i;return t}sumSqr(e){let t=0;for(var i of e)t+=i*i;return t}sumProductions(t,i){let r=0;for(let e=0;e<t.length;e++)r+=t[e]*i[e];return r}sumProductionsXLogY(t,i){let r=0;for(let e=0;e<t.length;e++)r+=t[e]*Math.log(i[e]);return r}sumLn(e){let t=0;for(var i of e)t+=Math.log(i);return t}}Q.d.StiTrendLineCoreXF=or}Q.d.StiTrendLineExponentialCoreXF=class extends Q.d.StiTrendLineCoreXF{get localizedName(){return x.get("PropertyMain","Exponential")}renderTrendLine(e,l,a){if(0<l.length){let t=U.create(Number,l.length),i=U.create(Number,l.length),r=l[0].x,s=l[0].x;for(let e=0;e<l.length;e++)t[e]=l[e].x,i[e]=a-l[e].y,r<l[e].x&&(r=l[e].x),s>l[e].x&&(s=l[e].x);var o=l.length,h=this.sum(t),u=this.sumSqr(t),d=this.sumProductionsXLogY(t,i),c=this.sumLn(i),m=(o*d-h*c)/(o*u-h*h),S,g=Math.exp((u*c-h*d)/(o*u-h*h));let n=U.create(te,31,!0);for(let e=0;e<31;e++){var p=s+(r-s)/30*e,f=g*Math.exp(m*p);n[e]=new te(p,a-f)}var c=new Q.d.StiTrendCurveGeom(n,this.trendLine);e.createChildGeoms(),e.childGeoms.push(c)}}constructor(e){super(e)}},Q.d.StiTrendLineLinearCoreXF=class extends Q.d.StiTrendLineCoreXF{get localizedName(){return x.get("PropertyMain","Linear")}renderTrendLine(e,n,t){if(0<n.length){let t=U.create(Number,n.length),i=U.create(Number,n.length),r=n[0].x,s=n[0].x;for(let e=0;e<n.length;e++)t[e]=n[e].x,i[e]=n[e].y,r<t[e]&&(r=t[e]),s>t[e]&&(s=t[e]);var l=n.length,a=this.sum(t),o=this.sum(i),h=this.sumSqr(t),u=this.sumProductions(t,i),d=a*a-h*l,l=(o*a-u*l)/d,a=(a*u-h*o)/d,u=new Q.d.StiTrendLineGeom(new te(s,l*s+a),new te(r,l*r+a),this.trendLine);e.createChildGeoms(),e.childGeoms.push(u)}}constructor(e){super(e)}},Q.d.StiTrendLineLogarithmicCoreXF=class extends Q.d.StiTrendLineCoreXF{get localizedName(){return x.get("PropertyMain","Logarithmic")}renderTrendLine(e,l,t){if(0<l.length){let t=U.create(Number,l.length),i=U.create(Number,l.length),r=l[0].x,s=l[0].x;for(let e=0;e<l.length;e++)t[e]=Math.log(l[e].x),i[e]=l[e].y,r<l[e].x&&(r=l[e].x),s>l[e].x&&(s=l[e].x);var a=l.length,o=this.sum(t),h=this.sum(i),u=this.sumSqr(t),d=this.sumProductions(t,i),c=o*o-u*a,m=(h*o-d*a)/c,S=(o*d-u*h)/c;let n=U.create(te,31,!0);for(let e=0;e<31;e++){var g=s+(r-s)/30*e,p=m*Math.log(g)+S;n[e]=new te(g,p)}var a=new Q.d.StiTrendCurveGeom(n,this.trendLine);e.createChildGeoms(),e.childGeoms.push(a)}}constructor(e){super(e)}},Q.d.StiTrendLineNoneCoreXF=class extends Q.d.StiTrendLineCoreXF{get localizedName(){return x.get("Chart","LabelsNone")}constructor(e){super(e)}};var ye=Z.Base.Context.StiGeom;let Gt=Z.Base.Context.StiGeomType;{class hr extends ye{constructor(e){super(),this.type=Gt.None,this.childGeoms=null,this.clientRectangle=re.empty,this.clientRectangle=e.clone()}implements(){return hr.implementsStiCellGeom||(hr.implementsStiCellGeom=super.implements().concat([Q.d.IStiCellGeom])),hr.implementsStiCellGeom}get invisible(){return!1}dispose(){null!=this.childGeoms&&(this.childGeoms.stimulsoft().clear(),this.childGeoms=null)}contains(e,t){if(this.invisible)return!1;return this.clientRectangle.contains(e,t)}getGeomAt(i,r,s){var n=r-i.clientRectangle.x,l=s-i.clientRectangle.y;if(null!=i.childGeoms){let e=i,t=null;for(var a of i.childGeoms)if(null!=e&&e.isChildVisibleInView(a)||null==e)if(a.is(Q.d.StiAxisAreaGeom)){if(!a.view.contains(r,s))continue;var o=this.getGeomAt(a,n,l);null!=o&&(t=o)}else{var o=this.getGeomAt(a,n,l);if(null!=o&&(t=o).is(Q.d.StiMarkerGeom))return t}if(null!=t)return t}if(i.contains(r,s))return i;return null}getSeriesGeoms(){let e=[];if(null==this.childGeoms)return e;for(var t of this.childGeoms){var i,r;(t.is(Q.d.StiSeriesGeom)||t.is(Q.d.StiSeriesElementGeom))&&e.push(t);for(r of t.getSeriesGeoms())e.push(r)}return e}getSeriesElementGeoms(){let e=[];if(null==this.childGeoms)return e;for(var t of this.childGeoms){var i,r;t.is(O)&&e.push(t);for(r of t.getSeriesElementGeoms())e.push(r)}return e}getRect(e){let t=re.empty;if(null==this.childGeoms)return t;for(var i of this.childGeoms){if(i==e)return t.x+=i.clientRectangle.x,t.y+=i.clientRectangle.y,t.size=i.clientRectangle.size,t;var r=i.getRect(e);if(!r.isEmpty)return t.x+=i.clientRectangle.x,t.y+=i.clientRectangle.y,t.x+=r.x,t.y+=r.y,t.size=r.size,t}return t}createChildGeoms(){null==this.childGeoms&&(this.childGeoms=[])}draw(e){}drawGeom(e){this.draw(e),this.drawChildGeoms(e)}drawChildGeoms(e){if(null!=this.childGeoms){e.pushTranslateTransform(this.clientRectangle.x,this.clientRectangle.y);for(var t of this.childGeoms)this.allowChildDrawing(t)&&t.drawGeom(e);e.popTransform()}}allowChildDrawing(e){return null!=e}}Q.d.StiCellGeom=hr}Q.d.StiChartGeom=class extends Q.d.StiCellGeom{draw(e){}constructor(e){super(e)}},Q.d.StiNullableDrawing=class{static drawLines(e,t,i,r=null){this.drawLines2(e,t,null,i,r)}static drawLines2(e,t,i,r,s=null){let n=[];for(var l of r)null!=l?n.push(l):(1<n.length&&(null!=s?e.drawAnimationLines(t,n.stimulsoft().toArray(),s):e.drawLines(t,n.stimulsoft().toArray())),n.stimulsoft().clear());1<n.length&&(null!=s?e.drawAnimationLines(t,n.stimulsoft().toArray(),s):e.drawLines(t,n.stimulsoft().toArray()))}static drawCurve(e,t,i,r,s=null){let n=[];for(var l of i)null!=l?n.push(l):(1<n.length&&(null!=s?e.drawAnimationCurve(t,n.stimulsoft().toArray(),r,s):e.drawCurve(t,n.stimulsoft().toArray(),r)),n.stimulsoft().clear());1<n.length&&(null!=s?e.drawAnimationCurve(t,n.stimulsoft().toArray(),r,s):e.drawCurve(t,n.stimulsoft().toArray(),r))}static getPointsList(e){let t=[],i=[];for(var r of e)null!=r?i.push(r):(1<i.length&&t.push(i.stimulsoft().toArray()),i.stimulsoft().clear());return 1<i.length&&t.push(i.stimulsoft().toArray()),t}static getNullablePointsList(e){let t=[],i=[];for(var r of e)null!=r?i.push(r):(1<i.length&&t.push(i.stimulsoft().toArray()),i.stimulsoft().clear());return 1<=i.length&&t.push(i.stimulsoft().toArray()),t}static getPointsList2(e,t,i,r){let s=[],n=[],l=[],a=[],o=0;for(var h of e){var u=t[o];null!=h&&null!=u?(l.push(h),a.push(u)):(1<l.length&&(s.push(l.stimulsoft().toArray()),n.push(a.stimulsoft().toArray())),l.stimulsoft().clear(),a.stimulsoft().clear()),o++}1<l.length&&(s.push(l.stimulsoft().toArray()),n.push(a.stimulsoft().toArray())),i.ref=s,r.ref=n}},Q.d.StiAreaGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.area=e}draw(e){var t=this.clientRectangle.clone();if(t.isEmpty)return;0<t.width&&0<t.height&&e.fillRectangle(this.area.brush,t,null)}};{class ur{constructor(e,t,i,r){this.x1=e,this.y1=t,this.x2=i,this.y2=r}}Q.d.StiLineF=ur,Q.d.StiAxisAreaGeom=class extends Q.d.StiAreaGeom{constructor(e,t,i){super(t,i),this.minWidth=6,this.view=e}drawInterlacingHor(e,t){t.x=0,t.width=this.view.clientRectangle.width;var i=this.area;if(!i.interlacingHor.visible)return;let r=[];var s=i.yAxis.info.stripPositions.length,n,l;let a=U.create(Number,s);for(let e=0;e<s;e++)a[s-1-e]=i.yAxis.info.stripPositions[e];let o=0,h=!0,u=0;for(n of a){if(u++,h){o=n,r.push(n),h=!1;continue}if(o-n<this.minWidth&&u!=a.length)continue;o=n,r.push(n)}var d=U.create(Number,r.length),c;r.stimulsoft().copyTo(d);let m=0,S=!0;for(c of d){var g=d[m+1],g;if(!S||0<=(g=new re(t.x,t.y+g,t.width,c-g)).bottom&&g.y<this.view.clientRectangle.height&&e.fillRectangle(i.interlacingHor.interlacedBrush,g,null),S=!S,++m==d.length-1)break}}drawInterlacingVer(e,t){t.y=0,t.height=this.view.clientRectangle.height;var i=this.area;if(!i.interlacingVert.visible)return;let r=0,s=0,n=(i.reverseHor&&(s=1),[]);var l=i.xAxis.info.stripPositions,a,o;let h=0,u=!0,d=0;for(a of l){if(d++,u){h=a,n.push(a),u=!1;continue}if(a-h<this.minWidth&&d!=l.length)continue;h=a,n.push(a)}var c=U.create(Number,n.length),m;n.stimulsoft().copyTo(c);for(m of c){var S=c[r+1],S;if(0<(1&s)&&(0<=(S=new re(m+t.x,t.y,S-m,t.height)).right&&S.x<this.view.clientRectangle.width&&e.fillRectangle(i.interlacingVert.interlacedBrush,S,null)),s++,++r==c.length-1)break}}getGridLinesHorMajor(e,t,i){let r=new $;e.x=0,e.width=this.view.clientRectangle.width;var s=this.area;let n=(i?s.yAxis:s.yRightAxis).info.stripPositions;var l=n.length,a;let o=U.create(Number,l);for(let e=0;e<l;e++)o[l-e-1]=n[e];let h=(n=o)[0];for(a of n){var u=h-a,u;if(u<this.minWidth&&0<u)continue;h=a,!t.visible||t.style==f.None||0<=(u=a+e.y)&&u<=this.clientRectangle.height&&r.add(new ur(e.x,u,e.right,u))}return r}getGridLinesHorMinor(t,e,i){let r=new $;t.x=0,t.width=this.view.clientRectangle.width;var s=this.area;let n=(i?s.yAxis:s.yRightAxis).info.stripPositions;var l=n.length,a;let o=U.create(Number,l);for(let e=0;e<l;e++)o[l-e-1]=n[e];let h=(n=o)[0],u=0;for(a of n){var d=h-a;if(d<this.minWidth&&0<d)continue;if(h=a,e.minorVisible&&e.minorStyle!=f.None&&u!=n.length-1){var d=n[u+1];if(a-d<this.minWidth)continue;var c=(0==e.minorCount?s.yAxis.ticks:e).minorCount,m=a,S=(d-a)/(c+1);for(let e=1;e<=c;e++){var m,g=a+S*e+t.y;0<=g&&g<=this.clientRectangle.height&&r.add(new ur(t.x,g,t.right,g))}}u++}return r}getGridLinesVerMajor(e,t,i){let r=new $;e.y=0,e.height=this.view.clientRectangle.height;var s=this.area,n,l;let a=0;for(l of(i?s.xAxis:s.xTopAxis).info.stripPositions){var o=l-a,o;if(o<this.minWidth&&0<o)continue;a=l,!t.visible||t.style==f.None||0<=(o=l+e.x)&&o<=this.clientRectangle.width&&r.add(new ur(o,e.y,o,e.bottom))}return r}getGridLinesVerMinor(t,e,i){let r=new $;t.y=0,t.height=this.view.clientRectangle.height;var s=this.area,n=(i?s.xAxis:s.xTopAxis).info.stripPositions,l;let a=0,o=0;for(l of n){var h=l-a;if(h<this.minWidth&&0<h)continue;if(a=l,e.minorVisible&&e.minorStyle!=f.None&&o!=n.length-1){var h=n[o+1];if(h-l<this.minWidth)continue;var u=(0==e.minorCount?s.yAxis.ticks:e).minorCount,d=l,c=(h-l)/(u+1);for(let e=1;e<=u;e++){var d,m=l+c*e+t.x;0<=m&&m<=this.clientRectangle.width&&r.add(new ur(m,t.y,m,t.bottom))}}o++}return r}allowChildDrawing(e){return null!=e&&this.isChildVisibleInView(e)}isChildVisibleInView(e){let t=this.view.clientRectangle.clone(),i=(t.x=0,t.y=0,e.clientRectangle.clone());return i.x-=this.area.core.scrollDistanceX,i.y-=this.area.core.scrollDistanceY,null!=e&&t.intersectsWith(i)}draw(t){super.draw(t);let i=this.area;var r=this.clientRectangle.clone();if(r.isEmpty)return;var s=i.axisCore.getSeries();if(0<s.length&&(this.drawInterlacingHor(t,r),this.drawInterlacingVer(t,r)),0<s.length){var s=this.getGridLinesHorMajor(r,i.gridLinesHor,!0),n=this.getGridLinesHorMinor(r,i.gridLinesHor,!0),l=this.getGridLinesHorMajor(r,i.gridLinesHorRight,!0),a=this.getGridLinesHorMinor(r,i.gridLinesHorRight,!0),o=this.getGridLinesVerMajor(r,i.gridLinesVert,!0),r=this.getGridLinesVerMinor(r,i.gridLinesVert,!0);let e=new v(i.gridLinesHor.minorColor,1);e.penStyle=i.gridLinesHor.minorStyle,this.drawLines(t,n,e),(e=new v(i.gridLinesHorRight.minorColor,1)).penStyle=i.gridLinesHorRight.minorStyle,this.drawLines(t,a,e),(e=new v(i.gridLinesVert.minorColor,1)).penStyle=i.gridLinesVert.minorStyle,this.drawLines(t,r,e),(e=new v(i.gridLinesHor.color,1)).penStyle=i.gridLinesHor.style,this.drawLines(t,s,e),(e=new v(i.gridLinesHorRight.color,1)).penStyle=i.gridLinesHorRight.style,this.drawLines(t,l,e),(e=new v(i.gridLinesVert.color,1)).penStyle=i.gridLinesVert.style,this.drawLines(t,o,e)}}drawLines(e,t,i){for(var r of t)e.drawLine(i,r.x1,r.y1,r.x2,r.y2)}}}let Vt=Z.Base.Drawing.StiShadowSides;Q.d.StiAxisAreaViewGeom=class extends Q.d.StiAreaGeom{draw(e){var t=this.clientRectangle.clone();if(t.isEmpty)return;0<t.width&&0<t.height&&this.area.showShadow&&e.drawCachedShadow(t,Vt.All,e.options.isPrinting),super.draw(e)}drawGeom(e){super.drawGeom(e),this.drawBorder(e)}drawChildGeoms(t){if(null!=this.childGeoms){let e=this.clientRectangle.clone();e.x=0,e.y=0,t.pushTranslateTransform(this.clientRectangle.x,this.clientRectangle.y);for(var i of this.childGeoms){var r=i.is(Q.d.StiAxisAreaGeom)||i.is(Q.d.StiXAxisGeom)&&i.isCenterAxis||i.is(Q.d.StiYAxisGeom)&&i.isCenterAxis;r&&t.pushClip(e),this.allowChildDrawing(i)&&i.drawGeom(t),r&&t.popClip()}t.popTransform()}}drawBorder(e){var t=this.clientRectangle.clone();if(t.isEmpty)return;var i=new v(this.area.borderColor);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}constructor(e,t){super(e,t)}},Q.d.StiPieAreaGeom=class extends Q.d.StiAreaGeom{draw(e){var t=this.clientRectangle.clone(),i;0<t.width&&0<t.height&&(this.area.showShadow&&e.drawCachedShadow(t,Vt.All,e.options.isPrinting),e.fillRectangle2(this.area.brush,t.x,t.y,t.width,t.height,null),i=new v(this.area.borderColor),e.drawRectangle2(i,t.x,t.y,t.width,t.height))}constructor(e,t){super(e,t)}},Q.d.StiDoughnutAreaGeom=class extends Q.d.StiPieAreaGeom{constructor(e,t){super(e,t)}},Q.d.StiPictorialAreaGeom=class extends Q.d.StiAreaGeom{draw(e){var t=this.clientRectangle.clone();if(t.isEmpty)return;0<t.width&&0<t.height&&this.area.showShadow&&e.drawCachedShadow(t,Vt.All,e.options.isPrinting),super.draw(e)}drawGeom(e){super.drawGeom(e),this.drawBorder(e)}drawBorder(e){var t=this.clientRectangle.clone();if(t.isEmpty)return;var i=new v(this.area.borderColor);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}constructor(e,t){super(e,t)}},Q.d.StiRadarAreaGeom=class extends Q.d.StiAreaGeom{constructor(e,t,i){super(e,t),this.valuesCount=i}drawHor(r,e,t){var s=this.clientRectangle.clone(),n=this.area;if(null==n.yAxis.info.stripPositions)return;var l=n.core,a;let o=0;for(a of n.yAxis.info.stripPositions){if(0!=a){var i=new re(l.centerPoint.x-a,l.centerPoint.y-a,2*a,2*a);if(n.radarStyle==Q.d.StiRadarStyle.Circle){if(e&&n.interlacingHor.visible&&o!=n.yAxis.info.stripPositions.length-1&&0==(1&o)){let e=[];var h=n.yAxis.info.stripPositions[o+1],h=new re(l.centerPoint.x-h,l.centerPoint.y-h,2*h,2*h);e.push(new Ct(i,0,360)),e.push(new Ct(h,0,360)),r.fillPath(n.interlacingHor.interlacedBrush,e,s,null)}if(t&&n.gridLinesHor.visible){let e;o==n.yAxis.info.stripPositions.length-1?e=new v(n.borderColor):(e=new v(n.gridLinesHor.color)).penStyle=n.gridLinesHor.style,r.drawEllipse2(e,i)}}else{if(e&&n.interlacingHor.visible&&o!=n.yAxis.info.stripPositions.length-1&&1==(1&o)){let t=[],i=0;for(var u of l.points){let e;e=i==l.points.length-1?l.points[0]:l.points[i+1];var u=new te(l.centerPoint.x+a*u.x,l.centerPoint.y+a*u.y),d=new te(l.centerPoint.x+a*e.x,l.centerPoint.y+a*e.y);t.push(new k(u.x,u.y,d.x,d.y)),i++}var c=n.yAxis.info.stripPositions[o+1],m;i=0;for(m of l.points){let e;e=i==l.points.length-1?l.points[0]:l.points[i+1];var S=new te(l.centerPoint.x+c*m.x,l.centerPoint.y+c*m.y),g=new te(l.centerPoint.x+c*e.x,l.centerPoint.y+c*e.y);t.push(new k(S.x,S.y,g.x,g.y)),i++}r.fillPath(n.interlacingHor.interlacedBrush,t,s,null)}if(t&&n.gridLinesHor.visible){let i=0;for(var p of l.points){let e;e=i==l.points.length-1?l.points[0]:l.points[i+1];let t;o==n.yAxis.info.stripPositions.length-1?t=new v(n.borderColor):(t=new v(n.gridLinesHor.color)).penStyle=n.gridLinesHor.style,r.drawLine(t,l.centerPoint.x+a*p.x,l.centerPoint.y+a*p.y,l.centerPoint.x+a*e.x,l.centerPoint.y+a*e.y),i++}}}}o++}}drawVert(t,e,i){var r=this.clientRectangle.clone(),s=this.area,n=s.core;let l=0;var a=360/n.points.length,o;let h=0;for(o of n.points){var u=n.centerPoint,d=new te(u.x+r.width/2*o.x,u.y+r.width/2*o.y);if(e&&s.interlacingVert.visible){var c=l<n.points.length-1?new te(u.x+r.width/2*n.points[l+1].x,u.y+r.height/2*n.points[l+1].y):new te(u.x+r.width/2*n.points[0].x,u.y+r.height/2*n.points[0].y);if(1==(1&l)){let e=[];s.radarStyle==Q.d.StiRadarStyle.Circle?(e.push(new k(u.x,u.y,d.x,d.y)),e.push(new Ct(r,h-90,a))):(e.push(new k(u.x,u.y,d.x,d.y)),e.push(new k(d.x,d.y,c.x,c.y))),e.push(new k(c.x,c.y,u.x,u.y)),t.fillPath(s.interlacingVert.interlacedBrush,e,r,null)}}if(i&&s.gridLinesVert.visible){let e=new v(s.gridLinesVert.color);e.penStyle=s.gridLinesVert.style,t.drawLine(e,u.x,u.y,d.x,d.y)}h+=a,l++}}drawBackground(i){var r=this.clientRectangle.clone();let s=this.area;if(null==s.yAxis.info.stripPositions)return;var n=s.core,l=3,a=new ie(ee.fromArgb(50,0,0,0));if(s.radarStyle==Q.d.StiRadarStyle.Circle)!this.area.showShadow||s.brush.is(at)||rt.isTransparent(s.brush)||(i.pushTranslateTransform(l,l),i.fillEllipse2(a,r,null),i.popTransform()),i.fillEllipse2(s.brush,r,null);else{var o=s.yAxis.info.stripPositions[s.yAxis.info.stripPositions.length-1],h;let e=[],t=0;for(h of n.points){var u=t==n.points.length-1?n.points[0]:n.points[t+1];e.push(new k(n.centerPoint.x+o*h.x,n.centerPoint.y+o*h.y,n.centerPoint.x+o*u.x,n.centerPoint.y+o*u.y)),t++}!this.area.showShadow||s.brush.is(at)||rt.isTransparent(s.brush)||(i.pushTranslateTransform(l,l),i.fillPath(a,e,r,null),i.popTransform()),i.fillPath(s.brush,e,r,null)}}draw(e){var t=this.clientRectangle.clone();0<t.width&&0<t.height&&(e.pushSmoothingModeToAntiAlias(),this.drawBackground(e),this.drawVert(e,!0,!1),this.drawHor(e,!0,!1),this.drawVert(e,!1,!0),this.drawHor(e,!1,!0),e.popSmoothingMode())}},Q.d.StiSunburstAreaGeom=class extends Q.d.StiPieAreaGeom{constructor(e,t){super(e,t)}},Q.d.StiTreemapAreaGeom=class extends Q.d.StiAreaGeom{draw(e){var t=this.clientRectangle.clone(),i;0<t.width&&0<t.height&&(this.area.showShadow&&e.drawCachedShadow(t,Vt.All,e.options.isPrinting),e.fillRectangle2(this.area.brush,t.x,t.y,t.width,t.height,null),i=new v(this.area.borderColor),e.drawRectangle2(i,t.x,t.y,t.width,t.height))}constructor(e,t){super(e,t)}},Q.d.StiAxisLabelGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n,l){super(t),this.axis=e,this.text=r,this.stripLine=s,this.textPoint=i,this.angle=n,this.rotationMode=l}draw(e){var t=this.axis.core.getStringFormatGeom(e),i=this.axis.core.getFontGeom(e),r=new ie(this.axis.labels.color);e.drawRotatedString9(this.text,i,r,this.textPoint,t,this.rotationMode,this.angle,this.axis.labels.antialiasing,P.trunc(this.axis.labels.width*e.options.zoom))}},Q.d.StiAxisTitleGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s){super(t),this.angle=0,this.axis=e,this.angle=i,this.font=s}draw(e){var t=new ie(this.axis.title.color),i=e.getDefaultStringFormat();e.drawRotatedString5(this.axis.title.text,this.font,t,this.clientRectangle,i,L.CenterCenter,this.angle,this.axis.title.antialiasing)}},Q.d.StiXAxisGeom=class extends Q.d.StiCellGeom{constructor(e,t,i){super(t),this.isCenterAxis=!1,this.axis=e,this.isCenterAxis=i}drawArrow(i,t){var r=i.options.zoom,s=new v(this.axis.lineColor,this.axis.lineWidth),e=new v(this.axis.lineColor),n=new ie(this.axis.lineColor);let l=0,a=(this.axis.core.isBottomSide&&(l=t.y),this.axis.core.isTopSide&&(l=t.bottom),te.empty);switch(a=this.axis.area.reverseHor?new te(t.x,l):new te(t.right,l),this.axis.arrowStyle){case Q.d.StiArrowStyle.Triangle:{i.drawLine(s,a.x,a.y,a.x+this.axis.core.arrowHeight*r,a.y),i.pushSmoothingModeToAntiAlias();let e=[];e.push(new k(a.x+this.axis.core.arrowHeight*r,a.y-this.axis.core.arrowWidth*r,a.x+4*this.axis.core.arrowHeight*r,a.y)),e.push(new k(a.x+4*this.axis.core.arrowHeight*r,a.y,a.x+this.axis.core.arrowHeight*r,a.y+this.axis.core.arrowWidth*r)),i.fillPath(n,e,t,null),i.popSmoothingMode();break}case Q.d.StiArrowStyle.Lines:i.drawLine(s,a.x,a.y,a.x+4*this.axis.core.arrowHeight*r,a.y),i.pushSmoothingModeToAntiAlias(),i.drawLine(e,a.x+this.axis.core.arrowHeight*r,a.y-this.axis.core.arrowWidth*r,a.x+4*this.axis.core.arrowHeight*r,a.y),i.drawLine(e,a.x+4*this.axis.core.arrowHeight*r,a.y,a.x+this.axis.core.arrowHeight*r,a.y+this.axis.core.arrowWidth*r),i.popSmoothingMode();break;case Q.d.StiArrowStyle.Circle:var o=this.axis.core.arrowHeight*r,h=(i.drawLine(s,a.x,a.y,a.x+2*o,a.y),new te(a.x+2*o,a.y-o/2)),h=(i.pushSmoothingModeToAntiAlias(),new re(h.x,h.y,o,o));i.drawEllipse2(s,h),i.popSmoothingMode();break;case Q.d.StiArrowStyle.Arc:case Q.d.StiArrowStyle.ArcAndCircle:{var o=this.axis.core.arrowHeight*r;i.drawLine(s,a.x,a.y,a.x+2*o,a.y),i.pushSmoothingModeToAntiAlias();let t=[];if(this.axis.area.reverseHor){var h=new te(a.x+3*o,a.y+o/2);let e=new re(h.x,h.y,Math.abs(o),Math.abs(o));this.axis.arrowStyle==Q.d.StiArrowStyle.ArcAndCircle&&(e.x-=r,e.inflate(1,1)),t.push(new Ct(e,270,180))}else{var h=new te(a.x+2*o,a.y-o/2);let e=new re(h.x,h.y,Math.abs(o),Math.abs(o));this.axis.arrowStyle==Q.d.StiArrowStyle.ArcAndCircle&&(e.x+=r,e.inflate(1,1)),t.push(new Ct(e,90,180))}if(i.drawPath(s,t,pt.getBoundsState),this.axis.arrowStyle==Q.d.StiArrowStyle.ArcAndCircle){var h=this.axis.core.arrowHeight*r,o=new te(a.x+2*h+r,a.y-h/2);let e=new re(o.x,o.y,h,h);this.axis.area.reverseHor?(e.inflate(.5*r,.5*r),e.x-=3*r):(e.inflate(-.5*r,-.5*r),e.x+=r),i.fillEllipse2(n,e,null)}i.popSmoothingMode();break}}}drawAxisLine(e,t){let i=0,r=(this.axis.core.isTopSide&&(i=t.bottom),this.axis.core.isBottomSide&&(i=t.top),new v(this.axis.lineColor,this.axis.lineWidth));r.penStyle=this.axis.lineStyle,!this.isCenterAxis||this.axis.showXAxis!=Q.d.StiShowXAxis.Both&&this.axis.showXAxis!=Q.d.StiShowXAxis.Center?this.isCenterAxis||this.axis.showXAxis!=Q.d.StiShowXAxis.Both&&this.axis.showXAxis!=Q.d.StiShowXAxis.Bottom||e.drawLine(r,t.x,i,t.right,i):this.axis.area.reverseVert?e.drawLine(r,t.x,i,t.right,i):e.drawLine(r,t.x,i+t.height,t.right,i+t.height)}drawMinorTicks(i,r,s,e,n,l){var t,a=(e-s)/(l.minorCount+1),o=l.minorLength*i.options.zoom;for(let t=1;t<=l.minorCount;t++){var h=s+a*t;let e=this.axis.core.isTopSide||this.isCenterAxis?n-o:n+o;this.axis.area.reverseVert&&this.isCenterAxis&&(e=n+o),i.drawLine(r,h,n,h,e)}}drawTicks(l,e,t,a){if(!t.visible)return;var i=t.length*l.options.zoom,o=this.axis.core.isTopSide||this.isCenterAxis?e.bottom:e.top;let h=this.axis.core.isTopSide||this.isCenterAxis?o-i:o+i;this.isCenterAxis&&this.axis.area.reverseVert&&(h=o+i);var u=this.axis.info.ticksCollection;if(this.isArgumentDateTime(u)&&this.axis.area.xAxis.dateTimeStep.step!=Q.d.StiTimeDateStep.None){let e,i,r=!0,s="",n=0;for(let t=0;t<u.length;t++){if(r&&(n=u[t].position,r=!1),!(null!=u[t].stripLine.valueObject&&u[t].stripLine.valueObject instanceof T))continue;switch(e=u[t].stripLine.valueObject,i=t<u.length-2?u[t+1].stripLine.valueObject:e,this.axis.area.xAxis.dateTimeStep.step){case Q.d.StiTimeDateStep.Day:e.toString("yyyyMMMMdd")==i.toString("yyyyMMMMdd")&&t!=u.length-2||(s=e.toString("dd"));break;case Q.d.StiTimeDateStep.Hour:e.toString("yyyyMMMMddHH")==i.toString("yyyyMMMMddHH")&&t!=u.length-2||(s=e.toString("HH"));break;case Q.d.StiTimeDateStep.Minute:e.toString("yyyyMMMMddhhmm")==i.toString("yyyyMMMMddhhmm")&&t!=u.length-2||(s=e.toString("mm"));break;case Q.d.StiTimeDateStep.Month:e.toString("yyyyMMMM")==i.toString("yyyyMMMM")&&t!=u.length-2||(s=e.toString("MMMM"));break;case Q.d.StiTimeDateStep.Second:e.toString("yyyyMMMMddHHmmss")==i.toString("yyyyMMMMddHHmmss")&&t!=u.length-2||(s=e.toString("ss"));break;case Q.d.StiTimeDateStep.Year:e.toString("yyyy")==i.toString("yyyy")&&t!=u.length-2||(s=e.toString("yyyy"));break}if(""!=s){let e=0;e=t==u.length-2?u[t+1].position:u[t].position+(u[t+1].position-u[t].position)/2,l.drawRectangle2(a,n,o,e-n,h),s="",n=e}}}else{let e=0;for(var r of this.axis.info.ticksCollection){var r=r.position,s;l.drawLine(a,r,o,r,h),t.minorVisible&&e!=this.axis.info.ticksCollection.length-1&&(s=this.axis.info.ticksCollection[e+1].position,this.drawMinorTicks(l,a,r,s,o,t)),e++}}}isArgumentDateTime(e){for(var t of e)if(null!=t.stripLine.valueObject&&t.stripLine.valueObject instanceof T)return!0;return!1}drawAxis(e,t){let i=new v(this.axis.lineColor,this.axis.lineWidth);i.penStyle=this.axis.lineStyle,!this.isCenterAxis||this.axis.showXAxis!=Q.d.StiShowXAxis.Both&&this.axis.showXAxis!=Q.d.StiShowXAxis.Center?this.isCenterAxis||(this.axis.core.isTopSide&&this.drawTicks(e,t,this.axis.ticks,i),!this.axis.core.isBottomSide||this.axis.showXAxis!=Q.d.StiShowXAxis.Both&&this.axis.showXAxis!=Q.d.StiShowXAxis.Bottom||this.drawTicks(e,t,this.axis.ticks,i)):this.drawTicks(e,t,this.axis.ticks,i),this.drawAxisLine(e,t)}getViewclipRect(){let e=this.view.clientRectangle.clone();return e.x=this.axis.area.core.scrollDistanceX,e.y=0,e.inflate(1,1),this.isCenterAxis&&e.inflate(0,2),e}allowChildDrawing(e){var e=e;if(null==e)return!0;if(null==this.view)return!0;var t=this.getViewclipRect(),e=e.clientRectangle;return!(e.right<t.x||e.x>t.right)}draw(e){var t=this.clientRectangle.clone(),i;if(t.width<=0||t.height<=0)return;null!=this.view&&(i=this.getViewclipRect(),e.pushClip(i)),this.drawAxis(e,t),null!=this.view&&e.popClip()}},Q.d.StiXAxisViewGeom=class extends Q.d.StiXAxisGeom{drawChildGeoms(e){let t=this.clientRectangle.clone();if(this.isCenterAxis&&(t.y+=this.axis.area.core.getDividerY()-this.axis.area.core.scrollDistanceY),null!=this.childGeoms)for(var i of this.childGeoms)this.allowChildDrawing(i)&&(i.is(Q.d.StiHorzScrollBarGeom)||e.pushTranslateTransform(-this.axis.area.core.scrollDistanceX,0),e.pushTranslateTransform(t.x,t.y),i.drawGeom(e),e.popTransform(),i.is(Q.d.StiHorzScrollBarGeom)||e.popTransform());this.draw(e)}draw(e){let t=this.clientRectangle.clone();if(this.isCenterAxis&&(t.y+=this.axis.area.core.getDividerY()-this.axis.area.core.scrollDistanceY),t.width<=0||t.height<=0)return;this.axis.arrowStyle==Q.d.StiArrowStyle.None||this.isCenterAxis||this.drawArrow(e,t)}constructor(e,t,i){super(e,t,i)}},Q.d.StiYAxisGeom=class extends Q.d.StiCellGeom{constructor(e,t,i){super(t),this.isCenterAxis=!1,this.axis=e,this.isCenterAxis=i}drawArrow(i,e){var r=i.options.zoom,s=new v(this.axis.lineColor),n=new ie(this.axis.lineColor),t=new v(this.axis.lineColor);this.axis.visible||this.drawAxisLine(i,e);let l=te.empty;switch(l=this.axis.area.reverseVert?new te(e.right,e.bottom):new te(e.right,e.y),this.axis.core.isRightSide&&(l.x=e.x),this.axis.arrowStyle){case Q.d.StiArrowStyle.Triangle:{i.drawLine(s,l.x,l.y,l.x,l.y-this.axis.core.arrowHeight*r),i.pushSmoothingModeToAntiAlias();let e=[];e.push(new k(l.x-this.axis.core.arrowWidth*r,l.y-this.axis.core.arrowHeight*r,l.x+this.axis.core.arrowWidth*r,l.y-this.axis.core.arrowHeight*r)),e.push(new k(l.x+this.axis.core.arrowWidth*r,l.y-this.axis.core.arrowHeight*r,l.x,l.y-4*this.axis.core.arrowHeight*r)),i.fillPath(n,e,pt.getBoundsState,null),i.popSmoothingMode();break}case Q.d.StiArrowStyle.Lines:i.drawLine(s,l.x,l.y,l.x,l.y-4*this.axis.core.arrowHeight*r),i.pushSmoothingModeToAntiAlias(),i.drawLine(t,l.x-this.axis.core.arrowWidth*r,l.y-this.axis.core.arrowHeight*r,l.x,l.y-4*this.axis.core.arrowHeight*r),i.drawLine(t,l.x+this.axis.core.arrowWidth*r,l.y-this.axis.core.arrowHeight*r,l.x,l.y-4*this.axis.core.arrowHeight*r),i.popSmoothingMode();break;case Q.d.StiArrowStyle.Circle:i.drawLine(s,l.x,l.y,l.x,l.y-this.axis.core.arrowHeight*r*2);var a=this.axis.core.arrowHeight*r,a=new te(l.x-a/2,l.y-3*a),a=(i.pushSmoothingModeToAntiAlias(),new re(a.x,a.y,this.axis.core.arrowHeight*r,this.axis.core.arrowHeight*r));i.drawEllipse2(s,a),i.popSmoothingMode();break;case Q.d.StiArrowStyle.Arc:case Q.d.StiArrowStyle.ArcAndCircle:{var a=this.axis.core.arrowHeight*r;i.drawLine(s,l.x,l.y,l.x,l.y-2*a),i.pushSmoothingModeToAntiAlias();let t=[];if(this.axis.area.reverseVert){var o=new te(l.x+a/2,l.y-2*a);let e=new re(o.x,o.y,Math.abs(a),Math.abs(a));this.axis.arrowStyle==Q.d.StiArrowStyle.ArcAndCircle&&(e.y+=r,e.inflate(1,1)),t.push(new Ct(e,180,180))}else{var o=new te(l.x-a/2,l.y-3*a);let e=new re(o.x,o.y,a,a);this.axis.arrowStyle==Q.d.StiArrowStyle.ArcAndCircle&&(e.y-=r,e.inflate(1,1)),t.push(new Ct(e,0,180))}if(i.drawPath(s,t,pt.getBoundsState),this.axis.arrowStyle==Q.d.StiArrowStyle.ArcAndCircle){var o=this.axis.core.arrowHeight*r,a=new te(l.x-o/2,l.y-3*o-r);let e=new re(a.x,a.y,o,o);this.axis.area.reverseVert?(e.inflate(.5*r,.5*r),e.y+=3*r):(e.inflate(-.5*r,-.5*r),e.y-=r),i.fillEllipse2(n,e,null)}i.popSmoothingMode();break}}}drawAxisLine(e,t){let i=t.right,r=(this.axis.core.isRightSide&&(i=t.left),this.isCenterAxis&&this.axis.area.reverseHor&&(i=t.right),new v(this.axis.lineColor,this.axis.lineWidth));r.penStyle=this.axis.lineStyle,(!this.isCenterAxis||this.axis.showYAxis!=Q.d.StiShowYAxis.Both&&this.axis.showYAxis!=Q.d.StiShowYAxis.Center)&&(this.isCenterAxis||this.axis.showYAxis!=Q.d.StiShowYAxis.Both&&this.axis.showYAxis!=Q.d.StiShowYAxis.Left)||e.drawLine(r,i,t.y,i,t.bottom)}drawMinorTicks(i,r,s,n,e,l){var t,a=(e-n)/(l.minorCount+1),o=l.minorLength*i.options.zoom;for(let t=1;t<=l.minorCount;t++){var h=n+a*t;let e=this.axis.core.isLeftSide||this.isCenterAxis?s-o:s+o;this.axis.area.reverseHor&&this.isCenterAxis&&(e=s+o),i.drawLine(r,s,h,e,h)}}drawTicks(e,t,i,r){if(!i.visible)return;var s=i.length*e.options.zoom,n;let l=this.axis.core.isLeftSide?t.right:t.left,a=this.axis.core.isLeftSide?l-s:l+s,o=(this.isCenterAxis&&this.axis.area.reverseHor&&(l=t.right,a=t.right+s),0);for(n of this.axis.info.ticksCollection){var h=n.position,u;e.drawLine(r,l,h,a,h),i.minorVisible&&o!=this.axis.info.ticksCollection.length-1&&(u=this.axis.info.ticksCollection[o+1].position,this.drawMinorTicks(e,r,l,h,u,i)),o++}}drawAxis(e,t){let i=new v(this.axis.lineColor,this.axis.lineWidth);i.penStyle=this.axis.lineStyle,!this.isCenterAxis||this.axis.showYAxis!=Q.d.StiShowYAxis.Both&&this.axis.showYAxis!=Q.d.StiShowYAxis.Center?this.isCenterAxis||(!this.axis.core.isLeftSide||this.axis.showYAxis!=Q.d.StiShowYAxis.Both&&this.axis.showYAxis!=Q.d.StiShowYAxis.Left||this.drawTicks(e,t,this.axis.area.yAxis.ticks,i),this.axis.core.isRightSide&&this.drawTicks(e,t,this.axis.area.yRightAxis.ticks,i)):this.drawTicks(e,t,this.axis.ticks,i),this.drawAxisLine(e,t)}getViewclipRect(){let e=this.view.clientRectangle.clone();return e.x=0,e.y=this.axis.area.core.scrollDistanceY,e.inflate(1,1),this.isCenterAxis&&e.inflate(2,0),e}allowChildDrawing(e){var e=e;if(null==e)return!0;if(null==this.view)return!0;var t=this.getViewclipRect(),e=e.clientRectangle;return!(e.bottom<t.y||e.y>t.bottom)}draw(e){var t=this.clientRectangle.clone(),i;if(t.width<=0||t.height<=0)return;null!=this.view&&(i=this.getViewclipRect(),e.pushClip(i)),this.drawAxis(e,t),null!=this.view&&e.popClip()}},Q.d.StiYAxisViewGeom=class extends Q.d.StiYAxisGeom{drawChildGeoms(e){let t=this.clientRectangle.clone();if(this.isCenterAxis&&(t.x+=this.axis.area.core.getDividerX()-this.axis.area.core.scrollDistanceX),null!=this.childGeoms)for(var i of this.childGeoms)this.allowChildDrawing(i)&&(i.is(Q.d.StiVertScrollBarGeom)||e.pushTranslateTransform(0,-this.axis.area.core.scrollDistanceY),e.pushTranslateTransform(t.x,t.y),i.drawGeom(e),e.popTransform(),i.is(Q.d.StiVertScrollBarGeom)||e.popTransform())}draw(e){let t=this.clientRectangle.clone();if(this.isCenterAxis&&(t.x+=this.axis.area.core.getDividerX()-this.axis.area.core.scrollDistanceX),t.width<=0||t.height<=0)return;this.axis.arrowStyle==Q.d.StiArrowStyle.None||this.isCenterAxis||this.drawArrow(e,t)}constructor(e,t,i){super(e,t,i)}},Q.d.StiDownButtonGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}draw(e){var t=this.clientRectangle.clone(),i=ee.white,i=this.axis.lineColor,r=t.width/3,s=t.height/4,n=new te(t.x+t.width/2,t.y+t.height/2);e.pushSmoothingModeToAntiAlias();let l=[];l.push(new k(n.x-r,n.y-s,n.x,n.y+s)),l.push(new k(n.x,n.y+s,n.x+r,n.y-s)),e.fillPath(i,l,t,null),e.popSmoothingMode()}},Q.d.StiHorzScrollBarGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}draw(e){var t=this.clientRectangle.clone(),i=new v(this.axis.lineColor);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}},Q.d.StiHorzTrackBarGeom=class extends Q.d.StiCellGeom{constructor(e,t,i){super(t),this.axis=e,this.scrollBar=i}draw(e){var t=this.clientRectangle.clone(),i=new v(this.axis.lineColor),r=new v(ee.white),i;e.fillRectangle2(this.axis.lineColor,t.x,t.y,t.width,t.height,null),e.drawRectangle2(i,t.x,t.y,t.width,t.height),10<t.width&&4<t.height&&(i=t.x+t.width/2,e.drawLine(r,i-2,t.y+2,i-2,t.bottom-2),e.drawLine(r,i,t.y+2,i,t.bottom-2),e.drawLine(r,i+2,t.y+2,i+2,t.bottom-2))}},Q.d.StiLeftButtonGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}draw(e){var t=this.clientRectangle.clone(),i=ee.white,i=this.axis.lineColor,r=t.width/4,s=t.height/3,n=new te(t.x+t.width/2,t.y+t.height/2);e.pushSmoothingModeToAntiAlias();let l=[];l.push(new k(n.x+r,n.y-s,n.x-r,n.y)),l.push(new k(n.x-r,n.y,n.x+r,n.y+s)),e.fillPath(i,l,t,null),e.popSmoothingMode()}},Q.d.StiRightButtonGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}draw(e){var t=this.clientRectangle.clone(),i=ee.white,i=this.axis.lineColor,r=t.width/4,s=t.height/3,n=new te(t.x+t.width/2,t.y+t.height/2);e.pushSmoothingModeToAntiAlias();let l=[];l.push(new k(n.x-r,n.y-s,n.x+r,n.y)),l.push(new k(n.x+r,n.y,n.x-r,n.y+s)),e.fillPath(i,l,t,null),e.popSmoothingMode()}},Q.d.StiUpButtonGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}draw(e){var t=this.clientRectangle.clone(),i=ee.white,i=this.axis.lineColor,r=t.width/3,s=t.height/4,n=new te(t.x+t.width/2,t.y+t.height/2);e.pushSmoothingModeToAntiAlias();let l=[];l.push(new k(n.x-r,n.y+s,n.x,n.y-s)),l.push(new k(n.x,n.y-s,n.x+r,n.y+s)),e.fillPath(i,l,t,null),e.popSmoothingMode()}},Q.d.StiVertScrollBarGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}draw(e){var t=this.clientRectangle.clone(),i=new v(this.axis.lineColor);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}},Q.d.StiVertTrackBarGeom=class extends Q.d.StiCellGeom{constructor(e,t,i){super(t),this.axis=e,this.scrollBar=i}draw(e){var t=this.clientRectangle.clone(),i=new v(this.axis.lineColor),r=new v(ee.white),i;e.fillRectangle2(this.axis.lineColor,t.x,t.y,t.width,t.height,null),e.drawRectangle2(i,t.x,t.y,t.width,t.height),10<t.height&&4<t.width&&(i=t.y+t.height/2,e.drawLine(r,t.x+2,i-2,t.right-2,i-2),e.drawLine(r,t.x+2,i,t.right-2,i),e.drawLine(r,t.x+2,i+2,t.right-2,i+2))}},Q.d.StiChartTitleGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.title=e}draw(i){if(this.title.visible){let e=this.title.dock;this.title.dock==Q.d.StiChartTitleDock.Bottom&&(e=0);var r=I.changeFontSize(this.title.font,this.title.font.size*i.options.zoom);let t=i.getDefaultStringFormat();t.alignment=this.title.alignment,t.trimming=ht.None,t.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap|ut.NoClip,i.drawRotatedString8(this.title.text,r,this.title.brush,this.clientRectangle,t,L.CenterCenter,e,this.title.antialiasing)}}},Q.d.StiConstantLinesVerticalGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r){super(t),this.line=e,this.point=i,this.mode=r}draw(e){var t=this.clientRectangle.clone(),t,i,r;let s=new v(this.line.lineColor,this.line.lineWidth);s.penStyle=this.line.lineStyle,e.drawLine(s,t.left,t.top,t.left,t.bottom),this.line.titleVisible&&(t=new ie(this.line.lineColor),i=I.changeFontSize(this.line.font,this.line.font.size*e.options.zoom),r=e.getGenericStringFormat(),e.drawRotatedString9(this.line.text,i,t,this.point,r,this.mode,90,this.line.antialiasing,0))}},Q.d.StiConstantLinesYGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r){super(t),this.line=e,this.point=i,this.mode=r}draw(e){var t=this.clientRectangle.clone(),t,i,r;let s=new v(this.line.lineColor,this.line.lineWidth);s.penStyle=this.line.lineStyle,e.drawLine(s,t.left,t.top,t.left+t.width,t.top),this.line.titleVisible&&(t=new ie(this.line.lineColor),i=I.changeFontSize(this.line.font,this.line.font.size*e.options.zoom),r=e.getGenericStringFormat(),e.drawRotatedString9(this.line.text,i,t,this.point,r,this.mode,0,this.line.antialiasing,0))}},Q.d.StiLegendGeom=class extends Q.d.StiCellGeom{constructor(e,t,i){super(t),this.legend=e,this.seriesItems=i}dispose(){super.dispose(),this.seriesItems.stimulsoft().clear(),this.seriesItems=null}draw(e){if(!this.legend.visible||0==this.seriesItems.length)return;let t=this.clientRectangle.clone();var i,i;null!=this.legendTitleGeom&&(t.y+=this.legendTitleGeom.clientRectangle.height,t.height-=this.legendTitleGeom.clientRectangle.height),0<t.width&&0<t.height&&(this.legend.showShadow&&(this.legend.chart.isAnimation?(i=new ne(new K(0),new K(0)),e.drawShadowRect(t,6,null,i)):e.drawCachedShadow(t,Vt.All,e.options.isPrinting)),e.fillRectangle2(this.legend.brush,t.x,t.y,t.width,t.height,null),i=new v(this.legend.borderColor),e.drawRectangle2(i,t.x,t.y,t.width,t.height))}},Q.d.StiLegendItemGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n){super(i),this.legend=e,this.item=t,this.colorIndex=r,this.legendItemsCount=s,this.legendItemIndex=n}draw(i){let r=this.clientRectangle.clone();if(this.legend.markerVisible){let e=new re(this.clientRectangle.x,this.clientRectangle.y+(this.clientRectangle.height-this.legend.markerSize.height*i.options.zoom)/2,this.legend.markerSize.width*i.options.zoom,this.legend.markerSize.height*i.options.zoom),t=(this.legend.markerAlignment==Q.d.StiMarkerAlignment.Right&&(e.x=this.clientRectangle.right-e.width),Q.d.StiMarkerLegendFactory.createMarker(this.item.series));t.draw(i,this.item.series,e,this.colorIndex,this.legendItemsCount,this.legendItemIndex),this.legend.markerAlignment==Q.d.StiMarkerAlignment.Left&&(r.x+=this.legend.markerSize.width*i.options.zoom),r.width-=this.legend.markerSize.width*i.options.zoom}this.legend.markerAlignment!=Q.d.StiMarkerAlignment.Right&&(r.x+=2),r.width+=4;var e=new ie(this.legend.labelsColor),t=I.changeFontSize(this.legend.font,this.legend.font.size*i.options.zoom);let s=i.getDefaultStringFormat();s.alignment=A.Near,s.lineAlignment=A.Center,s.formatFlags=0,this.legend.markerAlignment==Q.d.StiMarkerAlignment.Right&&(s.formatFlags=ut.NoWrap),i.drawRotatedString6(this.item.getText(i,t),t,e,r,s,L.LeftTop,0,!0,0,!1)}},Q.d.StiLegendTitleGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.legend=e}draw(e){var t=new ie(this.legend.titleColor),i=I.changeFontSize(this.legend.titleFont,this.legend.titleFont.size*e.options.zoom);let r=e.getDefaultStringFormat();r.alignment=A.Center,r.lineAlignment=A.Center,r.formatFlags=0,e.drawString(this.legend.title,i,t,this.clientRectangle,r)}};{class dr{implements(){return dr.implementsStiLegendAreaMarker||(dr.implementsStiLegendAreaMarker=[Q.d.IStiLegendMarker]),dr.implementsStiLegendAreaMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiAreaSeries),l=t.lineColor,t=t.brush,a=Q.d.StiLegendMarkerHelper.getAreaMarkerPath(i),l=new v(l),t=(e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),Q.d.StiLegendMarkerHelper.getAreaMarkerLinePoints(i));e.drawLines(l,t),e.popSmoothingMode()}}Q.d.StiLegendAreaMarker=dr}{class cr{implements(){return cr.implementsStiLegendCandelstickMarker||(cr.implementsStiLegendCandelstickMarker=[Q.d.IStiLegendMarker]),cr.implementsStiLegendCandelstickMarker}draw(e,t,i,r,s,n){var l,a=t.brush,t=t.borderColor,t=new v(t),o=(e.pushSmoothingModeToAntiAlias(),new te(i.left+i.width/4,i.top+i.height/4)),h=i.width/2,u=i.height/2;e.fillRectangle2(a,o.x,o.y,h,u,null),e.drawRectangle2(t,o.x,o.y,h,u),e.drawLine(t,i.x+i.width/2,i.y,i.x+i.width/2,i.top+i.height/4),e.drawLine(t,i.x+i.width/2,i.bottom,i.x+i.width/2,i.bottom-i.height/4),e.popSmoothingMode()}}Q.d.StiLegendCandelstickMarker=cr}{class mr{implements(){return mr.implementsStiLegendColumnMarker||(mr.implementsStiLegendColumnMarker=[Q.d.IStiLegendMarker]),mr.implementsStiLegendColumnMarker}draw(e,t,i,r,s,n){var l=t.legendColor,l=null!=l?new ie(l):t.core.getSeriesBrush(r,s),r=new v(t.core.getSeriesBorderColor(r,s));null!=t.chart&&null!=t.chart.style&&t.chart.style.core.fillColumn(e,i,l,null),e.drawRectangle2(r,i.x,i.y,i.width,i.height)}}Q.d.StiLegendColumnMarker=mr}{class Sr{implements(){return Sr.implementsStiLegendDoughnutMarker||(Sr.implementsStiLegendDoughnutMarker=[Q.d.IStiLegendMarker]),Sr.implementsStiLegendDoughnutMarker}draw(e,t,i,r,s,n){let l=t,a=l.brush,o=(l.allowApplyBrush&&(a=l.core.getSeriesBrush(r,s),a=l.processSeriesBrushes(n,a)),l.borderColor),h=(l.allowApplyBorderColor&&(o=l.core.getSeriesBorderColor(r,s)),[]);var t=new v(o);e.pushSmoothingModeToAntiAlias(),h.push(new Ct(new re(i.x-i.width,i.y,2*i.width,2*i.height),270,90)),h.push(new k(i.right,i.bottom,i.x+i.width/2,i.bottom)),h.push(new Ct(new re(i.x-i.width/2,i.bottom-i.height/2,i.width,i.height),360,-90)),h.push(new k(i.x,i.y+i.height/2,i.x,i.y)),e.fillPath(a,h,i,null),e.drawPath(t,h,i),e.popSmoothingMode()}}Q.d.StiLegendDoughnutMarker=Sr}let Xt=Q.d.IStiFontIconsSeries;Q.d.StiLegendFontIconMarker=class{draw(e,t,i,r,s,n){try{var l,a=t.as(Xt).icon,o=t.legendColor,h=null!=o?new ie(o):t.core.getSeriesBrush(r,s);Q.a.StiFontIconsHelper.drawDirectionIcons(e,h,i,new bt(i.height,i.height),a,null,!0)}catch(e){}}};{class gr{implements(){return gr.implementsStiLegendFunnelMarker||(gr.implementsStiLegendFunnelMarker=[Q.d.IStiLegendMarker]),gr.implementsStiLegendFunnelMarker}draw(e,t,i,r,s,n){let l=t,a=l.brush,o=(l.allowApplyBrush&&(a=l.core.getSeriesBrush(r,s),a=l.processSeriesBrushes(r,a)),l.borderColor),h=(l.allowApplyBorderColor&&(o=l.core.getSeriesBorderColor(r,s)),[]);var t=new v(o),r=(e.pushSmoothingModeToAntiAlias(),[new te(i.x,i.y),new te(i.right,i.y),new te(i.x+3*i.width/4,i.top+i.height/2),new te(i.x+3*i.width/4,i.bottom),new te(i.x+1*i.width/4,i.bottom),new te(i.x+1*i.width/4,i.top+i.height/2)]);h.push(new ft(r)),h.push(new kt),e.fillPath(a,h,i,null),e.drawPath(t,h,null),e.popSmoothingMode()}}Q.d.StiLegendFunnelMarker=gr}{class pr{implements(){return pr.implementsStiLegendLineMarker||(pr.implementsStiLegendLineMarker=[Q.d.IStiLegendMarker]),pr.implementsStiLegendLineMarker}draw(e,t,i,r,s,n){let l=ee.transparent,a=!1,o=!1,h=null;var u=t.stimulsoft().as(Q.d.IStiRadarSeries),u=(null!=u&&(l=rt.toColor(u.marker.brush),h=u.marker.icon,o=!0),t.stimulsoft().as(Q.d.IStiRadarLineSeries)),u=(null!=u&&(l=u.lineColor,o=u.marker.visible,h=u.marker.icon,a=!0),t.stimulsoft().as(Q.d.IStiBaseLineSeries)),u=(null!=u&&(l=u.lineColor,o=u.marker.visible,h=u.marker.icon,a=!0),t.stimulsoft().as(Q.d.IStiStackedBaseLineSeries)),u=(null!=u&&(l=u.lineColor,o=u.marker.visible,h=u.marker.icon,a=!0),t.stimulsoft().as(Q.d.IStiScatterSeries)),u=(null!=u&&(l=rt.toColor(u.marker.brush),h=u.marker.icon,o=!0,a=!1),t.stimulsoft().as(Q.d.IStiScatterLineSeries)),u;null!=u&&(l=u.lineColor,o=u.marker.visible,h=u.marker.icon,a=!0);let d=t.stimulsoft().as(Q.d.IStiBubbleSeries);if(null!=d){let e=d.brush;d.allowApplyStyle&&(e=d.core.getSeriesBrush(r,s),e=d.processSeriesBrushes(r,e)),l=rt.toColor(e),o=!0,a=!1}null!=h?Q.a.StiFontIconsHelper.drawDirectionIcons(e,new ie(l),i,new bt(i.height,i.height),h,null,!1):(a&&(u=new v(l),e.drawRectangle(u,i),e.drawLine(u,i.x,i.y+i.height/2,i.right,i.y+i.height/2)),o&&(a&&(i=new se(i.x+i.width/4,i.y+i.height/4,i.width/2,i.height/2)),e.pushSmoothingModeToAntiAlias(),e.fillEllipse2(new ie(l),i,null),e.popSmoothingMode()))}}Q.d.StiLegendLineMarker=pr}let _t=Z.Base.Context.StiCurveSegmentGeom;{class fr{static getSteppedMarkerPath(e){let t=[];return t.push(new k(e.x,e.y,e.x+e.width,e.y)),t.push(new k(e.x+e.width,e.y,e.x+e.width,e.y+e.height)),t.push(new k(e.x+e.width,e.y+e.height,e.x,e.y+e.height)),t.push(new k(e.x,e.y+e.height,e.x,e.y)),t}static getAreaMarkerPath(e){var t=e.width/5,i=e.height/5;let r=[];return r.push(new k(e.x,e.y+3.5*i,e.x,e.y+3.5*i)),r.push(new k(e.x,e.y+3.5*i,e.x+2*t,e.y+.5*i)),r.push(new k(e.x+2*t,e.y+.5*i,e.x+4*t,e.y+2.5*i)),r.push(new k(e.x+4*t,e.y+2.5*i,e.x+5*t,e.y+1.5*i)),r.push(new k(e.x+5*t,e.y+1.5*i,e.x+5*t,e.y+5*i)),r.push(new k(e.x+5*t,e.y+5*i,e.x,e.y+5*i)),r.push(new k(e.x,e.y+5*i,e.x,e.y+3*i)),r}static getAreaMarkerLinePoints(e){var t=e.width/5,i=e.height/5;let r=[];return r.push(new te(e.x,e.y+3.5*i)),r.push(new te(e.x+2*t,e.y+.5*i)),r.push(new te(e.x+4*t,e.y+2.5*i)),r.push(new te(e.x+5*t,e.y+1.5*i)),r}static getSplineAreaMarkerPath(e){var t=e.width/5,i=e.height/5;let r=[];r.push(new k(e.x,e.y+5*i,e.x,e.y+3.5*i));var s=fr.getSplineAreaMarkerLinePoints(e);return r.push(new _t(s,.55)),r.push(new k(e.x+5*t,e.y+1.5*i,e.x+5*t,e.y+5*i)),r.push(new k(e.x+5*t,e.y+5*i,e.x,e.y+5*i)),r}static getSplineAreaMarkerLinePoints(e){var t=e.width/5,i=e.height/5;let r=[];return r.push(new te(e.x,e.y+3.5*i)),r.push(new te(e.x+2*t,e.y+.5*i)),r.push(new te(e.x+4*t,e.y+2.5*i)),r.push(new te(e.x+5*t,e.y+1.5*i)),r}}Q.d.StiLegendMarkerHelper=fr}{class wr{implements(){return wr.implementsStiLegendPictorialMarker||(wr.implementsStiLegendPictorialMarker=[Q.d.IStiLegendMarker]),wr.implementsStiLegendPictorialMarker}draw(e,t,i,r,s,n){var t=t.core.getSeriesBrush(r,s);e.pushSmoothingModeToAntiAlias(),e.fillEllipse2(t,i,null),e.popSmoothingMode()}}Q.d.StiLegendPictorialMarker=wr}{class xr{implements(){return xr.implementsStiLegendPieMarker||(xr.implementsStiLegendPieMarker=[Q.d.IStiLegendMarker]),xr.implementsStiLegendPieMarker}draw(e,t,i,r,s,n){let l=t,a=l.brush,o=(l.allowApplyBrush&&(a=l.core.getSeriesBrush(r,s),a=l.processSeriesBrushes(r,a)),l.borderColor),h=(l.allowApplyBorderColor&&(o=t.core.getSeriesBorderColor(r,s)),[]);var t=new v(o);e.pushSmoothingModeToAntiAlias(),h.push(new Ct(new re(i.x-i.width,i.y,2*i.width,2*i.height),270,90)),h.push(new k(i.right,i.bottom,i.x,i.bottom)),h.push(new k(i.x,i.bottom,i.x,i.y)),e.fillPath(a,h,i,null),e.drawPath(t,h,null),e.popSmoothingMode()}}Q.d.StiLegendPieMarker=xr}{class Cr{implements(){return Cr.implementsStiLegendRangeMarker||(Cr.implementsStiLegendRangeMarker=[Q.d.IStiLegendMarker]),Cr.implementsStiLegendRangeMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiRangeSeries),l=t.lineColor,t=t.brush;let a=[];var o=i.width/5,h=i.height/5,o=(a.push(new k(i.x,i.y+3*h,i.x,i.y+3*h)),a.push(new k(i.x,i.y+3*h,i.x+2*o,i.y)),a.push(new k(i.x+2*o,i.y,i.x+4*o,i.y+2*h)),a.push(new k(i.x+4*o,i.y+2*h,i.x+5*o,i.y+1*h)),a.push(new k(i.x+5*o,i.y+1*h,i.x+5*o,i.y+3*h)),a.push(new k(i.x+5*o,i.y+3*h,i.x+4*o,i.y+4*h)),a.push(new k(i.x+4*o,i.y+4*h,i.x+2*o,i.y+3*h)),a.push(new k(i.x+2*o,i.y+3*h,i.x,i.y+5*h)),a.push(new k(i.x,i.y+5*h,i.x,i.y+3*h)),new v(l));e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),e.drawPath(o,a,i),e.popSmoothingMode()}}Q.d.StiLegendRangeMarker=Cr}{class br{implements(){return br.implementsStiLegendSplineAreaMarker||(br.implementsStiLegendSplineAreaMarker=[Q.d.IStiLegendMarker]),br.implementsStiLegendSplineAreaMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiSplineAreaSeries),l=t.lineColor,t=t.brush,a=Q.d.StiLegendMarkerHelper.getSplineAreaMarkerPath(i),l=new v(l),o=Q.d.StiLegendMarkerHelper.getSplineAreaMarkerLinePoints(i);e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),e.drawLines(l,o),e.popSmoothingMode()}}Q.d.StiLegendSplineAreaMarker=br}{class yr{implements(){return yr.implementsStiLegendSplineRangeMarker||(yr.implementsStiLegendSplineRangeMarker=[Q.d.IStiLegendMarker]),yr.implementsStiLegendSplineRangeMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiSplineRangeSeries),l=t.lineColor,a=t.brush;let o=[];var h=i.width/5,u=i.height/5;o.push(new k(i.x,i.y+5*u,i.x,i.y+3*u));let d=[],c=(d.push(new te(i.x,i.y+3*u)),d.push(new te(i.x+2*h,i.y)),d.push(new te(i.x+4*h,i.y+2*u)),d.push(new te(i.x+5*h,i.y+1*u)),o.push(new _t(d,t.tension)),o.push(new k(i.x+5*h,i.y+1*u,i.x+5*h,i.y+3*u)),[]);c.push(new te(i.x+5*h,i.y+3*u)),c.push(new te(i.x+4*h,i.y+4*u)),c.push(new te(i.x+2*h,i.y+4*u)),c.push(new te(i.x,i.y+5*u)),o.push(new _t(c,t.tension));var h=new v(l);e.pushSmoothingModeToAntiAlias(),e.fillPath(a,o,i,null),e.drawCurve(h,d,t.tension),e.drawCurve(h,c,t.tension),e.popSmoothingMode()}}Q.d.StiLegendSplineRangeMarker=yr}{class Ar{implements(){return Ar.implementsStiLegendStackedAreaMarker||(Ar.implementsStiLegendStackedAreaMarker=[Q.d.IStiLegendMarker]),Ar.implementsStiLegendStackedAreaMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiStackedAreaSeries),l=t.lineColor,t=t.brush,a=Q.d.StiLegendMarkerHelper.getAreaMarkerPath(i),l=new v(l),t=(e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),Q.d.StiLegendMarkerHelper.getAreaMarkerLinePoints(i));e.drawLines(l,t),e.popSmoothingMode()}}Q.d.StiLegendStackedAreaMarker=Ar}{class vr{implements(){return vr.implementsStiLegendStackedSplineAreaMarker||(vr.implementsStiLegendStackedSplineAreaMarker=[Q.d.IStiLegendMarker]),vr.implementsStiLegendStackedSplineAreaMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiStackedSplineAreaSeries),l=t.lineColor,t=t.brush,a=Q.d.StiLegendMarkerHelper.getSplineAreaMarkerPath(i),l=new v(l),o=Q.d.StiLegendMarkerHelper.getSplineAreaMarkerLinePoints(i);e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),e.drawLines(l,o),e.popSmoothingMode()}}Q.d.StiLegendStackedSplineAreaMarker=vr}{class Lr{implements(){return Lr.implementsStiLegendSteppedAreaMarker||(Lr.implementsStiLegendSteppedAreaMarker=[Q.d.IStiLegendMarker]),Lr.implementsStiLegendSteppedAreaMarker}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiSteppedAreaSeries),l=t.lineColor,t=t.brush,a=Q.d.StiLegendMarkerHelper.getSteppedMarkerPath(i),l=new v(l);e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),e.drawPath(l,a,i),e.popSmoothingMode()}}Q.d.StiLegendSteppedAreaMarker=Lr}{class Tr{implements(){return Tr.implementsStiSteppedRangeSeries||(Tr.implementsStiSteppedRangeSeries=[Q.d.IStiLegendMarker]),Tr.implementsStiSteppedRangeSeries}draw(e,t,i,r,s,n){var t=t.stimulsoft().as(Q.d.StiSteppedRangeSeries),l=t.lineColor,t=t.brush,a=Q.d.StiLegendMarkerHelper.getSteppedMarkerPath(i),l=new v(l);e.pushSmoothingModeToAntiAlias(),e.fillPath(t,a,i,null),e.drawPath(l,a,i),e.popSmoothingMode()}}Q.d.StiLegendSteppedRangeMarker=Tr}{class kr{implements(){return kr.implementsStiLegendStockMarker||(kr.implementsStiLegendStockMarker=[Q.d.IStiLegendMarker]),kr.implementsStiLegendStockMarker}draw(e,t,i,r,s,n){var l,t=t.lineColor,t=new v(t);e.pushSmoothingModeToAntiAlias(),e.drawLine(t,i.left+i.width/4,i.top+i.height/4,i.left+i.width/2,i.top+i.height/4),e.drawLine(t,i.left+i.width/2,i.top,i.left+i.width/2,i.bottom),e.drawLine(t,i.left+i.width/2,i.bottom-i.height/4,i.right-i.width/4,i.bottom-i.height/4),e.popSmoothingMode()}}Q.d.StiLegendStockMarker=kr}Q.d.StiMarkerLegendFactory=class{static createMarker(e){if(e.is(Q.d.IStiFontIconsSeries)&&null!=e.icon)return new Q.d.StiLegendFontIconMarker;if(e.is(Q.d.IStiDoughnutSeries))return new Q.d.StiLegendDoughnutMarker;if(e.is(Q.d.IStiPieSeries))return new Q.d.StiLegendPieMarker;if(e.is(Q.d.StiAreaSeries))return new Q.d.StiLegendAreaMarker;if(e.is(Q.d.StiStackedAreaSeries))return new Q.d.StiLegendStackedAreaMarker;if(e.is(Q.d.StiSplineAreaSeries))return new Q.d.StiLegendSplineAreaMarker;if(e.is(Q.d.StiStackedSplineAreaSeries))return new Q.d.StiLegendStackedSplineAreaMarker;if(e.is(Q.d.StiSteppedAreaSeries))return new Q.d.StiLegendSteppedAreaMarker;if(e.is(Q.d.StiRangeSeries))return new Q.d.StiLegendRangeMarker;if(e.is(Q.d.StiSplineRangeSeries))return new Q.d.StiLegendSplineRangeMarker;if(e.is(Q.d.StiSteppedRangeSeries))return new Q.d.StiLegendSteppedRangeMarker;if(e.is(Q.d.IStiBaseLineSeries)||e.is(Q.d.IStiStackedBaseLineSeries)||e.is(Q.d.IStiRadarSeries))return new Q.d.StiLegendLineMarker;if(e.is(Q.d.IStiFunnelSeries))return new Q.d.StiLegendFunnelMarker;if(e.is(Q.d.IStiStockSeries))return new Q.d.StiLegendStockMarker;if(e.is(Q.d.IStiCandlestickSeries))return new Q.d.StiLegendCandelstickMarker;if(e.is(Q.d.IStiPictorialSeries))return new Q.d.StiLegendPictorialMarker;return new Q.d.StiLegendColumnMarker}};let Ht=Z.Base.Context.StiInteractionDataGeom;{class Ir extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n,l,a){super(Q.d.StiMarkerCoreXF.getMarkerRect(r,s.size,l)),this.showShadow=!1,this.isTooltipMode=!1,this.series=e,this.index=t,this.value=i,this.point=r,this.marker=s,this.showShadow=n,this.isTooltipMode=a}implements(){return Ir.implementsStiMarkerGeom||(Ir.implementsStiMarkerGeom=super.implements().concat([O])),Ir.implementsStiMarkerGeom}getValueIndex(){let e=this.index;return this.series.is(Q.d.IStiClusteredBarSeries)||this.series.is(Q.d.IStiStackedBarSeries)||this.series.is(Q.d.IStiFullStackedBarSeries)?this.series.chart.area.is(Q.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(Q.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getHyperlink(){return this.getHyperlink2(this.getValueIndex())}getHyperlink2(e){return null!=this.series.hyperlinks&&e<this.series.hyperlinks.length?this.series.hyperlinks[e]:null}getToolTip(){return this.getToolTip2(this.getValueIndex())}getToolTip2(e){let t=null;var e;return null!=this.series.toolTips&&e<this.series.toolTips.length&&(t=this.series.toolTips[e]),!G.isNullOrEmpty(t)&&t.stimulsoft().contains('"StiColor":"#ffffff"')&&(e=rt.toColor(this.series.processSeriesBrushes(this.index,this.marker.brush)),t=t.replace('"StiColor":"#ffffff"',G.format('"StiColor":"{0}"',Z.System.Drawing.ColorTranslator.toHtml2(e,!1)))),t}contains(e,t){if(this.invisible)return!1;return this.getMouseOverRect().contains(e,t)}getMouseOverRect(){let e=this.clientRectangle.clone();return e.inflate(e.width/2,e.height/2),e}draw(e){e.pushSmoothingModeToAntiAlias();var t=e.options.zoom;let i=this.series.chart,r=this.marker.clone();var s=this.series.processSeriesMarkerVisible(this.index)||this.marker.visible;this.isTooltipMode&&!s||(r.brush=this.series.processSeriesBrushes(this.index,this.marker.brush),r.angle=this.series.processSeriesMarkerAngle(this.index,this.marker.angle),r.type=this.series.processSeriesMarkerType(this.index,this.marker.type),r.visible=s),this.isTooltipMode&&!s&&(r.brush=null,r.borderColor=ee.transparent);let n=null;i.isAnimation&&((n=new Ht).componentName=i.name,n.componentIndex=i.page.components.indexOf(i).toString(),n.pageGuid=this.series.stimulsoft().as(Q.d.StiSeries).drillDownPageGuid,n.pageIndex=i.page.report.renderedPages.indexOf(i.page).toString(),n.elementIndex=this.elementIndex.toString(),n.interactionData=this.interaction),this.marker.core.draw(e,r,this.point,t,this.showShadow,!1,this.isTooltipMode,i.isAnimation,this.getToolTip(),this,n),e.popSmoothingMode()}}Q.d.StiMarkerGeom=Ir}Q.d.StiRadarAxisGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.axis=e}drawAxisLine(e,t){var i=t.right;let r=new v(this.axis.lineColor,this.axis.lineWidth);r.penStyle=this.axis.lineStyle,e.drawLine(r,i,t.y,i,t.bottom)}drawMinorTicks(t,i,r,s,e,n){var l,a=(e-s)/(n.minorCount+1),o=n.minorLength*t.options.zoom;for(let e=1;e<=n.minorCount;e++){var h=s+a*e,u;t.drawLine(i,r,h,r-o,h)}}drawTicks(e,t,i,r){if(!i.visible)return;var s=i.length*e.options.zoom,n=t.right,l=n-s,a;let o=0;for(a of this.axis.info.ticksCollection){var h=a.position,u;e.drawLine(r,n,h,l,h),i.minorVisible&&o!=this.axis.info.ticksCollection.length-1&&(u=this.axis.info.ticksCollection[o+1].position,this.drawMinorTicks(e,r,n,h,u,i)),o++}}drawAxis(e,t){let i=new v(this.axis.lineColor,this.axis.lineWidth);i.penStyle=this.axis.lineStyle,this.drawTicks(e,t,this.axis.area.yAxis.ticks,i),this.drawAxisLine(e,t)}draw(e){var t=this.clientRectangle.clone();if(t.width<=0||t.height<=0)return;this.drawAxis(e,t)}},Q.d.StiXRadarAxisLabelGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n,l,a){super(n),this.axis=e,this.labelRect=l,this.text=t,this.angle=s,this.point=a,this.labelBrush=i,this.borderColor=r}draw(e){var t=this.clientRectangle.clone(),i=new v(this.borderColor),r=I.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom);let s=e.getGenericStringFormat();s.trimming=ht.None,this.axis.labels.wordWrap||(s.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap),this.axis.labels.antialiasing&&e.pushSmoothingModeToAntiAlias();var n=P.round2(this.labelRect.x+this.labelRect.width/2,0),l=P.round2(this.labelRect.y+this.labelRect.height/2,0);e.pushTranslateTransform(n,l),e.pushRotateTransform(this.angle),t.isEmpty||(e.fillRectangle(this.axis.labels.brush,t,null),this.axis.labels.drawBorder&&e.drawRectangle2(i,t.x,t.y,t.width,t.height)),e.popTransform(),e.popTransform(),this.axis.labels.antialiasing&&e.popSmoothingMode();let a=L.CenterBottom,o=this.angle;90<=this.angle&&this.angle<=270&&(o=this.angle+180,a=L.CenterTop),this.axis.labels.rotationLabels||(0<this.angle&&this.angle<180?a=L.LeftCenter:this.angle<360&&180<this.angle?a=L.RightCenter:0==this.angle?a=L.CenterBottom:180==this.angle&&(a=L.CenterTop),o=0),e.drawRotatedString9(this.text,r,this.labelBrush,this.point,s,a,o,this.axis.labels.antialiasing,P.trunc(this.axis.labels.width*e.options.zoom))}},Q.d.StiYRadarAxisLabelGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n,l){super(t),this.axis=e,this.text=r,this.stripLine=s,this.textPoint=i,this.angle=n,this.rotationMode=l}draw(e){var t=this.axis.yCore.getStringFormatGeom(e),i=this.axis.yCore.getFontGeom(e),r=new ie(this.axis.labels.color);e.drawRotatedString9(this.text,i,r,this.textPoint,t,this.rotationMode,this.angle,this.axis.labels.antialiasing,P.trunc(this.axis.labels.width*e.options.zoom))}};{class Fr{static getMouseOverColor(){return ee.fromArgb(100,ee.white)}static getLineMouseOverColor(){return ee.fromArgb(100,ee.red)}}Fr.mouseOverLineDistance=8,Fr.mouseOverSplineDistance=15,Q.d.StiMouseOverHelper=Fr}let zt=Z.Base.Drawing.StiCornerRadiusHelper,jt=Q.e.IStiCornerRadius,Yt=Q.d.IStiSeriesBorderThickness;{class Br extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n){super(s),this.seriesBrush=n,this.areaGeom=e,this.series=r,this.value=t,this.index=i}implements(){return Br.implementsStiSeriesElementGeom||(Br.implementsStiSeriesElementGeom=super.implements().concat([O])),Br.implementsStiSeriesElementGeom}getValueIndex(){let e=this.index;return this.series.is(Q.d.IStiClusteredBarSeries)||this.series.is(Q.d.IStiStackedBarSeries)||this.series.is(Q.d.IStiFullStackedBarSeries)?this.series.chart.area.is(Q.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(Q.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getHyperlink(){return this.getHyperlink2(this.getValueIndex())}getHyperlink2(e){return null!=this.series.hyperlinks&&e<this.series.hyperlinks.length?this.series.hyperlinks[e]:null}getToolTip(){var e=this.getValueIndex();return this.getToolTip2(e)}getToolTip2(e){let t=null;var e,e;return null!=this.series.toolTips&&e<this.series.toolTips.length&&(t=this.series.toolTips[e]),!G.isNullOrEmpty(t)&&t.stimulsoft().contains('"StiColor":"#ffffff"')&&null!=(e=this.seriesBrush||(null!=this.series?this.series["brush"]:null))&&(e=Z.Base.Drawing.StiBrush.toColor(e),t=t.replace('"StiColor":"#ffffff"',G.format('"StiColor":"{0}"',Z.System.Drawing.ColorTranslator.toHtml2(e,!1)))),t}get interaction(){return this._interaction}set interaction(e){this._interaction=e}draw(e){}getInteractionData(){let e=this.series.chart,t=new Ht;return t.componentName=e.name,t.componentIndex=null!=e.page?e.page.components.indexOf(e).toString():"",t.pageGuid=this.series.stimulsoft().as(Q.d.StiSeries).drillDownPageGuid,t.pageIndex=null!=e.page?e.page.report.renderedPages.indexOf(e.page).toString():"",t.elementIndex=this.elementIndex.toString(),t.interactionData=this.interaction,t}getSeriesBorderThickness(e){var t=this.series.as(Yt);if(null!=t)return t.borderThickness;return 1}getCornerRadius(){let e=this.series.as(jt);var t;if(null!=e&&null!=e.cornerRadius&&!e.cornerRadius.isEmpty)return t=e.cornerRadius.clone(),0<=this.value?t:zt.flipVertical(t);return new Mt}}Q.d.StiSeriesElementGeom=Br}Q.d.StiSeriesGeom=class extends Q.d.StiCellGeom{constructor(e,t,i){super(i),this.areaGeom=e,this.series=t}draw(e){}},Q.d.StiBoxAndWhiskerSeriesElementGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m){super(u),this.series=t,this.areaGeom=e,this.positionX=i,this.minimum=r,this.maximum=s,this.firstQuartile=n,this.thirdQuartile=l,this.median=a,this.mean=h,this.values=o,this.brush=d,this.borderColor=c,this.beginTime=m}draw(t){var e=this.series.chart,i=this.areaGeom.area,r=new v(this.borderColor,this.getSeriesBorderThickness(t.options.zoom)),i=i.xAxis.info.dpi/2,s=i/3,n=s/6,l;if(t.pushSmoothingModeToAntiAlias(),e.isAnimation){var e=new ne(Q.d.StiChartHelper.globalBeginTimeElement,this.beginTime),l;if(t.drawAnimationLines(r,[new yt(this.positionX-s/2,this.maximum),new yt(this.positionX+s/2,this.maximum)],e),t.drawAnimationLines(r,[new yt(this.positionX-s/2,this.minimum),new yt(this.positionX+s/2,this.minimum)],e),t.drawAnimationLines(r,[new yt(this.positionX,this.maximum),new yt(this.positionX,this.thirdQuartile)],e),t.drawAnimationLines(r,[new yt(this.positionX,this.firstQuartile),new yt(this.positionX,this.minimum)],e),t.drawAnimationRectangle(this.brush,r,new se(this.positionX-i/2,this.thirdQuartile,i,this.firstQuartile-this.thirdQuartile),null,e,null,null),t.drawAnimationLines(r,[new yt(this.positionX-i/2,this.median),new yt(this.positionX+i/2,this.median)],e),null!=this.values){let e=1;for(var a of this.values){var o=new ne(Q.d.StiChartHelper.globalBeginTimeElement,new K(this.beginTime.ticks+Q.d.StiChartHelper.globalBeginTimeElement.ticks/this.values.length*e));t.fillDrawAnimationEllipse(null,r,this.positionX-n/2,a-n/2,n,n,null,null,o,null),e++}}null!=this.mean&&(l=this.mean,t.drawAnimationLines(r,[new yt(this.positionX-n,l-n),new yt(this.positionX+n,l+n)],e),t.drawAnimationLines(r,[new yt(this.positionX+n,l-n),new yt(this.positionX-n,l+n)],e))}else{if(t.drawLine(r,this.positionX-s/2,this.maximum,this.positionX+s/2,this.maximum),t.drawLine(r,this.positionX-s/2,this.minimum,this.positionX+s/2,this.minimum),t.drawLine(r,this.positionX,this.maximum,this.positionX,this.thirdQuartile),t.drawLine(r,this.positionX,this.firstQuartile,this.positionX,this.minimum),t.fillRectangle2(this.brush,this.positionX-i/2,this.thirdQuartile,i,this.firstQuartile-this.thirdQuartile,null),t.drawRectangle2(r,this.positionX-i/2,this.thirdQuartile,i,this.firstQuartile-this.thirdQuartile),t.drawLine(r,this.positionX-i/2,this.median,this.positionX+i/2,this.median),null!=this.values)for(var h of this.values)t.drawEllipse2(r,new se(this.positionX-n/2,h-n/2,n,n));null!=this.mean&&(l=this.mean,t.drawLine(r,this.positionX-n,l-n,this.positionX+n,l+n),t.drawLine(r,this.positionX+n,l-n,this.positionX-n,l+n))}t.popSmoothingMode()}getSeriesBorderThickness(e){var t=this.series.as(Yt);if(null!=t)return t.borderThickness*e;return 1}},Q.d.StiBubbleSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a){super(e,t,i,n,l,r),this.seriesBrush=r,this.seriesBorderColor=s,this.beginTime=a}contains(e,t){if(this.invisible)return!1;var i=new te(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),e=Math.abs(i.x-e),i=Math.abs(i.y-t),r;return Math.sqrt(e*e+i*i)<=this.clientRectangle.width/2}draw(i){let r=this.clientRectangle.clone();var e=new v(this.seriesBorderColor,this.getSeriesBorderThickness(i.options.zoom)),s=this.series.chart,t=this.series.as(Q.d.IStiFontIconsSeries);if(null!=t&&null!=t.icon)return void Q.a.StiFontIconsHelper.drawDirectionIcons(i,this.seriesBrush,r,new Ft(r.height,r.height),t.icon,this.getToolTip(),!1);if(s.isAnimation){var t=new wt(0,0,0,0,0,0,Q.d.StiChartHelper.globalDurationElement,this.beginTime);i.fillDrawAnimationEllipse(this.seriesBrush,e,r.x,r.y,r.width,r.height,this.getToolTip(),this,t,this.getInteractionData())}else{if(this.series.showShadow){var s=new ie(ee.fromArgb(100,ee.black));let e=i.createShadowGraphics(),t=r.clone();t.x=0,t.y=0,t.x+=4*i.options.zoom,t.y+=4*i.options.zoom,e.fillEllipse2(s,t,this.getInteractionData()),i.drawShadow(e,r,0)}i.fillEllipse2(this.seriesBrush,r,this.getInteractionData()),i.pushSmoothingModeToAntiAlias(),i.drawEllipse2(e,r),i.popSmoothingMode()}}};let Wt=Q.a.Painters.StiContextRoundedRectangleCreator,Jt=Z.Base.Context.Animation.StiColumnAnimation,Zt=(Q.d.StiClusteredBarSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o){super(e,i,r,l,o,s),this.seriesBorderColor=n,this.valueStart=t,this.columnRectStart=a}draw(i){let e=this.series.chart;var r=this.clientRectangle.clone(),s=zt.rotation90(this.getCornerRadius()),s=zt.flipHorizontal(s),t=this.series.as(Q.d.IStiFontIconsSeries),n,n;if(null!=t&&null!=t.icon)return n=null==(n=e.area.as(Q.d.IStiRoundValuesArea))?void 0:n.roundValues,void Q.a.StiFontIconsHelper.drawDirectionIcons(i,this.seriesBrush,r,new Ft(r.height,r.height),t.icon,this.getToolTip(),!1,n);null==s||s.isEmpty||i.pushSmoothingModeToAntiAlias();var t=this.getAnimation();if(null!=t){var n=this.clientRectangle.clone(),l=new v(this.seriesBorderColor,this.getSeriesBorderThickness(i.options.zoom)),a,a,a;this.series.showShadow&&(a=this.areaGeom.area,a=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/a.core.valuesCount*this.index),a=new ne(Q.d.StiChartHelper.globalDurationElement,new K(a.ticks+Q.d.StiChartHelper.globalDurationElement.ticks)),i.drawShadowRect(n,5,s,a)),i.drawAnimationCicledBar(this.seriesBrush,l,r,s,this.value,this.getToolTip(),this,t,this.getInteractionData())}else{let t=this.clientRectangle.clone();if(this.series.showShadow&&4<t.width&&4<t.height){let e=t.clone();this.value<0?(e.y--,i.drawCachedShadow(e,Vt.Left|Vt.Bottom,i.options.isPrinting,e,s)):0<this.value&&i.drawCachedShadow(new re(e.x-8,e.y,e.width+8,e.height),Vt.Top|Vt.Right|Vt.Edge|Vt.Bottom,i.options.isPrinting,e,s)}var n=new v(this.seriesBorderColor,this.getSeriesBorderThickness(i.options.zoom)),a=(this.series.chart.style.core.fillCicledColumn(i,t,s,this.seriesBrush,this.getInteractionData()),this.getBorderPath(r,s));i.drawPath(n,a,r)}null==s||s.isEmpty||i.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return 0<this.value?Wt.createWithoutRightSide(e,t,1):Wt.createWithoutLeftSide(e,t,1);let i=new $;return 0<this.value?(i.add(new k(e.right,e.y,e.x,e.y)),i.add(new k(e.x,e.y,e.x,e.bottom)),i.add(new k(e.x,e.bottom,e.right,e.bottom))):(i.add(new k(e.x,e.y,e.right,e.y)),i.add(new k(e.right,e.y,e.right,e.bottom)),i.add(new k(e.right,e.bottom,e.x,e.bottom))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area;var t=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i;let r=new Jt(this.columnRectStart,this.clientRectangle,Q.d.StiChartHelper.globalDurationElement,t),s=(e.yAxis.core.getStartFromZero()?e.yAxis.info.stripLines.getByIndex(this.index+1):e.yAxis.info.stripLines.getByIndex(this.index)).valueObject;return s=null==s?"":s.stimulsoft().toString(),r.id=`series_${this.series.chart.series.indexOf(this.series)}_`+s,Jt.isAnimationChangingValues(this.series,r.id)&&r.applyPreviousAnimation(this.series.chart.previousAnimations),r}},Z.Base.Context.Animation.StiTranslationAnimation),p=Z.Base.Context.Animation.StiPointsAnimation;{class Rr extends Q.d.StiSeriesGeom{constructor(e,t,i){super(e,i,Rr.getClientRectangle(t.points,i.is(Q.d.StiBaseLineSeries)?i.lineWidth:0)),this.points=t.points.map(e=>e),null!=t.pointsFrom&&null!=t.pointsFrom[0]||(t.pointsFrom=t.points.map(e=>e)),this.pointsFrom=t.pointsFrom.map(e=>e),this.pointsIds=t.pointsIds.map(e=>e),this.additionalSeriesId=t.additionalSeriesId}get allowMouseOver(){return this.series.interaction.drillDownEnabled&&this.series.interaction.allowSeries}static getClientRectangle(e,t){if(null==e||0==e.length)return re.empty;let i=te.empty,r=te.empty;for(var s of e){if(null==s)continue;i==te.empty?(i=s,r=s):(i.x=Math.min(i.x,s.x),i.y=Math.min(i.y,s.y),r.x=Math.max(r.x,s.x),r.y=Math.max(r.y,s.y))}return new re(i.x-t/2,i.y-t/2,r.x-i.x+t,r.y-i.y+t)}draw(e){}getAnimation(e=this.points){if(!this.series.chart.isAnimation)return null;if(null==this.pointsFrom||null==this.pointsIds)return null;let t=[],i=[],r=[];for(let e=0;e<this.pointsFrom.length;e++)null!=this.pointsFrom[e]&&null!=this.points[e]&&null!=this.pointsIds[e]&&(t.push(this.pointsFrom[e]),i.push(this.points[e]),r.push(this.pointsIds[e]));return this.getAnimation2(t,i,r)}getAnimationConnect(e=this.points){if(!this.series.chart.isAnimation)return null;if(null==this.pointsFrom||null==this.pointsIds)return null;let r=[],s=[],n=[],l=0;for(let i of e)if(null!=i&&!s.stimulsoft().toList().exists(e=>e.equals(i))){let e=this.pointsFrom[l],t=(null==e&&(e=i),this.pointsIds[l]);G.isNullOrEmpty(t)&&(t=l.toString()+"_"),r.push(e),s.push(i),n.push(t),l++}return this.getAnimation2(r,s,n)}getAnimation2(e,t,i){if(!this.series.chart.isAnimation)return null;if(0==e.length)return null;let r=null,s=null;if(this.series.chart.isAnimationChangingValues&&null!=e&&null!=e[0]&&null!=i&&((s=new p(e,t,i,Q.d.StiChartHelper.globalDurationElement,K.zero)).id=`series_`+this.series.chart.series.indexOf(this.series)+this.additionalSeriesId,p.isAnimationChangingValues(this.series,i,s.id)&&(s.applyPreviousAnimation(this.series.chart.previousAnimations),r=s)),null==r){let e=new Zt(te.empty,te.empty,Q.d.StiChartHelper.globalDurationElement,K.zero);e.anotherAnimation=s,e.id=`series_`+this.series.chart.series.indexOf(this.series)+this.additionalSeriesId,r=e}return r}}Q.d.StiBaseLineSeriesGeom=Rr}Q.d.StiLineSeriesGeom=class extends Q.d.StiBaseLineSeriesGeom{constructor(e,t,i){super(e,t,i),this.pointsNullConnect=t.pointsNullConnect,this.pointsZeroConnect=t.pointsZeroConnect}contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var r=this.points[e],s=this.points[e+1],n;if(null==r||null==s)continue;if(Q.d.StiPointHelper.isLineContainsPoint(r,s,Q.d.StiMouseOverHelper.mouseOverLineDistance,new te(t,i)))return!0}return!1}draw(s){let e=f.Solid,t=1,n=ee.black,i=!0,r=null,l=!0;var a=this.getAnimation(),o=this.series.stimulsoft().as(Q.d.IStiBaseLineSeries),o=(null!=o&&(e=o.lineStyle,t=o.lineWidth,n=o.lineColor,i=o.showShadow,r=o.lineMarker,l=o.lighting),this.series.stimulsoft().as(Q.d.IStiRadarLineSeries)),o=(null!=o&&(e=o.lineStyle,t=o.lineWidth,n=o.lineColor,i=o.showShadow,l=o.lighting),this.series.stimulsoft().as(Q.d.IStiRadarAreaSeries)),h=(null!=o&&(e=o.lineStyle,t=o.lineWidth,n=o.lineColor,i=o.showShadow,l=o.lighting),s.pushSmoothingModeToAntiAlias(),e),u=t*s.options.zoom,o,o;let d=new v(n,u);if(d.penStyle=h,i){let e=new v(ee.fromArgb(50,0,0,0),u+.5*s.options.zoom);e.penStyle=h,s.pushTranslateTransform(u,u),Q.d.StiNullableDrawing.drawLines(s,e,this.points,a),null!=r&&r.visible&&(o=new ie(ee.fromArgb(50,0,0,0)),r.core.drawLines(s,this.points,s.options.zoom,o,null,r.type,r.step,r.size,r.angle)),s.popTransform()}if(null!=this.pointsZeroConnect){let e=new v(n,u);e.penStyle=f.Dash;var o=this.getAnimationConnect(this.pointsZeroConnect);Q.d.StiNullableDrawing.drawLines(s,e,this.pointsZeroConnect,o)}if(null!=this.pointsNullConnect){let e=new v(n,u);e.penStyle=f.Dash;var o=this.getAnimationConnect(this.pointsNullConnect);Q.d.StiNullableDrawing.drawLines(s,e,this.pointsNullConnect,o)}if(this.series.is(Q.d.StiLineSeries)&&this.series.allowApplyColorNegative){var c=this.series.lineColorNegative;let t=new v(c,u),e=(t.penStyle=h,this.series.chart.area);var m=e.axisCore.getDividerY();let i=[],r=[];for(let e=0;e<this.points.length;e++){var S=this.points[e],g=e!=this.points.length-1?this.points[e+1]:null,p,S;if(S.y>m){if(i.push(S),null==g||g.y<m||g.y==m&&e+2<this.points.length&&this.points[e+2].y<=m){if(null!=g&&(p=this.getPointCross(S,this.points[e+1],m),i.push(p),g.y==m&&e+2<this.points.length&&this.points[e+2].y<=m&&i.push(this.points[e+2]),r.push(p)),Q.d.StiNullableDrawing.drawLines(s,t,i,a),u>=2*s.options.zoom&&l){var p=.5*s.options.zoom;s.pushTranslateTransform(-p,-p);let e=new v(w.light(c,70),u);e.penStyle=h,Q.d.StiNullableDrawing.drawLines(s,e,i,a),s.popTransform()}i.stimulsoft().clear()}}else if(r.push(S),null==g||g.y>m){if(null!=g&&(S=this.getPointCross(S,this.points[e+1],m),i.push(S),r.push(S),r.push(g)),Q.d.StiNullableDrawing.drawLines(s,d,r,a),u>=2*s.options.zoom&&l){var S=.5*s.options.zoom;s.pushTranslateTransform(-S,-S);let e=new v(w.light(n,70),u);e.penStyle=h,Q.d.StiNullableDrawing.drawLines(s,e,r,a),s.popTransform()}r.stimulsoft().clear()}}}else if(Q.d.StiNullableDrawing.drawLines(s,d,this.points,a),u>=2*s.options.zoom&&l){var o=.5*s.options.zoom;s.pushTranslateTransform(-o,-o);let e=new v(w.light(n,70),u);e.penStyle=h,Q.d.StiNullableDrawing.drawLines(s,e,this.points,a),s.popTransform()}null!=r&&r.visible&&(o=new v(r.borderColor),r.core.drawLines(s,this.points,s.options.zoom,r.brush,o,r.type,r.step,r.size,r.angle)),s.popSmoothingMode()}getPointCross(e,t,i){var r=e.y,e=e.x,s=t.y,t=t.x,t=Math.tan(Math.atan((t-e)/(r-s)))*(r-i)+e;return new te(t,i)}},Q.d.StiAreaSeriesGeom=class extends Q.d.StiLineSeriesGeom{contains(t,i){let e=this.series.chart.area;var r=e.axisCore.getDividerY();if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var s=this.points[e],n=this.points[e+1];if(null==s||null==n)continue;var l=new te(n.x,r),a=new te(s.x,r),o;if(Q.d.StiPointHelper.isPointInPolygon(new te(t,i),[s,a,l,n]))return!0}return!1}draw(l){var a=this.series;let o=this.series.chart.area;var h=o.axisCore.getDividerY(),e=Q.d.StiNullableDrawing.getPointsList(this.points),u=null!=this.pointsFrom?Q.d.StiNullableDrawing.getPointsList(this.pointsFrom):null,t,i,r,i;if(this.series.chart.isAnimation)for(let n=0;n<e.length;n++){var d=e[n],d;let t=[],i=new k(d[0].x,h,d[0].x,d[0].y),r=new ft(d),s=new k(d[d.length-1].x,d[d.length-1].y,d[d.length-1].x,h);if(t.push(i),t.push(r),t.push(s),p.isAnimationChangingValues(this.series,this.pointsIds)){var c=u[n],c,d,c;let e=new p(c,d,this.pointsIds,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement);e.id=`series_`+this.series.chart.series.indexOf(this.series),e.applyPreviousAnimation(this.series.chart.previousAnimations),i.animation=new p([new te(e.pointsFrom[0].x,h),e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,s.animation=new p([e.pointsFrom[e.pointsFrom.length-1],new te(e.pointsFrom[e.pointsFrom.length-1].x,h)],null,null,e.duration,e.beginTime),i.animation.beginTimeCorrect=e.beginTimeCorrect,s.animation.beginTimeCorrect=e.beginTimeCorrect,l.animations.push(e),l.fillDrawAnimationPath(a.brush,null,t,pt.getBoundsState,null,null,null),a.allowApplyBrushNegative&&null!=a.brushNegative&&(c=o.axisCore.scrollRangeX*o.axisCore.scrollDpiX,d=o.axisCore.scrollRangeY*o.axisCore.scrollDpiY-h,c=new re(0,h,c,d),l.pushClip(c),l.fillDrawAnimationPath(a.brushNegative,null,t,pt.getBoundsState,null,null,null),l.popClip())}else{null!=a.brush&&(d=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),l.fillDrawAnimationPath(a.brush,null,t,pt.getBoundsState,null,d,null))}}else for(var i of e){let e=[];e.push(new k(i[0].x,h,i[0].x,i[0].y)),e.push(new ft(i)),e.push(new k(i[i.length-1].x,i[i.length-1].y,i[i.length-1].x,h)),null!=a.brush&&l.fillPath(a.brush,e,pt.getBoundsState,null),a.allowApplyBrushNegative&&null!=a.brushNegative&&(i=o.axisCore.scrollRangeX*o.axisCore.scrollDpiX,r=o.axisCore.scrollRangeY*o.axisCore.scrollDpiY-h,i=new re(0,h,i,r),l.pushClip(i),l.fillPath(a.brushNegative,e,pt.getBoundsState,null),l.popClip())}}constructor(e,t,i){super(e,t,i)}};let qt=Q.d.IStiRoundValuesArea,$t=(Q.d.StiClusteredColumnSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a){super(e,t,i,n,l,r),this.seriesBrush=r,this.seriesBorderColor=s,this.columnRectStart=a}draw(e){let t=this.series.chart;var i=this.clientRectangle.clone(),r=this.getCornerRadius(),s=this.series.as(Q.d.IStiFontIconsSeries),n,n;if(null!=s&&null!=s.icon)return n=null==(n=t.area.as(qt))?void 0:n.roundValues,void Q.a.StiFontIconsHelper.drawDirectionIcons(e,this.seriesBrush,i,new Ft(i.width,i.width),s.icon,this.getToolTip(),!0,n);null==r||r.isEmpty||e.pushSmoothingModeToAntiAlias();var s=this.getAnimation(),n,l,l,l,l,n,s;null!=s?(n=new v(this.seriesBorderColor,this.getSeriesBorderThickness(e.options.zoom)),this.series.showShadow&&1<i.width&&(l=this.areaGeom.area,l=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/l.core.valuesCount*this.index),l=new ne(Q.d.StiChartHelper.globalDurationElement,new K(l.ticks+Q.d.StiChartHelper.globalDurationElement.ticks)),e.drawShadowRect(i,5,r,l)),e.drawAnimationCicledColumn(this.seriesBrush,n,i,r,this.value,this.getToolTip(),this,s,this.getInteractionData())):(l=this.clientRectangle.clone(),this.series.showShadow&&4<l.width&&4<l.height&&(0<this.value?e.drawCachedShadow(l,Vt.Top|Vt.Right,e.options.isPrinting,l,r):this.value<0&&e.drawCachedShadow(new re(l.x,l.y-8,l.width,l.height+8),Vt.Right|Vt.Edge|Vt.Bottom|Vt.Left,e.options.isPrinting,l,r)),n=new v(this.seriesBorderColor,this.getSeriesBorderThickness(e.options.zoom)),this.series.chart.style.core.fillCicledColumn(e,i,r,this.seriesBrush,this.getInteractionData()),this.series.is(Q.d.StiWaterfallSeries)?e.drawCicledRectangle(n,i,r):(s=this.getBorderPath(i,r),e.drawPath(n,s,i))),null==r||r.isEmpty||e.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return this.value<0?Wt.createWithoutTopSide(e,t,1):Wt.createWithoutBottomSide(e,t,1);let i=new $;return 0<this.value?(i.add(new k(e.x,e.bottom,e.x,e.y)),i.add(new k(e.x,e.y,e.right,e.y)),i.add(new k(e.right,e.y,e.right,e.bottom))):(i.add(new k(e.x,e.y,e.x,e.bottom)),i.add(new k(e.x,e.bottom,e.right,e.bottom)),i.add(new k(e.right,e.bottom,e.right,e.y))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area;var t=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i;let r=new Jt(this.columnRectStart,this.clientRectangle,Q.d.StiChartHelper.globalDurationElement,t),s=(e.xAxis.core.getStartFromZero()?e.xAxis.info.stripLines.getByIndex(this.index+1):e.xAxis.info.stripLines.getByIndex(this.index)).valueObject;return s=null==s?"":s.stimulsoft().toString(),r.id=`series_${this.series.chart.series.indexOf(this.series)}_`+s,Jt.isAnimationChangingValues(this.series,r.id)&&r.applyPreviousAnimation(this.series.chart.previousAnimations),r}},Q.d.StiSplineSeriesGeom=class extends Q.d.StiBaseLineSeriesGeom{constructor(e,t,i){super(e,t,i),this.pointsNullConnect=t.pointsNullConnect,this.pointsZeroConnect=t.pointsZeroConnect}contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var r=this.points[e],s=this.points[e+1],n;if(null==r||null==s)continue;if(Q.d.StiPointHelper.isLineContainsPoint(r,s,Q.d.StiMouseOverHelper.mouseOverSplineDistance,new te(t,i)))return!0}return!1}draw(i){let e=f.Solid,t=1,r=ee.black,s=!0,n=!0,l=1;var a=this.getAnimation(),o=this.series.stimulsoft().as(Q.d.IStiSplineSeries),h=(null!=o&&(e=o.lineStyle,t=o.lineWidth,r=o.lineColor,s=o.showShadow,n=o.lighting,l=o.tension),this.series.stimulsoft().as(Q.d.IStiRadarLineSeries)),h=(null!=h&&(e=h.lineStyle,t=h.lineWidth,r=h.lineColor,s=h.showShadow,n=h.lighting),this.series.stimulsoft().as(Q.d.IStiRadarAreaSeries)),h=(null!=h&&(e=h.lineStyle,t=h.lineWidth,r=h.lineColor,s=h.showShadow,n=h.lighting),i.pushSmoothingModeToAntiAlias(),e),u=t*i.options.zoom;let d=new v(r,u);if(d.penStyle=h,s){let e=new v(ee.fromArgb(50,0,0,0),u+.5*i.options.zoom);e.penStyle=h,i.pushTranslateTransform(u,u),Q.d.StiNullableDrawing.drawCurve(i,e,this.points,l,a),i.popTransform()}if(null!=this.pointsZeroConnect){let e=new v(r,u);e.penStyle=f.Dash;var c=this.getAnimationConnect(this.pointsZeroConnect);Q.d.StiNullableDrawing.drawCurve(i,e,this.pointsZeroConnect,l,c)}if(null!=this.pointsNullConnect){let e=new v(r,u);e.penStyle=f.Dash;var c=this.getAnimationConnect(this.pointsNullConnect);Q.d.StiNullableDrawing.drawCurve(i,e,this.pointsNullConnect,l,c)}if(Q.d.StiNullableDrawing.drawCurve(i,d,this.points,l,a),2<=u&&n){var c=.5*i.options.zoom;i.pushTranslateTransform(-c,-c);let e=new v(w.light(r,70),u);e.penStyle=h,Q.d.StiNullableDrawing.drawCurve(i,e,this.points,l,a),i.popTransform()}if(null!=o&&o.allowApplyColorNegative){let e=new v(o.lineColorNegative,u),t=(e.penStyle=h,this.series.chart.area);var c=t.axisCore.getDividerY(),m=t.axisCore.scrollRangeX*t.axisCore.scrollDpiX,S=t.axisCore.scrollRangeY*t.axisCore.scrollDpiY-c,c=new re(0,c,m,S);if(i.pushClip(c),Q.d.StiNullableDrawing.drawCurve(i,e,this.points,l,a),2<=u&&n){var m=.5*i.options.zoom;i.pushTranslateTransform(-m,-m);let e=new v(w.light(o.lineColorNegative,70),u);e.penStyle=h,Q.d.StiNullableDrawing.drawCurve(i,e,this.points,l,a),i.popTransform()}i.popClip()}i.popSmoothingMode()}},Q.d.StiSplineAreaSeriesGeom=class extends Q.d.StiSplineSeriesGeom{contains(t,i){let e=this.series.chart.area;var r=e.axisCore.getDividerY();if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var s=this.points[e],n=this.points[e+1];if(null==s||null==n)continue;var l=new te(n.x,r),a=new te(s.x,r),o;if(Q.d.StiPointHelper.isPointInPolygon(new te(t,i),[s,a,l,n]))return!0}return!1}draw(l){var a=this.series,t=this.series.chart;let o=this.series.chart.area;var h=o.axisCore.getDividerY(),e=Q.d.StiNullableDrawing.getPointsList(this.points),u=null!=this.pointsFrom?Q.d.StiNullableDrawing.getPointsList(this.pointsFrom):null,i,i,r,i,r;if(t.isAnimation)for(let n=0;n<e.length;n++){var d=e[n];let t=[],i=new k(new te(d[0].x,h),d[0]),r=new _t(d,a.tension),s=new k(d[d.length-1],new te(d[d.length-1].x,h));if(t.push(i),t.push(r),t.push(s),p.isAnimationChangingValues(this.series,this.pointsIds)){var c=u[n],c,d,c;let e=new p(c,d,this.pointsIds,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement);e.id=`series_`+this.series.chart.series.indexOf(this.series),e.applyPreviousAnimation(this.series.chart.previousAnimations),i.animation=new p([new te(e.pointsFrom[0].x,h),e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,s.animation=new p([e.pointsFrom[e.pointsFrom.length-1],new te(e.pointsFrom[e.pointsFrom.length-1].x,h)],null,null,e.duration,e.beginTime),i.animation.beginTimeCorrect=e.beginTimeCorrect,s.animation.beginTimeCorrect=e.beginTimeCorrect,l.animations.push(e),l.fillDrawAnimationPath(a.brush,null,t,pt.getBoundsState,null,null,null),a.allowApplyBrushNegative&&null!=a.brushNegative&&(c=o.axisCore.scrollRangeX*o.axisCore.scrollDpiX,d=o.axisCore.scrollRangeY*o.axisCore.scrollDpiY-h,c=new re(0,h,c,d),l.pushClip(c),l.fillDrawAnimationPath(a.brushNegative,null,t,pt.getBoundsState,null,null,null),l.popClip())}else{var d=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement);l.fillDrawAnimationPath(a.brush,null,t,pt.getBoundsState,null,d,null)}n++}else for(var i of e){let e=[];e.push(new k(i[0].x,h,i[0].x,i[0].y)),e.push(new _t(i,a.tension)),e.push(new k(i[i.length-1].x,i[i.length-1].y,i[i.length-1].x,h)),null!=a.brush&&(t.isAnimation?(i=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),l.fillDrawAnimationPath(a.brush,null,e,pt.getBoundsState,null,i,null)):l.fillPath(a.brush,e,pt.getBoundsState,null)),a.allowApplyBrushNegative&&null!=a.brushNegative&&(i=o.axisCore.scrollRangeX*o.axisCore.scrollDpiX,r=o.axisCore.scrollRangeY*o.axisCore.scrollDpiY-h,i=new re(0,h,i,r),l.pushClip(i),t.isAnimation?(r=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),l.fillDrawAnimationPath(a.brush,null,e,pt.getBoundsState,null,r,null)):l.fillPath(a.brushNegative,e,pt.getBoundsState,null),l.popClip())}}constructor(e,t,i){super(e,t,i)}},Q.d.StiSteppedLineSeriesGeom=class extends Q.d.StiBaseLineSeriesGeom{getSteppedPoints(r){var s=this.series;let n=[];var l=s.chart.area.xAxis.info.dpi/2;for(let i=0;i<r.length-1;i++){let e=r[i],t=r[i+1];null!=e&&null!=t?(s.pointAtCenter&&(e=new te(e.x-l,e.y),t=new te(t.x-l,t.y)),n.push(e),n.push(new te(t.x,e.y))):(n.push(null),n.push(null))}let e=r[r.length-1];return null!=e?(s.pointAtCenter&&(e=new te(e.x-l,e.y),n.push(e),e=new te(e.x+2*l,e.y)),n.push(e)):n.push(null),n.stimulsoft().toArray()}getSteppedPointsIds(t){let i=[];for(let e=0;e<t.length-1;e++){var r=t[e]+"_l",s=t[e+1]+"_h";i.push(r),i.push(s)}var e=t[t.length-1]+"_l";return i.push(e),i}contains(t,i){if(this.invisible)return!1;var r=this.getSteppedPoints(this.points),s;let n=0;for(s of r){if(this.points.length<=n+1)continue;var l=r[n+1];if(null==s||null==l)continue;let e=re.empty;if(l.x>s.x?(e=new re(s.x,s.y,l.x-s.x,1)).inflate(0,5):(e=l.y>s.y?new re(s.x,s.y,1,l.y-s.y):new re(l.x,l.y,1,s.y-l.y)).inflate(5,0),e.contains(t,i))return!0;if(++n==r.length-1)break}return!1}draw(s){let n=this.series;s.pushSmoothingModeToAntiAlias();var l=n.lineStyle,a=n.lineWidth*s.options.zoom;let o=new v(n.lineColor,a);o.penStyle=l;var t=Q.d.StiNullableDrawing.getNullablePointsList(this.points),i;for(i of t){var h=this.getSteppedPoints(i),r=this.getSteppedPoints(this.pointsFrom),u=this.getSteppedPointsIds(this.pointsIds),d=this.getAnimation2(r,h,u),r;if(n.showShadow){let e=new v(ee.fromArgb(50,0,0,0),a+.5*s.options.zoom);e.penStyle=l,s.pushTranslateTransform(a,a),Q.d.StiNullableDrawing.drawLines(s,e,h,d),n.lineMarker.visible&&(r=new ie(ee.fromArgb(50,0,0,0)),n.lineMarker.core.drawLines(s,h,s.options.zoom,r,null,n.lineMarker.type,n.lineMarker.step,n.lineMarker.size,n.lineMarker.angle)),s.popTransform()}let e=this.series.chart.area;var c=e.axisCore.getDividerY(),u,u;if(n.allowApplyColorNegative){let t=new v(n.lineColorNegative,a),i=(t.penStyle=l,[]),r=[];for(let e=0;e<h.length;e++){var m=h[e],S=e!=h.length-1?h[e+1]:null;if(m.y>c){if(i.push(m),null==S||S.y<=c){this.intersectionAxis(m,S,i,r,c);var g=U.create(te,i.length,!0);if(i.stimulsoft().copyTo(g),Q.d.StiNullableDrawing.drawLines(s,t,g,d),2<=a&&n.lighting){var p=.5*s.options.zoom;s.pushTranslateTransform(-p,-p);let e=new v(w.light(n.lineColorNegative,70),a);e.penStyle=l,Q.d.StiNullableDrawing.drawLines(s,e,g,d),s.popTransform()}i.stimulsoft().clear()}}else if(r.push(m),null==S||S.y>c){this.intersectionAxis(m,S,r,i,c);var p=U.create(te,r.length,!0);if(r.stimulsoft().copyTo(p),Q.d.StiNullableDrawing.drawLines(s,o,p,d),2<=a&&n.lighting){var g=.5*s.options.zoom;s.pushTranslateTransform(-g,-g);let e=new v(w.light(n.lineColor,70),a);e.penStyle=l,Q.d.StiNullableDrawing.drawLines(s,e,p,d),s.popTransform()}r.stimulsoft().clear()}}}else{if(1==t.length?(u=null!=this.pointsFrom?this.getSteppedPoints(this.pointsFrom):null,Q.d.StiNullableDrawing.drawLines2(s,o,u,h,d)):Q.d.StiNullableDrawing.drawLines(s,o,h,d),2<=a&&n.lighting){var r=.5*s.options.zoom;s.pushTranslateTransform(-r,-r);let e=new v(w.light(n.lineColor,70),1);e.penStyle=l,Q.d.StiNullableDrawing.drawLines(s,e,h,d),s.popTransform()}}n.lineMarker.visible&&(u=new v(n.lineMarker.borderColor),n.lineMarker.core.drawLines(s,h,s.options.zoom,n.lineMarker.brush,u,n.lineMarker.type,n.lineMarker.step,n.lineMarker.size,n.lineMarker.angle))}s.popSmoothingMode()}intersectionAxis(e,t,i,r,s){var t;null!=t&&(t=new te(e.x,s),i.push(t),r.push(t))}constructor(e,t,i){super(e,t,i)}},Q.d.StiSteppedAreaSeriesGeom=class extends Q.d.StiSteppedLineSeriesGeom{draw(n){var l=this.series;let a=this.series.chart.area;var o=a.axisCore.getDividerY(),h=Q.d.StiNullableDrawing.getNullablePointsList(this.points),u=null!=this.pointsFrom?Q.d.StiNullableDrawing.getNullablePointsList(this.pointsFrom):null;if(this.series.chart.isAnimation)for(let e=0;e<h.length;e++){var d=this.getSteppedPoints(h[e]);let t=[],i=new k(new te(d[0].x,o),d[0]),r=new ft(d),s=new k(d[d.length-1],new te(d[d.length-1].x,o));t.push(i),t.push(r),t.push(s);var c=this.getSteppedPoints(u[e]),m=this.getSteppedPointsIds(this.pointsIds),c,d,m,c;if(p.isAnimationChangingValues(this.series,m)){let e=new p(c,d,m,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement);e.id=`series_`+this.series.chart.series.indexOf(this.series),e.applyPreviousAnimation(this.series.chart.previousAnimations),i.animation=new p([new te(e.pointsFrom[0].x,o),e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,s.animation=new p([e.pointsFrom[e.pointsFrom.length-1],new te(e.pointsFrom[e.pointsFrom.length-1].x,o)],null,null,e.duration,e.beginTime),i.animation.beginTimeCorrect=e.beginTimeCorrect,s.animation.beginTimeCorrect=e.beginTimeCorrect,n.animations.add(e),n.fillDrawAnimationPath(l.brush,null,t,pt.getBoundsState,null,null,null),l.allowApplyBrushNegative&&null!=l.brushNegative&&(c=a.axisCore.scrollRangeX*a.axisCore.scrollDpiX,d=a.axisCore.scrollRangeY*a.axisCore.scrollDpiY-o,m=new re(0,o,c,d),n.pushClip(m),n.fillDrawAnimationPath(l.brushNegative,null,t,pt.getBoundsState,null,null,null),n.popClip())}else{null!=l.brush&&(c=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),n.fillDrawAnimationPath(l.brush,null,t,pt.getBoundsState,null,c,null))}e++}else for(var t of h){var t=this.getSteppedPoints(t),t,i,t;let e=[];e.push(new k(t[0].x,o,t[0].x,t[0].y)),e.push(new ft(t)),e.push(new k(t[t.length-1].x,t[t.length-1].y,t[t.length-1].x,o)),null!=l.brush&&n.fillPath(l.brush,e,pt.getBoundsState,null),l.allowApplyBrushNegative&&null!=l.brushNegative&&(t=a.axisCore.scrollRangeX*a.axisCore.scrollDpiX,i=a.axisCore.scrollRangeY*a.axisCore.scrollDpiY-o,t=new re(0,o,t,i),n.pushClip(t),n.fillPath(l.brushNegative,e,pt.getBoundsState,null),n.popClip())}}constructor(e,t,i){super(e,t,i)}},Q.d.StiWaterfallLineGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s){super(r),this.pen=i,this.pointStart=e,this.pointEnd=t,this.animation=s}draw(e){var t;this.animation?(t=new Zt(yt.empty,yt.empty,qe.globalDurationElement,K.zero),e.drawAnimationLines(this.pen,[this.pointStart,this.pointEnd],t)):e.drawLine(this.pen,this.pointStart.x,this.pointStart.y,this.pointEnd.x,this.pointEnd.y)}},Q.d.StiDoughnutEmptySeriesElementGeom=class extends Q.d.StiCellGeom{draw(e){var t=this.clientRectangle,i=new v(ee.lightGray);let r=new $;r.add(new Ct(t,0,360)),r.add(new k(t.right,t.y+t.height/2,t.x+3*t.width/4,t.y+t.height/2)),r.add(new Ct(new se(t.x+t.width/4,t.y+t.height/4,t.width/2,t.height/2),0,360)),r.add(new k(t.x+3*t.width/4,t.y+t.height/2,t.right,t.y+t.height/2)),e.pushSmoothingModeToAntiAlias(),e.fillPath(ee.fromArgb(50,ee.lightGray.r,ee.lightGray.g,ee.lightGray.b),r,t,null),e.drawPath(i,r,t),e.drawLine(i,t.x+t.width/2,t.y+3*t.height/4,t.x+t.width/2,t.bottom),e.popSmoothingMode()}constructor(e){super(e)}},Z.Base.Context.StiPenAlignment),Kt=Z.Base.Context.Animation.StiPieSegmentAnimation,Qt=(Q.d.StiDoughnutSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g,p,f){super(e,t,i,r,s,u),this.clientRectangleDt=n,this.path=l,this.pathLight=a,this.pathDark=o,this.borderColor=h,this.brush=u,this.brushLight=d,this.brushDark=c,this.startAngle=m,this.endAngle=S,this.radiusFrom=g,this.radiusTo=p,this.beginTime=f}contains(e,t){if(this.invisible)return!1;var i=new te(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),e=e-i.x,t=t-i.y,i=Math.sqrt(e*e+t*t);if(i<this.radiusTo||i>this.radiusFrom)return!1;let r=180*Math.atan2(t,e)/Math.PI;return r<0&&(r+=360),r>=this.startAngle&&r<=this.endAngle}draw(e){var t=this.clientRectangle.clone();let i=new v(this.borderColor,this.getSeriesBorderThickness(e.options.zoom));i.alignment=$t.Inset;var r=this.series.as(Q.d.IStiFontIconsSeries),s;if(null!=r&&null!=r.icon)return s=30,e.pushClipPath(this.path),Q.a.StiFontIconsHelper.drawFillIcons(e,this.seriesBrush,t,new Ft(s,s),r.icon,this.getToolTip()),void e.popClip();var s=this.getAnimation();null!=s?(e.drawAnimationPathElement(this.brush,i,this.path,t,this.getToolTip(),this,s,this.getInteractionData()),null!=this.pathLight&&e.drawAnimationPathElement(this.brushLight,null,this.pathLight,t,this.getToolTip(),null,s,this.getInteractionData()),null!=this.pathDark&&e.drawAnimationPathElement(this.brushDark,null,this.pathDark,t,this.getToolTip(),null,s,this.getInteractionData())):(e.pushSmoothingModeToAntiAlias(),null!=this.path&&e.fillPath(this.brush,this.path,t,this.getInteractionData()),null!=this.pathLight&&e.fillPath(this.brushLight,this.pathLight,t,null),null!=this.pathDark&&e.fillPath(this.brushDark,this.pathDark,t,null),e.drawPath(i,this.path,pt.getBoundsState),e.popSmoothingMode())}getAnimation(){if(!this.series.chart.isAnimation)return null;var s=Q.d.StiChartHelper.globalDurationElement,i=Q.d.StiChartHelper.globalBeginTimeElement,n,l;let a=null,o=null;if(this.series.chart.isAnimationChangingValues){let e=this.startAngle,t=this.endAngle,i=this.clientRectangle,r=this.clientRectangle;4==this.path.length&&this.path[0].is(Ct)&&this.path[2].is(Ct)&&(n=this.path[0],l=this.path[2],e=n.startAngle,t=n.startAngle+n.sweepAngle,i=n.rect,r=l.rect),(o=new Kt(this.clientRectangle,i,this.clientRectangleDt,r,this.startAngle,this.endAngle,e,t,s,K.zero)).id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,Kt.isAnimationChangingValues(this.series,o.id)&&(o.applyPreviousAnimation(this.series.chart.previousAnimations),a=o)}if(null==a){let e=new K(i.ticks/this.series.values.length*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=K.fromMilliseconds(300)),new ne(s,e));t.anotherAnimation=o,t.id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,a=t}return a}},Q.d.StiFinancialSeriesElementGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n,l,a,o){super(i),this.areaGeom=e,this.series=t,this.open=r,this.close=s,this.high=n,this.low=l,this.positionX=a,this.index=o}draw(e){}},Q.d.StiCandlestickSeriesElementGeom=class extends Q.d.StiFinancialSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d){super(e,t,i,r,s,n,l,a,o),this.brush=h,this.borderColor=u,this.beginTime=d}draw(t){var i=this.areaGeom.area,r=this.series,s=r.borderWidth*t.options.zoom,i=i.xAxis.info.dpi/2;let n=this.open;var l=this.close,a=this.high,o=this.low,h=this.positionX,u=new v(this.borderColor,s),d=(l==n&&--n,this.series.chart),c,m;if(d.isAnimation){var d=Q.d.StiChartHelper.globalDurationElement,S=[new te(h,a),new te(h,n)],g=[new te(h,l),new te(h,o)];let e=[];var p=h-i/2,f=n,w=p+i,x=f+l-n,d=(e.push(new k(p,f,w,f)),e.push(new k(w,f,w,x)),e.push(new k(w,x,p,x)),e.push(new k(p,x,p,f)),e.push(new kt),new ne(d,this.beginTime));if(r.showShadow){var C=s+.5*t.options.zoom,b=new v(ee.fromArgb(50,0,0,0),C),c=[new te(h+C/2,a+C/2),new te(h+C/2,n+C/2)],m=[new te(h+C/2,l+C/2),new te(h+C/2,o+C/2)];t.drawAnimationLines(b,c,d),t.drawAnimationLines(b,m,d);let e=[];e.push(new k(p+C/2,f+C/2,w+C/2,f+C/2)),e.push(new k(w+C/2,f+C/2,w+C/2,x+C/2)),e.push(new k(w+C/2,x+C/2,p+C/2,x+C/2)),e.push(new k(p+C/2,x+C/2,p+C/2,f+C/2)),e.push(new kt),t.fillDrawAnimationPath(null,b,e,new re(p+C/2,f+C/2,i,l-n),null,d,null)}t.drawAnimationLines(u,S,d),t.drawAnimationLines(u,g,d),t.fillDrawAnimationPath(this.brush,u,e,new re(p,f,i,l-n),this,d,null)}else{r.showShadow&&(c=s+.5*t.options.zoom,m=new v(ee.fromArgb(50,0,0,0),c),t.pushTranslateTransform(s,s),t.drawLine(m,h,l+c/2,h,o+c/2),t.drawLine(m,h,a,h,n-c/2),t.drawRectangle2(m,h-i/2,n,i,l-n),t.popTransform()),t.drawLine(u,h,a,h,n),t.drawLine(u,h,l,h,o),t.fillRectangle2(this.brush,h-i/2,n,i,l-n,null),t.drawRectangle2(u,h-i/2,n,i,l-n)}}},Q.d.StiStockSeriesElementGeom=class extends Q.d.StiFinancialSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u){super(e,t,i,r,s,n,l,a,o),this.color=h,this.beginTime=u}draw(t){var i=this.areaGeom.area,r=this.series,s=r.lineWidth*t.options.zoom,i=i.xAxis.info.dpi/3,e;let n=new v(this.color,s);if(n.penStyle=r.lineStyle,this.series.chart.isAnimation){var l=new ne(Q.d.StiChartHelper.globalDurationElement,this.beginTime);if(r.showShadow){var a=s+.5*t.options.zoom;let e=new v(ee.fromArgb(50,0,0,0),a);e.penStyle=r.lineStyle;var o=[new te(this.positionX,this.high),new te(this.positionX,this.low)],h=[new te(this.positionX-i,this.open),new te(this.positionX-a/2,this.open)],a=[new te(this.positionX+i,this.close),new te(this.positionX+a/2,this.close)];t.drawAnimationLines(e,o,l),t.drawAnimationLines(e,h,l),t.drawAnimationLines(e,a,l)}var o=[new te(this.positionX,this.high),new te(this.positionX,this.low)],h=[new te(this.positionX-i,this.open),new te(this.positionX,this.open)],a=[new te(this.positionX+i,this.close),new te(this.positionX,this.close)];t.drawAnimationLines(n,o,l),t.drawAnimationLines(n,h,l),t.drawAnimationLines(n,a,l)}else{if(r.showShadow){var o=s+.5*t.options.zoom;let e=new v(ee.fromArgb(50,0,0,0),o);e.penStyle=r.lineStyle,t.pushTranslateTransform(s,s),t.drawLine(e,this.positionX,this.high,this.positionX,this.low),t.drawLine(e,this.positionX-i,this.open,this.positionX-o/2,this.open),t.drawLine(e,this.positionX+i,this.close,this.positionX+o/2,this.close),t.popTransform()}t.drawLine(n,this.positionX,this.high,this.positionX,this.low),t.drawLine(n,this.positionX-i,this.open,this.positionX,this.open),t.drawLine(n,this.positionX+i,this.close,this.positionX,this.close)}}},Q.d.StiFunnelEmptySeriesElementGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(e),this.path=t}draw(e){e.pushSmoothingModeToAntiAlias(),e.fillPath(ee.fromArgb(50,ee.lightGray),this.path,this.clientRectangle,null),e.drawPath(new v(ee.gray),this.path,this.clientRectangle),e.popSmoothingMode()}},Q.d.StiFunnelSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o){super(e,t,i,r,s,n),this.path=a,this.borderColor=l,this.brush=n,this.beginTime=o}draw(e){var t=this.clientRectangle.clone();let i=new v(w.dark(this.borderColor,10),this.getSeriesBorderThickness(e.options.zoom));i.alignment=$t.Inset;var r=this.series.chart,s=this.series.as(Q.d.IStiFontIconsSeries),n,n;if(null!=s&&null!=s.icon)return n=30,e.pushClipPath(this.path),Q.a.StiFontIconsHelper.drawFillIcons(e,this.seriesBrush,t,new Ft(n,n),s.icon,this.getToolTip()),void e.popClip();r.isAnimation?(n=new ne(K.fromSeconds(1),this.beginTime),this.series.showShadow&&(e.pushTranslateTransform(4,4),e.drawAnimationPathElement(new ie(ee.fromArgb(50,100,100,100)),null,this.path,t,null,this,n,null),e.popTransform()),e.drawAnimationPathElement(this.brush,null,this.path,t,this.getToolTip(),this,n,this.getInteractionData()),ee.transparent.equals(this.borderColor)||e.drawAnimationPathElement(null,i,this.path,t,null,this,n,null)):(e.pushSmoothingModeToAntiAlias(),this.series.showShadow&&(e.pushTranslateTransform(4,4),e.fillPath(ee.fromArgb(50,100,100,100),this.path,t,null),e.popTransform()),e.fillPath(this.brush,this.path,t,this.getInteractionData()),ee.transparent.equals(this.borderColor)||e.drawPath(i,this.path,null),e.popSmoothingMode())}},Q.d.StiGanttSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l){super(e,t,i,r,s,l),this.rectFrom=n}draw(e){var t=this.series,i=this.clientRectangle.clone();let r=this.series.chart;var s=zt.rotation90(this.getCornerRadius()),s=zt.flipHorizontal(s),n=this.series.as(Q.d.IStiFontIconsSeries),l,l;if(null!=n&&null!=n.icon)return l=null==(l=r.area.as(Q.d.IStiRoundValuesArea))?void 0:l.roundValues,void Q.a.StiFontIconsHelper.drawDirectionIcons(e,this.seriesBrush,i,new Ft(i.height,i.height),n.icon,this.getToolTip(),!1,l);null==s||s.isEmpty||e.pushSmoothingModeToAntiAlias();var n=this.getAnimation(),l,l,l,l,l;null!=n?(this.series.showShadow&&(l=this.areaGeom.area,l=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/l.core.valuesCount*this.index),l=new ne(Q.d.StiChartHelper.globalDurationElement,new K(l.ticks+Q.d.StiChartHelper.globalDurationElement.ticks)),e.drawShadowRect(i,5,s,l)),l=new v(t.borderColor,this.getSeriesBorderThickness(e.options.zoom)),e.drawAnimationCicledBar(this.seriesBrush,l,i,s,this.value,this.getToolTip(),this,n,this.getInteractionData())):(t.showShadow&&4<i.width&&4<i.height&&e.drawCachedShadow(i,Vt.All,e.options.isPrinting,i,s),e.fillCicledRectangle(this.seriesBrush,i,s,this.getInteractionData()),l=new v(t.borderColor,this.getSeriesBorderThickness(e.options.zoom)),e.drawCicledRectangle(l,i,s)),null==s||s.isEmpty||e.popSmoothingMode()}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area;var t=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i;let r=new Jt(this.rectFrom,this.clientRectangle,Q.d.StiChartHelper.globalDurationElement,t),s=null;return e.yAxis.core.getStartFromZero()&&e.yAxis.info.stripLines.count>this.index+1?s=e.yAxis.info.stripLines.getByIndex(this.index+1).valueObject:e.yAxis.info.stripLines.count>this.index&&(s=e.yAxis.info.stripLines.getByIndex(this.index).valueObject),s=null==s?"":s.stimulsoft().toString(),r.id=`series_${this.series.chart.series.indexOf(this.series)}_`+s,Jt.isAnimationChangingValues(this.series,r.id)&&r.applyPreviousAnimation(this.series.chart.previousAnimations),r}},Q.a.StiFontIconsHelper),Ut=(Q.d.StiPictorialSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h){super(e,t,i,s,o,r),this.icon=n,this.drawRectangles=l,this.clipRectangles=a,this.seriesBrush=r,this.animation=h}contains(i,r){if(this.invisible)return!1;for(let t=0;t<this.drawRectangles.length;t++){let e=this.drawRectangles[t];if(e.contains(i,r))return!0}return!1}draw(s){var n=this.series.core.getSingleSize(s),l=(super.draw(s),new I("Stimulsoft",15*s.options.zoom,Z.System.Drawing.FontStyle.Regular,Z.System.Drawing.GraphicsUnit.Pixel)),a=s.options.zoom;for(let r=0;r<this.drawRectangles.length;r++){var o=this.drawRectangles[r];let e=this.clipRectangles[r],t=!0,i=new te(o.x,o.y);this.series.showShadow&&(e.width+=a,e.height+=a),s.pushClip(e);while(t){let e=new re(i.x+s.options.zoom,i.y+s.options.zoom,n.width,n.height);var h=Qt.getContent(this.icon),u=this.getStringFormatGeom(s),d=this.getToolTip(),c=this.getInteractionData(),m,S;this.series.showShadow&&(m=new ie(ee.fromArgb(50,0,0,0)),S=e.clone().offset(a,a),s.drawString3(h,l,m,S,u,d,c)),s.drawString3(h,l,this.seriesBrush,e,u,d,c),(i=new te(i.x+n.width,i.y)).x>=o.right&&(t=!1)}s.popClip()}}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=ht.None,t.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap,t.alignment=A.Center,t.lineAlignment=A.Center,t}},Q.d.StiPictorialStackedSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o){super(e,t,i,s,l,r),this.icon=n,this.clipRectangle=a,this.animation=o}contains(e,t){if(this.invisible)return!1;return this.clipRectangle.contains(e,t)}draw(e){if(super.draw(e),this.clipRectangle.width<=0||this.clipRectangle.height<=0)return;e.pushClip(this.clipRectangle);var t=this.getFontGeom(e);if(t.fontSize<=0)return;e.drawAnimationRectangle(ee.transparent,null,this.clipRectangle,null,null,this.getInteractionData(),this.getToolTip()),e.drawRotatedString5(Qt.getContent(this.icon),t,this.seriesBrush,this.clientRectangle,this.getStringFormatGeom(e),L.CenterCenter,0,!0),e.popClip()}getFontGeom(e){var t=new I("Stimulsoft",1e3,Z.System.Drawing.FontStyle.Regular,Z.System.Drawing.GraphicsUnit.Point),e=this.measureFontSize(e,this.clientRectangle,t,this.icon);return new I("Stimulsoft",e,Z.System.Drawing.FontStyle.Regular,Z.System.Drawing.GraphicsUnit.Point)}measureFontSize(e,t,i,r){var r=Qt.getContent(r),e=e.measureString(r,i),r,i,i,r;let s=null;if(0==e.width||0==e.height)return 0;return t.width>t.height?(r=t.width/e.width,i=(i=t.height/e.height)<r?i:r,(null==s||s>i)&&(s=i)):(r=t.width/e.width*e.width/e.height,(null==s||s>r)&&(s=r)),1e3*s}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=ht.None,t.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap,t.alignment=A.Center,t.lineAlignment=A.Center,t}},Q.d.StiPie3dMainSideSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u){super(t,i,r,n,l,o),this.pie3DSlice=e,this.count=s,this.borderColor=a,this.realStartAngle=h,this.realSweepAngle=u,this.startAngle=Q.d.StiPie3dHelper.transformAngle(this.clientRectangle,h),this.sweepAngle=u,this.sweepAngle=u,this.sweepAngle%180!=0&&(this.sweepAngle=Q.d.StiPie3dHelper.transformAngle(this.clientRectangle,h+u)-this.startAngle),this.sweepAngle<0&&(this.sweepAngle+=360)}get interaction(){return this.pie3DSlice.interaction}draw(e){let t=new $;t.add(new Tt(new se(this.clientRectangle.x,this.clientRectangle.y,this.clientRectangle.width,this.clientRectangle.height),this.startAngle,this.sweepAngle,this.realStartAngle,this.realSweepAngle,null)),e.pushSmoothingModeToAntiAlias();var i=this.getAnimation();null!=i?e.drawAnimationPathElement(this.seriesBrush,new v(this.borderColor,1),t,this.clientRectangle,this.getToolTip(),this,i,this.getInteractionData()):(e.fillPath(this.seriesBrush,t,this.clientRectangle,null),e.drawPath(new v(this.borderColor,1),t,this.clientRectangle)),e.popSmoothingMode()}getAnimation(){if(!this.series.chart.isAnimation)return null;var i=Q.d.StiChartHelper.globalDurationElement,r=Q.d.StiChartHelper.globalBeginTimeElement;let s=null;var n=null;if(null==s){let e=new K(r.ticks/this.count*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=K.fromMilliseconds(300)),new ne(i,e));t.anotherAnimation=n,t.id="series_"+this.series.chart.series.indexOf(this.series)+"_"+this.index,s=t}return s}},Q.d.StiPie3dSidesSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m){super(t,i,r,n,l,o),this.s_shadowAngle=20,this.pie3DSlice=e,this.count=s,this.startnAngle=h,this.pen=new v(a),this.sweepAngle=u,this.startSideExists=c,this.endSideExists=m,this.initializePieSlice(l.x,l.y,l.width,l.height,d,n.options3D.lighting)}get StartAngle(){return this.m_startAngle}get EndAngle(){return(this.m_startAngle+this.m_sweepAngle)%360}get Interaction(){return this.pie3DSlice.interaction}draw(e){e.pushSmoothingModeToAntiAlias(),this.drawHiddenPeriphery(e),90<this.StartAngle&&this.StartAngle<270?(this.drawEndSide(e),this.drawStartSide(e)):(this.drawStartSide(e),this.drawEndSide(e)),this.drawVisiblePeriphery(e),e.popSmoothingMode()}drawStartSide(e){null!=this.m_startSide&&(90<this.StartAngle&&this.StartAngle<270?this.m_startSide.draw(e,this.pen,this.m_brushStartSide):this.m_startSide.draw(e,this.pen,this.m_brushSurface))}drawEndSide(e){null!=this.m_endSide&&(90<this.EndAngle&&this.EndAngle<270?this.m_endSide.draw(e,this.pen,this.m_brushSurface):this.m_endSide.draw(e,this.pen,this.m_brushEndSide))}drawVisiblePeriphery(e){var t,i;for(i of this.getVisiblePeripherySurfaceBounds())this.drawCylinderSurfaceSection(e,this.pen,this.m_brushPeripherySurface,i)}drawHiddenPeriphery(e){var t,i;for(i of this.getHiddenPeripherySurfaceBounds())this.drawCylinderSurfaceSection(e,this.pen,this.m_brushSurface,i)}getHiddenPeripherySurfaceBounds(){let l=new $;if(!(0==this.m_sweepAngle||0<=this.m_startAngle&&this.m_startAngle+this.m_sweepAngle<=180)&&180<this.m_startAngle+this.m_sweepAngle){let e=this.m_startAngle,t=new xt(this.m_pointStart.x,this.m_pointStart.y),i=this.m_startAngle+this.m_sweepAngle,r=new xt(this.m_pointEnd.x,this.m_pointEnd.y),s=this.startnAngle,n=this.startnAngle+this.sweepAngle;e<180&&(e=s=180,t.x=this.m_boundingRectangle.left,t.y=this.m_center.y),360<i&&(i=n=360,r.x=this.m_boundingRectangle.right,r.y=this.m_center.y),l.add(new Q.d.StiPie3dPeripherySurfaceBounds(e,i,t,r,s,n)),this.m_startAngle<360&&540<this.m_startAngle+this.m_sweepAngle&&(e=180,t=new xt(this.m_boundingRectangle.left,this.m_center.y),i=this.EndAngle,r=new xt(this.m_pointEnd.x,this.m_pointEnd.y),l.add(new Q.d.StiPie3dPeripherySurfaceBounds(e,i,t,r,s,n)))}return l}getVisiblePeripherySurfaceBounds(){let r=new $;if(!(0==this.m_sweepAngle||180<=this.m_startAngle&&this.m_startAngle+this.m_sweepAngle<=360)){if(this.StartAngle<180){var s=this.m_startAngle,n=new xt(this.m_pointStart.x,this.m_pointStart.y);let e=this.EndAngle,t=new xt(this.m_pointEnd.x,this.m_pointEnd.y);var l=this.startnAngle;let i=this.startnAngle+this.sweepAngle;180<this.m_startAngle+this.m_sweepAngle&&(e=i=180,t.x=this.m_boundingRectangle.x,t.y=this.m_center.y),r.add(new Q.d.StiPie3dPeripherySurfaceBounds(s,e,n,t,l,i))}if(360<this.m_startAngle+this.m_sweepAngle){var s=0,n=new xt(this.m_boundingRectangle.right,this.m_center.y);let e=this.EndAngle,t=new xt(this.m_pointEnd.x,this.m_pointEnd.y);var l=this.startnAngle;let i=this.startnAngle+this.sweepAngle;180<e&&(e=i=180,t.x=this.m_boundingRectangle.left,t.y=this.m_center.y),r.add(new Q.d.StiPie3dPeripherySurfaceBounds(s,e,n,t,l,i))}}return r}drawCylinderSurfaceSection(e,t,i,r){var r=this.createPathForCylinderSurfaceSection(r),s=e.getPathBounds(r),n=this.getAnimation();null!=n?e.drawAnimationPathElement(i,t,r,s,this.getToolTip(),this,n,this.getInteractionData()):(e.fillPath(i,r,s,null),e.drawPath(t,r,s))}getTextPosition(){if(180<=this.sweepAngle)return this.peripheralPoint(this.m_center.x,this.m_center.y,this.m_boundingRectangle.width/3,this.m_boundingRectangle.height/3,this.getActualAngle(this.StartAngle)+this.sweepAngle/2);var e=(this.m_pointStart.x+this.m_pointEnd.x)/2,t=(this.m_pointStart.y+this.m_pointEnd.y)/2,t=180*Math.atan2(t-this.m_center.y,e-this.m_center.x)/Math.PI;return this.peripheralPoint(this.m_center.x,this.m_center.y,this.m_boundingRectangle.width/3,this.m_boundingRectangle.height/3,this.getActualAngle(t))}getActualAngle(e){var t=this.m_boundingRectangle.height*Math.cos(e*Math.PI/180),e=this.m_boundingRectangle.width*Math.sin(e*Math.PI/180),e=180*Math.atan2(e,t)/Math.PI;if(e<0)return e+360;return e}createPathForCylinderSurfaceSection(e){var t=e.startAngle,i=e.endAngle,r=e.startPoint,s=e.endPoint,n=e.realStartAngle,l=e.realEndAngle,e=e.realEndAngle-e.realStartAngle;let a=new $;a.add(new Ct(this.m_boundingRectangle,t,i-t,n,e)),a.add(new k(s.x,s.y,s.x,s.y+this.m_sliceHeight));var e=new se(this.m_boundingRectangle.x,this.m_boundingRectangle.y+this.m_sliceHeight,this.m_boundingRectangle.width,this.m_boundingRectangle.height);return a.add(new Ct(e,i,t-i,l,n-l)),a.add(new k(r.x,r.y+this.m_sliceHeight,r.x,r.y)),a}initializePieSlice(e,t,i,r,s,n){this.m_boundingRectangle=new se(e,t,i,r),this.m_sliceHeight=s;var l=this.startnAngle,n=(this.m_startAngle=this.transformAngle(this.startnAngle),this.m_sweepAngle=this.sweepAngle,this.m_sweepAngle%180!=0&&(this.m_sweepAngle=this.transformAngle(l+this.sweepAngle)-this.m_startAngle),this.m_sweepAngle<0&&(this.m_sweepAngle+=360),this.createSurfaceBrushes(n),e+i/2),e=t+r/2;this.m_center=new xt(n,e),this.m_centerBelow=new xt(n,e+s),this.m_pointStart=this.peripheralPoint(n,e,i/2,r/2,l),this.m_pointStartBelow=new xt(this.m_pointStart.x,this.m_pointStart.y+s),this.m_pointEnd=this.peripheralPoint(n,e,i/2,r/2,l+this.sweepAngle),this.m_pointEndBelow=new xt(this.m_pointEnd.x,this.m_pointEnd.y+s),this.initializeSides(this.startSideExists,this.endSideExists)}initializeSides(e,t){var i=this.getAnimation();this.m_startSide=e?new Q.d.StiPie3dQuadrilateral(this.m_boundingRectangle,this.m_center,this.m_pointStart,this.m_pointStartBelow,this.m_centerBelow,180!=this.m_sweepAngle,i):Q.d.StiPie3dQuadrilateral.empty(),this.m_endSide=t?new Q.d.StiPie3dQuadrilateral(this.m_boundingRectangle,this.m_center,this.m_pointEnd,this.m_pointEndBelow,this.m_centerBelow,180!=this.m_sweepAngle,i):Q.d.StiPie3dQuadrilateral.empty()}createSurfaceBrushes(e){var t=rt.toColor(this.seriesBrush);switch(this.m_brushSurface=new ie(t),e){case Q.d.StiPie3dLightingStyle.No:this.m_brushStartSide=this.m_brushEndSide=this.m_brushPeripherySurface=new ie(t);break;case Q.d.StiPie3dLightingStyle.Solid:this.m_brushStartSide=this.m_brushEndSide=this.m_brushPeripherySurface=rt.light(this.seriesBrush,30);break;case Q.d.StiPie3dLightingStyle.Gradient:{let e=this.m_startAngle-180-this.s_shadowAngle;e<0&&(e+=360),this.m_brushStartSide=this.createBrushForSide(t,e),(e=this.m_startAngle+this.m_sweepAngle-this.s_shadowAngle)<0&&(e+=360),this.m_brushEndSide=this.createBrushForSide(t,e),this.m_brushPeripherySurface=this.createBrushForPeriphery(t);break}}}createBrushForSide(e,t){return new ie(Q.d.StiPie3dHelper.createColorWithCorrectedLightness(e,-Q.d.StiPie3dHelper.brightnessEnhancementFactor1*(1-.8*Math.cos(t*Math.PI/180))))}createBrushForPeriphery(e){return new be(e,Q.d.StiPie3dHelper.createColorWithCorrectedLightness(e,-Q.d.StiPie3dHelper.brightnessEnhancementFactor1),90,.1,1)}static createColorWithCorrectedLightness(e,t){if(0==t)return e;let i=e.r,r=e.g,s=e.b;return t<0?(t=1+t,i*=t,r*=t,s*=t):(i=(255-i)*t+i,r=(255-r)*t+r,s=(255-s)*t+s),ee.fromArgb(e.a,i,r,s)}peripheralPoint(e,t,i,r,s){var s=s*Math.PI/180;return new xt(e+i*Math.cos(s),t+r*Math.sin(s))}transformAngle(e){var t=this.m_boundingRectangle.width*Math.cos(e*Math.PI/180),e=this.m_boundingRectangle.height*Math.sin(e*Math.PI/180),e=180*Math.atan2(e,t)/Math.PI;if(e<0)return e+360;return e}getAnimation(){if(!this.series.chart.isAnimation)return null;var i=Q.d.StiChartHelper.globalDurationElement,r=Q.d.StiChartHelper.globalBeginTimeElement;let s=null;var n=null;if(null==s){let e=new K(r.ticks/this.count*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=K.fromMilliseconds(300)),new ne(i,e));t.anotherAnimation=n,t.id="series_"+this.series.chart.series.indexOf(this.series)+"_"+this.index,s=t}return s}},Q.d.StiPieEmptySeriesElementGeom=class extends Q.d.StiCellGeom{draw(e){var t=this.clientRectangle,i=new v(ee.lightGray);e.pushSmoothingModeToAntiAlias(),e.fillEllipse2(ee.fromArgb(50,ee.lightGray),t,null),e.drawEllipse2(i,t),e.drawLine(i,t.x+t.width/2,t.y+t.height/2,t.right,t.y+t.height/2),e.drawLine(i,t.x+t.width/2,t.y+t.height/2,t.x+t.width/2,t.bottom),e.popSmoothingMode()}constructor(e){super(e)}},Q.d.StiPieSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d){super(e,t,i,r,s,o),this.path=n,this.pathLight=l,this.borderColor=a,this.brush=o,this.startAngle=h,this.endAngle=u,this.radius=d}contains(e,t){if(this.invisible)return!1;var i=new te(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),e=e-i.x,t=t-i.y,r;if(Math.sqrt(e*e+t*t)>=this.radius)return!1;let s=180*Math.atan2(t,e)/Math.PI;return s<0&&(s+=360),s>=this.startAngle&&s<=this.endAngle}draw(e){var t=this.clientRectangle.clone(),i=ee.transparent.equals(this.borderColor)?this.borderColor:w.dark(this.borderColor,10);let r=new v(i,this.getSeriesBorderThickness(e.options.zoom));r.alignment=$t.Inset;var i=this.series.as(Q.d.IStiFontIconsSeries),s;if(null!=i&&null!=i.icon)return s=30,e.pushClipPath(this.path),Q.a.StiFontIconsHelper.drawFillIcons(e,this.seriesBrush,t,new Ft(s,s),i.icon,this.getToolTip()),void e.popClip();e.pushSmoothingModeToAntiAlias();var s=this.getAnimation(),i,i;null!=s?(e.drawAnimationPathElement(this.brush,r,this.path,t,this.getToolTip(),this,s,this.getInteractionData()),null!=this.pathLight&&(i=new ie(ee.fromArgb(30,ee.black)),e.drawAnimationPathElement(i,null,this.pathLight,t,this.getToolTip(),null,s,this.getInteractionData()))):(e.fillPath(this.brush,this.path,t,this.getInteractionData()),null!=this.pathLight&&(i=new ie(ee.fromArgb(30,ee.black)),e.fillPath(i,this.pathLight,t,this.getInteractionData())),ee.transparent.equals(this.borderColor)||e.drawPath(r,this.path,null)),e.popSmoothingMode()}getAnimation(){if(!this.series.chart.isAnimation)return null;var r=Q.d.StiChartHelper.globalDurationElement,i=Q.d.StiChartHelper.globalBeginTimeElement,s;let n=null,l=null;if(this.series.chart.isAnimationChangingValues){let e=this.startAngle,t=this.endAngle,i=this.clientRectangle;this.path[0].is(Tt)&&(s=this.path[0],e=s.startAngle,t=s.startAngle+s.sweepAngle,i=s.rect),(l=new Kt(this.clientRectangle,i,re.empty,re.empty,this.startAngle,this.endAngle,e,t,r,K.zero)).id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,Kt.isAnimationChangingValues(this.series,l.id)&&(l.applyPreviousAnimation(this.series.chart.previousAnimations),n=l)}if(null==n){let e=new K(i.ticks/this.count*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=K.fromMilliseconds(300)),new ne(r,e));t.anotherAnimation=l,t.id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,n=t}return n}},Q.d.StiPieSeriesFullElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l){super(e,t,i,r,s,n),this.brush=n,this.borderColor=l}draw(e){var t=this.series.chart,i=this.clientRectangle.clone(),r=new v(this.borderColor,this.getSeriesBorderThickness(e.options.zoom)),t,s,t;t.isAnimation?(t=Q.d.StiChartHelper.globalDurationElement,s=Q.d.StiChartHelper.globalBeginTimeElement,t=new ne(t,s),e.fillDrawAnimationEllipse(this.brush,r,i.x,i.y,i.width,i.height,this.getToolTip(),this,t,this.getInteractionData())):(e.fillEllipse2(this.brush,i,null),e.drawEllipse2(r,i))}},Q.d.StiPieSeriesShadowElementGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s,n){super(t),this.series=e,this.shadowContext=r,this.radius=i,this.duration=s,this.beginTime=n,this.isAnimation=e.chart.isAnimation}get invisible(){return!0}draw(e){var t=this.clientRectangle.clone(),i;this.isAnimation?(i=new ne(this.duration,this.beginTime),e.drawShadowRect2(t,t.height/2,t.width/2,P.trunc(this.radius),null,i)):e.drawShadow(this.shadowContext,t,this.radius)}},Q.d.StiRadarAreaSeriesGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(re.empty),this.series=e,this.pointsFrom=t.pointsFrom,this.points=t.points,this.pointsIds=t.pointsIds}contains(t,i){if(this.invisible)return!1;var e,r=this.series.chart.area.core;for(let e=0;e<this.points.length;e++){var s=this.points[e],n=e==this.points.length-1?this.points[0]:this.points[e+1],l=r.centerPoint,a;if(null==s||null==n)continue;if(Q.d.StiPointHelper.isPointInTriangle(new te(t,i),s,l,n))return!0}return!1}draw(i){var r=this.series;if(null==r.brush)return;let s=[];if(this.series.chart.isAnimation){let e=null,t=null;p.isAnimationChangingValues(this.series,this.pointsIds)?((t=new p(this.pointsFrom,this.points,this.pointsIds,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement)).id=`series_`+this.series.chart.series.indexOf(this.series),t.applyPreviousAnimation(this.series.chart.previousAnimations),i.animations.push(t)):e=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),s.push(new ft(this.points,t)),i.fillDrawAnimationPath(r.brush,null,s,pt.getBoundsState,null,e,null)}else{let e=0;for(var t of this.points){var t=t,n=e<this.points.length-1?this.points[e+1]:this.points[0];s.push(new k(t.x,t.y,n.x,n.y)),e++}i.pushSmoothingModeToAntiAlias(),i.fillPath(r.brush,s,re.empty,null),i.popSmoothingMode()}}},Q.d.StiRadarPointSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l){super(e,t,i,s,Q.d.StiMarkerCoreXF.getMarkerRect(n,s.marker.size,l),r),this.point=n}getValueIndex(){let e=this.index;return this.series.is(Q.d.IStiClusteredBarSeries)||this.series.is(Q.d.IStiStackedBarSeries)||this.series.is(Q.d.IStiFullStackedBarSeries)?this.series.chart.area.is(Q.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(Q.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}contains(e,t){if(this.invisible)return!1;return this.getMouseOverRect().contains(e,t)}getMouseOverRect(){let e=this.clientRectangle.clone();return e.inflate(e.width/2,e.height/2),e}draw(i){let r=this.series;var s=!r.marker.visible&&0<r.toolTips.length;if(null!=r.marker&&r.marker.visible){i.pushSmoothingModeToAntiAlias();var n=i.options.zoom;let e=this.series.chart,t=null;e.isAnimation&&((t=new Ht).componentName=e.name,t.componentIndex=e.page.components.indexOf(e).toString(),t.pageGuid=this.series.stimulsoft().as(Q.d.StiSeries).drillDownPageGuid,t.pageIndex=e.page.report.renderedPages.indexOf(e.page).toString(),t.elementIndex=this.elementIndex.toString(),t.interactionData=this.interaction),r.marker.core.draw(i,r.marker,this.point,n,r.showShadow,!1,s,e.isAnimation,this.getToolTip(),this,t),i.popSmoothingMode()}}},Q.d.StiRangeBarElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l){super(e,t,i,r,n,s),this.rectFrom=l}draw(e){var t=this.series,i=this.clientRectangle.clone(),r=this.getCornerRadius(),s=new v(t.borderColor,this.getSeriesBorderThickness(e.options.zoom)),n=(null==r||r.isEmpty||e.pushSmoothingModeToAntiAlias(),this.getAnimation()),l,l,l;null!=n?(this.series.showShadow&&(l=this.areaGeom.area,l=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/l.core.valuesCount*this.index),l=new ne(Q.d.StiChartHelper.globalDurationElement,new K(l.ticks+Q.d.StiChartHelper.globalDurationElement.ticks)),e.drawShadowRect(i,5,r,l)),e.drawAnimationCicledColumn(this.seriesBrush,s,i,r,this.value,this.getToolTip(),this,n,this.getInteractionData())):(t.showShadow&&4<i.width&&4<i.height&&e.drawCachedShadow(i,Vt.All,e.options.isPrinting,i,r),e.fillCicledRectangle(this.seriesBrush,i,r,this.getInteractionData()),e.drawCicledRectangle(s,i,r)),null==r||r.isEmpty||e.popSmoothingMode()}getAnimation(){var e;if(!this.series.chart.isAnimation)return null;var t=this.series;let i=this.areaGeom.area,r=this.series.values.length;t.valuesEnd.length<r&&(r=t.valuesEnd.length);var t=t.arguments.length,t=Math.min(r,t),t=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/t*this.index),s;let n=i.xAxis.info.stripLines.length-1;for(s of i.xAxis.info.stripLines.list){if(this.series.arguments[this.index].stimulsoft().toString()==(null==(e=s.valueObject)?void 0:e.toString()))break;n--}n=i.xAxis.info.stripLines.length-1-n;let l=new Jt(this.rectFrom,this.clientRectangle,Q.d.StiChartHelper.globalDurationElement,t),a=i.xAxis.info.stripLines.getByIndex(i.reverseVert?i.xAxis.info.stripLines.length-1-n:n).valueObject;return a=null==a?"":a.stimulsoft().toString(),l.id=`series_${this.series.chart.series.indexOf(this.series)}_`+a,Jt.isAnimationChangingValues(this.series,l.id)&&l.applyPreviousAnimation(this.series.chart.previousAnimations),l}},Q.d.StiRangeSeriesGeom=class extends Q.d.StiLineSeriesGeom{constructor(e,t,i){super(e,t,i),this.pointsEnd=t.pointsEnd}draw(s){var n=this.series,e=Q.d.StiNullableDrawing.getPointsList(this.points),t=Q.d.StiNullableDrawing.getPointsList(this.pointsEnd);if(e.length<1||t.length<1)return;var l=e[0],a=t[0],o=Math.min(l.length,a.length);let h=[],u=[],d=[],c=[];for(let r=0;r<o;r++){var m=l[r],S=a[r],g=this.pointsIds[r],p=this.pointsIds[r]+"_e";let e=null,t=null,i=(r!=o-1&&(e=l[r+1],t=a[r+1]),null);null==e&&!this.intersection(m,S,e,t)||(i=this.getPointCross2(m,S,e,t)),h.push(m),u.push(S),d.push(g),c.push(p),null!=i?(h.push(i),u.push(i),d.push(g+"_c"),c.push(g+"_c_e"),this.fillPath(s,this.getBrush(n,m,S),h.map(e=>e),u.map(e=>e),d.map(e=>e),c.map(e=>e)),h.stimulsoft().clear(),u.stimulsoft().clear(),d.stimulsoft().clear(),c.stimulsoft().clear(),h.push(i),u.push(i),d.push(g+"_c"),c.push(g+"_c_e")):null==e&&this.fillPath(s,this.getBrush(n,m,S),h.map(e=>e),u.map(e=>e),d.map(e=>e),c.map(e=>e))}}isPointsEqual(t,i){if(t.length==i.length){for(let e=0;e<t.length;e++)if(!t[e].equals(i[e]))return!1;return!0}return!1}getBrush(e,t,i){let r=e.brush;return r=e.allowApplyBrushNegative?t.y<i.y?e.brushNegative:e.brush:r}fillPath(r,e,s,n,l,a){if(this.isPointsEqual(s.stimulsoft().toList(),n.stimulsoft().toList()))return;let t=[];var i=n.map(e=>e).reverse();let o=new k(i[i.length-1],s[0]),h=new ft(s),u=new k(s[s.length-1],i[0]),d=new ft(i);if(t.push(o),t.push(h),t.push(u),t.push(d),this.series.chart.isAnimation){let i=null;if(this.series.chart.isAnimationChangingValues){let e=new p(s,s,l,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new p(n,n,a,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_e`,r.animations.push(e),r.animations.push(t),p.isAnimationChangingValues(this.series,l,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations),t.applyPreviousAnimation(this.series.chart.previousAnimations),t.reverse(),o.animation=new p([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),u.animation=new p([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),o.animation.beginTimeCorrect=e.beginTimeCorrect,u.animation.beginTimeCorrect=e.beginTimeCorrect,h.animation=e,d.animation=t):i=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement)}r.fillDrawAnimationPath(e,null,t,pt.getBoundsState,null,i,null)}else r.fillPath(e,t,pt.getBoundsState,null)}intersection(e,t,i,r){if(null==i)return!1;return e.y>t.y&&i.y<r.y||e.y<t.y&&i.y>r.y||i.y==r.y}getPointCross2(e,t,i,r){if(i==r)return i;var s=e.x,e=e.y,n=i.x,i=i.y,l=t.x,t=t.y,a=r.x,r=r.y,e=-((s*i-n*e)*(a-l)-(l*r-a*t)*(n-s))/((e-i)*(a-l)-(t-r)*(n-s)),i=((t-r)*-e-(l*r-a*t))/(a-l);return s<e&&e<n?new te(e,i):null}},Q.d.StiSplineRangeSeriesGeom=class extends Q.d.StiSplineSeriesGeom{constructor(e,t,i){super(e,t,i),this.pointsEnd=t.pointsEnd}draw(e){var t=Q.d.StiNullableDrawing.getPointsList(this.points),i=Q.d.StiNullableDrawing.getPointsList(this.pointsEnd);if(t.length<1||i.length<1)return;var t=t[0],i=i[0],r=this.pointsIds.map(e=>e+"_e");this.fillPath(e,t,i,this.pointsIds,r)}fillPath(r,s,n,l,a){var e=this.series,t=e.brush;let o=[];var i=n.map(e=>e).reverse();let h=new k(i[i.length-1],s[0]),u=new _t(s,e.tension),d=new k(s[s.length-1],i[0]),c=new _t(i,e.tension);if(o.push(h),o.push(u),o.push(d),o.push(c),this.series.chart.isAnimation){let i=null;if(this.series.chart.isAnimationChangingValues){let e=new p(s,s,l,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new p(n,n,a,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_e`,r.animations.push(e),r.animations.push(t),p.isAnimationChangingValues(this.series,l,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations),t.applyPreviousAnimation(this.series.chart.previousAnimations),t.reverse(),h.animation=new p([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),d.animation=new p([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),h.animation.beginTimeCorrect=e.beginTimeCorrect,d.animation.beginTimeCorrect=e.beginTimeCorrect,u.animation=e,c.animation=t):i=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement)}r.fillDrawAnimationPath(t,null,o,pt.getBoundsState,null,i,null)}else r.fillPath(t,o,pt.getBoundsState,null)}},Q.d.StiSteppedRangeSeriesGeom=class extends Q.d.StiSteppedLineSeriesGeom{constructor(e,t,i){super(e,t,i),this.pointsEnd=t.pointsEnd}draw(r){var s=this.series,e=Q.d.StiNullableDrawing.getPointsList(this.getSteppedPoints(this.points)),t=Q.d.StiNullableDrawing.getPointsList(this.getSteppedPoints(this.pointsEnd)),n=this.getSteppedPointsIds(this.pointsIds);if(e.length<1||t.length<1)return;var l=e[0],a=t[0],o=Math.min(l.length,a.length);let h=[],u=[],d=[],c=[];for(let i=0;i<o;i++){var m=l[i],S=a[i],g=n[i],p=n[i]+"_e";let e=null,t=null;i!=o-1&&(e=l[i+1],t=a[i+1]),d.push(m),c.push(S),h.push(g),u.push(p),this.intersection(m,S,e,t)?(d.push(e),c.push(t),h.push(g+"_c"),u.push(g+"_c_e"),this.fillPath(r,this.getBrush(s,m,S),d.map(e=>e),c.map(e=>e),h.map(e=>e),u.map(e=>e)),d.stimulsoft().clear(),c.stimulsoft().clear(),h.stimulsoft().clear(),u.stimulsoft().clear(),d.push(e),c.push(t),h.push(g+"_c"),u.push(g+"_c_e")):null==e&&this.fillPath(r,this.getBrush(s,m,S),d.map(e=>e),c.map(e=>e),h.map(e=>e),u.map(e=>e))}}getBrush(e,t,i){let r=e.brush;return r=e.allowApplyBrushNegative?t.y<i.y?e.brushNegative:e.brush:r}fillPath(r,e,s,n,l,a){let t=[];var i=n.map(e=>e).reverse();let o=new k(i[i.length-1],s[0]),h=new ft(s),u=new k(s[s.length-1],i[0]),d=new ft(i);if(t.push(o),t.push(h),t.push(u),t.push(d),this.series.chart.isAnimation){let i=null;if(this.series.chart.isAnimationChangingValues){let e=new p(s,s,l,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new p(n,n,a,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_e`,r.animations.push(e),r.animations.push(t),p.isAnimationChangingValues(this.series,l,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations),t.applyPreviousAnimation(this.series.chart.previousAnimations),t.reverse(),o.animation=new p([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),u.animation=new p([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),o.animation.beginTimeCorrect=e.beginTimeCorrect,u.animation.beginTimeCorrect=e.beginTimeCorrect,h.animation=e,d.animation=t):i=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement)}r.fillDrawAnimationPath(e,null,t,pt.getBoundsState,null,i,null)}else r.fillPath(e,t,pt.getBoundsState,null)}intersection(e,t,i,r){if(null==i)return!1;return e.y>t.y&&i.y<r.y||e.y<t.y&&i.y>r.y||i.y==r.y}},Q.d.StiScatterSplineSeriesGeom=class extends Q.d.StiBaseLineSeriesGeom{contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var r=this.points[e],s=this.points[e+1],n;if(null==r||null==s)continue;if(Q.d.StiPointHelper.isLineContainsPoint(r,s,Q.d.StiMouseOverHelper.mouseOverLineDistance,new te(t,i)))return!0}return!1}draw(t){var i=this.series,r=(t.pushSmoothingModeToAntiAlias(),i.lineStyle),s=i.lineWidth*t.options.zoom,n=this.getAnimation();let e=new v(i.lineColor,i.lineWidth);if(e.penStyle=r,i.showShadow){let e=new v(ee.fromArgb(50,0,0,0),s+.5*t.options.zoom);e.penStyle=r,t.pushTranslateTransform(s,s),Q.d.StiNullableDrawing.drawCurve(t,e,this.points,i.tension,n),t.popTransform()}if(Q.d.StiNullableDrawing.drawCurve(t,e,this.points,i.tension,n),2<=s&&i.lighting){var s=.5*t.options.zoom;t.pushTranslateTransform(-s,-s);let e=new v(w.light(i.lineColor,70),1);e.penStyle=r,Q.d.StiNullableDrawing.drawCurve(t,e,this.points,i.tension,n),t.popTransform()}t.popSmoothingMode()}constructor(e,t,i){super(e,t,i)}},Q.d.StiStackedBarSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a){super(e,t,i,n,l,r),this.seriesBorderColor=s,this.columnRectStart=a}draw(e){var t=this.clientRectangle.clone(),i=new v(this.seriesBorderColor,this.getSeriesBorderThickness(e.options.zoom)),r=zt.rotation90(this.getCornerRadius()),r=zt.flipHorizontal(r);let s=this.series.chart;var n=this.series.as(Q.d.IStiFontIconsSeries),l,l;if(null!=n&&null!=n.icon)return l=null==(l=s.area.as(Q.d.IStiRoundValuesArea)
)?void 0:l.roundValues,void Q.a.StiFontIconsHelper.drawDirectionIcons(e,this.seriesBrush,t,new Ft(t.height,t.height),n.icon,this.getToolTip(),!1,l);null==r||r.isEmpty||e.pushSmoothingModeToAntiAlias();var n=this.getAnimation(),l,l,l,l;null!=n?(this.series.showShadow&&(l=this.areaGeom.area,l=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/l.core.valuesCount*this.index),l=new ne(Q.d.StiChartHelper.globalDurationElement,new K(l.ticks+Q.d.StiChartHelper.globalDurationElement.ticks)),e.drawShadowRect(this.clientRectangle,5,r,l)),e.drawAnimationCicledBar(this.seriesBrush,i,t,r,this.value,this.getToolTip(),this,n,this.getInteractionData())):(this.series.chart.style.core.fillCicledColumn(e,t,r,this.seriesBrush,this.getInteractionData()),l=this.getBorderPath(t,r),e.drawPath(i,l,t)),null==r||r.isEmpty||e.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return 0<this.value?Wt.createWithoutRightSide(e,t,1):Wt.createWithoutLeftSide(e,t,1);let i=new $;return 0<this.value?(i.add(new k(e.right,e.y,e.x,e.y)),i.add(new k(e.x,e.y,e.x,e.bottom)),i.add(new k(e.x,e.bottom,e.right,e.bottom))):(i.add(new k(e.x,e.y,e.right,e.y)),i.add(new k(e.right,e.y,e.right,e.bottom)),i.add(new k(e.right,e.bottom,e.x,e.bottom))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area;var t=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i;let r=new Jt(this.columnRectStart,this.clientRectangle,Q.d.StiChartHelper.globalDurationElement,t),s=(e.yAxis.core.getStartFromZero()?e.yAxis.info.stripLines.getByIndex(this.index+1):e.yAxis.info.stripLines.getByIndex(this.index)).valueObject;return s=null==s?"":s.stimulsoft().toString(),r.id=`series_${this.series.chart.series.indexOf(this.series)}_`+s,Jt.isAnimationChangingValues(this.series,r.id)&&r.applyPreviousAnimation(this.series.chart.previousAnimations),r}},Q.d.StiStackedBarSeriesShadowElementGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r){super(t),this.isLeftShadow=!1,this.isRightShadow=!1,this.series=e,this.isLeftShadow=i,this.isRightShadow=r}get invisible(){return!0}draw(e){var t=this.clientRectangle.clone();this.series.is(Q.d.IStiFullStackedBarSeries)?e.drawCachedShadow(t,Vt.Bottom,e.options.isPrinting):(this.isLeftShadow&&e.drawCachedShadow(t,Vt.Bottom|Vt.Left,e.options.isPrinting),this.isRightShadow&&e.drawCachedShadow(t,Vt.Top|Vt.Right|Vt.Edge|Vt.Bottom,e.options.isPrinting))}},Z.Base.Context.StiBezierSegmentGeom);{class Pr extends Q.d.StiSeriesGeom{constructor(e,t,i,r){super(e,i,Pr.getClientRectangle(t.rectangles)),this.metadata=t,this.beginTime=r}static getClientRectangle(e){let t=se.empty;for(var i of e)t=se.union(t,i);return t}draw(e){let t=new $;var i=3;for(let e=0;e<this.metadata.rectangles.length;e++){var r=this.metadata.rectangles[e],s=e==this.metadata.rectangles.length-1?se.empty:this.metadata.rectangles[e+1],n,l,r,s;t.add(new k(r.x,r.y,r.right,r.y)),e==this.metadata.rectangles.length-1?t.add(new k(r.right,r.y,r.right,r.bottom)):(n=new xt(r.right,r.y),l=new xt(s.x-(s.x-r.right)/i,r.y),r=new xt(r.right+(s.x-r.right)/i,s.y),s=new xt(s.x,s.y),t.add(new Ut(n,l,r,s)))}for(let e=this.metadata.rectangles.length-1;0<=e;e--){var a=this.metadata.rectangles[e],o=0==e?se.empty:this.metadata.rectangles[e-1],h,u,a,o;t.add(new k(a.right,a.bottom,a.x,a.bottom)),0==e?t.add(new k(a.x,a.bottom,a.x,a.y)):(h=new xt(a.x,a.bottom),u=new xt(o.right+(a.x-o.right)/i,a.bottom),a=new xt(a.x-(a.x-o.right)/i,o.bottom),o=new xt(o.right,o.bottom),t.add(new Ut(h,u,a,o)))}t.add(new kt);var d=this.series.chart,d;e.pushSmoothingModeToAntiAlias(),d.isAnimation?(d=new ne(K.fromSeconds(1),this.beginTime),e.fillDrawAnimationPath(this.metadata.brush,null,t,this.clientRectangle,null,d,null)):e.fillPath(this.metadata.brush,t,this.clientRectangle,null),e.popSmoothingMode()}}Q.d.StiRibbonSeriesGeom=Pr}{class Dr extends Q.d.StiSeriesGeom{constructor(e,t,i){super(e,i,Dr.getClientRectangle(t.pointsStart,t.pointsEnd)),this.startPoints=t.pointsStart,this.endPoints=t.pointsEnd,this.pointsIds=t.pointsIds}contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.startPoints.length-1;e++){var r=this.startPoints[e],s=this.startPoints[e+1],n=this.endPoints[e],l=this.endPoints[e+1],a;if(null==r||null==n||null==l||null==s)continue;if(Q.d.StiPointHelper.isPointInPolygon(new te(t,i),[r,s,l,n]))return!0}return!1}static getClientRectangle(e,t){if(null==e||0==e.length||null==t||0==t.length)return re.empty;let i=te.empty,r=te.empty;for(var s of e){if(null==s)continue;i==te.empty?(i=s,r=s):(i.x=Math.min(i.x,s.x),i.y=Math.min(i.y,s.y),r.x=Math.max(r.x,s.x),r.y=Math.max(r.y,s.y))}for(var n of t){if(null==n)continue;i==te.empty?(i=n,r=n):(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),r.x=Math.max(r.x,n.x),r.y=Math.max(r.y,n.y))}return new re(i.x,i.y,r.x-i.x,r.y-i.y)}draw(a){var o=this.series,h=o.chart.isAnimation,e,u,t={ref:e},i={ref:u},d;Q.d.StiNullableDrawing.getPointsList2(this.startPoints,this.endPoints,t,i),u=i.ref;let c=0;for(d of e=t.ref){var m=u[c],S=d.map(e=>e).reverse();let t=[],i=new k(d[0],m[0]),r=new ft(m),s=new k(m[m.length-1],d[d.length-1]),n=new ft(S),l=(t.push(i),t.push(r),t.push(s),t.push(n),null);if(h&&o.chart.isAnimationChangingValues){let e=new p(m,m,this.pointsIds,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new p(d,d,this.pointsIds,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_r`,a.animations.push(e),a.animations.push(t),p.isAnimationChangingValues(this.series,this.pointsIds,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations),t.applyPreviousAnimation(this.series.chart.previousAnimations),t.reverse(),i.animation=new p([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,s.animation=new p([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),i.animation.beginTimeCorrect=e.beginTimeCorrect,s.animation.beginTimeCorrect=e.beginTimeCorrect,n.animation=t):l=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement)}if(null!=o.brush&&(h?a.fillDrawAnimationPath(o.brush,null,t,pt.getBoundsState,null,l,null):a.fillPath(o.brush,t,pt.getBoundsState,null)),o.allowApplyBrushNegative&&null!=o.brushNegative){let e=this.series.chart.area;var S=e.axisCore.getDividerY(),m=e.axisCore.scrollRangeX*e.axisCore.scrollDpiX,g=e.axisCore.scrollRangeY*e.axisCore.scrollDpiY-S,S=new re(0,S,m,g);a.pushClip(S),h?a.fillDrawAnimationPath(o.brushNegative,null,t,pt.getBoundsState,null,l,null):a.fillPath(o.brushNegative,t,pt.getBoundsState,null),a.popClip()}c++}}}Q.d.StiStackedAreaSeriesGeom=Dr}{class Mr extends Q.d.StiSeriesGeom{constructor(e,t,i){super(e,i,Mr.getClientRectangle(t)),this.points=t}static getClientRectangle(e){if(null==e||0==e.length)return re.empty;let t=te.empty,i=te.empty;for(var r of e){if(null==r)continue;t==te.empty?(t=r,i=r):(t.x=Math.min(t.x,r.x),t.y=Math.min(t.y,r.y),i.x=Math.max(i.x,r.x),i.y=Math.max(i.y,r.y))}return new re(t.x,t.y,i.x-t.x,i.y-t.y)}draw(e){}}Q.d.StiStackedBaseLineSeriesGeom=Mr}Q.d.StiStackedColumnSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a){super(e,t,i,n,l,r),this.seriesBorderColor=s,this.columnRectStart=a}draw(e){var t=this.clientRectangle.clone(),i=new v(this.seriesBorderColor,this.getSeriesBorderThickness(e.options.zoom));let r=this.series.chart;var s=this.getCornerRadius(),n=this.series.as(Q.d.IStiFontIconsSeries),l,l;if(null!=n&&null!=n.icon)return l=null==(l=r.area.as(Q.d.IStiRoundValuesArea))?void 0:l.roundValues,void Q.a.StiFontIconsHelper.drawDirectionIcons(e,this.seriesBrush,t,new Ft(t.width,t.width),n.icon,this.getToolTip(),!0,l);null==s||s.isEmpty||e.pushSmoothingModeToAntiAlias();var n=this.getAnimation(),l,l,l;null!=n?(this.series.showShadow&&(l=this.areaGeom.area,l=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/l.core.valuesCount*this.index),l=new ne(Q.d.StiChartHelper.globalDurationElement,new K(l.ticks+Q.d.StiChartHelper.globalDurationElement.ticks)),e.drawShadowRect(t,5,s,l)),e.drawAnimationCicledColumn(this.seriesBrush,i,t,s,this.value,this.getToolTip(),this,n,this.getInteractionData())):(e.fillCicledRectangle(this.seriesBrush,t,s,this.getInteractionData()),e.drawCicledRectangle(i,t,s)),null==s||s.isEmpty||e.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return this.value<0?Wt.createWithoutTopSide(e,t,1):Wt.createWithoutBottomSide(e,t,1);let i=new $;return 0<this.value?(i.add(new k(e.x,e.bottom,e.x,e.y)),i.add(new k(e.x,e.y,e.right,e.y)),i.add(new k(e.right,e.y,e.right,e.bottom))):(i.add(new k(e.x,e.y,e.x,e.bottom)),i.add(new k(e.x,e.bottom,e.right,e.bottom)),i.add(new k(e.right,e.bottom,e.right,e.y))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area;var t=new K(Q.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i;let r=new Jt(this.columnRectStart,this.clientRectangle,Q.d.StiChartHelper.globalDurationElement,t),s=(e.xAxis.core.getStartFromZero()?e.xAxis.info.stripLines.getByIndex(this.index+1):e.xAxis.info.stripLines.getByIndex(this.index)).valueObject;return s=null==s?"":s.stimulsoft().toString(),r.id=`series_${this.series.chart.series.indexOf(this.series)}_`+s,Jt.isAnimationChangingValues(this.series,r.id)&&r.applyPreviousAnimation(this.series.chart.previousAnimations),r}},Q.d.StiStackedColumnSeriesShadowElementGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r){super(t),this.series=e,this.isTopShadow=i,this.isBottomShadow=r}get invisible(){return!0}draw(e){var t=this.clientRectangle.clone();this.series.is(Q.d.IStiFullStackedColumnSeries)?e.drawCachedShadow(t,Vt.Right,e.options.isPrinting):(this.isTopShadow&&e.drawCachedShadow(t,Vt.Top|Vt.Right,e.options.isPrinting),this.isBottomShadow&&e.drawCachedShadow(t,Vt.Right|Vt.Edge|Vt.Bottom|Vt.Left,e.options.isPrinting))}},Q.d.StiStackedLineSeriesGeom=class extends Q.d.StiBaseLineSeriesGeom{contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var r=this.points[e],s=this.points[e+1],n;if(null==r||null==s)continue;if(Q.d.StiPointHelper.isLineContainsPoint(r,s,Q.d.StiMouseOverHelper.mouseOverLineDistance,new te(t,i)))return!0}return!1}draw(n){var t=this.series;if(0==this.points.length)return;if(1<this.points.length){var l=this.getAnimation(),a=(n.pushSmoothingModeToAntiAlias(),t.lineStyle),o=t.lineWidth*n.options.zoom;let s=new v(t.lineColor,o);s.penStyle=a;var h=t.lighting;if(t.showShadow){let e=new v(ee.fromArgb(50,0,0,0),o+.5*n.options.zoom);e.penStyle=a,n.pushTranslateTransform(o,o),Q.d.StiNullableDrawing.drawLines(n,e,this.points,l),n.popTransform()}var u=this.series.lineColor;if(this.series.allowApplyColorNegative){var d=this.series.lineColorNegative;let t=new v(d,o),e=(t.penStyle=a,this.series.chart.area);var c=e.axisCore.getDividerY();let i=[],r=[];for(let e=0;e<this.points.length;e++){var m=this.points[e],S=e!=this.points.length-1?this.points[e+1]:null,g,m;if(m.y>c){if(i.push(m),null==S||S.y<c||S.y==c&&e+2<this.points.length&&this.points[e+2].y<=c){if(null!=S&&(g=this.getPointCross(m,this.points[e+1],c),i.push(g),S.y==c&&e+2<this.points.length&&this.points[e+2].y<=c&&i.push(this.points[e+2]),r.push(g)),Q.d.StiNullableDrawing.drawLines(n,t,i,l),o>=2*n.options.zoom&&h){var g=.5*n.options.zoom;n.pushTranslateTransform(-g,-g);let e=new v(w.light(d,70),o);e.penStyle=a,Q.d.StiNullableDrawing.drawLines(n,e,i,l),n.popTransform()}i.stimulsoft().clear()}}else if(r.push(m),null==S||S.y>c){if(null!=S&&(m=this.getPointCross(m,this.points[e+1],c),i.push(m),r.push(m),r.push(S)),Q.d.StiNullableDrawing.drawLines(n,s,r,l),o>=2*n.options.zoom&&h){var m=.5*n.options.zoom;n.pushTranslateTransform(-m,-m);let e=new v(w.light(u,70),o);e.penStyle=a,Q.d.StiNullableDrawing.drawLines(n,e,r,l),n.popTransform()}r.stimulsoft().clear()}}}else if(Q.d.StiNullableDrawing.drawLines(n,s,this.points,l),o>=2*n.options.zoom&&t.lighting){var t=.5*n.options.zoom;n.pushTranslateTransform(-t,-t);let e=new v(w.light(u,70),o);e.penStyle=a,Q.d.StiNullableDrawing.drawLines(n,e,this.points,l),n.popTransform()}n.popSmoothingMode()}}getPointCross(e,t,i){var r=e.y,e=e.x,s=t.y,t=t.x,t=Math.tan(Math.atan((t-e)/(r-s)))*(r-i)+e;return new te(t,i)}constructor(e,t,i){super(e,t,i)}};{class Er extends Q.d.StiSeriesGeom{constructor(e,t,i){super(e,i,Er.getClientRectangle(t.pointsStart,t.pointsEnd)),this.startPoints=t.pointsStart,this.endPoints=t.pointsEnd,this.pointsIds=t.pointsIds}contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.startPoints.length-1;e++){var r=this.startPoints[e],s=this.startPoints[e+1],n=this.endPoints[e],l=this.endPoints[e+1],a;if(null==r||null==n||null==l||null==s)continue;if(Q.d.StiPointHelper.isPointInPolygon(new te(t,i),[r,s,l,n]))return!0}return!1}static getClientRectangle(e,t){if(null==e||0==e.length||null==t||0==t.length)return re.empty;let i=te.empty,r=te.empty;for(var s of e){if(null==s)continue;i==te.empty?(i=s,r=s):(i.x=Math.min(i.x,s.x),i.y=Math.min(i.y,s.y),r.x=Math.max(r.x,s.x),r.y=Math.max(r.y,s.y))}for(var n of t){if(null==n)continue;i==te.empty?(i=n,r=n):(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),r.x=Math.max(r.x,n.x),r.y=Math.max(r.y,n.y))}return new re(i.x,i.y,r.x-i.x,r.y-i.y)}draw(a){var t=this.series,e,o;let h=this.series.chart.area;var i={ref:e},r={ref:o},u=(Q.d.StiNullableDrawing.getPointsList2(this.startPoints,this.endPoints,i,r),o=r.ref,this.series.chart),d;let c=0;for(d of e=i.ref){var m=o[c],S=d.map(e=>e).reverse(),S,m,g,S;let e=[],i=new k(d[0],m[0]),r=new _t(m,t.tension),s=new k(m[m.length-1],d[d.length-1]),n=new _t(S,t.tension),l=(e.push(i),e.push(r),e.push(s),e.push(n),null);if(this.series.chart.isAnimation&&t.chart.isAnimationChangingValues){let e=new p(m,m,this.pointsIds,Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new p(d,d,this.pointsIds,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_r`,a.animations.push(e),a.animations.push(t),p.isAnimationChangingValues(this.series,this.pointsIds,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations),t.applyPreviousAnimation(this.series.chart.previousAnimations),t.reverse(),i.animation=new p([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,s.animation=new p([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),i.animation.beginTimeCorrect=e.beginTimeCorrect,s.animation.beginTimeCorrect=e.beginTimeCorrect,n.animation=t):l=new ne(Q.d.StiChartHelper.globalDurationElement,Q.d.StiChartHelper.globalBeginTimeElement)}null!=t.brush&&(u.isAnimation?a.fillDrawAnimationPath(t.brush,null,e,pt.getBoundsState,null,l,null):a.fillPath(t.brush,e,pt.getBoundsState,null)),t.allowApplyBrushNegative&&null!=t.brushNegative&&(S=h.axisCore.getDividerY(),m=h.axisCore.scrollRangeX*h.axisCore.scrollDpiX,g=h.axisCore.scrollRangeY*h.axisCore.scrollDpiY-S,S=new re(0,S,m,g),a.pushClip(S),u.isAnimation?a.fillDrawAnimationPath(t.brushNegative,null,e,pt.getBoundsState,null,l,null):a.fillPath(t.brushNegative,e,pt.getBoundsState,null),a.popClip()),c++}}}Q.d.StiStackedSplineAreaSeriesGeom=Er}Q.d.StiStackedSplineSeriesGeom=class extends Q.d.StiBaseLineSeriesGeom{contains(t,i){if(this.invisible)return!1;for(let e=0;e<this.points.length-1;e++){var r=this.points[e],s=this.points[e+1],n;if(null==r||null==s)continue;if(Q.d.StiPointHelper.isLineContainsPoint(r,s,Q.d.StiMouseOverHelper.mouseOverSplineDistance,new te(t,i)))return!0}return!1}draw(i){if(0==this.points.length)return;var r=this.series,s=this.getAnimation(),n=(i.pushSmoothingModeToAntiAlias(),r.lineStyle),l=r.lineWidth*i.options.zoom;let e=new v(r.lineColor,l);if(e.penStyle=n,null!=this.points&&1<this.points.length){if(r.showShadow){let e=new v(ee.fromArgb(50,0,0,0),l+.5*i.options.zoom);e.penStyle=n,i.pushTranslateTransform(l,l),Q.d.StiNullableDrawing.drawCurve(i,e,this.points,r.tension,s),i.popTransform()}if(Q.d.StiNullableDrawing.drawCurve(i,e,this.points,r.tension,s),2<=l&&r.lighting){var a=.5*i.options.zoom;i.pushTranslateTransform(-a,-a);let e=new v(w.light(r.lineColor,70),l);e.penStyle=n,Q.d.StiNullableDrawing.drawCurve(i,e,this.points,r.tension,s),i.popTransform()}if(r.allowApplyColorNegative){let e=new v(r.lineColorNegative,l),t=(e.penStyle=n,this.series.chart.area);var a=t.axisCore.getDividerY(),o=t.axisCore.scrollRangeX*t.axisCore.scrollDpiX,h=t.axisCore.scrollRangeY*t.axisCore.scrollDpiY-a,a=new re(0,a,o,h);if(i.pushClip(a),Q.d.StiNullableDrawing.drawCurve(i,e,this.points,r.tension,s),2<=l&&r.lighting){var o=.5*i.options.zoom;i.pushTranslateTransform(-o,-o);let e=new v(w.light(r.lineColorNegative,70),l);e.penStyle=n,Q.d.StiNullableDrawing.drawCurve(i,e,this.points,r.tension,s),i.popTransform()}i.popClip()}}i.popSmoothingMode()}constructor(e,t,i){super(e,t,i)}},Q.d.StiSunburstSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g){super(e,t,i,n,l,u),this.index2=0,this.index3=0,this.index2=r,this.index3=s,this.clientRectangleDt=a,this.path=o,this.borderColor=h,this.brush=u,this.startAngle=d,this.endAngle=c,this.radiusFrom=m,this.radiusTo=S,this.beginTime=g}contains(e,t){if(this.invisible)return!1;var i=new te(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),e=e-i.x,t=t-i.y,i=Math.sqrt(e*e+t*t);if(i<this.radiusTo||i>this.radiusFrom)return!1;let r=180*Math.atan2(t,e)/Math.PI;return r<0&&(r+=360),r>=this.startAngle&&r<=this.endAngle}draw(e){var t=this.clientRectangle.clone();let i=new v(this.borderColor,this.getSeriesBorderThickness(e.options.zoom));i.alignment=$t.Inset;var r=this.getAnimation();null!=r?e.drawAnimationPathElement(this.brush,i,this.path,t,this.getToolTip(),this,r,this.getInteractionData()):(e.pushSmoothingModeToAntiAlias(),null!=this.path&&e.fillPath(this.brush,this.path,t,this.getInteractionData()),e.drawPath(i,this.path,pt.getBoundsState),e.popSmoothingMode())}getAnimation(){if(!this.series.chart.isAnimation)return null;var s=Q.d.StiChartHelper.globalDurationElement,n,l;let a=null,o=null;if(this.series.chart.isAnimationChangingValues){let e=this.startAngle,t=this.endAngle,i=this.clientRectangle.clone(),r=this.clientRectangle.clone();4==this.path.length&&this.path[0].is(Ct)&&this.path[2].is(Ct)&&(n=this.path[0],l=this.path[2],e=n.startAngle,t=n.startAngle+n.sweepAngle,i=n.rect,r=l.rect),(o=new Kt(this.clientRectangle,i,this.clientRectangleDt,r,this.startAngle,this.endAngle,e,t,s,K.zero)).id=`series_${this.series.chart.series.indexOf(this.series)}_${this.index}_${this.index2}_`+this.index3,Kt.isAnimationChangingValues(this.series,o.id)&&(o.applyPreviousAnimation(this.series.chart.previousAnimations),a=o)}if(null==a){let e=this.beginTime,t=(0<this.series.chart.previousAnimations.length&&(e=K.fromMilliseconds(300)),new ne(s,e));t.anotherAnimation=o,t.id=`series_${this.series.chart.series.indexOf(this.series)}_${this.index}_${this.index2}_`+this.index3,a=t}return a}},Q.d.StiTreemapSeriesElementGeom=class extends Q.d.StiSeriesElementGeom{constructor(e,t,i,r,s,n,l,a){super(e,t,i,n,l,r),this.seriesBrush=r,this.seriesBorderColor=s,this.animation=a}draw(e){var t=this.series.chart,i=this.clientRectangle.clone(),r=this.getCornerRadius(),s=this.series.as(Q.d.IStiFontIconsSeries),n;if(null!=s&&null!=s.icon)return n=30,e.pushClip(i),Q.a.StiFontIconsHelper.drawFillIcons(e,this.seriesBrush,i,new Ft(n,n),s.icon,this.getToolTip()),void e.popClip();var n=new v(this.seriesBorderColor,this.getSeriesBorderThickness(e.options.zoom));null==r||r.isEmpty||e.pushSmoothingModeToAntiAlias(),t.isAnimation?e.drawAnimationCicledRectangle(this.seriesBrush,n,i,r,this,this.animation,this.getInteractionData(),this.getToolTip()):(super.draw(e),this.series.chart.style.core.fillCicledColumn(e,i,r,this.seriesBrush,this.getInteractionData()),e.drawCicledRectangle(n,i,r)),null==r||r.isEmpty||e.popSmoothingMode()}},Q.d.StiSeriesLabelsGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s){super(s),this.beginTime=new K(0),this.duration=new K(0),this.seriesLabels=e,this.series=t,this.index=i,this.value=r}getValueIndex(){let e=this.index;return this.series.is(Q.d.IStiClusteredBarSeries)||this.series.is(Q.d.IStiStackedBarSeries)||this.series.is(Q.d.IStiFullStackedBarSeries)?this.series.chart.area.is(Q.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(Q.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getHyperlink(e){return null!=this.series.hyperlinks&&e<this.series.hyperlinks.length?this.series.hyperlinks[e]:null}getToolTip(e){return null!=this.series.toolTips&&e<this.series.toolTips.length?this.series.hyperlinks[e]:null}drawMarker(t,i,r,s){if(this.seriesLabels.markerVisible){var n=this.series.chart;let e=se.empty;switch(this.seriesLabels.markerAlignment==Q.d.StiMarkerAlignment.Right?e.x=P.trunc(i.right+2*t.options.zoom):e.x=P.trunc(i.left-(2+this.seriesLabels.markerSize.width)*t.options.zoom),this.seriesLabels.markerAlignment){case Q.d.StiMarkerAlignment.Right:e.x=P.trunc(i.right+2*t.options.zoom);break;case Q.d.StiMarkerAlignment.Left:e.x=P.trunc(i.left-(2+this.seriesLabels.markerSize.width)*t.options.zoom);break;case Q.d.StiMarkerAlignment.Center:e.x=P.trunc(i.left+ +i.width/2-(2+this.seriesLabels.markerSize.width)/2*t.options.zoom);break}e.y=P.trunc(i.y+(i.height-this.seriesLabels.markerSize.height*t.options.zoom)/2),e.width=P.trunc(this.seriesLabels.markerSize.width*t.options.zoom),e.height=P.trunc(this.seriesLabels.markerSize.height*t.options.zoom);var r=r instanceof ee?r:ee.black,r=new v(r,1),n;n.isAnimation?(n=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalBeginTimeElement),t.drawAnimationRectangle(s,r,e,null,n,null,this.getToolTip(this.getValueIndex()))):(t.fillRectangle2(s,e.x,e.y,e.width,e.height,null),t.drawRectangle2(r,e.x,e.y,e.width,e.height))}}draw(e){}},Q.d.StiCenterAxisLabelsGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c){super(e,t,i,r,s),this.text=n,this.labelColor=l,this.labelBorderColor=a,this.seriesBrush=o,this.seriesLabelsBrush=h,this.seriesBorderColor=u,this.font=d,this.animation=c}draw(e){let t=this.clientRectangle.clone(),i=this.seriesLabels.core.getStringFormatGeom(e);i.alignment=A.Center,i.lineAlignment=A.Center;var r,s=(this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(this.duration,this.beginTime)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),t.x+t.width/2),n=t.y+t.height/2;e.pushTranslateTransform(s,n),e.pushRotateTransform(this.seriesLabels.angle);let l=t.clone();l.x=-l.width/2-1,l.y=-l.height/2-1,l.width+=2,l.height+=2,this.drawLabelArea(e,l),this.drawLabelText(e,l),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.labelBorderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLabelText(e,t){var i=new ie(this.labelColor),r=this.series.chart,s=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let n=this.seriesLabels.core.getStringFormatGeom(e);n.alignment=A.Center,n.lineAlignment=A.Center,r.isAnimation?e.drawAnimationText(this.text,s,i,t,n,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,i,t,n,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}},Q.d.StiOutsideAxisLabelsGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m){super(e,t,i,r,s),this.text=n,this.labelColor=l,this.labelBorderColor=a,this.seriesBrush=o,this.seriesBorderColor=h,this.font=u,this.startPoint=d,this.endPoint=c,this.animation=m}draw(e){let t=this.clientRectangle.clone();var i;this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawLines(e,t),e.pushTranslateTransform(t.x+t.width/2,t.y+t.height/2),e.pushRotateTransform(this.seriesLabels.angle);let r=t.clone();r.x=-r.width/2,r.y=-r.height/2,this.drawLabelArea(e,r),this.drawLabelText(e,r),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.labelBorderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabels.brush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabels.brush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLines(e,t){var i=this.series.chart,r=new v(this.labelBorderColor);i.isAnimation?e.drawAnimationLines(r,[this.endPoint,this.startPoint],this.animation):e.drawLine(r,this.endPoint.x,this.endPoint.y,this.startPoint.x,this.startPoint.y)}drawLabelText(e,t){var i=new ie(this.labelColor),r=this.series.chart,s=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let n=this.seriesLabels.core.getStringFormatGeom(e);n.alignment=A.Center,n.lineAlignment=A.Center,r.isAnimation?e.drawAnimationText(this.text,s,i,t,n,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,i,t,n,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}},Q.d.StiCenterFunnelLabelsGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d){super(e,t,i,r,s),this.text=n,this.labelBrush=a,this.borderColor=o,this.seriesBorderColor=h,this.seriesBrush=l,this.labelRect=u,this.animation=d}draw(e){var t=this.clientRectangle.clone(),i,r=(this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,this.labelRect,this.seriesBorderColor,this.seriesBrush),t.x+t.width/2),s=t.y+t.height/2;e.pushTranslateTransform(r,s),e.pushRotateTransform(this.seriesLabels.angle);let n=t;n.x=-n.width/2,n.y=-n.height/2,this.drawLabelArea(e,n),this.drawLabelText(e,n),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabels.brush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabels.brush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLabelText(e,t){var i=this.series.chart,r=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let s=this.seriesLabels.core.getStringFormatGeom(e);s.alignment=A.Center,s.lineAlignment=A.Center,i.isAnimation?e.drawAnimationText(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}},Q.d.StiOutsideFunnelLabelsGeom=class extends Q.d.StiCenterFunnelLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c){super(e,t,i,r,s,n,l,a,o,h,u,null),this.startPointLine=d,this.endPointLine=c}draw(e){var t=this.series.chart,i=new v(this.borderColor),t;t.isAnimation?(t=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement),e.drawAnimationLines(i,[this.startPointLine,this.endPointLine],t)):e.drawLine(i,this.startPointLine.x,this.startPointLine.y,this.endPointLine.x,this.endPointLine.y),super.draw(e)}};{let i=Z.Base.Drawing.PointD;Q.d.StiOutsidePictorialStackedLabelGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m){super(e,t,i,r,s),this.text=n,this.labelBrush=a,this.labelLineColor=o,this.borderColor=h,this.seriesBorderColor=u,this.seriesBrush=l,this.animation=m,this.lineRect=c,this.labelRect=d}draw(e){let t=this.labelRect.clone();var i,r=(this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawLineLabel(e),t.x+t.width/2),s=t.y+t.height/2;e.pushTranslateTransform(r,s),e.pushRotateTransform(this.seriesLabels.angle);let n=t.clone();n.x=-n.width/2-1,n.y=-n.height/2-1,n.width+=2,n.height+=2,this.drawLabelArea(e,n),this.drawLabelText(e,n),e.popTransform(),e.popTransform()}drawLineLabel(e){var t;this.series.chart.isAnimation?e.drawAnimationLines(new v(this.labelLineColor,1),[new i(this.lineRect.x,this.lineRect.y+this.lineRect.height/2),new i(this.lineRect.right,this.lineRect.y+this.lineRect.height/2)],this.animation):e.drawLine(new v(this.labelLineColor,1),this.lineRect.x,this.lineRect.y+this.lineRect.height/2,this.lineRect.right,this.lineRect.y+this.lineRect.height/2)}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabels.brush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabels.brush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLabelText(e,t){var i=this.series.chart,r=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let s=this.seriesLabels.core.getStringFormatGeom(e);s.alignment=A.Center,s.lineAlignment=A.Center,i.isAnimation?e.drawAnimationText(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}}}Q.d.StiCenterPieLabelsGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S){super(e,t,i,r,s),this.text=n,this.labelBrush=a,this.borderColor=h,this.seriesBorderColor=u,this.seriesLabelsBrush=o,this.seriesBrush=l,this.rotationMode=d,this.labelRect=c,this.angleToUse=m,this.animation=S}draw(e){var t=this.clientRectangle.clone(),i,r=(this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,this.labelRect,this.seriesBorderColor,this.seriesBrush),P.round2(this.labelRect.x+this.labelRect.width/2,0)),s=P.round2(this.labelRect.y+this.labelRect.height/2,0);e.pushTranslateTransform(r,s),e.pushRotateTransform(this.angleToUse),this.drawLabelArea(e,t),this.drawLabelText(e,t),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLabelText(e,t){var i=this.series.chart,r=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let s=this.seriesLabels.core.getStringFormatGeom(e);s.alignment=A.Center,s.lineAlignment=A.Center,i.isAnimation?e.drawAnimationText(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}},Q.d.StiOutsidePieLabelsGeom=class extends Q.d.StiCenterPieLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g,p){super(e,t,i,r,s,n,l,a,o,h,u,d,c,m,null),this.lineColor=S,this.labelPoint=g,this.startPoint=p}draw(e){var t=this.seriesLabels,t,i,r;super.draw(e),t.drawBorder&&(t=new v(this.lineColor),this.series.chart.isAnimation?(r=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalBeginTimeElement),e.drawAnimationLines(t,[this.labelPoint,this.startPoint],r)):e.drawLine(t,this.labelPoint.x,this.labelPoint.y,this.startPoint.x,this.startPoint.y))}},Q.d.StiTwoColumnsPieLabelsGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m,S,g,p,f){super(e,t,i,r,s),this.text=n,this.seriesLabelsBrush=o,this.labelBrush=a,this.lineColor=c,this.borderColor=h,this.seriesBorderColor=u,this.seriesBrush=l,this.labelRect=d,this.startPoint=m,this.endPoint=S,this.arcPoint=g,this.centerPie=p,this.animation=f}draw(e){var t=this.clientRectangle.clone(),i;this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement)),this.drawLines(e),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawLabelArea(e,t),this.drawLabelText(e,t)}drawLines(t){if(this.seriesLabels.drawBorder){let e=null;var i=new v(this.lineColor,1),r=null!=(e=this.centerPie.y>this.startPoint.y&&this.endPoint.y>this.startPoint.y||this.centerPie.y<this.startPoint.y&&this.endPoint.y<this.startPoint.y?this.centerPie.x>this.endPoint.x?new te(this.endPoint.x+13,this.startPoint.y):new te(this.endPoint.x-13,this.startPoint.y):e)?[this.endPoint,e,this.startPoint,this.arcPoint]:[this.endPoint,this.startPoint,this.arcPoint],s;this.series.chart.isAnimation?t.drawAnimationLines(i,r,this.animation):t.drawLines(i,r)}}drawMarker(t,i,r,s){if(this.seriesLabels.markerVisible){let e=se.empty;var n=P.trunc(i.right+2*t.options.zoom),l=P.trunc(i.left-(2+this.seriesLabels.markerSize.width)*t.options.zoom),n=(Z["StiOptions"].Engine.allowFixPieChartMarkerAlignment?this.seriesLabels.markerAlignment==Q.d.StiMarkerAlignment.Right?e.x=this.clientRectangle.x<this.centerPie.x?n:l:e.x=this.clientRectangle.x>this.centerPie.x?n:l:e.x=this.seriesLabels.markerAlignment==Q.d.StiMarkerAlignment.Right?n:l,e.y=P.trunc(i.y+(i.height-this.seriesLabels.markerSize.height*t.options.zoom)/2),e.width=P.trunc(this.seriesLabels.markerSize.width*t.options.zoom),e.height=P.trunc(this.seriesLabels.markerSize.height*t.options.zoom),r instanceof ee?r:ee.black),l=new v(n,1);t.fillRectangle2(s,e.x,e.y,e.width,e.height,null),t.drawRectangle2(l,e.x,e.y,e.width,e.height)}}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLabelText(e,t){var i=this.series.chart,r=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let s=this.seriesLabels.core.getStringFormatGeom(e);s.alignment=A.Center,s.lineAlignment=A.Center,i.isAnimation?e.drawAnimationText(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,this.labelBrush,t,s,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}},Q.d.StiCenterTreemapLabelsGeom=class extends Q.d.StiSeriesLabelsGeom{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c){super(e,t,i,r,s),this.text=n,this.labelColor=l,this.labelBorderColor=a,this.seriesBrush=o,this.seriesLabelsBrush=h,this.seriesBorderColor=u,this.font=d,this.animation=c}draw(e){super.draw(e);let t=this.clientRectangle.clone();var i,r=(this.series.chart.isAnimation&&null==this.animation&&(this.animation=new ne(Q.d.StiChartHelper.globalBeginTimeElement,Q.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),t.x+t.width/2),s=t.y+t.height/2;this.drawLabelArea(e,t),this.drawLabelText(e,t),e.pushTranslateTransform(r,s),e.pushRotateTransform(this.seriesLabels.angle);let n=t.clone();n.x=-n.width/2,n.y=-n.height/2,e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;var i=this.series.chart,r=this.seriesLabels.drawBorder?new v(this.labelBorderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,r,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(r,t))}drawLabelText(e,t){var i=new ie(this.labelColor),r=this.series.chart,s=I.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size);let n=this.seriesLabels.core.getStringFormatGeom(e);n.alignment=A.Center,n.lineAlignment=A.Center,r.isAnimation?e.drawAnimationText(this.text,s,i,t,n,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,i,t,n,L.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}},Q.d.StiStripsXGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.strip=e}draw(e){var t=this.clientRectangle.clone(),i,r,s;e.fillRectangle2(this.strip.stripBrush,t.x,t.y,t.width,t.height,null),this.strip.titleVisible&&(i=new ie(this.strip.titleColor),r=I.changeFontSize(this.strip.font,this.strip.font.size*e.options.zoom),s=e.getGenericStringFormat(),e.drawRotatedString6(this.strip.text,r,i,t,s,L.CenterCenter,90,this.strip.antialiasing,0))}},Q.d.StiStripsYGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(t),this.strip=e}draw(e){var t=this.clientRectangle.clone(),i,r,s;e.fillRectangle2(this.strip.stripBrush,t.x,t.y,t.width,t.height,null),this.strip.titleVisible&&(i=new ie(this.strip.titleColor),r=I.changeFontSize(this.strip.font,this.strip.font.size*e.options.zoom),s=e.getGenericStringFormat(),e.drawRotatedString5(this.strip.text,r,i,t,s,L.CenterCenter,0,this.strip.antialiasing))}},Q.d.StiChartTableGeom=class extends Q.d.StiCellGeom{constructor(e,t,i,r,s){super(e),this.widthCellLegendTableChart=i,this.heightCellHeader=r,this.table=t,this.chartTable=s,this.pen=new v(s.gridLineColor),this.labelBrush=new ie(s.textColor),this.labelHeaderBrush=new ie(s.header.textColor)}draw(e){this.font=I.changeFontSize(this.chartTable.dataCells.font,this.chartTable.dataCells.font.size*e.options.zoom),this.sf=e.getGenericStringFormat(),this.sf.trimming=ht.None,this.sf.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap,this.sf.alignment=A.Center,this.sf.lineAlignment=A.Center,this.fontHeader=I.changeFontSize(this.chartTable.header.font,this.chartTable.header.font.size*e.options.zoom),this.sfHeader=e.getGenericStringFormat(),this.sf.trimming=ht.None,this.chartTable.header.wordWrap||(this.sf.formatFlags=ut.MeasureTrailingSpaces|ut.NoWrap),this.sfHeader.alignment=A.Center,this.sfHeader.lineAlignment=A.Center;var t=this.clientRectangle.clone(),i=this.chartTable.chart.area,r=i.reverseHor?t.x:t.x+this.widthCellLegendTableChart,s=t.y,n=t.width-this.widthCellLegendTableChart,l=this.heightCellHeader,r=new re(r,s,n,l);let a=[];for(let e=1;e<this.table.stimulsoft().getLength(1);e++)a.push(this.table[0][e]);this.drawHeaderArgument(e,r,a,i.xAxis.startFromZero);var s=i.reverseHor?t.right-this.widthCellLegendTableChart:t.x,n=t.y+this.heightCellHeader,l=this.widthCellLegendTableChart,r=t.height-this.heightCellHeader,s=new re(s,n,l,r);let o=[];for(let e=1;e<this.table.stimulsoft().getLength(0);e++)o.push(this.table[e][0]);this.drawTitleLegend(e,s,o);var n=i.reverseHor?t.x:t.x+this.widthCellLegendTableChart,l=t.y+this.heightCellHeader,r=t.width-this.widthCellLegendTableChart,s=t.height-this.heightCellHeader,t=new re(n,l,r,s);this.drawRootTable(e,t,i.xAxis.startFromZero)}drawHeaderArgument(r,s,n,l){r.fillRectangle(this.chartTable.header.brush,new re(s.x,s.y,s.width,s.height),null),this.chartTable.gridOutline&&r.drawRectangle(this.pen,s);var e=l?n.length+1:n.length-1,a=s.width/e;for(let i=0;i<n.length;i++){let e=0,t=(0!=i&&i!=n.length-1||(e=l?a/2:-a/2),l?a/2:-a/2);0==i&&(t=0);var o=new re(s.x+i*a+t,s.y,a+e,s.height),o;this.chartTable.header.wordWrap?r.drawRotatedString6(n[i],this.fontHeader,this.labelHeaderBrush,o,this.sfHeader,L.CenterCenter,0,!0,P.trunc(a+e)):r.drawRotatedString5(n[i],this.fontHeader,this.labelHeaderBrush,o,this.sfHeader,L.CenterCenter,0,!0),this.chartTable.gridLinesVert&&i!=n.length-1&&(o=l?s.x+(i+1)*a+a/2:s.x+(i+1)*a-a/2,r.drawLine(this.pen,o,s.y,o,s.bottom))}}drawTitleLegend(s,e,n){this.chartTable.gridOutline&&s.drawRectangle2(this.pen,e.x,e.y,e.width,e.height);var l=e.height/n.length;for(let r=0;r<n.length;r++){let t=e.x;var a=e.y;let i=e.width;if(this.chartTable.gridLinesHor&&0!=r&&s.drawLine(this.pen,t,a+l*r,t+i,a+l*r),this.chartTable.markerVisible){var o=new re(t+2,a+2+l*r,l-4,l-4);let e=Q.d.StiMarkerLegendFactory.createMarker(this.chartTable.chart.series.getByIndex(r));e.draw(s,this.chartTable.chart.series.getByIndex(r),o,r,n.length,-1),t+=l,i-=l}var o=new re(t,a+l*r,i,l);s.drawString(n[r],this.font,this.labelBrush,o,this.sf)}}drawRootTable(n,l,a){this.chartTable.gridOutline&&n.drawRectangle2(this.pen,l.x,l.y,l.width,l.height);var e=this.table.stimulsoft().getLength(0),o=this.table.stimulsoft().getLength(1),t=a?this.table.stimulsoft().getLength(1):this.table.stimulsoft().getLength(1)-2,h=l.width/t,u=l.height/(e-1);let d=this.font;if(this.chartTable.dataCells.shrinkFontToFit)for(let s=1;s<e;s++){this.chartTable.gridLinesHor&&s!=e-1&&n.drawLine(this.pen,l.x,l.y+s*u,l.right,l.y+s*u);for(let r=1;r<o;r++){let e=0,t=(1!=r&&r!=o-1||(e=a?h/2:-h/2),a?h/2:-h/2);1==r&&(t=0);var c=new re(l.x+(r-1)*h+t,l.y+(s-1)*u,h+e,u);let i=this.checkFontSize(n,this.table[s][r],d,c);while(!i){if(d.fontSize-=.5,d.fontSize<=this.chartTable.dataCells.shrinkFontToFitMinimumSize){d.fontSize=this.chartTable.dataCells.shrinkFontToFitMinimumSize;break}i=this.checkFontSize(n,this.table[s][r],d,c)}}}for(let r=1;r<e;r++){this.chartTable.gridLinesHor&&r!=e-1&&n.drawLine(this.pen,l.x,l.y+r*u,l.right,l.y+r*u);for(let i=1;i<o;i++){let e=0,t=(1!=i&&i!=o-1||(e=a?h/2:-h/2),a?h/2:-h/2);1==i&&(t=0);var s=new re(l.x+(i-1)*h+t,l.y+(r-1)*u,h+e,u),s;n.drawRotatedString5(this.table[r][i],d,this.labelBrush,s,this.sf,L.CenterCenter,0,!0),this.chartTable.gridLinesVert&&i<o-1&&(s=a?l.x+i*h+h/2:l.x+i*h-h/2,n.drawLine(this.pen,s,l.y,s,l.bottom))}}}checkFontSize(e,t,i,r){var s;return e.measureRotatedString(t,i,r,this.sf,0).width<r.width}},Q.d.StiTrendCurveGeom=class extends Q.d.StiCellGeom{constructor(e,t){super(Q.d.StiBaseLineSeriesGeom.getClientRectangle(e,t.lineWidth)),this.points=e,this.trendLine=t}draw(i){let r=U.create(te,this.points.length,!0);for(let e=0;e<this.points.length;e++)r[e]=this.points[e];var s=this.trendLine.lineColor,e=this.trendLine.lineWidth,t=this.trendLine.lineStyle,n=this.trendLine.showShadow,l=e*i.options.zoom;if(i.pushSmoothingModeToAntiAlias(),n){let e=new v(ee.fromArgb(50,0,0,0),l+.5*i.options.zoom);e.penStyle=t,i.pushTranslateTransform(l,l),Q.d.StiNullableDrawing.drawCurve(i,e,this.points,0),i.popTransform()}let a=new v(s,e*i.options.zoom);if(a.penStyle=t,i.drawCurve(a,r,0),this.trendLine.titleVisible&&0<r.length){var n=new ie(this.trendLine.lineColor),l=I.changeFontSize(this.trendLine.font,this.trendLine.font.size*i.options.zoom),s=i.getGenericStringFormat();let e=xt.empty;var o=r[0],h=r[r.length-1];let t=L.CenterCenter;switch(this.trendLine.position){case Q.d.StiTrendLine_StiTextPosition.LeftBottom:e=o,t=L.LeftTop;break;case Q.d.StiTrendLine_StiTextPosition.LeftTop:e=o,t=L.LeftBottom;break;case Q.d.StiTrendLine_StiTextPosition.RightBottom:e=h,t=L.RightTop;break;case Q.d.StiTrendLine_StiTextPosition.RightTop:e=h,t=L.RightBottom;break}i.drawRotatedString9(this.trendLine.text,l,n,e,s,t,0,!0,0)}i.popSmoothingMode()}};{class Nr extends Q.d.StiCellGeom{constructor(e,t,i){super(Q.d.StiBaseLineSeriesGeom.getClientRectangle(Nr.getArray(e,t),i.lineWidth)),this.pointStart=e,this.pointEnd=t,this.trendLine=i}draw(i){var r=this.trendLine.lineColor,e=this.trendLine.lineWidth,t=this.trendLine.lineStyle,s=this.trendLine.showShadow,n=e*i.options.zoom;if(i.pushSmoothingModeToAntiAlias(),s){let e=new v(ee.fromArgb(50,0,0,0),n+.5*i.options.zoom);e.penStyle=t,i.pushTranslateTransform(n,n),Q.d.StiNullableDrawing.drawLines(i,e,Nr.getArray(this.pointStart,this.pointEnd)),i.popTransform()}let l=new v(r,e*i.options.zoom);if(l.penStyle=t,i.drawLine(l,this.pointStart.x,this.pointStart.y,this.pointEnd.x,this.pointEnd.y),this.trendLine.titleVisible){var s=new ie(this.trendLine.lineColor),n=I.changeFontSize(this.trendLine.font,this.trendLine.font.size*i.options.zoom),r=i.getGenericStringFormat();let e=te.empty,t=L.CenterCenter;switch(this.trendLine.position){case Q.d.StiTrendLine_StiTextPosition.LeftBottom:e=this.pointStart,t=L.LeftTop;break;case Q.d.StiTrendLine_StiTextPosition.LeftTop:e=this.pointStart,t=L.LeftBottom;break;case Q.d.StiTrendLine_StiTextPosition.RightBottom:e=this.pointEnd,t=L.RightTop;break;case Q.d.StiTrendLine_StiTextPosition.RightTop:e=this.pointEnd,t=L.RightBottom;break}i.drawRotatedString9(this.trendLine.text,n,s,e,r,t,0,!0,0)}i.popSmoothingMode()}static getArray(e,t){var i;return[e,t]}}Q.d.StiTrendLineGeom=Nr}Q.d.Sti3dOptions=class{constructor(){this.opacity_=1}meta(){return null==this._hash&&(this._hash=[new h("Opacity")]),this._hash}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}isDefault(){return 1==this.opacity}get componentId(){return Q.a.StiComponentId.Sti3dOptions}get propName(){return""}get opacity(){return this.opacity_}set opacity(e){0<=e&&e<=1&&(this.opacity_=e)}},Q.d.StiPie3dOptions=class extends Q.d.Sti3dOptions{constructor(){super(...arguments),this.lighting=Q.d.StiPie3dLightingStyle.Gradient,this.height_=25,this.distance_=4}meta(){return null==this._hash&&(this._hash=super.meta().concat([new h("Height","",25),new h("Distance","",4),new l("Lighting","",Q.d.StiPie3dLightingStyle)])),this._hash}get height(){return this.height_}set height(e){0<e&&(this.height_=e)}get distance(){return this.distance_}set distance(e){0<e&&(this.distance_=e)}};{class Or extends Q.d.StiAxisArea{constructor(){super(),this.core=new Q.d.StiBoxAndWhiskerAreaCoreXF(this)}implements(){return Or.implementsStiBoxAndWhiskerArea||(Or.implementsStiBoxAndWhiskerArea=super.implements().concat([Q.d.IStiBoxAndWhiskerArea])),Or.implementsStiBoxAndWhiskerArea}getDefaultSeriesType(){return Q.d.StiBoxAndWhiskerSeries}getSeriesTypes(){return[Q.d.StiBoxAndWhiskerSeries]}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterAxisLabels,Q.d.StiLeftAxisLabels,Q.d.StiRightAxisLabels]}get componentId(){return Q.a.StiComponentId.StiBoxAndWhiskerArea}createNew(){return new Or}}Q.d.StiBoxAndWhiskerArea=Or}{class Gr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiScatterAreaCoreXF(this)}implements(){return Gr.implementsStiScatterArea||(Gr.implementsStiScatterArea=super.implements().concat([Q.d.IStiScatterArea,Q.d.IStiArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),Gr.implementsStiScatterArea}getDefaultSeriesType(){return Q.d.StiScatterLineSeries}getSeriesTypes(){return[Q.d.StiScatterSeries,Q.d.StiScatterLineSeries,Q.d.StiScatterSplineSeries]}get componentId(){return Q.a.StiComponentId.StiScatterArea}createNew(){return new Gr}}Q.d.StiScatterArea=Gr}{class Vr extends Q.d.StiScatterArea{constructor(){super(),this.core=new Q.d.StiBubbleAreaCoreXF(this),this.interlacingHor=new Q.d.StiInterlacingHor,this.interlacingVert=new Q.d.StiInterlacingVert}implements(){return Vr.implementsStiBubbleArea||(Vr.implementsStiBubbleArea=super.implements().concat([Q.d.IStiScatterArea,Q.d.IStiClusteredColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,s,n,Q.d.IStiBubbleArea])),Vr.implementsStiBubbleArea}getDefaultSeriesType(){return Q.d.StiBubbleSeries}getSeriesTypes(){return[Q.d.StiBubbleSeries]}get componentId(){return Q.a.StiComponentId.StiBubbleArea}createNew(){return new Vr}}Q.d.StiBubbleArea=Vr}{class Xr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiCandlestickAreaCoreXF(this)}implements(){return Xr.implementsStiCandlestickArea||(Xr.implementsStiCandlestickArea=super.implements().concat([Q.d.IStiCandlestickArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,Q.d.IStiArea,n])),Xr.implementsStiCandlestickArea}getDefaultSeriesType(){return Q.d.StiCandlestickSeries}getSeriesTypes(){return[Q.d.StiCandlestickSeries]}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels]}get componentId(){return Q.a.StiComponentId.StiCandlestickArea}createNew(){return new Xr}}Q.d.StiCandlestickArea=Xr}{class _r extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiClusteredBarAreaCoreXF(this)}implements(){return _r.implementsStiClusteredBarArea||(_r.implementsStiClusteredBarArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiClusteredBarArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),_r.implementsStiClusteredBarArea}getDefaultSeriesType(){return Q.d.StiClusteredBarSeries}getSeriesTypes(){return[Q.d.StiClusteredBarSeries]}get componentId(){return Q.a.StiComponentId.StiClusteredBarArea}createNew(){return new _r}}Q.d.StiClusteredBarArea=_r}{class Hr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiAreaAreaCoreXF(this)}implements(){return Hr.implementsStiAreaArea||(Hr.implementsStiAreaArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,Q.d.IStiAreaArea,s,n])),Hr.implementsStiAreaArea}getDefaultSeriesType(){return Q.d.StiAreaSeries}get componentId(){return Q.a.StiComponentId.StiAreaArea}createNew(){return new Hr}}Q.d.StiAreaArea=Hr}{class zr extends Q.d.StiAxisArea{get componentId(){return Q.a.StiComponentId.StiHistorgamArea}getDefaultSeriesType(){return Q.d.StiHistogramSeries}getSeriesTypes(){return[Q.d.StiHistogramSeries]}createNew(){return new zr}constructor(){super(),this.core=new Q.d.StiHistogramAreaCoreXF(this)}}Q.d.StiHistogramArea=zr}{class jr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiLineAreaCoreXF(this)}implements(){return jr.implementsStiLineArea||(jr.implementsStiLineArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiLineArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),jr.implementsStiLineArea}getDefaultSeriesType(){return Q.d.StiLineSeries}get componentId(){return Q.a.StiComponentId.StiLineArea}createNew(){return new jr}}Q.d.StiLineArea=jr}{class Yr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.yRightAxis.visible=!0,this.yRightAxis.range.auto=!1,this.yRightAxis.range.maximum=100,this.yRightAxis.labels.textAfter="%",this.core=new Q.d.StiParetoAreaCoreXF(this)}implements(){return Yr.implementsStiParetoArea||(Yr.implementsStiParetoArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiParetoArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),Yr.implementsStiParetoArea}getDefaultSeriesType(){return Q.d.StiParetoSeries}getSeriesTypes(){return[Q.d.StiParetoSeries]}get componentId(){return Q.a.StiComponentId.StiParetoArea}createNew(){return new Yr}}Q.d.StiParetoArea=Yr}{class Wr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiSplineAreaCoreXF(this)}implements(){return Wr.implementsStiSplineArea||(Wr.implementsStiSplineArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiSplineArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),Wr.implementsStiSplineArea}getDefaultSeriesType(){return Q.d.StiSplineSeries}get componentId(){return Q.a.StiComponentId.StiSplineArea}createNew(){return new Wr}}Q.d.StiSplineArea=Wr}{class Jr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiSplineAreaAreaCoreXF(this)}implements(){return Jr.implementsStiSplineAreaArea||(Jr.implementsStiSplineAreaArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiSplineAreaArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),Jr.implementsStiSplineAreaArea}getDefaultSeriesType(){return Q.d.StiSplineAreaSeries}get componentId(){return Q.a.StiComponentId.StiSplineAreaArea}createNew(){return new Jr}}Q.d.StiSplineAreaArea=Jr}{class Zr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiSteppedAreaAreaCoreXF(this)}implements(){return Zr.implementsStiSteppedAreaArea||(Zr.implementsStiSteppedAreaArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiSteppedAreaArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),Zr.implementsStiSteppedAreaArea}getDefaultSeriesType(){return Q.d.StiSteppedAreaSeries}get componentId(){return Q.a.StiComponentId.StiSteppedAreaArea}createNew(){return new Zr}}Q.d.StiSteppedAreaArea=Zr}{class qr extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiSteppedLineAreaCoreXF(this)}implements(){return qr.implementsStiSteppedLineArea||(qr.implementsStiSteppedLineArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,Q.d.IStiSteppedLineArea,s,n])),qr.implementsStiSteppedLineArea}getDefaultSeriesType(){return Q.d.StiSteppedLineSeries}get componentId(){return Q.a.StiComponentId.StiSteppedLineArea}createNew(){return new qr}}Q.d.StiSteppedLineArea=qr}{class $r extends Q.d.StiAxisArea{constructor(){super(),this.roundValues=!1,this.core=new Q.d.StiWaterfallAreaCoreXF(this)}implements(){return $r.implementsStiWaterfallArea||($r.implementsStiWaterfallArea=super.implements().concat([Q.d.IStiWaterfallArea,Q.d.IStiRoundValuesArea])),$r.implementsStiWaterfallArea}meta(){return this._hash||(this._hash=[...super.meta(),new r("RoundValues")])}get componentId(){return Q.a.StiComponentId.StiWaterfallArea}getDefaultSeriesType(){return Q.d.StiWaterfallSeries}getSeriesTypes(){return[Q.d.StiWaterfallSeries]}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiInsideBaseAxisLabels,Q.d.StiInsideEndAxisLabels,Q.d.StiCenterAxisLabels,Q.d.StiOutsideBaseAxisLabels,Q.d.StiOutsideEndAxisLabels,Q.d.StiOutsideAxisLabels,Q.d.StiValueAxisLabels]}createNew(){return new $r}}Q.d.StiWaterfallArea=$r}{class Kr extends Q.d.StiArea{constructor(){super(),this.core=new Q.d.StiPieAreaCoreXF(this),this.colorEach=!0}implements(){return Kr.implementsStiPieArea||(Kr.implementsStiPieArea=super.implements().concat([s,Q.d.IStiPieArea,Q.d.IStiArea,n])),Kr.implementsStiPieArea}meta(){return this._hash||(this._hash=[...super.meta(),new ue("ColorEach")])}get componentId(){return Q.a.StiComponentId.StiPieArea}getDefaultSeriesLabelsType(){return Q.d.StiCenterPieLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiInsideEndPieLabels,Q.d.StiCenterPieLabels,Q.d.StiOutsidePieLabels,Q.d.StiTwoColumnsPieLabels]}getDefaultSeriesType(){return Q.d.StiPieSeries}getSeriesTypes(){return[Q.d.StiPieSeries]}createNew(){return new Kr}}Q.d.StiPieArea=Kr}{class Qr extends Q.d.StiPieArea{constructor(){super(),this.core=new Q.d.StiDoughnutAreaCoreXF(this),this.colorEach=!0}implements(){return Qr.implementsStiDoughnutArea||(Qr.implementsStiDoughnutArea=super.implements().concat([s,Q.d.IStiPieArea,Q.d.IStiArea,n,Q.d.IStiDoughnutArea])),Qr.implementsStiDoughnutArea}meta(){return this._hash||(this._hash=[...super.meta(),new ue("ColorEach")])}getDefaultSeriesLabelsType(){return Q.d.StiCenterPieLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterPieLabels]}getDefaultSeriesType(){return Q.d.StiDoughnutSeries}getSeriesTypes(){return[Q.d.StiDoughnutSeries]}get componentId(){return Q.a.StiComponentId.StiDoughnutArea}createNew(){return new Qr}}Q.d.StiDoughnutArea=Qr}{class Ur extends Q.d.StiClusteredBarArea{constructor(){super(),this.core=new Q.d.StiStackedBarAreaCoreXF(this)}implements(){return Ur.implementsStiStackedBarArea||(Ur.implementsStiStackedBarArea=super.implements().concat([Q.d.IStiClusteredBarArea,Q.d.IStiClusteredColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,s,Q.d.IStiStackedBarArea,n])),Ur.implementsStiStackedBarArea}getDefaultSeriesType(){return Q.d.StiStackedBarSeries}getSeriesTypes(){return[Q.d.StiStackedBarSeries]}get componentId(){return Q.a.StiComponentId.StiStackedBarArea}createNew(){return new Ur}}Q.d.StiStackedBarArea=Ur}{class es extends Q.d.StiStackedBarArea{constructor(){super(),this.core=new Q.d.StiFullStackedBarAreaCoreXF(this)}implements(){return es.implementsStiFullStackedBarArea||(es.implementsStiFullStackedBarArea=super.implements().concat([Q.d.IStiClusteredBarArea,Q.d.IStiClusteredColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiFullStackedBarArea,Q.d.IStiStackedBarArea,s,n])),es.implementsStiFullStackedBarArea}getDefaultSeriesType(){return Q.d.StiFullStackedBarSeries}getSeriesTypes(){return[Q.d.StiFullStackedBarSeries]}get componentId(){return Q.a.StiComponentId.StiFullStackedBarArea}createNew(){return new es}}Q.d.StiFullStackedBarArea=es}{class ts extends Q.d.StiAxisArea{constructor(){super(),this.core=new Q.d.StiStackedColumnAreaCoreXF(this)}implements(){return ts.implementsStiStackedColumnArea||(ts.implementsStiStackedColumnArea=super.implements().concat([s,Q.d.IStiStackedColumnArea,Q.d.IStiAxisArea,n,Q.d.IStiArea])),ts.implementsStiStackedColumnArea}get componentId(){return Q.a.StiComponentId.StiStackedColumnArea}getDefaultSeriesType(){return Q.d.StiStackedColumnSeries}getSeriesTypes(){return[Q.d.StiStackedColumnSeries,Q.d.StiStackedLineSeries,Q.d.StiStackedSplineSeries,Q.d.StiStackedAreaSeries,Q.d.StiStackedSplineAreaSeries]}createNew(){return new ts}}Q.d.StiStackedColumnArea=ts}{class is extends Q.d.StiStackedColumnArea{constructor(){super(),this.core=new Q.d.StiFullStackedColumnAreaCoreXF(this)}implements(){return is.implementsStiFullStackedColumnArea||(is.implementsStiFullStackedColumnArea=super.implements().concat([Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiFullStackedColumnArea,s,n])),is.implementsStiFullStackedColumnArea}getDefaultSeriesType(){return Q.d.StiFullStackedColumnSeries}getSeriesTypes(){return[Q.d.StiFullStackedColumnSeries,Q.d.StiFullStackedLineSeries,Q.d.StiFullStackedAreaSeries,Q.d.StiFullStackedSplineSeries,Q.d.StiFullStackedSplineAreaSeries]}get componentId(){return Q.a.StiComponentId.StiFullStackedColumnArea}createNew(){return new is}}Q.d.StiFullStackedColumnArea=is}{class rs extends Q.d.StiFullStackedColumnArea{constructor(){super(),this.core=new Q.d.StiFullStackedAreaAreaCoreXF(this)}implements(){return rs.implementsStiFullStackedAreaArea||(rs.implementsStiFullStackedAreaArea=super.implements().concat([Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiFullStackedColumnArea,s,n,Q.d.IStiFullStackedAreaArea])),rs.implementsStiFullStackedAreaArea}getDefaultSeriesType(){return Q.d.StiFullStackedAreaSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedAreaArea}createNew(){return new rs}}Q.d.StiFullStackedAreaArea=rs}{class ss extends Q.d.StiFullStackedColumnArea{constructor(){super(),this.core=new Q.d.StiFullStackedLineAreaCoreXF(this)}implements(){return ss.implementsStiFullStackedLineArea||(ss.implementsStiFullStackedLineArea=super.implements().concat([Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiFullStackedColumnArea,s,n,Q.d.IStiFullStackedLineArea])),ss.implementsStiFullStackedLineArea}getDefaultSeriesType(){return Q.d.StiFullStackedLineSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedLineArea}createNew(){return new ss}}Q.d.StiFullStackedLineArea=ss}{class ns extends Q.d.StiFullStackedColumnArea{constructor(){super(),this.core=new Q.d.StiFullStackedSplineAreaCoreXF(this)}implements(){return ns.implementsStiFullStackedSplineArea||(ns.implementsStiFullStackedSplineArea=super.implements().concat([Q.d.IStiFullStackedSplineArea,Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiFullStackedColumnArea,s,n])),ns.implementsStiFullStackedSplineArea}getDefaultSeriesType(){return Q.d.StiFullStackedSplineAreaSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedSplineArea}createNew(){return new ns}}Q.d.StiFullStackedSplineArea=ns}{class ls extends Q.d.StiFullStackedColumnArea{constructor(){super(),this.core=new Q.d.StiFullStackedSplineAreaAreaCoreXF(this)}implements(){return ls.implementsStiFullStackedSplineAreaArea||(ls.implementsStiFullStackedSplineAreaArea=super.implements().concat([Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiFullStackedColumnArea,Q.d.IStiFullStackedSplineAreaArea,s,n])),ls.implementsStiFullStackedSplineAreaArea}getDefaultSeriesType(){return Q.d.StiFullStackedSplineSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedSplineAreaArea}createNew(){return new ls}}Q.d.StiFullStackedSplineAreaArea=ls}{class as extends Q.d.StiArea{constructor(){super(),this.core=new Q.d.StiFunnelAreaCoreXF(this),this.colorEach=!0}implements(){return as.implementsStiFunnelArea||(as.implementsStiFunnelArea=super.implements().concat([s,Q.d.IStiArea,n,Q.d.IStiFunnelArea])),as.implementsStiFunnelArea}meta(){return this._hash||(this._hash=[...super.meta(),new ue("ColorEach")])}get componentId(){return Q.a.StiComponentId.StiFunnelArea}getDefaultSeriesType(){return Q.d.StiFunnelSeries}getSeriesTypes(){return[Q.d.StiFunnelSeries]}getDefaultSeriesLabelsType(){return Q.d.StiNoneLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterFunnelLabels,Q.d.StiOutsideRightFunnelLabels,Q.d.StiOutsideLeftFunnelLabels]}createNew(){return new as}}Q.d.StiFunnelArea=as}{class os extends Q.d.StiFunnelArea{get componentId(){return Q.a.StiComponentId.StiFunnelWeightedSlicesArea}getDefaultSeriesType(){return Q.d.StiFunnelWeightedSlicesSeries}getSeriesTypes(){return[Q.d.StiFunnelWeightedSlicesSeries]}getDefaultSeriesLabelsType(){return Q.d.StiNoneLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterFunnelLabels]}createNew(){return new os}constructor(){super(),this.core=new Q.d.StiFunnelAreaCoreXF(this),this.colorEach=!0}}Q.d.StiFunnelWeightedSlicesArea=os}{class hs extends Q.d.StiClusteredBarArea{constructor(){super(),this.core=new Q.d.StiGanttAreaCoreXF(this)}implements(){return hs.implementsStiGanttArea||(hs.implementsStiGanttArea=super.implements().concat([Q.d.IStiClusteredBarArea,Q.d.IStiClusteredColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,s,Q.d.IStiGanttArea,n])),hs.implementsStiGanttArea}getDefaultSeriesType(){return Q.d.StiGanttSeries}getSeriesTypes(){return[Q.d.StiGanttSeries]}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiValueAxisLabels,Q.d.StiCenterAxisLabels,Q.d.StiOutsideAxisLabels]}get componentId(){return Q.a.StiComponentId.StiGanttArea}createNew(){return new hs}}Q.d.StiGanttArea=hs}{class us extends Q.d.StiArea{constructor(){super(),this.roundValues=!0,this.actual=!1,this.core=new Q.d.StiPictorialAreaCoreXF(this),this.colorEach=!0,this.roundValues=!0}implements(){return us.implementsStiPictorialArea||(us.implementsStiPictorialArea=super.implements().concat([s,Q.d.IStiPictorialArea,Q.d.IStiRoundValuesArea,Q.d.IStiArea,n])),us.implementsStiPictorialArea}meta(){return this._hash||(this._hash=[...super.meta(),new r("RoundValues","",!0),new r("Actual","",!0)])}get componentId(){return Q.a.StiComponentId.StiPictorialArea}getDefaultSeriesLabelsType(){return Q.d.StiNoneLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels]}getDefaultSeriesType(){return Q.d.StiPictorialSeries}getSeriesTypes(){return[Q.d.StiPictorialSeries]}createNew(){return new us}}Q.d.StiPictorialArea=us}{class ds extends Q.d.StiArea{constructor(){super(),this.core=new Q.d.StiPictorialStackedAreaCoreXF(this),this.colorEach=!0}implements(){return ds.implementsStiPictorialStackedArea||(ds.implementsStiPictorialStackedArea=super.implements().concat([s,Q.d.IStiArea,n])),ds.implementsStiPictorialStackedArea}get componentId(){return Q.a.StiComponentId.StiPictorialStackedArea}getDefaultSeriesLabelsType(){return Q.d.StiOutsideRightPictorialStackedLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterPictorialStackedLabels,Q.d.StiOutsideLeftPictorialStackedLabels,Q.d.StiOutsideRightPictorialStackedLabels]}getDefaultSeriesType(){return Q.d.StiPictorialStackedSeries}getSeriesTypes(){return[Q.d.StiPictorialStackedSeries]}createNew(){return new ds}}Q.d.StiPictorialStackedArea=ds}{class cs extends Q.d.StiPieArea{meta(){return this._hash||(this._hash=[...super.meta(),new ue("ColorEach")])}getDefaultSeriesLabelsType(){return Q.d.StiCenterPie3dLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterPie3dLabels]}getDefaultSeriesType(){return Q.d.StiPie3dSeries}getSeriesTypes(){return[Q.d.StiPie3dSeries]}get componentId(){return Q.a.StiComponentId.StiPie3dArea}createNew(){return new cs}constructor(){super(),this.core=new Q.d.StiPie3dAreaCoreXF(this),this.colorEach=!0}}Q.d.StiPie3dArea=cs}{class ms extends Q.d.StiRadarArea{constructor(){super(),this.core=new Q.d.StiRadarAreaAreaCoreXF(this)}implements(){return ms.implementsStiRadarAreaArea||(ms.implementsStiRadarAreaArea=super.implements().concat([s,Q.d.IStiRadarArea,Q.d.IStiArea,Q.d.IStiRadarAreaArea,n])),ms.implementsStiRadarAreaArea}get componentId(){return Q.a.StiComponentId.StiRadarAreaArea}getDefaultSeriesType(){return Q.d.StiRadarAreaSeries}getSeriesTypes(){return[Q.d.StiRadarPointSeries,Q.d.StiRadarLineSeries,Q.d.StiRadarAreaSeries]}createNew(){return new ms}}Q.d.StiRadarAreaArea=ms}{class Ss extends Q.d.StiRadarArea{constructor(){super(),this.core=new Q.d.StiRadarLineAreaCoreXF(this)}implements(){return Ss.implementsStiRadarLineArea||(Ss.implementsStiRadarLineArea=super.implements().concat([s,Q.d.IStiRadarArea,Q.d.IStiArea,n,Q.d.IStiRadarLineArea])),Ss.implementsStiRadarLineArea}get componentId(){return Q.a.StiComponentId.StiRadarLineArea}getDefaultSeriesType(){return Q.d.StiRadarLineSeries}getSeriesTypes(){return[Q.d.StiRadarPointSeries,Q.d.StiRadarLineSeries,Q.d.StiRadarAreaSeries]}createNew(){return new Ss}}Q.d.StiRadarLineArea=Ss}{class gs extends Q.d.StiRadarArea{constructor(){super(),this.core=new Q.d.StiRadarPointAreaCoreXF(this)}implements(){return gs.implementsStiRadarPointArea||(gs.implementsStiRadarPointArea=super.implements().concat([s,Q.d.IStiRadarPointArea,Q.d.IStiRadarArea,Q.d.IStiArea,n])),gs.implementsStiRadarPointArea}get componentId(){return Q.a.StiComponentId.StiRadarPointArea}getDefaultSeriesType(){return Q.d.StiRadarPointSeries}getSeriesTypes(){return[Q.d.StiRadarPointSeries,Q.d.StiRadarLineSeries,Q.d.StiRadarAreaSeries]}createNew(){return new gs}}Q.d.StiRadarPointArea=gs}{class ps extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiRangeAreaCoreXF(this)}implements(){return ps.implementsStiRangeArea||(ps.implementsStiRangeArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiRangeArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),ps.implementsStiRangeArea}getDefaultSeriesType(){return Q.d.StiRangeSeries}getSeriesTypes(){return[Q.d.StiRangeSeries]}get componentId(){return Q.a.StiComponentId.StiRangeArea}createNew(){return new ps}}Q.d.StiRangeArea=ps}{class fs extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiRangeBarAreaCoreXF(this)}implements(){return fs.implementsStiRangeBarArea||(fs.implementsStiRangeBarArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiRangeBarArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),fs.implementsStiRangeBarArea}getDefaultSeriesType(){return Q.d.StiRangeBarSeries}getSeriesTypes(){return[Q.d.StiRangeBarSeries]}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiInsideBaseAxisLabels,Q.d.StiOutsideBaseAxisLabels,Q.d.StiOutsideAxisLabels,Q.d.StiLeftAxisLabels,Q.d.StiValueAxisLabels,Q.d.StiRightAxisLabels]}get componentId(){return Q.a.StiComponentId.StiRangeBarArea}createNew(){return new fs}}Q.d.StiRangeBarArea=fs}{class ws extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiSplineRangeAreaCoreXF(this)}implements(){return ws.implementsStiSplineRangeArea||(ws.implementsStiSplineRangeArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiClusteredColumnArea,Q.d.IStiSplineRangeArea,s,n])),ws.implementsStiSplineRangeArea}getDefaultSeriesType(){return Q.d.StiSplineRangeSeries}getSeriesTypes(){return[Q.d.StiSplineRangeSeries]}get componentId(){return Q.a.StiComponentId.StiSplineRangeArea}createNew(){return new ws}}Q.d.StiSplineRangeArea=ws}{class xs extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiSteppedRangeAreaCoreXF(this)}implements(){return xs.implementsStiSteppedRangeArea||(xs.implementsStiSteppedRangeArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiClusteredColumnArea,Q.d.IStiSteppedRangeArea,Q.d.IStiAxisArea,s,n])),xs.implementsStiSteppedRangeArea}getDefaultSeriesType(){return Q.d.StiSteppedRangeSeries}getSeriesTypes(){return[Q.d.StiSteppedRangeSeries]}get componentId(){return Q.a.StiComponentId.StiSteppedRangeArea}createNew(){return new xs}}Q.d.StiSteppedRangeArea=xs}{class Cs extends Q.d.StiAxisArea{constructor(){super(),this.core=new Q.d.StiStackedColumnAreaCoreXF(this)}implements(){return Cs.implementsStiRibbonArea||(Cs.implementsStiRibbonArea=super.implements().concat([s,Q.d.IStiRibbonArea,Q.d.IStiAxisArea,n,Q.d.IStiArea])),Cs.implementsStiRibbonArea}get componentId(){return Q.a.StiComponentId.StiRibbonArea}getDefaultSeriesType(){return Q.d.StiRibbonSeries}getSeriesTypes(){return[Q.d.StiRibbonSeries]}createNew(){return new Cs}}Q.d.StiRibbonArea=Cs}{class bs extends Q.d.StiStackedColumnArea{constructor(){super(),this.core=new Q.d.StiStackedAreaAreaCoreXF(this)}implements(){return bs.implementsStiStackedAreaArea||(bs.implementsStiStackedAreaArea=super.implements().concat([Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiStackedAreaArea,s,n])),bs.implementsStiStackedAreaArea}getDefaultSeriesType(){return Q.d.StiStackedAreaSeries}get componentId(){return Q.a.StiComponentId.StiStackedAreaArea}createNew(){return new bs}}Q.d.StiStackedAreaArea=bs}{class ys extends Q.d.StiStackedColumnArea{constructor(){super(),this.core=new Q.d.StiStackedLineAreaCoreXF(this)}implements(){return ys.implementsStiStackedLineArea||(ys.implementsStiStackedLineArea=super.implements().concat([Q.d.IStiStackedLineArea,Q.d.IStiArea,Q.d.IStiAxisArea,Q.d.IStiStackedColumnArea,s,n])),ys.implementsStiStackedLineArea}getDefaultSeriesType(){return Q.d.StiStackedLineSeries}get componentId(){return Q.a.StiComponentId.StiStackedLineArea}createNew(){return new ys}}Q.d.StiStackedLineArea=ys}{class As extends Q.d.StiStackedColumnArea{constructor(){super(),this.core=new Q.d.StiStackedSplineAreaCoreXF(this)}implements(){return As.implementsStiStackedSplineArea||(As.implementsStiStackedSplineArea=super.implements().concat([Q.d.IStiStackedSplineArea,Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiAxisArea,s,n])),As.implementsStiStackedSplineArea}getDefaultSeriesType(){return Q.d.StiStackedSplineAreaSeries}get componentId(){return Q.a.StiComponentId.StiStackedSplineArea}createNew(){return new As}}Q.d.StiStackedSplineArea=As}{class vs extends Q.d.StiStackedColumnArea{constructor(){super(),this.core=new Q.d.StiStackedSplineAreaAreaCoreXF(this)}implements(){return vs.implementsStiStackedSplineAreaArea||(vs.implementsStiStackedSplineAreaArea=super.implements().concat([Q.d.IStiAxisArea,Q.d.IStiStackedColumnArea,Q.d.IStiArea,Q.d.IStiStackedSplineAreaArea,s,n])),vs.implementsStiStackedSplineAreaArea}getDefaultSeriesType(){return Q.d.StiStackedSplineSeries}get componentId(){return Q.a.StiComponentId.StiStackedSplineAreaArea}createNew(){return new vs}}Q.d.StiStackedSplineAreaArea=vs}{class Ls extends Q.d.StiClusteredColumnArea{constructor(){super(),this.core=new Q.d.StiStockAreaCoreXF(this)}implements(){return Ls.implementsStiStockArea||(Ls.implementsStiStockArea=super.implements().concat([Q.d.IStiArea,Q.d.IStiStockArea,Q.d.IStiClusteredColumnArea,Q.d.IStiAxisArea,s,n])),Ls.implementsStiStockArea}getDefaultSeriesType(){return Q.d.StiStockSeries}getSeriesTypes(){return[Q.d.StiStockSeries]}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels]}get componentId(){return Q.a.StiComponentId.StiStockArea}createNew(){return new Ls}}Q.d.StiStockArea=Ls}{class Ts extends Q.d.StiArea{constructor(){super(),this.core=new Q.d.StiSunburstAreaCoreXF(this)}implements(){return Ts.implementsStiSunburstArea||(Ts.implementsStiSunburstArea=super.implements().concat([s,Q.d.IStiSunburstArea,n])),Ts.implementsStiSunburstArea}get componentId(){return Q.a.StiComponentId.StiSunburstArea}getDefaultSeriesLabelsType(){return Q.d.StiCenterPieLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterPieLabels]}getDefaultSeriesType(){return Q.d.StiSunburstSeries}getSeriesTypes(){return[Q.d.StiSunburstSeries]}createNew(){return new Ts}}Q.d.StiSunburstArea=Ts}{class ks extends Q.d.StiArea{constructor(){super(),this.core=new Q.d.StiTreemapAreaCoreXF(this)}implements(){return ks.implementsStiTreemapArea||(ks.implementsStiTreemapArea=super.implements().concat([s,Q.d.IStiTreemapArea,n])),ks.implementsStiTreemapArea}get componentId(){return Q.a.StiComponentId.StiTreemapArea}getDefaultSeriesLabelsType(){return Q.d.StiNoneLabels}getSeriesLabelsTypes(){return[Q.d.StiNoneLabels,Q.d.StiCenterTreemapLabels]}getDefaultSeriesType(){return Q.d.StiTreemapSeries}getSeriesTypes(){return[Q.d.StiTreemapSeries]}createNew(){return new ks}}Q.d.StiTreemapArea=ks}{class Is{constructor(e=new X("Tahoma",12,_.Bold),t="",i=ee.black,r=!0,s=A.Center,n=Q.d.StiDirection.LeftToRight,l=!0,a=Q.d.StiTitlePosition.Outside){this.allowApplyStyle=!0,this.font=new X("Tahoma",12,_.Bold),this.text="",this.color=ee.black,this.antialiasing=!0,this.alignment=A.Center,this.position=Q.d.StiTitlePosition.Outside,this.direction=Q.d.StiDirection.LeftToRight,this.font=e,this.text=t,this.color=i,this.antialiasing=r,this.alignment=s,this.direction=n,this.allowApplyStyle=l,this.position=a,this.core=new Q.d.StiAxisTitleCoreXF(this)}implements(){return Is.implementsStiAxisTitle||(Is.implementsStiAxisTitle=[Q.d.IStiAxisTitle,n,s]),Is.implementsStiAxisTitle}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","",!0),new V("Font","","Tahoma",12,_.Bold),new o("Text"),new i("Color","",ee.black),new r("Antialiasing","",!0),new l("Alignment","",A,A.Center),new l("Position","",Q.d.StiTitlePosition,Q.d.StiTitlePosition.Outside),new l("Direction","",Q.d.StiDirection,Q.d.StiDirection.LeftToRight)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.alignment=this.alignment,e.direction=this.direction,e.font=this.font.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.title=e),e}}Q.d.StiAxisTitle=Is}{class Fs extends N{constructor(){super(),this._allowApplyStyle=!0,this.antialiasing=!0,this.position=Q.d.StiConstantLines_StiTextPosition.LeftTop,this.font=new X("Arial",7),this.text="",this.titleVisible=!0,this.orientation=Q.d.StiConstantLines_StiOrientation.Horizontal,this.lineWidth=1,this.lineStyle=f.Solid,this.lineColor=ee.black,this.showInLegend=!0,this.showBehind=!1,this.axisValue="1",this.visible=!0,this.core=new Q.d.StiConstantLinesCoreXF(this)}implements(){return Fs.implementsStiConstantLines||(Fs.implementsStiConstantLines=super.implements().concat([Q.d.IStiConstantLines,n,s])),Fs.implementsStiConstantLines}meta(){return this._hash||(this._hash=[...super.meta(),new r("AllowApplyStyle","",!0),new r("Antialiasing","",!0),new l("Position","",Q.d.StiConstantLines_StiTextPosition,Q.d.StiConstantLines_StiTextPosition.LeftTop),new V(["Font","fn"],"","Arial",7),new o("Text"),new r("TitleVisible","",!0),new l("Orientation","",Q.d.StiConstantLines_StiOrientation,Q.d.StiConstantLines_StiOrientation.Horizontal),new h("LineWidth","",1),new l("LineStyle","",f,f.Solid),new i("LineColor","",ee.black),new r("ShowInLegend","",!0),new r("ShowBehind"),new E("AxisValue","","1"),new r("Visible","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiConstantLines}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.constantLines=e),e}get serviceCategory(){return"Chart"}get ServiceType(){return Fs}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}toString(){return this.serviceName}}Q.d.StiConstantLines=Fs}{class Bs extends z{implements(){return Bs.implementsStiChartFiltersCollection||(Bs.implementsStiChartFiltersCollection=[s,n]),Bs.implementsStiChartFiltersCollection}saveToJsonObject(e){if(0==this.list.length)return null;let t=new H,i=0;for(var r of this.list)t.addPropertyJObject(i.toString(),r.saveToJsonObject(e)),i++;return t}loadFromJsonObject(e){for(var t of e.properties()){let e=new Q.d.StiChartFilter;this.add(e),e.loadFromJsonObject(t.value)}}loadFromXml(i){for(let e=0;e<i.childNodes.length;e++){let t=i.childNodes[e];if("value"==t.nodeName){var r=t.textContent.split(",");let e=r[2];"LessThenOrEqualTo"==(e="LessThen"==(e="GreaterThenOrEqualTo"==(e="GreaterThen"==e?"GreaterThan":e)?"GreaterThanOrEqualTo":e)?"LessThan":e)&&(e="LessThanOrEqualTo");var r=new Q.d.StiChartFilter(ce.parse(oe,r[0]),ce.parse(R,r[1]),ce.parse(B,e),me.decodeName(r[3]));this.add(r)}}}clone(){let e=new Bs;for(var t of this.list)e.add(t.clone());return e}add(e){this.list.push(e),null==e.filters&&(e.filters=this)}}Q.d.StiChartFiltersCollection=Bs}{class Rs{constructor(e,t,i,r,s,n,l,a,o,h,u,d,c,m){this.index=e,this.argument=t,this.value=i,this.valueEnd=r,this.weight=s,this.valueOpen=n,this.valueClose=l,this.valueLow=a,this.valueHigh=o,this.title=h,this.key=u,this.color=d,this.toolTip=c,this.tag=m}}Q.d.StiDataItem=Rs,Q.d.StiDataItemComparer=class{constructor(e,t){this.directionFactor=1,this.sortType=Q.d.StiSeriesSortType.None,this.directionFactor=1,t==Q.d.StiSeriesSortDirection.Descending&&(this.directionFactor=-1),this.sortType=e}compare(e,t){let i=null,r=null;if(r=this.sortType==Q.d.StiSeriesSortType.Value?(i=e.value,t.value):(i=e.argument,t.argument),null==i&&null==r)return 0;if(null==i)return 1;if(null==r)return-1;let s=i.stimulsoft().compareTo(r);return(s=0==s?e.index.stimulsoft().compareTo(t.index):s)*this.directionFactor}}}{class Ps{constructor(e=ee.silver,t=f.Solid,i=!0,r=!0){this.needSetAreaJsonPropertyInternal=!1,this._allowApplyStyle=!0,this.color=ee.silver,this.style=f.Solid,this.visible=!0,this.color=e,this.style=t,this.visible=i,this._allowApplyStyle=r,this.core=new Q.d.StiRadarGridLinesCoreXF(this)}implements(){return Ps.implementsStiRadarGridLines||(Ps.implementsStiRadarGridLines=[s,Q.d.IStiRadarGridLines,n]),Ps.implementsStiRadarGridLines}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","_",!0),new i("Color","",ee.silver),new l("Style","",f,f.Dot),new r("Visible","",!0),new r("Area","needSetAreaJsonPropertyInternal").get(()=>null!=this.area)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiRadarGridLines}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return e.style=this.style,null!=this.core&&(e.core=this.core.clone(),e.core.gridLines=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}}Q.d.StiRadarGridLines=Ps}{class Ds extends Q.d.StiRadarGridLines{constructor(e=ee.silver,t=f.Solid,i=!0,r=!0){super(e,t,i,r)}implements(){return Ds.implementsStiRadarGridLinesHor||(Ds.implementsStiRadarGridLinesHor=super.implements().concat([s,Q.d.IStiRadarGridLines,Q.d.IStiRadarGridLinesHor,n])),Ds.implementsStiRadarGridLinesHor}}Q.d.StiRadarGridLinesHor=Ds}{class Ms extends Q.d.StiRadarGridLines{constructor(e=ee.silver,t=f.Solid,i=!0,r=!0){super(e,t,i,r)}implements(){return Ms.implementsStiRadarGridLinesVert||(Ms.implementsStiRadarGridLinesVert=super.implements().concat([s,Q.d.IStiRadarGridLines,Q.d.IStiRadarGridLinesVert,n])),Ms.implementsStiRadarGridLinesVert}}Q.d.StiRadarGridLinesVert=Ms}let ei=Q.a.Helpers.StiFontIcons;Q.d.StiMarker=class{constructor(){this.showInLegend=!0,this.visible=!0,this.extendedVisible=Q.d.StiExtendedStyleBool.FromStyle,this.brush=new ie(ee.white),this.borderColor=ee.black,this.size=7,this.angle=0,this.type=Q.d.StiMarkerType.Circle,this.icon=null,this.core=new Q.d.StiMarkerCoreXF(this)}implements(){return Q.d.StiLineMarker.implementsStiMarker||(Q.d.StiLineMarker.implementsStiMarker=[s,Q.d.IStiMarker,n]),Q.d.StiLineMarker.implementsStiMarker}is(e){if(e instanceof Z.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return this._hash||(this._hash=[new r("ShowInLegend","",!0),new r("Visible","",!0),new e(["Brush","br"]),new i("BorderColor","",ee.black),new h("Size","",7),new h("Angle"),new l("Type","",Q.d.StiMarkerType,Q.d.StiMarkerType.Circle),new l("Icon","",ei)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiMarker}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.marker=e),e}};{class Es extends Q.d.StiMarker{constructor(){super(),this.step=15,this.visible=!1,this.borderColor=ee.transparent,this.size=5}implements(){return Es.implementsStiLineMarker||(Es.implementsStiLineMarker=super.implements().concat([s,Q.d.IStiLineMarker,Q.d.IStiMarker,n])),Es.implementsStiLineMarker}meta(){return this._hash||(this._hash=[...super.meta(),new h("Step","",15),new h("Size","",5),new r("Visible","",!1),new i("BorderColor","",ee.transparent)])}get componentId(){return Q.a.StiComponentId.StiLineMarker}}Q.d.StiLineMarker=Es}{class Ns{constructor(e=new Q.d.StiAxisRange,t=!0,i=!0){this.jsonLoadFromJsonObjectArea=!1,this._allowApplyStyle=!0,this.visible=!0,this.range=e,this.visible=t,this._allowApplyStyle=i}implements(){return Ns.implementsStiRadarAxis||(Ns.implementsStiRadarAxis=[s,Q.d.IStiRadarAxis,n]),Ns.implementsStiRadarAxis}meta(){return this._hash||(this._hash=[new r("AllowApplyStyle","_",!0),new r("Visible","",!0),new a("Range"),new r("Area","jsonLoadFromJsonObjectArea").get(()=>null!=this.area)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.axis=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}}Q.d.StiRadarAxis=Ns}{class Os{constructor(e="",t=new X("Tahoma",8),i=!0,r=!1,s=ee.black,n=ee.black,l=new ie(ee.gainsboro),a=!0,o=!0,h=0,u=!1){this.allowApplyStyle=!0,this.rotationLabels=!0,this.textBefore="",this.textAfter="",this.drawBorder=!1,this.format="",this.font=new X("Tahoma",8),this.antialiasing=!0,this.color=ee.black,this.borderColor=ee.black,this.brush=new ie(ee.gainsboro),this.width=0,this.wordWrap=!1,this.format=e,this.font=t,this.antialiasing=i,this.drawBorder=r,this.color=s,this.borderColor=n,this.allowApplyStyle=a,this.brush=l,this.rotationLabels=o,this.width=h,this.wordWrap=u,this.core=new Q.d.StiRadarAxisLabelsCoreXF(this)}implements(){return Os.implementsStiRadarAxisLabels||(Os.implementsStiRadarAxisLabels=[s,Q.d.IStiRadarAxisLabels,n]),Os.implementsStiRadarAxisLabels}meta(){return this._hash||(this._hash=[new r("RotationLabels","",!0),new o("TextBefore"),new o("TextAfter"),new r("AllowApplyStyle","",!0),new r("DrawBorder"),new o("Format"),new V(["Font","fn"],"","Tahoma",8),new r("Antialiasing","",!0),new i("Color","",ee.black),new i("BorderColor","",ee.black),new e(["Brush","bh"]),new h("Width","",0),new r("WordWrap")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e.brush=this.brush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.labels=e),e}}Q.d.StiRadarAxisLabels=Os}{class Gs extends Q.d.StiRadarAxis{constructor(e=new Q.d.StiRadarAxisLabels,t=new Q.d.StiAxisRange,i=!0,r=!0){super(t,i,r),this.labels=new Q.d.StiRadarAxisLabels,this.core=new Q.d.StiXRadarAxisCoreXF(this),this.labels=e}implements(){return Gs.implementsStiXRadarAxis||(Gs.implementsStiXRadarAxis=super.implements().concat([Q.d.IStiXRadarAxis,Q.d.IStiRadarAxis,n,s])),Gs.implementsStiXRadarAxis}meta(){return this._hash||(this._hash=[...super.meta(),new a("Labels")])}get componentId(){return Q.a.StiComponentId.StiXRadarAxis}get propName(){return""}clone(){let e=super.clone();return e.labels=this.labels.clone(),e}get xCore(){return this.core}}Q.d.StiXRadarAxis=Gs}{class Vs extends Q.d.StiRadarAxis{constructor(e=new Q.d.StiAxisLabels,t=new Q.d.StiAxisRange,i=new Q.d.StiAxisTicks,r=f.Solid,s=ee.gray,n=1,l=!0,a=!0){super(t,l,a),this.labels=new Q.d.StiAxisLabels,this.ticks=new Q.d.StiAxisTicks,this.lineStyle=f.Solid,this.lineColor=ee.gray,this.lineWidth=1,this.info=new Q.d.StiAxisInfoXF,this.core=new Q.d.StiYRadarAxisCoreXF(this),this.labels=e,this.ticks=i,this.lineStyle=r,this.lineColor=s,this.lineWidth=n}implements(){return Vs.implementsStiYRadarAxis||(Vs.implementsStiYRadarAxis=super.implements().concat([Q.d.IStiYRadarAxis,Q.d.IStiRadarAxis,n,s])),Vs.implementsStiYRadarAxis}meta(){return this._hash||(this._hash=[...super.meta(),new a("Labels"),new a("Ticks"),new l("LineStyle","",f,f.Solid),new i("LineColor","",ee.gray),new h("LineWidth","",1)])}get componentId(){return Q.a.StiComponentId.StiYRadarAxis}get propName(){return""}clone(){let e=super.clone();return e.lineStyle=this.lineStyle,e.labels=this.labels.clone(),e.ticks=this.ticks.clone(),e}get yCore(){return this.core}}Q.d.StiYRadarAxis=Vs}{class Xs{constructor(){this.parentSeries=null}implements(){return Xs.implementsStiSeriesInteraction||(Xs.implementsStiSeriesInteraction=[Q.d.IStiSeriesInteraction,s,n]),Xs.implementsStiSeriesInteraction}meta(){return this._hash||(this._hash=[new o("DrillDownPageGuid")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiSeriesInteraction}get propName(){return""}getReport(){if(null==this.parentSeries)return null;if(null==this.parentSeries.chart)return null;return this.parentSeries.chart.report}clone(){var e;return this.stimulsoft().memberwiseClone()}isDefault(){return G.isNullOrEmpty(this.hyperlinkDataColumn)&&G.isNullOrEmpty(this.tagDataColumn)&&G.isNullOrEmpty(this.toolTipDataColumn)&&G.isNullOrEmpty(this.hyperlink)&&G.isNullOrEmpty(this.tag)&&G.isNullOrEmpty(this.toolTip)&&G.isNullOrEmpty(this.listOfHyperlinks)&&G.isNullOrEmpty(this.listOfTags)&&G.isNullOrEmpty(this.listOfToolTips)}get hyperlink(){return this.parentSeries.hyperlink}set hyperlink(e){this.parentSeries.hyperlink=e}get tag(){return this.parentSeries.tag}set tag(e){this.parentSeries.tag=e}get toolTip(){return this.parentSeries.toolTip}set toolTip(e){this.parentSeries.toolTip=e}get hyperlinkDataColumn(){return this.parentSeries.hyperlinkDataColumn}set hyperlinkDataColumn(e){this.parentSeries.hyperlinkDataColumn=e}get tagDataColumn(){return this.parentSeries.tagDataColumn}set tagDataColumn(e){this.parentSeries.tagDataColumn=e}get toolTipDataColumn(){return this.parentSeries.toolTipDataColumn}set toolTipDataColumn(e){this.parentSeries.toolTipDataColumn=e}get listOfHyperlinks(){return this.parentSeries.listOfHyperlinks}set listOfHyperlinks(e){this.parentSeries.listOfHyperlinks=e}get listOfTags(){return this.parentSeries.listOfTags}set listOfTags(e){this.parentSeries.listOfTags=e}get listOfToolTips(){return this.parentSeries.listOfToolTips}set listOfToolTips(e){this.parentSeries.listOfToolTips=e}get allowSeries(){return this.parentSeries.allowSeries}set allowSeries(e){this.parentSeries.allowSeries=e}get allowSeriesElements(){return this.parentSeries.allowSeriesElements}set allowSeriesElements(e){this.parentSeries.allowSeriesElements=e}get drillDownEnabled(){return this.parentSeries.drillDownEnabled}set drillDownEnabled(e){this.parentSeries.drillDownEnabled=e}get drillDownReport(){return this.parentSeries.drillDownReport}set drillDownReport(e){this.parentSeries.drillDownReport=e}get drillDownPage(){return this.parentSeries.drillDownPage}set drillDownPage(e){this.parentSeries.drillDownPage=e}get drillDownPageGuid(){return this.parentSeries.drillDownPageGuid}set drillDownPageGuid(e){this.parentSeries.drillDownPageGuid=e}get parentComponent(){if(null==this.parentSeries||null==this.parentSeries.chart)return null;return this.parentSeries.chart}}Q.d.StiSeriesInteraction=Xs}Q.d.StiSeriesPointsInfo=class{constructor(){this.additionalSeriesId=""}};{class _s extends Q.d.StiSeries{constructor(){super(),this.allowApplyBrush=!1,this.showInnerPoints=!1,this.showMeanMarkers=!0,this.borderThickness=1,this.seriesLabels=new Q.d.StiNoneLabels,this.core=new Q.d.StiBoxAndWhiskerSeriesCoreXF(this)}implements(){return _s.implementsStiBoxAndWhiskerSeries||(_s.implementsStiBoxAndWhiskerSeries=super.implements().concat([Q.d.IStiBoxAndWhiskerSeries,Q.d.IStiSeriesBorderThickness])),_s.implementsStiBoxAndWhiskerSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["TopN","TrendLine"]),new r("ShowInnerPoints"),new r("ShowMeanMarkers","",!0),new h("BorderThickness","",1),new e("Brush")])}get componentId(){return Q.a.StiComponentId.StiBoxAndWhiskerSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiBoxAndWhiskerArea}createNew(){return new _s}}Q.d.StiBoxAndWhiskerSeries=_s}{class Hs extends Q.d.StiScatterSeries{constructor(){super(),this.borderColor=ee.gray,this.brush=new ie(ee.gainsboro),this._weights=[1,3,2],this.weightDataColumn="",this.weight="",this.listOfWeights="",this.icon=null,this.borderThickness=1,this.core=new Q.d.StiBubbleSeriesCoreXF(this)}implements(){return Hs.implementsStiBubbleSeries||(Hs.implementsStiBubbleSeries=super.implements().concat([Q.d.IStiBaseLineSeries,Q.d.IStiBubbleSeries,Q.d.IStiFontIconsSeries,Q.d.IStiScatterSeries,Q.d.IStiSeriesBorderThickness,s,Q.d.IStiSeries,n])),Hs.implementsStiBubbleSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["LineMarker","Marker"]),new i("BorderColor","",ee.gray),new h("BorderThickness","",1),new e("Brush"),new o("WeightDataColumn"),new Se("Weight"),new Se("ListOfWeights"),new l("Icon","",ei)])}get componentId(){return Q.a.StiComponentId.StiBubbleSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiBubbleArea}get weights(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfWeights))return Q.d.StiSeries.getValuesFromString(this.listOfWeights);var e=this.chart.series.indexOf(this);if(0==e)return this._weights;return[3+3*e,5+4*e,9+3*e]}return this._weights}set weights(e){this._weights=e}get weightsString(){let e=new we,t=!0;for(var i of this.weights)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set weightsString(t){if(null==t||0==t.trim().length)this._weights=[];else{var t=t.split(";"),i;this._weights=U.create(Number,t.length);let e=0;for(i of t)this._weights[e++]=i.stimulsoft().toNumber()}}onGetWeight(e){}invokeGetWeight(e,t){try{this.onGetWeight(t),null!=this.getWeight&&this.getWeight(e,t)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetWeight...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfWeights(e){}invokeGetListOfWeights(t,i,r){try{if(this.onGetListOfWeights(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSeriesListOfWeights**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfWeights,e);i.value=t.report.toString2(s)}null!=this.getListOfWeights&&this.getListOfWeights(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfWeights...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}createNew(){return new Hs}}Q.d.StiBubbleSeries=Hs}{class zs extends Q.d.StiSeries{constructor(){super(),this.showZeros=!1,this.cornerRadius=new Mt,this._width=.9,this.borderColor=ee.gray,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.icon=null,this.borderThickness=1,this.core=new Q.d.StiClusteredColumnSeriesCoreXF(this)}implements(){return zs.implementsStiClusteredColumnSeries||(zs.implementsStiClusteredColumnSeries=super.implements().concat([s,Q.d.IStiClusteredColumnSeries,Q.d.IStiFontIconsSeries,Q.d.IStiSeriesBorderThickness,jt,n,Q.d.IStiSeries,Q.d.IStiAllowApplyBrushNegative,Q.d.IStiShowZerosSeries])),zs.implementsStiClusteredColumnSeries}meta(){return this._hash||(this._hash=[...super.meta(),new r("ShowZeros"),new h("Width","_",.9),new i("BorderColor","",ee.gray),new h("BorderThickness","",1),new e("Brush"),new e("BrushNegative"),new r("AllowApplyBrushNegative"),new l("Icon","",ei),new o("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Mt.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Mt.tryParse(e.textContent))])}get componentId(){return Q.a.StiComponentId.StiClusteredColumnSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new zs}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}}Q.d.StiClusteredColumnSeries=zs}{class js extends Q.d.StiClusteredColumnSeries{constructor(){super(),this.core=new Q.d.StiClusteredBarSeriesCoreXF(this)}implements(){return js.implementsStiClusteredBarSeries||(js.implementsStiClusteredBarSeries=super.implements().concat([s,Q.d.IStiClusteredColumnSeries,Q.d.IStiSeries,n,Q.d.IStiClusteredBarSeries,Q.d.IStiAllowApplyBrushNegative])),js.implementsStiClusteredBarSeries}get componentId(){return Q.a.StiComponentId.StiClusteredBarSeries}get xAxis(){if(this.yAxis==Q.d.StiSeriesYAxis.LeftYAxis)return Q.d.StiSeriesXAxis.BottomXAxis;return Q.d.StiSeriesXAxis.TopXAxis}set xAxis(e){this.yAxis=e==Q.d.StiSeriesXAxis.BottomXAxis?Q.d.StiSeriesYAxis.LeftYAxis:Q.d.StiSeriesYAxis.RightYAxis}getDefaultAreaType(){return Q.d.StiClusteredBarArea}createNew(){return new js}}Q.d.StiClusteredBarSeries=js}{class Ys extends Q.d.StiBaseLineSeries{constructor(){super(),this.core=new Q.d.StiLineSeriesCoreXF(this)}implements(){return Ys.implementsStiLineSeries||(Ys.implementsStiLineSeries=super.implements().concat([s,Q.d.IStiBaseLineSeries,Q.d.IStiLineSeries,n,Q.d.IStiSeries,Q.d.IStiAllowApplyColorNegative])),Ys.implementsStiLineSeries}get componentId(){return Q.a.StiComponentId.StiLineSeries}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new Ys}}Q.d.StiLineSeries=Ys}{class Ws extends Q.d.StiLineSeries{constructor(){super(),this.topmostLine=!0,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.core=new Q.d.StiAreaSeriesCoreXF(this)}implements(){return Ws.implementsStiAreaSeries||(Ws.implementsStiAreaSeries=super.implements().concat([Q.d.IStiLineSeries,Q.d.IStiBaseLineSeries,Q.d.IStiAreaSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyBrushNegative])),Ws.implementsStiAreaSeries}meta(){return this._hash||(this._hash=[...super.meta(),new r("TopmostLine","",!0),new e("Brush"),new e("BrushNegative"),new r("AllowApplyBrushNegative")])}get componentId(){return Q.a.StiComponentId.StiAreaSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new Ws}}Q.d.StiAreaSeries=Ws}{class Js extends Q.d.StiClusteredColumnSeries{constructor(){super(),this._width1=.98,this.core=new Q.d.StiHistogramSeriesCoreXF(this)}implements(){return Js.implementsStiHistogramSeries||(Js.implementsStiHistogramSeries=super.implements().concat([s,Q.d.IStiHistogramSeries,n,Q.d.IStiSeries])),Js.implementsStiHistogramSeries}get componentId(){return Q.a.StiComponentId.StiHistogramSeries}getDefaultAreaType(){return Q.d.StiHistogramArea}createNew(){return new Js}get width(){return this._width1}set width(e){.01<=e&&e<=1&&(this._width1=e)}}Q.d.StiHistogramSeries=Js}{class Zs extends Q.d.StiSeries{constructor(){super(),this.showZeros=!1,this._width=.9,this.borderColor=ee.gray,this.borderThickness=1,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.showNulls=!0,this.cornerRadius=new Mt,this.marker=new Q.d.StiMarker,this.lineMarker=new Q.d.StiLineMarker,this._lineColor=ee.black,this.lineStyle=f.Solid,this.lighting=!0,this._lineWidth=2,this.labelsOffset=0,this.lineColorNegative=ee.firebrick,this.allowApplyColorNegative=!1,this.allowApplyLineColor=!1,this.showNullsAs=Q.d.StiShowEmptyCellsAs.Gap,this.showZerosAs=Q.d.StiShowEmptyCellsAs.Gap,this.icon=null,this.core=new Q.d.StiParetoSeriesCoreXF(this)}implements(){return Zs.implementsStiParetoSeries||(Zs.implementsStiParetoSeries=super.implements().concat([s,Q.d.IStiParetoSeries,Q.d.IStiSeriesBorderThickness,jt,Q.d.IStiBaseLineSeries,Q.d.IStiClusteredColumnSeries,n,Q.d.IStiSeries,Q.d.IStiAllowApplyBrushNegative,Q.d.IStiShowNullsSeries,Q.d.IStiShowZerosSeries])),Zs.implementsStiParetoSeries}meta(){return this._hash||(this._hash=[...super.meta(),new h("Width","_",.9),new i("BorderColor","",ee.gray),new h("BorderThickness","",1),new e(["Brush","bh"]),new ue("Conditions"),new a("Marker"),new a("LineMarker"),new i("LineColor","",ee.black),new l("LineStyle","",f,f.Solid),new r("Lighting","",!0),new h("LineWidth","",2),new r("AllowApplyLineColor","",!1),new l("Icon","",ei),new o("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Mt.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Mt.tryParse(e.textContent))])}get componentId(){return Q.a.StiComponentId.StiParetoSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e.marker=this.marker.clone(),e.lineStyle=this.lineStyle,e}getDefaultAreaType(){return Q.d.StiParetoArea}createNew(){return new Zs}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}get showMarker(){return this.marker.visible}set showMarker(e){this.marker.visible=e}get markerColor(){return rt.toColor(this.marker.brush)}set markerColor(e){this.marker.brush=new ie(e),this.marker.borderColor=w.dark(e,50)}get markerSize(){return this.marker.size}set markerSize(e){this.marker.size=e}get markerType(){return this.marker.type}set markerType(e){this.marker.type=e}get lineColor(){return this.getLineColor()}set lineColor(e){this.setLineColor(e)}getLineColor(){return this._lineColor}setLineColor(e){this._lineColor=e}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}}Q.d.StiParetoSeries=Zs}{class qs extends Q.d.StiBaseLineSeries{constructor(){super(),this.tension=.55,this.core=new Q.d.StiSplineSeriesCoreXF(this)}implements(){return qs.implementsStiSplineSeries||(qs.implementsStiSplineSeries=super.implements().concat([s,Q.d.IStiBaseLineSeries,n,Q.d.IStiSeries,Q.d.IStiSplineSeries,Q.d.IStiAllowApplyColorNegative])),qs.implementsStiSplineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("LineMarker"),new h("Tension","",.55)])}get componentId(){return Q.a.StiComponentId.StiSplineSeries}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new qs}}Q.d.StiSplineSeries=qs}{class $s extends Q.d.StiSplineSeries{constructor(){super(),this.topmostLine=!0,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.core=new Q.d.StiSplineAreaSeriesCoreXF(this)}implements(){return $s.implementsStiSplineAreaSeries||($s.implementsStiSplineAreaSeries=super.implements().concat([Q.d.IStiSplineSeries,Q.d.IStiBaseLineSeries,s,Q.d.IStiSeries,n,Q.d.IStiSplineAreaSeries,Q.d.IStiAllowApplyColorNegative])),$s.implementsStiSplineAreaSeries}meta(){return this._hash||(this._hash=[...super.meta(),new r("TopmostLine","",!0),new e("Brush"),new e("BrushNegative"),new r("AllowApplyBrushNegative")])}get componentId(){return Q.a.StiComponentId.StiSplineAreaSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new $s}}Q.d.StiSplineAreaSeries=$s}{class Ks extends Q.d.StiBaseLineSeries{constructor(){super(),this.pointAtCenter=!1,this.core=new Q.d.StiSteppedLineSeriesCoreXF(this)}implements(){return Ks.implementsStiSteppedLineSeries||(Ks.implementsStiSteppedLineSeries=super.implements().concat([s,Q.d.IStiBaseLineSeries,Q.d.IStiSeries,n,Q.d.IStiSteppedLineSeries,Q.d.IStiAllowApplyColorNegative])),Ks.implementsStiSteppedLineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new r("PointAtCenter")])}get componentId(){return Q.a.StiComponentId.StiSteppedLineSeries}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new Ks}}Q.d.StiSteppedLineSeries=Ks}{class Qs extends Q.d.StiSteppedLineSeries{constructor(){super(),this.topmostLine=!0,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.core=new Q.d.StiSteppedAreaSeriesCoreXF(this)}implements(){return Qs.implementsStiSteppedAreaSeries||(Qs.implementsStiSteppedAreaSeries=super.implements().concat([Q.d.IStiSteppedLineSeries,Q.d.IStiBaseLineSeries,s,Q.d.IStiSteppedAreaSeries,Q.d.IStiSeries,n,Q.d.IStiAllowApplyColorNegative])),Qs.implementsStiSteppedAreaSeries}meta(){return this._hash||(this._hash=[...super.meta(),new r("TopmostLine","",!0),new e(["Brush","bh"]),new e("BrushNegative"),new r("AllowApplyBrushNegative")])}get componentId(){return Q.a.StiComponentId.StiSteppedAreaSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiClusteredColumnArea}createNew(){return new Qs}}Q.d.StiSteppedAreaSeries=Qs}{class Us extends Q.d.StiClusteredColumnSeries{constructor(){super(),this.core=new Q.d.StiWaterfallSeriesCoreXF(this),this.connectorLine=new Q.d.StiWaterfallConnectorLine,this.total=new Q.d.StiWaterfallTotal}implements(){return Us.implementsStiWaterfallSeries||(Us.implementsStiWaterfallSeries=super.implements().concat([s,Q.d.IStiSunburstSeries,n,Q.d.IStiSeries])),Us.implementsStiWaterfallSeries}meta(){return this._hash||(this._hash=[...super.meta(),new a("ConnectorLine"),new a("Total")])}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiWaterfallArea}get componentId(){return Q.a.StiComponentId.StiWaterfallSeries}createNew(){return new Us}}Q.d.StiWaterfallSeries=Us}Q.f.StiSeriesInteractionConverter=class{};{class en extends Q.d.StiSeries{constructor(){super(),this.showZeros=!1,this.allowApplyBrush=!0,this.allowApplyBorderColor=!0,this.startAngle=0,this.borderColor=ee.gray,this.borderThickness=1,this.brush=new ie(ee.gainsboro),this.lighting=!0,this._diameter=0,this._distance=0,this._cutPieListValues=[],this.cutPieList="",this.icon=null,this.core=new Q.d.StiPieSeriesCoreXF(this)}implements(){return en.implementsStiPieSeries||(en.implementsStiPieSeries=super.implements().concat([Q.d.IStiPieSeries,Q.d.IStiFontIconsSeries,n,Q.d.IStiSeries,s,Q.d.IStiAllowApplyBorderColor,Q.d.IStiSeriesBorderThickness,Q.d.IStiAllowApplyBrush])),en.implementsStiPieSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TrendLine"),new r("ShowZeros"),new r("AllowApplyBrush","",!0),new r("AllowApplyBorderColor","",!0),new h("StartAngle","",0),new i("BorderColor","",ee.gray),new h("BorderThickness","",1),new e(["Brush","bh"]),new r("Lighting","",!0),new h("Diameter","",0),new h("Distance","",0),new Se("CutPieList"),new l("Icon","",ei)])}get componentId(){return Q.a.StiComponentId.StiPieSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiPieArea}getArguments(){var e=super.getArguments();if(0==e.length&&null!=this.chart&&null!=this.chart.report&&this.chart.report.isDesigning&&!this.isDashboard)return["Arg1","Arg2","Arg3"];return e}setArguments(e){super.setArguments(e)}get diameter(){return this._diameter}set diameter(e){(this._diameter=e)<5&&(this._diameter=0)}get distance(){return this._distance}set distance(e){this._distance=Math.max(0,e)}get cutPieListValues(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.cutPieList))return Q.d.StiSeries.getValuesFromString(this.cutPieList);return[]}return this._cutPieListValues}set cutPieListValues(e){this._cutPieListValues=e}get cuttedPieList(){return this.cutPieList}set cuttedPieList(e){this.cutPieList=e}onGetCutPieList(e){}invokeGetCutPieList(t,i){try{if(this.onGetCutPieList(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartPieSeriesCutPieList**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.cutPieList,e);i.value=t.report.toString2(r)}null!=this.getCutPieList&&this.getCutPieList(t,i)}catch(e){Z.System.StiError.showError(e.message,!1);var r=G.format("Expression in GetCutPieList property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);Q.a.StiLogService.write(this.stimulsoft().getType(),r),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}createNew(){return new en}}Q.d.StiPieSeries=en}{class tn extends Q.d.StiPieSeries{constructor(){super(),this.width=0,this.core=new Q.d.StiDoughnutSeriesCoreXF(this)}implements(){return tn.implementsStiDoughnutSeries||(tn.implementsStiDoughnutSeries=super.implements().concat([Q.d.IStiPieSeries,Q.d.IStiSeries,n,Q.d.IStiDoughnutSeries,s,Q.d.IStiAllowApplyBorderColor,Q.d.IStiAllowApplyBrush])),tn.implementsStiDoughnutSeries}meta(){return this._hash||(this._hash=[...super.meta(),new h("Width")])}get componentId(){return Q.a.StiComponentId.StiDoughnutSeries}getDefaultAreaType(){return Q.d.StiDoughnutArea}createNew(){return new tn}}Q.d.StiDoughnutSeries=tn}{class rn extends Q.d.StiSeries{constructor(){super(),this._valuesOpen=[4,7,5],this._valuesClose=[2,3,5],this._valuesHigh=[6,9,7],this._valuesLow=[1,3,4],this.valueDataColumnOpen="",this.valueDataColumnClose="",this.valueDataColumnHigh="",this.valueDataColumnLow="",this.borderColor=ee.gray,this.borderColorNegative=ee.gray,this._borderWidth=2,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.transparent),this.valueObjOpen="",this.listOfValuesOpen="",this.valueObjClose="",this.listOfValuesClose="",this.valueObjHigh="",this.listOfValuesHigh="",this.valueObjLow="",this.listOfValuesLow="",this.core=new Q.d.StiCandlestickSeriesCoreXF(this)}implements(){return rn.implementsStiCandlestickSeries||(rn.implementsStiCandlestickSeries=super.implements().concat([s,Q.d.IStiSeries,Q.d.IStiFinancialSeries,n,Q.d.IStiCandlestickSeries])),rn.implementsStiCandlestickSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["TopN","TrendLine","ValueDataColumn","Value","ListOfValues"]),new o("ValueDataColumnOpen"),new o("ValueDataColumnClose"),new o("ValueDataColumnHigh"),new o("ValueDataColumnLow"),new i("BorderColor","",ee.gray),new i("BorderColorNegative","",ee.gray),new h("BorderWidth","",2),new e(["Brush","bh"]),new e("BrushNegative"),new Se("ValueOpen"),new Se("ListOfValuesOpen"),new Se("ValueClose"),new Se("ListOfValuesClose"),new Se("ValueHigh"),new Se("ListOfValuesHigh"),new Se("ValueLow"),new Se("ListOfValuesLow")])}get componentId(){return Q.a.StiComponentId.StiCandlestickSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiCandlestickArea}get valuesOpen(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesOpen))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesOpen);var e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+4+7*e,t+7+7*e,t+5+7*e]}return this._valuesOpen}set valuesOpen(e){this._valuesOpen=e}get valuesClose(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesClose))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesClose);var e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+2+7*e,t+3+7*e,t+5+7*e]}return this._valuesClose}set valuesClose(e){this._valuesClose=e}get valuesStringOpen(){let e=new we,t=!0;for(var i of this.valuesOpen)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringOpen(t){if(null==t||0==t.trim().length)this.valuesOpen=[];else{var t=t.split(";"),i;this.valuesOpen=U.create(Number,t.length);let e=0;for(i of t)this.valuesOpen[e++]=i.stimulsoft().toNumber()}}get valuesStringClose(){let e=new we,t=!0;for(var i of this.valuesClose)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringClose(t){if(null==t||0==t.trim().length)this.valuesClose=[];else{var t=t.split(";"),i;this.valuesClose=U.create(Number,t.length);let e=0;for(i of t)this.valuesClose[e++]=i.stimulsoft().toNumber()}}get valuesStringHigh(){let e=new we,t=!0;for(var i of this.valuesHigh)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringHigh(t){if(null==t||0==t.trim().length)this.valuesHigh=[];else{var t=t.split(";"),i;this.valuesHigh=U.create(Number,t.length);let e=0;for(i of t)this.valuesHigh[e++]=i.stimulsoft().toNumber()}}get valuesStringLow(){let e=new we,t=!0;for(var i of this.valuesLow)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringLow(t){if(null==t||0==t.trim().length)this.valuesLow=[];else{var t=t.split(";"),i;this.valuesLow=U.create(Number,t.length);let e=0;for(i of t)this.valuesLow[e++]=i.stimulsoft().toNumber()}}get valuesHigh(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesHigh))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesHigh);var e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+6+7*e,t+9+7*e,t+7+7*e]}return this._valuesHigh}set valuesHigh(e){this._valuesHigh=e}get valuesLow(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesLow))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesLow);var e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+1+7*e,t+3+7*e,t+4+7*e]}return this._valuesLow}set valuesLow(e){this._valuesLow=e}get borderWidth(){return this._borderWidth}set borderWidth(e){0<e&&(this._borderWidth=e)}onGetValueOpen(e){}invokeGetValueOpen(t,i){try{if(this.onGetValueOpen(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesValueOpen**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueOpen,e);i.value=t.report.toString2(r)}null!=this.getValueOpen&&this.getValueOpen(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueOpen...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesOpen(e){}invokeGetListOfValuesOpen(t,i){try{if(this.onGetListOfValuesOpen(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesListOfValuesOpen**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesOpen,e);i.value=t.report.toString2(r)}null!=this.getListOfValuesOpen&&this.getListOfValuesOpen(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesOpen...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetValueClose(e){}invokeGetValueClose(t,i){try{if(this.onGetValueClose(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesValueClose**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueClose,e);i.value=t.report.toString2(r)}null!=this.getValueClose&&this.getValueClose(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueClose...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesClose(e){}invokeGetListOfValuesClose(t,i){try{if(this.onGetListOfValuesClose(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesListOfValuesClose**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesClose,e);i.value=t.report.toString2(r)}null!=this.getListOfValuesClose&&this.getListOfValuesClose(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesClose...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetValueHigh(e){}invokeGetValueHigh(t,i){try{if(this.onGetValueHigh(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesValueHigh**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueHigh,e);i.value=t.report.toString2(r)}null!=this.getValueHigh&&this.getValueHigh(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueHigh...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesHigh(e){}invokeGetListOfValuesHigh(t,i){try{if(this.onGetListOfValuesHigh(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesListOfValuesHigh**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesHigh,e);i.value=t.report.toString2(r)}null!=this.getListOfValuesHigh&&this.getListOfValuesHigh(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesHigh...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}onGetValueLow(e){}invokeGetValueLow(t,i){try{if(this.onGetValueLow(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesValueLow**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueLow,e);i.value=t.report.toString2(r)}null!=this.getValueLow&&this.getValueLow(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueLow...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesLow(e){}invokeGetListOfValuesLow(t,i){try{if(this.onGetListOfValuesLow(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesListOfValuesLow**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesLow,e);i.value=t.report.toString2(r)}null!=this.getListOfValuesLow&&this.getListOfValuesLow(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesLow...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get valueOpen(){return this.valueObjOpen}set valueOpen(e){this.valueObjOpen=e}get valueClose(){return this.valueObjClose}set valueClose(e){this.valueObjClose=e}get valueHigh(){return this.valueObjHigh}set valueHigh(e){this.valueObjHigh=e}get valueLow(){return this.valueObjLow}set valueLow(e){this.valueObjLow=e}createNew(){return new rn}}Q.d.StiCandlestickSeries=rn}{class sn extends Q.d.StiCandlestickSeries{constructor(){super(),this.lineColor=ee.black,this.lineStyle=f.Solid,this._lineWidth=2,this.lineColorNegative=ee.firebrick,this.allowApplyColorNegative=!1,this.core=new Q.d.StiStockSeriesCoreXF(this)}implements(){return sn.implementsStiStockSeries||(sn.implementsStiStockSeries=super.implements().concat([s,Q.d.IStiStockSeries,Q.d.IStiFinancialSeries,n,Q.d.IStiSeries,Q.d.IStiAllowApplyColorNegative])),sn.implementsStiStockSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["BorderColor","BorderWidth","Brush","BrushNegative"]),new i("LineColor","",ee.black),new l("LineStyle","",f,f.Solid),new h("LineWidth","",2),new i("LineColorNegative","",ee.firebrick),new r("AllowApplyColorNegative")])}get componentId(){return Q.a.StiComponentId.StiStockSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiStockArea}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}createNew(){return new sn}}Q.d.StiStockSeries=sn}{class nn extends Q.d.StiSeries{constructor(){super(),this.showZeros=!1,this._width=.8,this.borderColor=ee.black,this.borderThickness=1,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.cornerRadius=new Mt,this.icon=null,this.core=new Q.d.StiStackedBarSeriesCoreXF(this)}implements(){return nn.implementsStiStackedBarSeries||(nn.implementsStiStackedBarSeries=super.implements().concat([s,Q.d.IStiStackedBarSeries,Q.d.IStiSeriesBorderThickness,Xt,jt,n,Q.d.IStiSeries,Q.d.IStiAllowApplyBrushNegative,Q.d.IStiShowZerosSeries])),nn.implementsStiStackedBarSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TrendLine"),new r("ShowZeros"),new h("Width","_",.8),new i("BorderColor","",ee.black),new h("BorderThickness","",1),new e(["Brush","bh"]),new e("BrushNegative"),new r("AllowApplyBrushNegative"),new l("Icon","",ei),new o("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Mt.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Mt.tryParse(e.textContent))])}get componentId(){return Q.a.StiComponentId.StiStackedBarSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiStackedBarArea}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}get xAxis(){if(this.yAxis==Q.d.StiSeriesYAxis.LeftYAxis)return Q.d.StiSeriesXAxis.BottomXAxis;return Q.d.StiSeriesXAxis.TopXAxis}set xAxis(e){this.yAxis=e==Q.d.StiSeriesXAxis.BottomXAxis?Q.d.StiSeriesYAxis.LeftYAxis:Q.d.StiSeriesYAxis.RightYAxis}createNew(){return new nn}}Q.d.StiStackedBarSeries=nn}{class ln extends Q.d.StiStackedBarSeries{constructor(){super(),this.core=new Q.d.StiFullStackedBarSeriesCoreXF(this)}implements(){return ln.implementsStiFullStackedBarSeries||(ln.implementsStiFullStackedBarSeries=super.implements().concat([s,Q.d.IStiStackedBarSeries,Q.d.IStiFontIconsSeries,n,Q.d.IStiSeries,Q.d.IStiFullStackedBarSeries])),ln.implementsStiFullStackedBarSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedBarSeries}getDefaultAreaType(){return Q.d.StiFullStackedBarArea}createNew(){return new ln}}Q.d.StiFullStackedBarSeries=ln}{class an extends Q.d.StiSeries{constructor(){super(...arguments),this.showNulls=!0,this.marker=new Q.d.StiMarker,this.lineMarker=new Q.d.StiLineMarker,this.lighting=!0,this.lineColor=ee.mediumBlue,this._lineWidth=2,this.lineStyle=f.Solid,this.lineColorNegative=ee.firebrick,this.allowApplyColorNegative=!1}implements(){return an.implementsStiStackedBaseLineSeries||(an.implementsStiStackedBaseLineSeries=super.implements().concat([s,Q.d.IStiStackedBaseLineSeries,n,Q.d.IStiSeries])),an.implementsStiStackedBaseLineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["TrendLine","Conditions"]),new r("ShowNulls","",!0),new a("Marker"),new a("LineMarker"),new r("Lighting","",!0),new i("LineColor","",ee.mediumBlue),new h("LineWidth","_",2),new l("LineStyle","",f,f.Solid),new i("LineColorNegative","",ee.firebrick),new r("AllowApplyColorNegative")])}clone(){let e=super.clone();return e.lineStyle=this.lineStyle,e}get showMarker(){return this.marker.visible}set showMarker(e){this.marker.visible=e}get markerColor(){return rt.toColor(this.marker.brush)}set markerColor(e){this.marker.brush=new ie(e),this.marker.borderColor=w.dark(e,50)}get markerSize(){return this.marker.size}set markerSize(e){this.marker.size=e}get markerType(){return this.marker.type}set markerType(e){this.marker.type=e}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}getDefaultAreaType(){return Q.d.StiStackedColumnArea}}Q.d.StiStackedBaseLineSeries=an}{class on extends Q.d.StiStackedBaseLineSeries{constructor(){super(),this.core=new Q.d.StiStackedLineSeriesCoreXF(this)}implements(){return on.implementsStiStackedLineSeries||(on.implementsStiStackedLineSeries=super.implements().concat([s,Q.d.IStiStackedBaseLineSeries,Q.d.IStiStackedLineSeries,Q.d.IStiSeries,n,Q.d.IStiShowNullsSeries])),on.implementsStiStackedLineSeries}get componentId(){return Q.a.StiComponentId.StiStackedLineSeries}getDefaultAreaType(){return Q.d.StiStackedColumnArea}createNew(){return new on}}Q.d.StiStackedLineSeries=on}{class hn extends Q.d.StiStackedLineSeries{constructor(){super(),this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.core=new Q.d.StiStackedAreaSeriesCoreXF(this)}implements(){return hn.implementsStiStackedAreaSeries||(hn.implementsStiStackedAreaSeries=super.implements().concat([n,Q.d.IStiStackedBaseLineSeries,Q.d.IStiStackedLineSeries,s,Q.d.IStiSeries,Q.d.IStiStackedAreaSeries,Q.d.IStiAllowApplyBrushNegative])),hn.implementsStiStackedAreaSeries}meta(){return this._hash||(this._hash=[...super.meta(),new e(["Brush","bh"]),new e("BrushNegative"),new r("AllowApplyBrushNegative")])}get componentId(){return Q.a.StiComponentId.StiStackedAreaSeries}clone(){let e=super.clone();return e.brush=this.coreBrush.clone(),e}getDefaultAreaType(){return Q.d.StiStackedColumnArea}get coreBrush(){return this.brush}set coreBrush(e){this.brush=e}createNew(){return new hn}}Q.d.StiStackedAreaSeries=hn}{class un extends Q.d.StiStackedAreaSeries{constructor(){super(),this.core=new Q.d.StiFullStackedAreaSeriesCoreXF(this)}implements(){return un.implementsStiFullStackedAreaSeries||(un.implementsStiFullStackedAreaSeries=super.implements().concat([Q.d.IStiStackedAreaSeries,Q.d.IStiStackedBaseLineSeries,Q.d.IStiSeries,s,Q.d.IStiFullStackedAreaSeries,Q.d.IStiStackedLineSeries,n,Q.d.IStiAllowApplyBrushNegative])),un.implementsStiFullStackedAreaSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedAreaSeries}getDefaultAreaType(){return Q.d.StiFullStackedColumnArea}createNew(){return new un}}Q.d.StiFullStackedAreaSeries=un}{class dn extends Q.d.StiSeries{constructor(){super(),this.showZeros=!1,this._width=.8,this.borderColor=ee.black,this.borderThickness=1,this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.icon=null,this.cornerRadius=new Mt,this.core=new Q.d.StiStackedColumnSeriesCoreXF(this)}implements(){return dn.implementsStiStackedColumnSeries||(dn.implementsStiStackedColumnSeries=super.implements().concat([s,Q.d.IStiStackedColumnSeries,Q.d.IStiFontIconsSeries,n,Q.d.IStiSeries,Q.d.IStiAllowApplyBrushNegative,jt,Q.d.IStiSeriesBorderThickness,Q.d.IStiShowZerosSeries])),dn.implementsStiStackedColumnSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TrendLine"),new r("ShowZeros"),new h("Width","_",.8),new i("BorderColor","",ee.black),new h("BorderThickness","",1),new e("Brush"),new e("BrushNegative"),new r("AllowApplyBrushNegative"),new l("Icon","",ei),new o("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Mt.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Mt.tryParse(e.textContent))])}get componentId(){return Q.a.StiComponentId.StiStackedColumnSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}getDefaultAreaType(){return Q.d.StiStackedColumnArea}createNew(){return new dn}}Q.d.StiStackedColumnSeries=dn}{class cn extends Q.d.StiStackedColumnSeries{constructor(){super(),this.core=new Q.d.StiFullStackedColumnSeriesCoreXF(this)}implements(){return cn.implementsStiFullStackedColumnSeries||(cn.implementsStiFullStackedColumnSeries=super.implements().concat([Q.d.IStiFullStackedColumnSeries,Q.d.IStiStackedColumnSeries,n,Q.d.IStiSeries,s,Q.d.IStiAllowApplyBrushNegative])),cn.implementsStiFullStackedColumnSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedColumnSeries}getDefaultAreaType(){return Q.d.StiFullStackedColumnArea}createNew(){return new cn}}Q.d.StiFullStackedColumnSeries=cn}{class mn extends Q.d.StiStackedLineSeries{constructor(){super(),this.core=new Q.d.StiFullStackedLineSeriesCoreXF(this)}implements(){return mn.implementsStiFullStackedLineSeries||(mn.implementsStiFullStackedLineSeries=super.implements().concat([s,Q.d.IStiStackedBaseLineSeries,Q.d.IStiStackedLineSeries,Q.d.IStiSeries,n])),mn.implementsStiFullStackedLineSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedLineSeries}getDefaultAreaType(){return Q.d.StiFullStackedColumnArea}createNew(){return new mn}}Q.d.StiFullStackedLineSeries=mn}{class Sn extends Q.d.StiStackedBaseLineSeries{constructor(){super(),this.tension=.55,this.core=new Q.d.StiStackedSplineSeriesCoreXF(this)}implements(){return Sn.implementsStiStackedSplineSeries||(Sn.implementsStiStackedSplineSeries=super.implements().concat([s,Q.d.IStiStackedBaseLineSeries,n,Q.d.IStiSeries,Q.d.IStiStackedSplineSeries,Q.d.IStiAllowApplyColorNegative])),Sn.implementsStiStackedSplineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("LineMarker"),new h("Tension","",.55)])}get componentId(){return Q.a.StiComponentId.StiStackedSplineSeries}getDefaultAreaType(){return Q.d.StiStackedColumnArea}createNew(){return new Sn}}Q.d.StiStackedSplineSeries=Sn}{class gn extends Q.d.StiStackedSplineSeries{constructor(){super(),this.brush=new ie(ee.gainsboro),this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.core=new Q.d.StiStackedSplineAreaSeriesCoreXF(this)}implements(){return gn.implementsStiStackedSplineAreaSeries||(gn.implementsStiStackedSplineAreaSeries=super.implements().concat([Q.d.IStiStackedSplineSeries,Q.d.IStiStackedBaseLineSeries,Q.d.IStiStackedSplineAreaSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyBrushNegative])),gn.implementsStiStackedSplineAreaSeries}meta(){return this._hash||(this._hash=[...super.meta(),new e("Brush"),new e("BrushNegative"),new r("AllowApplyBrushNegative")])}get componentId(){return Q.a.StiComponentId.StiStackedSplineAreaSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiStackedColumnArea}createNew(){return new gn}}Q.d.StiStackedSplineAreaSeries=gn}{class pn extends Q.d.StiStackedSplineAreaSeries{constructor(){super(),this.core=new Q.d.StiFullStackedSplineAreaSeriesCoreXF(this)}implements(){return pn.implementsStiFullStackedSplineAreaSeries||(pn.implementsStiFullStackedSplineAreaSeries=super.implements().concat([Q.d.IStiStackedSplineSeries,Q.d.IStiFullStackedSplineAreaSeries,Q.d.IStiStackedBaseLineSeries,Q.d.IStiStackedSplineAreaSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyBrushNegative])),pn.implementsStiFullStackedSplineAreaSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedSplineAreaSeries}getDefaultAreaType(){return Q.d.StiFullStackedColumnArea}createNew(){return new pn}}Q.d.StiFullStackedSplineAreaSeries=pn}{class fn extends Q.d.StiStackedSplineSeries{constructor(){super(),this.core=new Q.d.StiFullStackedSplineSeriesCoreXF(this)}implements(){return fn.implementsStiFullStackedSplineSeries||(fn.implementsStiFullStackedSplineSeries=super.implements().concat([Q.d.IStiStackedSplineSeries,Q.d.IStiStackedBaseLineSeries,Q.d.IStiFullStackedSplineSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyColorNegative])),fn.implementsStiFullStackedSplineSeries}get componentId(){return Q.a.StiComponentId.StiFullStackedSplineSeries}getDefaultAreaType(){return Q.d.StiFullStackedColumnArea}createNew(){return new fn}}Q.d.StiFullStackedSplineSeries=fn}{class wn extends Q.d.StiSeries{constructor(){super(),this.showZeros=!1,this.allowApplyBrush=!0,this.allowApplyBorderColor=!0,this.brush=new ie(ee.gainsboro),this.borderColor=ee.gray,this.borderThickness=1,this.icon=null,this.core=new Q.d.StiFunnelSeriesCoreXF(this)}implements(){return wn.implementsStiFunnelSeries||(wn.implementsStiFunnelSeries=super.implements().concat([s,Q.d.IStiFunnelSeries,Q.d.IStiFontIconsSeries,Q.d.IStiSeriesBorderThickness,Q.d.IStiSeries,n,Q.d.IStiShowZerosSeries])),wn.implementsStiFunnelSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TrendLine"),new r("ShowZeros"),new r("AllowApplyBrush","",!0),new r("AllowApplyBorderColor","",!0),new e(["Brush","bh"]),new i("BorderColor","",ee.gray),new h("BorderThickness","",1),new l("Icon","",ei)])}get componentId(){return Q.a.StiComponentId.StiFunnelSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiFunnelArea}createNew(){return new wn}}Q.d.StiFunnelSeries=wn}{class xn extends Q.d.StiFunnelSeries{constructor(){super(),this.core=new Q.d.StiFunnelWeightedSlicesSeriesCoreXF(this)}implements(){return xn.implementsStiFunnelWeightedSlicesSeries||(xn.implementsStiFunnelWeightedSlicesSeries=super.implements().concat([s,Q.d.IStiFunnelSeries,Q.d.IStiFunnelWeightedSlicesSeries,Q.d.IStiSeries,n])),xn.implementsStiFunnelWeightedSlicesSeries}get componentId(){return Q.a.StiComponentId.StiFunnelWeightedSlicesSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiFunnelWeightedSlicesArea}createNew(){return new xn}}Q.d.StiFunnelWeightedSlicesSeries=xn}{class Cn extends Q.d.StiClusteredBarSeries{constructor(){super(),this._valuesEnd=[3,5,9],this.valueDataColumnEnd="",this.valueObjEnd="",this.listOfValuesEnd="",this.core=new Q.d.StiGanttSeriesCoreXF(this)}implements(){return Cn.implementsStiGanttSeries||(Cn.implementsStiGanttSeries=super.implements().concat([Q.d.IStiClusteredColumnSeries,Q.d.IStiClusteredBarSeries,Q.d.IStiRangeSeries,s,Q.d.IStiSeries,Q.d.IStiGanttSeries,n,Q.d.IStiAllowApplyBrushNegative])),Cn.implementsStiGanttSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TopN"),new ue("TrendLine"),new E("ValueDataColumnEnd"),new Se("ValueEnd"),new Se("ListOfValuesEnd")])}get componentId(){return Q.a.StiComponentId.StiGanttSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiGanttArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesEnd))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);var e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let e=new we,t=!0;for(var i of this.valuesEnd)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringEnd(t){if(null==t||0==t.trim().length)this._valuesEnd=[];else{var t=t.split(";"),i;this._valuesEnd=U.create(Number,t.length);let e=0;for(i of t)this._valuesEnd[e++]=i.stimulsoft().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(t,i){try{if(this.onGetValueEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesValueEnd**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e);i.value=t.report.toString2(r)}null!=this.getValueEnd&&this.getValueEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(t,i,r){try{if(r.onGetListOfValuesEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesListOfValuesEnd**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e);i.value=t.report.toString2(s)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesEnd...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}createNew(){return new Cn}}Q.d.StiGanttSeries=Cn}{class bn extends Q.d.StiSeries{constructor(){super(),this.icon=ei.QuarterFull,this.core=new Q.d.StiPictorialSeriesCoreXF(this)}implements(){return bn.implementsStiPictorialSeries||(bn.implementsStiPictorialSeries=super.implements().concat([Q.d.IStiPictorialSeries,Q.d.IStiFontIconsSeries,n,Q.d.IStiSeries,s])),bn.implementsStiPictorialSeries}meta(){return this._hash||(this._hash=[...super.meta(),new l("Icon","",ei,ei.QuarterFull)])}get componentId(){return Q.a.StiComponentId.StiPictorialSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiPictorialArea}createNew(){return new bn}}Q.d.StiPictorialSeries=bn}let ti=Q.d.IStiPictorialStackedSeries;{class yn extends Q.d.StiSeries{constructor(){super(),this.icon=ei.Coffee,this.core=new Q.d.StiPictorialStackedSeriesCoreXF(this)}implements(){return yn.implementsStiPictorialStackedSeries||(yn.implementsStiPictorialStackedSeries=super.implements().concat([Q.d.IStiPictorialSeries,Q.d.IStiFontIconsSeries,n,Q.d.IStiSeries,ti,s])),yn.implementsStiPictorialStackedSeries}meta(){return this._hash||(this._hash=[...super.meta(),new l("Icon","",ei,ei.Coffee)])}get componentId(){return Q.a.StiComponentId.StiPictorialStackedSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiPictorialStackedArea}createNew(){return new yn}}Q.d.StiPictorialStackedSeries=yn}Q.d.StiPie3dPeripherySurfaceBounds=class{constructor(e,t,i,r,s,n){this.startAngle=e,this.endAngle=t,this.startPoint=i,this.endPoint=r,this.realStartAngle=s,this.realEndAngle=n}};{class An{constructor(e,t,i,r,s,n,l){this.rectangle=e,this.point1=t,this.point2=i,this.point3=r,this.point4=s,this.toClose=n,this.animation=l}draw(e,t,i){if(null==this.point1||null==this.point2||null==this.point3||null==this.point4)return;let r=new $;r.add(new k(this.point1,this.point2)),r.add(new k(this.point2,this.point3)),r.add(new k(this.point3,this.point4)),this.toClose&&r.add(new kt);var s=e.getPathBounds(r);null!=this.animation?e.drawAnimationPathElement(i,t,r,this.rectangle,null,this,this.animation,null):(e.fillPath(i,r,s,null),e.drawPath(t,r,s))}static empty(){return new An(null,null,null,null,null,null,null)}}Q.d.StiPie3dQuadrilateral=An}{class vn extends Q.d.StiPieSeries{constructor(){super(),this.options3D=new Q.d.StiPie3dOptions,this.core=new Q.d.StiPie3dSeriesCoreXF(this)}implements(){return vn.implementsStiPie3dSeries||(vn.implementsStiPie3dSeries=super.implements().concat([Q.d.IStiPie3dSeries])),vn.implementsStiPie3dSeries}meta(){return null==this._hash&&(this._hash=super.meta().concat([new a("Options3D")])),this._hash}get componentId(){return Q.a.StiComponentId.StiPie3dSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiPie3dArea}createNew(){return new vn}}Q.d.StiPie3dSeries=vn}{class Ln extends Q.d.StiSeries{constructor(){super(...arguments),this.showNulls=!0,this.marker=new Q.d.StiMarker}implements(){return Ln.implementsStiRadarSeries||(Ln.implementsStiRadarSeries=super.implements().concat([s,n,Q.d.IStiSeries,Q.d.IStiRadarSeries,Q.d.IStiShowNullsSeries])),Ln.implementsStiRadarSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TrendLine"),new r("ShowNulls","",!0),new a("Marker")])}clone(){let e=super.clone();return null!=this.marker&&(e.marker=this.marker.clone()),e}}Q.d.StiRadarSeries=Ln}{class Tn extends Q.d.StiRadarSeries{constructor(){super(),this.lineColor=ee.black,this.lineStyle=f.Solid,this.lighting=!0,this._lineWidth=2,this.brush=new ie(ee.gainsboro),this.core=new Q.d.StiRadarAreaSeriesCoreXF(this)}implements(){return Tn.implementsStiRadarAreaSeries||(Tn.implementsStiRadarAreaSeries=super.implements().concat([Q.d.IStiRadarSeries,Q.d.IStiRadarLineSeries,s,Q.d.IStiSeries,Q.d.IStiRadarAreaSeries,n])),Tn.implementsStiRadarAreaSeries}meta(){return this._hash||(this._hash=[...super.meta(),new i("LineColor","",ee.black),new l("LineStyle","",f,f.Solid),new r("Lighting","",!0),new h("LineWidth","",2),new e("Brush")])}get componentId(){return Q.a.StiComponentId.StiRadarAreaSeries}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}getDefaultAreaType(){return Q.d.StiRadarAreaArea}createNew(){return new Tn}}Q.d.StiRadarAreaSeries=Tn}{class kn extends Q.d.StiRadarSeries{constructor(){super(),this.lineColor=ee.black,this.lineStyle=f.Solid,this.lighting=!0,this._lineWidth=2,this.core=new Q.d.StiRadarLineSeriesCoreXF(this)}implements(){return kn.implementsStiRadarLineSeries||(kn.implementsStiRadarLineSeries=super.implements().concat([s,Q.d.IStiRadarLineSeries,n,Q.d.IStiSeries,Q.d.IStiRadarSeries])),kn.implementsStiRadarLineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new i("LineColor","",ee.black),new l("LineStyle","",f,f.Solid),new r("Lighting","",!0),new h("LineWidth","",2)])}get componentId(){return Q.a.StiComponentId.StiRadarLineSeries}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}getDefaultAreaType(){return Q.d.StiRadarLineArea}createNew(){return new kn}}Q.d.StiRadarLineSeries=kn}{class In extends Q.d.StiRadarSeries{constructor(){super(),this.core=new Q.d.StiRadarPointSeriesCoreXF(this)}implements(){return In.implementsStiRadarPointSeries||(In.implementsStiRadarPointSeries=super.implements().concat([s,Q.d.IStiRadarPointSeries,n,Q.d.IStiSeries,Q.d.IStiRadarSeries])),In.implementsStiRadarPointSeries}get componentId(){return Q.a.StiComponentId.StiRadarPointSeries}getDefaultAreaType(){return Q.d.StiRadarPointArea}createNew(){return new In}}Q.d.StiRadarPointSeries=In}{class Fn extends Q.d.StiClusteredColumnSeries{constructor(){super(),this._valuesEnd=[3,5,9],this.valueDataColumnEnd="",this.valueObjEnd="",this.listOfValuesEnd="",this.core=new Q.d.StiRangeBarSeriesCoreXF(this)}implements(){return Fn.implementsStiRangeBarSeries||(Fn.implementsStiRangeBarSeries=super.implements().concat([Q.d.IStiRangeBarSeries,Q.d.IStiClusteredColumnSeries,Q.d.IStiRangeSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyBrushNegative])),Fn.implementsStiRangeBarSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["TopN","TrendLine"]),new o("ValueDataColumnEnd"),new Se("Value"),new Se("ValueEnd"),new Se("ListOfValues"),new Se("ListOfValuesEnd")])}get componentId(){return Q.a.StiComponentId.StiRangeBarSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiRangeBarArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesEnd))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);var e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let e=new we,t=!0;for(var i of this.valuesEnd)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringEnd(t){if(null==t||0==t.trim().length)this._valuesEnd=[];else{var t=t.split(";"),i;this._valuesEnd=U.create(Number,t.length);let e=0;for(i of t)this._valuesEnd[e++]=i.stimulsoft().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(t,i){try{if(this.onGetValueEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesValueEnd**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e);i.value=t.report.toString2(r)}null!=this.getValueEnd&&this.getValueEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(t,i,r){try{if(r.onGetListOfValuesEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartGanttSeriesListOfValuesEnd**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e);i.value=t.report.toString2(s)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesEnd...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}createNew(){return new Fn}}Q.d.StiRangeBarSeries=Fn}{class Bn extends Q.d.StiLineSeries{constructor(){super(),this.brush=new ie(ee.gainsboro),this._valuesEnd=[3,5,9],this.valueDataColumnEnd="",this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.valueObjEnd="",this.listOfValuesEnd="",this.core=new Q.d.StiRangeSeriesCoreXF(this)}implements(){return Bn.implementsStiRangeSeries||(Bn.implementsStiRangeSeries=super.implements().concat([Q.d.IStiLineSeries,Q.d.IStiLineRangeSeries,Q.d.IStiBaseLineSeries,Q.d.IStiRangeSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyColorNegative])),Bn.implementsStiRangeSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["TopN","TrendLine"]),new e(["Brush","bh"]),new o("ValueDataColumnEnd"),new e("BrushNegative"),new r("AllowApplyBrushNegative"),new Se("ValueEnd"),new Se("ListOfValuesEnd")])}get componentId(){return Q.a.StiComponentId.StiRangeSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiRangeArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesEnd))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);var e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+3+3*e,t+5+4*e,t+9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let e=new we,t=!0;for(var i of this.valuesEnd)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringEnd(t){if(null==t||0==t.trim().length)this.valuesEnd=[];else{var t=t.split(";"),i;this.valuesEnd=U.create(Number,t.length);let e=0;for(i of t)this.valuesEnd[e++]=i.stimulsoft().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(t,i){try{if(this.onGetValueEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartRangeSeriesValueEnd**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e);i.value=t.report.toString2(r)}null!=this.getValueEnd&&this.getValueEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(t,i,r){try{if(r.onGetListOfValuesEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartRangeSeriesListOfValuesEnd**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e);i.value=t.report.toString2(s)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesEnd...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}createNew(){return new Bn}}Q.d.StiRangeSeries=Bn}{class Rn extends Q.d.StiSplineSeries{constructor(){super(),this.brush=new ie(ee.gainsboro),this._valuesEnd=[4,5,9],this.valueDataColumnEnd="",this.valueObjEnd="",this.listOfValuesEnd="",this.core=new Q.d.StiSplineRangeSeriesCoreXF(this)}implements(){return Rn.implementsStiSplineRangeSeries||(Rn.implementsStiSplineRangeSeries=super.implements().concat([Q.d.IStiSplineSeries,Q.d.IStiSplineRangeSeries,Q.d.IStiBaseLineSeries,Q.d.IStiRangeSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyColorNegative])),Rn.implementsStiSplineRangeSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TopN"),new ue("TrendLine"),new e(["Brush","bh"]),new o("ValueDataColumnEnd"),new Se("ValueEnd"),new Se("ListOfValuesEnd")])}get componentId(){return Q.a.StiComponentId.StiSplineRangeSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiSplineRangeArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesEnd))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);var e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let e=new we,t=!0;for(var i of this._valuesEnd)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringEnd(t){if(null==t||0==t.trim().length)this._valuesEnd=[];else{var t=t.split(";"),i;this._valuesEnd=U.create(Number,t.length);let e=0;for(i of t)this._valuesEnd[e++]=i.stimulsoft().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(t,i){try{if(this.onGetValueEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSteppedRangeSeriesValueEnd**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e);i.value=t.report.toString2(r)}null!=this.getValueEnd&&this.getValueEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(t,i,r){try{if(r.onGetListOfValuesEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSteppedRangeSeriesListOfValuesEnd**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e);i.value=t.report.toString2(s)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesEnd...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}createNew(){return new Rn}}Q.d.StiSplineRangeSeries=Rn}{class Pn extends Q.d.StiSteppedLineSeries{constructor(){super(),this.brush=new ie(ee.gainsboro),this._valuesEnd=[4,5,7,6,6],this.valueDataColumnEnd="",this.brushNegative=new ie(ee.firebrick),this.allowApplyBrushNegative=!1,this.valueObjEnd="",this.listOfValuesEnd="",this.core=new Q.d.StiSteppedRangeSeriesCoreXF(this)}implements(){return Pn.implementsStiSteppedRangeSeries||(Pn.implementsStiSteppedRangeSeries=super.implements().concat([Q.d.IStiSteppedLineSeries,Q.d.IStiBaseLineSeries,Q.d.IStiRangeSeries,Q.d.IStiSteppedRangeSeries,s,Q.d.IStiSeries,n,Q.d.IStiAllowApplyColorNegative])),Pn.implementsStiSteppedRangeSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["TopN","TrendLine"]),new e(["Brush","bh"]),new o("ValueDataColumnEnd"),new e("BrushNegative"),new r("AllowApplyBrushNegative"),new Se("ValueEnd","valueObjEnd"),new Se("ListOfValuesEnd")])}get componentId(){return Q.a.StiComponentId.StiSteppedRangeSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiSteppedRangeArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!G.isNullOrEmpty(this.listOfValuesEnd))return Q.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);var e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,7+3*e,6+3*e,6+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let e=new we,t=!0;for(var i of this.valuesEnd)t?e.appendFormat("{0}",i):e.appendFormat(";{0}",i),t=!1;return e.toString()}set valuesStringEnd(t){if(null==t||0==t.trim().length)this.valuesEnd=[];else{var t=t.split(";"),i;this._valuesEnd=U.create(Number,t.length);let e=0;for(i of t)this._valuesEnd[e++]=i.stimulsoft().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(t,i){try{if(this.onGetValueEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSteppedRangeSeriesValueEnd**",e.page=t.report.pages.getByIndex(0);var r=Q.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e);i.value=t.report.toString2(r)}null!=this.getValueEnd&&this.getValueEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),Q.a.StiLogService.write(this.stimulsoft().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(t,i,r){try{if(r.onGetListOfValuesEnd(i),t.report.calculationMode==Q.a.StiCalculationMode.Interpretation){let e=new D;e.name="**ChartSteppedRangeSeriesListOfValuesEnd**",e.page=t.report.pages.getByIndex(0);var s=Q.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e);i.value=t.report.toString2(s)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(t,i)}catch(e){Z.System.StiError.showError(e.message,!1),Q.a.StiLogService.write(this.stimulsoft().getType(),"InvokeGetListOfValuesEnd...Warning"),Q.a.StiLogService.write(this.stimulsoft().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}createNew(){return new Pn}}Q.d.StiSteppedRangeSeries=Pn}{class Dn extends Q.d.StiScatterSeries{constructor(){super(),this.tension=.55,this.core=new Q.d.StiScatterSplineSeriesCoreXF(this)}implements(){return Dn.implementsStiScatterSplineSeries||(Dn.implementsStiScatterSplineSeries=super.implements().concat([n,Q.d.IStiScatterLineSeries,Q.d.IStiBaseLineSeries,Q.d.IStiScatterSplineSeries,s,Q.d.IStiSeries,Q.d.IStiScatterSeries,Q.d.IStiAllowApplyColorNegative])),Dn.implementsStiScatterSplineSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("LineMarker"),new h("Tension","",.55)])}get componentId(){return Q.a.StiComponentId.StiScatterSplineSeries}clone(){var e;return super.clone()}getDefaultAreaType(){return Q.d.StiScatterArea}createNew(){return new Dn}}Q.d.StiScatterSplineSeries=Dn}{class Mn extends Q.d.StiSeries{constructor(){super(),this._width=.5,this.borderColor=ee.black,this.borderThickness=1,this.brush=new ie(ee.gainsboro),this.cornerRadius=new Mt,this.core=new Q.d.StiRibbonSeriesCoreXF(this)}implements(){return Mn.implementsStiRibbonSeries||(Mn.implementsStiRibbonSeries=super.implements().concat([s,Q.d.IStiRibbonSeries,jt,Q.d.IStiSeriesBorderThickness])),Mn.implementsStiRibbonSeries}meta(){return this._hash||(this._hash=[...super.meta(),new ue("TrendLine"),new h("Width","_",.5),new i("BorderColor","",ee.black),new h("BorderThickness","",1),new e("Brush"),new o("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Mt.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Mt.tryParse(e.textContent))])}get componentId(){return Q.a.StiComponentId.StiRibbonSeries}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}getDefaultAreaType(){return Q.d.StiRibbonArea}createNew(){return new Mn}}Q.d.StiRibbonSeries=Mn}Q.d.StiRibbonSeriesMetadata=class{constructor(e,t){this.rectangles=new $,this.brush=e,this.borderColor=t}};{class En extends Q.d.StiSeries{constructor(){super(),this.borderColor=ee.gray,this.borderThickness=1,this.brush=new ie(ee.gainsboro),this.core=new Q.d.StiSunburstSeriesCoreXF(this)}implements(){return En.implementsStiSunburstSeries||(En.implementsStiSunburstSeries=super.implements().concat([s,Q.d.IStiSunburstSeries,Q.d.IStiSeriesBorderThickness,n,Q.d.IStiSeries])),En.implementsStiSunburstSeries}meta(){return this._hash||(this._hash=[...super.meta(),new h("BorderThickness","",1)])}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return Q.d.StiSunburstArea}get componentId(){return Q.a.StiComponentId.StiSunburstSeries}createNew(){return new En}}Q.d.StiSunburstSeries=En}{class Nn extends Q.d.StiSeries{constructor(){super(),this.borderColor=ee.gray,this.borderThickness=1,this.cornerRadius=new Mt,this.brush=new ie(ee.gainsboro),this.icon=null,this.core=new Q.d.StiTreemapSeriesCoreXF(this)}implements(){return Nn.implementsStiTreemapSeries||(Nn.implementsStiTreemapSeries=super.implements().concat([s,Q.d.IStiTreemapSeries,Q.d.IStiSeriesBorderThickness,jt,Q.d.IStiFontIconsSeries,n,Q.d.IStiSeries])),Nn.implementsStiTreemapSeries}meta(){return this._hash||(this._hash=[...super.meta(),new i("BorderColor","",ee.gray),new h("BorderThickness","",1),new e("Brush"),new l("Icon","",ei),new o("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Mt.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Mt.tryParse(e.textContent))])}clone(){let e=super.clone();return e.brush=this.brush.clone(),e.cornerRadius=this.cornerRadius.clone(),e}getDefaultAreaType(){return Q.d.StiTreemapArea}get componentId(){return Q.a.StiComponentId.StiTreemapSeries}createNew(){return new Nn}}Q.d.StiTreemapSeries=Nn}{class On extends Q.d.StiSeriesLabels{constructor(){super(),this.core=new Q.d.StiNoneLabelsCoreXF(this)}implements(){return On.implementsStiNoneLabels||(On.implementsStiNoneLabels=super.implements().concat([Q.d.IStiNoneLabels,Q.d.IStiSeriesLabels,n,s])),On.implementsStiNoneLabels}meta(){return this._hash||(this._hash=[...super.meta(),new ue(["Antialiasing","Visible","LabelColor","BorderColor","Brush","Font"])])}get componentId(){return Q.a.StiComponentId.StiNoneLabels}createNew(){return new On}}Q.d.StiNoneLabels=On}{class Gn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiInsideBaseAxisLabelsCoreXF(this)}implements(){return Gn.implementsStiInsideBaseAxisLabels||(Gn.implementsStiInsideBaseAxisLabels=super.implements().concat([Q.d.IStiInsideBaseAxisLabels,Q.d.IStiSeriesLabels,n,Q.d.IStiAxisSeriesLabels,s])),Gn.implementsStiInsideBaseAxisLabels}get componentId(){return Q.a.StiComponentId.StiInsideBaseAxisLabels}createNew(){return new Gn}}Q.d.StiInsideBaseAxisLabels=Gn}{class Vn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiInsideEndAxisLabelsCoreXF(this)}implements(){return Vn.implementsStiInsideEndAxisLabels||(Vn.implementsStiInsideEndAxisLabels=super.implements().concat([Q.d.IStiCenterAxisLabels,Q.d.IStiAxisSeriesLabels,Q.d.IStiSeriesLabels,s,Q.d.IStiInsideEndAxisLabels,n])),Vn.implementsStiInsideEndAxisLabels}get componentId(){return Q.a.StiComponentId.StiInsideEndAxisLabels}createNew(){return new Vn}}Q.d.StiInsideEndAxisLabels=Vn}{class Xn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiLeftAxisLabelsCoreXF(this)}implements(){return Xn.implementsStiLeftAxisLabels||(Xn.implementsStiLeftAxisLabels=super.implements().concat([Q.d.IStiCenterAxisLabels,Q.d.IStiLeftAxisLabels,Q.d.IStiAxisSeriesLabels,s,Q.d.IStiSeriesLabels,n])),Xn.implementsStiLeftAxisLabels}get componentId(){return Q.a.StiComponentId.StiLeftAxisLabels}createNew(){return new Xn}}Q.d.StiLeftAxisLabels=Xn}{class _n extends Q.d.StiAxisSeriesLabels{constructor(){super(),this.lineLength=15,this.core=new Q.d.StiOutsideAxisLabelsCoreXF(this)}implements(){return _n.implementsStiOutsideAxisLabels||(_n.implementsStiOutsideAxisLabels=super.implements().concat([Q.d.IStiOutsideAxisLabels,Q.d.IStiSeriesLabels,n,Q.d.IStiAxisSeriesLabels,s])),_n.implementsStiOutsideAxisLabels}meta(){return this._hash||(this._hash=[...super.meta(),new h("LineLength","",15)])}get componentId(){return Q.a.StiComponentId.StiOutsideAxisLabels}createNew(){return new _n}}Q.d.StiOutsideAxisLabels=_n}{class Hn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiOutsideBaseAxisLabelsCoreXF(this)}implements(){return Hn.implementsStiOutsideBaseAxisLabels||(Hn.implementsStiOutsideBaseAxisLabels=super.implements().concat([Q.d.IStiCenterAxisLabels,Q.d.IStiAxisSeriesLabels,s,Q.d.IStiOutsideBaseAxisLabels,Q.d.IStiSeriesLabels,n])),Hn.implementsStiOutsideBaseAxisLabels}get componentId(){return Q.a.StiComponentId.StiOutsideBaseAxisLabels}createNew(){return new Hn}}Q.d.StiOutsideBaseAxisLabels=Hn}{class zn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiOutsideEndAxisLabelsCoreXF(this)}implements(){return zn.implementsStiOutsideEndAxisLabels||(zn.implementsStiOutsideEndAxisLabels=super.implements().concat([Q.d.IStiOutsideEndAxisLabels,Q.d.IStiCenterAxisLabels,Q.d.IStiAxisSeriesLabels,s,Q.d.IStiSeriesLabels,n])),zn.implementsStiOutsideEndAxisLabels}get componentId(){return Q.a.StiComponentId.StiOutsideEndAxisLabels}createNew(){return new zn}}Q.d.StiOutsideEndAxisLabels=zn}{class jn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiRightAxisLabelsCoreXF(this)}implements(){return jn.implementsStiRightAxisLabels||(jn.implementsStiRightAxisLabels=super.implements().concat([Q.d.IStiCenterAxisLabels,Q.d.IStiAxisSeriesLabels,Q.d.IStiRightAxisLabels,s,Q.d.IStiSeriesLabels,n])),jn.implementsStiRightAxisLabels}get componentId(){return Q.a.StiComponentId.StiRightAxisLabels}createNew(){return new jn}}Q.d.StiRightAxisLabels=jn}{class Yn extends Q.d.StiCenterAxisLabels{constructor(){super(),this.core=new Q.d.StiValueAxisLabelsCoreXF(this)}implements(){return Yn.implementsStiValueAxisLabels||(Yn.implementsStiValueAxisLabels=super.implements().concat([Q.d.IStiValueAxisLabels,Q.d.IStiCenterAxisLabels,Q.d.IStiAxisSeriesLabels,s,Q.d.IStiSeriesLabels,n])),Yn.implementsStiValueAxisLabels}get componentId(){return Q.a.StiComponentId.StiValueAxisLabels}createNew(){return new Yn}}Q.d.StiValueAxisLabels=Yn}{class Wn extends Q.d.StiSeriesLabels{implements(){return Wn.implementsStiFunnelSeriesLabels||(Wn.implementsStiFunnelSeriesLabels=super.implements().concat([s,Q.d.IStiFunnelSeriesLabels,n,Q.d.IStiSeriesLabels])),Wn.implementsStiFunnelSeriesLabels}}Q.d.StiFunnelSeriesLabels=Wn}{class Jn extends Q.d.StiFunnelSeriesLabels{constructor(){super(),this.core=new Q.d.StiCenterFunnelLabelsCoreXF(this)}implements(){return Jn.implementsStiCenterFunnelLabels||(Jn.implementsStiCenterFunnelLabels=super.implements().concat([s,Q.d.IStiSeriesLabels,Q.d.IStiFunnelSeriesLabels,n,Q.d.IStiCenterFunnelLabels])),Jn.implementsStiCenterFunnelLabels}get componentId(){return Q.a.StiComponentId.StiCenterFunnelLabels}createNew(){return new Jn}}Q.d.StiCenterFunnelLabels=Jn}{class Zn extends Q.d.StiFunnelSeriesLabels{constructor(){super(),this.core=new Q.d.StiOutsideLeftFunnelLabelsCoreXF(this)}implements(){return Zn.implementsStiOutsideLeftFunnelLabels||(Zn.implementsStiOutsideLeftFunnelLabels=super.implements().concat([Q.d.IStiCenterFunnelLabels,Q.d.IStiOutsideLeftFunnelLabels,s,Q.d.IStiSeriesLabels,Q.d.IStiFunnelSeriesLabels,n])),Zn.implementsStiOutsideLeftFunnelLabels}get componentId(){return Q.a.StiComponentId.StiOutsideLeftFunnelLabels}createNew(){return new Zn}}Q.d.StiOutsideLeftFunnelLabels=Zn}{class qn extends Q.d.StiFunnelSeriesLabels{constructor(){super(),this.core=new Q.d.StiOutsideRightFunnelLabelsCoreXF(this)}implements(){return qn.implementsStiOutsideRightFunnelLabels||(qn.implementsStiOutsideRightFunnelLabels=super.implements().concat([Q.d.IStiOutsideRightFunnelLabels,Q.d.IStiCenterFunnelLabels,s,Q.d.IStiSeriesLabels,Q.d.IStiFunnelSeriesLabels,n])),qn.implementsStiOutsideRightFunnelLabels}get componentId(){return Q.a.StiComponentId.StiOutsideRightFunnelLabels}createNew(){return new qn}}Q.d.StiOutsideRightFunnelLabels=qn}{class $n extends Q.d.StiFunnelSeriesLabels{constructor(){super(),this.core=new Q.d.StiCenterPictorialStackedLabelsCoreXF(this)}implements(){return $n.implementsStiCenterPictorialStackedLabels||($n.implementsStiCenterPictorialStackedLabels=super.implements().concat([s,Q.d.IStiSeriesLabels,n])),$n.implementsStiCenterPictorialStackedLabels}get componentId(){return Q.a.StiComponentId.StiCenterFunnelLabels}createNew(){return new $n}}Q.d.StiCenterPictorialStackedLabels=$n}{class Kn extends Q.d.StiCenterPictorialStackedLabels{constructor(){super(),this.lineColor=ee.black,this.core=new Q.d.StiOutsideLeftPictorialStackedLabelsCoreXF(this)}implements(){return Kn.implementsStiOutsideLeftFunnelLabels||(Kn.implementsStiOutsideLeftFunnelLabels=super.implements().concat([s,Q.d.IStiSeriesLabels,n])),Kn.implementsStiOutsideLeftFunnelLabels}meta(){return this._hash||(this._hash=[...super.meta(),new i("LineColor","",ee.black)])}get componentId(){return Q.a.StiComponentId.StiOutsideLeftPictorialStackedLabels}createNew(){return new Kn}}Q.d.StiOutsideLeftPictorialStackedLabels=Kn}{class Qn extends Q.d.StiCenterPictorialStackedLabels{constructor(){super(),this.lineColor=ee.black,this.core=new Q.d.StiOutsideRightPictorialStackedLabelsCoreXF(this)}implements(){return Qn.implementsStiOutsideRightPictorialStackedLabels||(Qn.implementsStiOutsideRightPictorialStackedLabels=super.implements().concat([s,Q.d.IStiSeriesLabels,n])),Qn.implementsStiOutsideRightPictorialStackedLabels}meta(){return this._hash||(this._hash=[...super.meta(),new i("LineColor","",ee.black)])}get componentId(){return Q.a.StiComponentId.StiOutsideRightPictorialStackedLabels}createNew(){return new Qn}}Q.d.StiOutsideRightPictorialStackedLabels=Qn}{class Un extends Q.d.StiSeriesLabels{implements(){return Un.implementsStiPictorialStackedLabels||(Un.implementsStiPictorialStackedLabels=super.implements().concat([s,n,Q.d.IStiSeriesLabels])),Un.implementsStiPictorialStackedLabels}}Q.d.StiPictorialStackedLabels=Un}{class el extends Q.d.StiSeriesLabels{constructor(){super(...arguments),this._showInPercent=!1}implements(){return el.implementsStiPieSeriesLabels||(el.implementsStiPieSeriesLabels=super.implements().concat([s,Q.d.IStiPieSeriesLabels,Q.d.IStiSeriesLabels,n])),el.implementsStiPieSeriesLabels}meta(){return this._hash||(this._hash=[...super.meta(),new r("ShowInPercent","_")])}get showInPercent(){return this._showInPercent}set showInPercent(e){this._showInPercent=e,this._showInPercent&&!this.format.stimulsoft().startsWith("P")&&(this.format="P2"),this._showInPercent||(this.format="")}}Q.d.StiPieSeriesLabels=el}{class tl extends Q.d.StiPieSeriesLabels{get componentId(){return Q.a.StiComponentId.StiCenterPieLabels}createNew(){return new tl}constructor(){super(),this.core=new Q.d.StiCenterPie3dLabelsCoreXF(this)}}Q.d.StiCenterPie3dLabels=tl}{class il extends Q.d.StiPieSeriesLabels{constructor(){super(),this.autoRotate=!1,this.core=new Q.d.StiCenterPieLabelsCoreXF(this)}implements(){return il.implementsStiCenterPieLabels||(il.implementsStiCenterPieLabels=super.implements().concat([s,Q.d.IStiPieSeriesLabels,Q.d.IStiSeriesLabels,Q.d.IStiCenterPieLabels,n])),il.implementsStiCenterPieLabels}meta(){return this._hash||(this._hash=[...super.meta(),new r("AutoRotate")])}get componentId(){return Q.a.StiComponentId.StiCenterPieLabels}createNew(){return new il}}Q.d.StiCenterPieLabels=il}{class rl extends Q.d.StiCenterPieLabels{constructor(){super(),this.core=new Q.d.StiInsideEndPieLabelsCoreXF(this)}implements(){return rl.implementsStiInsideEndPieLabels||(rl.implementsStiInsideEndPieLabels=super.implements().concat([Q.d.IStiCenterPieLabels,Q.d.IStiSeriesLabels,Q.d.IStiPieSeriesLabels,Q.d.IStiInsideEndPieLabels,s,n])),rl.implementsStiInsideEndPieLabels}get componentId(){return Q.a.StiComponentId.StiInsideEndPieLabels}createNew(){return new rl}}Q.d.StiInsideEndPieLabels=rl}{class sl extends Q.d.StiCenterPieLabels{constructor(){super(),this.showValue=!1,this.lineLength=20,this.lineColor=ee.black,this.core=new Q.d.StiOutsidePieLabelsCoreXF(this)}implements(){return sl.implementsStiOutsidePieLabels||(sl.implementsStiOutsidePieLabels=super.implements().concat([Q.d.IStiOutsidePieLabels,Q.d.IStiCenterPieLabels,Q.d.IStiPieSeriesLabels,Q.d.IStiSeriesLabels,s,n])),sl.implementsStiOutsidePieLabels}meta(){return this._hash||(this._hash=[...super.meta(),new ue("Angle"),new r("ShowValue"),new h("LineLength","",20),new i("LineColor","",ee.black)])}get componentId(){return Q.a.StiComponentId.StiOutsidePieLabels}createNew(){return new sl}}Q.d.StiOutsidePieLabels=sl}{class nl extends Q.d.StiOutsidePieLabels{constructor(){super(),this.core=new Q.d.StiTwoColumnsPieLabelsCoreXF(this)}implements(){return nl.implementsStiTwoColumnsPieLabels||(nl.implementsStiTwoColumnsPieLabels=super.implements().concat([Q.d.IStiTwoColumnsPieLabels,Q.d.IStiOutsidePieLabels,Q.d.IStiCenterPieLabels,Q.d.IStiPieSeriesLabels,Q.d.IStiSeriesLabels,s,n])),nl.implementsStiTwoColumnsPieLabels}meta(){return this._hash||(this._hash=[...super.meta(),new ue("AutoRotate")])}get componentId(){return Q.a.StiComponentId.StiTwoColumnsPieLabels}createNew(){return new nl}}Q.d.StiTwoColumnsPieLabels=nl}{class ll extends Q.d.StiAxisSeriesLabels{get componentId(){return Q.a.StiComponentId.StiCenterTreemapLabels}createNew(){return new ll}constructor(){super(),this.core=new Q.d.StiCenterTreemapLabelsCoreXF(this)}}Q.d.StiCenterTreemapLabels=ll}{class al extends N{constructor(){super(),this._allowApplyStyle=!0,this.showBehind=!0,this.stripBrush=new ie(ee.transparent),this.antialiasing=!0,this.font=new X("Arial",7),this.text="",this.titleVisible=!0,this.titleColor=ee.green,this.orientation=Q.d.StiStrips_StiOrientation.Horizontal,this.showInLegend=!0,this.maxValue="1",this.minValue="0",this.visible=!0,this.core=new Q.d.StiStripsCoreXF(this)}implements(){return al.implementsStiStrips||(al.implementsStiStrips=super.implements().concat([s,Q.d.IStiStrips,n])),al.implementsStiStrips}meta(){return this._hash||(this._hash=[...super.meta(),new r("AllowApplyStyle","",!0),new r("ShowBehind","",!0),new e("StripBrush"),new r("Antialiasing","",!0),new V("Font","","Arial",7),new o("Text"),new r("TitleVisible","",!0),new i("TitleColor","",ee.green),new l("Orientation","",Q.d.StiStrips_StiOrientation,Q.d.StiStrips_StiOrientation.Horizontal),new r("ShowInLegend","",!0),new E("MaxValue","","1"),new E("MinValue","","0"),new r("Visible","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiStrips}get propName(){return""}clone(){let e=this.stimulsoft().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.strips=e),e}get serviceCategory(){return"Chart"}get serviceType(){return al}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}}Q.d.StiStrips=al}{class ol extends Q.d.StiChartStyle{createNew(){return new ol}constructor(){super(),this.core=new Q.d.StiStyleCoreXF01}}Q.d.StiStyle01=ol}{class hl extends Q.d.StiStyle01{constructor(e=null){super(),this.core=new Q.d.StiCustomStyleCoreXF(this),this.core.reportStyleName=e}implements(){return hl.implementsStiCustomStyle||(hl.implementsStiCustomStyle=super.implements().concat([Q.d.IStiCustomStyle])),hl.implementsStiCustomStyle}get serviceName(){return"CustomStyle"}get customCore(){return this.core}}Q.d.StiCustomStyle=hl}{class ul extends Q.d.StiChartStyle{createNew(){return new ul}constructor(){super(),this.core=new Q.d.StiStyleCoreXF02}}Q.d.StiStyle02=ul}{class dl extends Q.d.StiChartStyle{createNew(){return new dl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF03}}Q.d.StiStyle03=dl}{class cl extends Q.d.StiChartStyle{createNew(){return new cl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF04}}Q.d.StiStyle04=cl}{class ml extends Q.d.StiChartStyle{createNew(){return new ml}constructor(){super(),this.core=new Q.d.StiStyleCoreXF05}}Q.d.StiStyle05=ml}{class Sl extends Q.d.StiChartStyle{createNew(){return new Sl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF06}}Q.d.StiStyle06=Sl}{class gl extends Q.d.StiChartStyle{createNew(){return new gl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF07}}Q.d.StiStyle07=gl}{class pl extends Q.d.StiStyle03{createNew(){return new pl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF08}}Q.d.StiStyle08=pl}{class fl extends Q.d.StiChartStyle{createNew(){return new fl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF09}}Q.d.StiStyle09=fl}{class wl extends Q.d.StiChartStyle{createNew(){return new wl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF10}}Q.d.StiStyle10=wl}{class xl extends Q.d.StiChartStyle{createNew(){return new xl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF11}}Q.d.StiStyle11=xl}{class Cl extends Q.d.StiChartStyle{createNew(){return new Cl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF12}}Q.d.StiStyle12=Cl}{class bl extends Q.d.StiChartStyle{createNew(){return new bl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF13}}Q.d.StiStyle13=bl}{class yl extends Q.d.StiChartStyle{createNew(){return new yl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF14}}Q.d.StiStyle14=yl}{class Al extends Q.d.StiChartStyle{createNew(){return new Al}constructor(){super(),this.core=new Q.d.StiStyleCoreXF15}}Q.d.StiStyle15=Al}{class vl extends Q.d.StiChartStyle{createNew(){return new vl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF16}}Q.d.StiStyle16=vl}{class Ll extends Q.d.StiChartStyle{createNew(){return new Ll}constructor(){super(),this.core=new Q.d.StiStyleCoreXF17}}Q.d.StiStyle17=Ll}{class Tl extends Q.d.StiChartStyle{createNew(){return new Tl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF18}}Q.d.StiStyle18=Tl}{class kl extends Q.d.StiChartStyle{createNew(){return new kl}constructor(){super(),this.core=new Q.d.StiStyleCoreXF19}}Q.d.StiStyle19=kl}{class Il extends Q.d.StiChartStyle{createNew(){return new Il}constructor(){super(),this.core=new Q.d.StiStyleCoreXF20}}Q.d.StiStyle20=Il}{class Fl extends Q.d.StiChartStyle{constructor(){super(),this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF21}createNew(){return new Fl}}Q.d.StiStyle21=Fl}{class Bl extends Q.d.StiChartStyle{constructor(){super(),this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF22}createNew(){return new Bl}}Q.d.StiStyle22=Bl}{class Rl extends Q.d.StiChartStyle{constructor(){super(),this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF23}createNew(){return new Rl}}Q.d.StiStyle23=Rl}{class Pl extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.Orange,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF24}get dashboardName(){return x.get("PropertyColor","Orange")}createNew(){return new Pl}}Q.d.StiStyle24=Pl}{class Dl extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.Turquoise,this.core=new Q.d.StiStyleCoreXF26}get dashboardName(){return x.get("PropertyColor","Turquoise")}createNew(){return new Dl}}Q.d.StiStyle26=Dl}{class Ml extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.SlateGray,this.core=new Q.d.StiStyleCoreXF27}get dashboardName(){return x.get("PropertyColor","SlateGray")}createNew(){return new Ml}}Q.d.StiStyle27=Ml}{class El extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.DarkBlue,this.core=new Q.d.StiStyleCoreXF28}get dashboardName(){return x.get("PropertyColor","DarkBlue")}createNew(){return new El}}Q.d.StiStyle28=El}{class Nl extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.DarkGray,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF30}get dashboardName(){return x.get("PropertyColor","DarkGray")}createNew(){return new Nl}}Q.d.StiStyle30=Nl}{class Ol extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.DarkTurquoise,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF31}get dashboardName(){return x.get("PropertyColor","DarkTurquoise")}createNew(){return new Ol}}Q.d.StiStyle31=Ol}{class Gl extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.Silver,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF32}get dashboardName(){return x.get("PropertyColor","Silver")}createNew(){return new Gl}}Q.d.StiStyle32=Gl}{class Vl extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.AliceBlue,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF33}get dashboardName(){return x.get("PropertyColor","AliceBlue")}createNew(){return new Vl}}Q.d.StiStyle33=Vl}{class Xl extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.DarkGreen,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF34}get dashboardName(){return x.get("PropertyColor","DarkGreen")}createNew(){return new Xl}}Q.d.StiStyle34=Xl}{class _l extends Q.d.StiChartStyle{constructor(){super(),this.allowDashboard=!0,this.styleIdent=Ae.Sienna,this.isOffice2015Style=!0,this.core=new Q.d.StiStyleCoreXF35}get dashboardName(){return x.get("PropertyColor","Sienna")}createNew(){return new _l}}Q.d.StiStyle35=_l}Q.d.StiChartTableDataCells=class{constructor(e=!1,t=1,i=new X("Arial",8),r=ee.darkGray){this.font=new X("Arial",8),this.textColor=ee.darkGray,this.shrinkFontToFit=!1,this.shrinkFontToFitMinimumSize=1,this.font=i,this.textColor=r,this.shrinkFontToFit=e,this.shrinkFontToFitMinimumSize=t}meta(){return this._hash||(this._hash=[new V("Font","","Arial",8),new i("TextColor","",ee.darkGray),new h("ShrinkFontToFitMinimumSize","",1),new r("ShrinkFontToFit")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}};{class Hl{constructor(e="",t=new ie(ee.white),i=new X("Arial",8),r=ee.darkGray,s=!1,n=""){this.brush=new ie(ee.white),this.font=new X("Arial",8),this.textColor=ee.darkGray,this.wordWrap=!1,this.textAfter="",this.textAfter=e,this.brush=t,this.font=i,this.textColor=r,this.wordWrap=s,this.format=n}implements(){return Hl.implementsStiChartTableHeader||(Hl.implementsStiChartTableHeader=[s,Q.d.IStiChartTableHeader,n]),Hl.implementsStiChartTableHeader}meta(){return this._hash||(this._hash=[new o("TextAfter"),new e("Brush"),new V("Font","","Arial",8),new i("TextColor","",ee.darkGray),new r("WordWrap"),new o("Format")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.brush=this.brush.clone(),e.font=this.font.clone(),e}}Q.d.StiChartTableHeader=Hl}{class zl{constructor(){this.mode=Q.d.StiTopNMode.None,this.count=5,this.showOthers=!0,this.othersText="Others"}implements(){return zl.implementsStiSeriesTopN||(zl.implementsStiSeriesTopN=[s,Q.d.IStiSeriesTopN,n]),zl.implementsStiSeriesTopN}meta(){return this._hash||(this._hash=[new l("Mode","",Q.d.StiTopNMode,Q.d.StiTopNMode.None),new h("Count","",5),new r("ShowOthers","",!0),new E("OthersText","","Others")])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiSeriesTopN}get propName(){return""}clone(){var e;return this.stimulsoft().memberwiseClone()}}Q.d.StiSeriesTopN=zl}{class jl extends N{constructor(){super(...arguments),this.lineColor=ee.black,this.lineWidth=1,this.lineStyle=f.Solid,this.showShadow=!0,this.allowApplyStyle=!0,this.position=Q.d.StiTrendLine_StiTextPosition.LeftBottom,this.font=new X("Arial",7),this.text="",this.titleVisible=!0}implements(){return jl.implementsStiTrendLine||(jl.implementsStiTrendLine=super.implements().concat([Q.d.IStiTrendLine,n,s])),jl.implementsStiTrendLine}meta(){return this._hash||(this._hash=[...super.meta(),new E("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new i("LineColor","",ee.black),new h("LineWidth","",1),new l("LineStyle","",f,f.Solid),new r("ShowShadow","",!0),new l("Position","",Q.d.StiTrendLine_StiTextPosition,Q.d.StiConstantLines_StiTextPosition.LeftBottom),new V("Font","","Arial",7),new o("Text"),new r("TitleVisible","",!0),new r("AllowApplyStyle","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=Z["StiOptions"].Services.chartTrendLines.firstOrDefault(e=>e.stimulsoft().getType().stimulsoft().getTypeName()==t);if(null==i)throw G.format("Type {0} is not found!",t);let r=i.createNew();return r.loadFromJsonObject(e),r}loadFromXml(e){t.loadFromXml(e,this)}static loadTrendLineFromXml(t){switch(t.attributes.getNamedItem("type").value){case"Stimulsoft.Report.Chart.StiTrendLineNone":{let e=new Q.d.StiTrendLineNone;return e.loadFromXml(t),e}case"Stimulsoft.Report.Chart.StiTrendLineLinear":{let e=new Q.d.StiTrendLineLinear;return e.loadFromXml(t),e}case"Stimulsoft.Report.Chart.StiTrendLineExponential":{let e=new Q.d.StiTrendLineExponential;return e.loadFromXml(t),e}case"Stimulsoft.Report.Chart.StiTrendLineLogarithmic":{let e=new Q.d.StiTrendLineLogarithmic;return e.loadFromXml(t),e}}return new Q.d.StiTrendLineNone}get componentId(){return Q.a.StiComponentId.StiTrendLine}get propName(){return""}clone(){let e=super.clone();return null!=this.core&&(e.core=this.core.clone(),e.core.trendLine=e),e}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return jl}createNew(){return null}toString(){return this.serviceName}}Q.d.StiTrendLine=jl}{class Yl extends Q.d.StiTrendLine{constructor(){super(),this.core=new Q.d.StiTrendLineExponentialCoreXF(this)}implements(){return Yl.implementsStiTrendLineExponential||(Yl.implementsStiTrendLineExponential=super.implements().concat([Q.d.IStiTrendLine,n,s,Q.d.IStiTrendLineExponential])),Yl.implementsStiTrendLineExponential}get componentId(){return Q.a.StiComponentId.StiTrendLineExponential}createNew(){return new Yl}}Q.d.StiTrendLineExponential=Yl}{class Wl extends Q.d.StiTrendLine{constructor(){super(),this.core=new Q.d.StiTrendLineLinearCoreXF(this)}implements(){return Wl.implementsStiTrendLineLinear||(Wl.implementsStiTrendLineLinear=super.implements().concat([Q.d.IStiTrendLine,Q.d.IStiTrendLineLinear,n,s])),Wl.implementsStiTrendLineLinear}get componentId(){return Q.a.StiComponentId.StiTrendLineLinear}createNew(){return new Wl}}Q.d.StiTrendLineLinear=Wl}{class Jl extends Q.d.StiTrendLine{constructor(){super(),this.core=new Q.d.StiTrendLineLogarithmicCoreXF(this)}implements(){return Jl.implementsStiTrendLineLogarithmic||(Jl.implementsStiTrendLineLogarithmic=super.implements().concat([Q.d.IStiTrendLine,Q.d.IStiTrendLineLogarithmic,n,s])),Jl.implementsStiTrendLineLogarithmic}get componentId(){return Q.a.StiComponentId.StiTrendLineLogarithmic}createNew(){return new Jl}}Q.d.StiTrendLineLogarithmic=Jl}{class Zl extends Q.d.StiTrendLine{constructor(){super(),this.core=new Q.d.StiTrendLineNoneCoreXF(this)}implements(){return Zl.implementsStiTrendLineNone||(Zl.implementsStiTrendLineNone=super.implements().concat([Q.d.IStiTrendLine,Q.d.IStiTrendLineNone,s,n])),Zl.implementsStiTrendLineNone}get componentId(){return Q.a.StiComponentId.StiTrendLineNone}createNew(){return new Zl}}Q.d.StiTrendLineNone=Zl}{class ql extends z{implements(){return[Q.d.IStiTrendLinesCollection,n,s]}saveToJsonObject(e){if(0==this.list.length)return null;let t=new H,i=0;for(var r of this.list)t.addPropertyJObject(i.toString(),r.saveToJsonObject(e)),i++;return t}loadFromJsonObject(e){for(var s of e.properties()){let e=s.value,t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=Z["StiOptions"].Services.chartTrendLines.firstOrDefault(e=>e.stimulsoft().getType().stimulsoft().getTypeName()==t);if(null==i)throw G.format("Type {0} is not found!",t);let r=i.createNew();this.list.push(r),r.loadFromJsonObject(s.value)}}loadFromXml(t){for(let e=0;e<t.childNodes.length;e++){let i=t.childNodes[e];if(null==i.attributes)continue;var r;if(null!=i.attributes.getNamedItem("type")){let e=i.attributes.getNamedItem("type").value;var s=e.split(".").pop();let t=new Q.d[s];this.list.push(t),t.loadFromXml(i)}}}clone(){let e=new ql;for(var t of this.list)e.add(t.clone());return e}add(e){this.list.push(e)}}Q.d.StiTrendLinesCollection=ql}{class $l{constructor(){this.lineColor=ee.lightGray,this.lineWidth=1,this.visible=!0}implements(){return $l.implementsStiWaterfallConnectorLine||($l.implementsStiWaterfallConnectorLine=[Q.d.IStiTrendLine,n,s]),$l.implementsStiWaterfallConnectorLine}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new i("LineColor","",ee.lightGray),new h("LineWidth","",1),new l("LineStyle","",f,f.Solid),new r("TitleVisible","visible",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiTrendLine}}Q.d.StiWaterfallConnectorLine=$l}{class Kl{constructor(){this.text="Total",this.visible=!0}implements(){return Kl.implementsStiWaterfallTotal||(Kl.implementsStiWaterfallTotal=[Q.d.IStiTrendLine,n,s]),Kl.implementsStiWaterfallTotal}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new o("Text"),new r("Visible","",!0)])}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get componentId(){return Q.a.StiComponentId.StiTrendLine}}Q.d.StiWaterfallTotal=Kl}{class Ql{static run(e,t){if(void 0===e)return void Ql.run(Z,"Stimulsoft");for(var i in t=t.stimulsoft().replaceAll("Stimulsoft.System","System"),e)"function"==typeof e[i]?(e[i].ssTypeName=i,e[i].ssNamespace=t):"object"==typeof e[i]&&Ql.run(e[i],t+"."+i)}}Q.b.StiTypesHelper=Ql}return Q.b.StiTypesHelper.run(),{Stimulsoft:Z}});