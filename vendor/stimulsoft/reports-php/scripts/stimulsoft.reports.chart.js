/*
Stimulsoft.Reports.JS
Version: 2024.4.5
Build date: 2024.11.22
License: https://www.stimulsoft.com/en/licensing/reports
*/
(t=>{var e;"undefined"!=typeof process&&process.__nwjs||"object"!=typeof exports||"undefined"==typeof module?"function"==typeof define&&define.amd?define(["./stimulsoft.reports.engine"],e=>Object.assign(e,t(e.Stimulsoft))):window.Stimulsoft?window.Stimulsoft.Report?Object.assign(window,t(window.Stimulsoft)):window.Stimulsoft.chartFactory=t:window.Stimulsoft={chartFactory:t}:module.exports=(e=require("./stimulsoft.reports.engine"),Object.assign(e,t(e.Stimulsoft)))})(function(D){function m(e,t){for(var i in t)i in e?m(e[i],t[i]):e[i]=t[i];return e}D&&"2024.4.5"!==D.__engineVersion&&console.warn("Scripts versions mismatch: engine ver. = %s; chart ver. = 2024.4.5",D.__engineVersion);var D=m(D||{},{Report:{Events:{},Chart:{},Components:{Design:{}}},Reflection:{}}),P={},w;P.a=D.Report,P.b=D.Reflection,P.c=P.a.Events,P.d=P.a.Chart,P.e=P.a.Components,P.f=P.e.Design;let x=D.System.EventArgs,b=(P.c.StiGetTitleEventArgs=class extends x{constructor(){super(...arguments),this.series=null}},P.c.StiNewAutoSeriesEventArgs=class extends x{constructor(e,t,i){super(),this.seriesIndex=e,this.series=t,this.color=i}},D.System.Text.StiReportObjectStringConverter),O=D.System.StiMath,C=D.System.StiNumber,R=D.System.StiArray,k=D.System.StiString,F=P.c.StiNewAutoSeriesEventArgs,T=P.c.StiGetTitleEventArgs,v=D.System.Data.DBNull,z=P.c.StiValueEventArgs,Y=P.c.StiGetValueEventArgs,W=P.e.StiFilterMode,h=P.a.Dictionary.StiDataColumn,y=D.System.DateTime,B=D.System.Drawing.Color,J=P.e.StiFilterCondition,Z=P.e.StiFilterDataType,q=P.e.StiFilterItem,$=D.System.Collections.Hashtable,I=D.System.TimeSpan,M=D.System.Drawing.Point,K=P.e.StiText,Q=P.a.Engine.StiParser.StiParser,G=D.System.Collections.List;{class nt{static fillSeriesData(i,s){i.values=R.create(Number,s.length),i.arguments=R.create(Object,s.length),i.tags=R.create(Object,s.length);for(let t=0;t<s.length;t++){let e=s[t];i.values[t]="number"==typeof e.value?e.value:0,i.arguments[t]=e.argument,i.tags[t]=e.tag,i.is(P.d.IStiRangeSeries)&&(i.valuesEnd[t]="number"==typeof e.valueEnd?e.valueEnd:0),i.is(P.d.IStiFinancialSeries)&&(i.valuesOpen[t]="number"==typeof e.valueOpen?e.valueOpen:0,i.valuesClose[t]="number"==typeof e.valueClose?e.valueClose:0,i.valuesLow[t]="number"==typeof e.valueLow?e.valueLow:0,i.valuesHigh[t]="number"==typeof e.valueHigh?e.valueHigh:0),i.is(P.d.IStiHeatmapSeries)&&(i.xValues[t]=e.xValue,i.yValues[t]=e.yValue)}}static getFilterData(s,r,n){try{if(r.item==q.Expression){let e=n.substr(0,1).toLowerCase()+n.substr(1);if(null!=s[n])return s[n]();if(null!=s[e])return s[e]();let t=new K,i=(t.name="*Chart_Filter*",t.page=s.pages.getByIndex(0),Q.parseTextValue("{"+r.value+"}",t));return i}switch(r.dataType){case Z.String:return r.value;case Z.Numeric:return null!=r.value?r.value[D.System.StiObject.stimulsoft]().toNumber():0;case Z.DateTime:{let e=y.fromString(r.value);if(null!=e)return e;break}case Z.Boolean:return"true"==r.value.toLowerCase()}}catch(e){D.System.StiError.showError(e.message,!1)}return null}static getFilterResult(t,e,i,s,r,n,l,o,a){if(t.item==q.Expression)return a[D.System.StiObject.stimulsoft]().toBoolean();let h=null;switch(t.item){case q.Argument:h=e;break;case q.Value:h=i;break;case q.ValueEnd:h=s;break;case q.ValueOpen:h=r;break;case q.ValueClose:h=n;break;case q.ValueLow:h=l;break;case q.ValueHigh:h=o;break}let u=!1;if(null!=h){if(t.dataType==Z.Numeric){let t=h[D.System.StiObject.stimulsoft]().as(String);if(null!=t){let e=C.tryParse(t);e.successfully&&(h=e.result)}}else if(t.dataType==Z.DateTime){let e=y.fromString(h.toString(),!1);h=null!=e?e:y.fromOADate(h[D.System.StiObject.stimulsoft]().toNumber())}let e=h;if(null!=e&&null!=a){h[D.System.StiObject.stimulsoft]().getType()!=a[D.System.StiObject.stimulsoft]().getType()&&(h=h.toString(),a=a.toString(),e=h);try{switch(t.condition){case J.EqualTo:return 0==e[D.System.StiObject.stimulsoft]().compareTo(a);case J.NotEqualTo:return 0!=e[D.System.StiObject.stimulsoft]().compareTo(a);case J.GreaterThan:return 1==e[D.System.StiObject.stimulsoft]().compareTo(a);case J.GreaterThanOrEqualTo:return 0<=e[D.System.StiObject.stimulsoft]().compareTo(a);case J.LessThan:return-1==e[D.System.StiObject.stimulsoft]().compareTo(a);case J.LessThanOrEqualTo:return e[D.System.StiObject.stimulsoft]().compareTo(a)<=0;case J.Containing:{let e=h.toString(),t=a.toString();return-1!=e.indexOf(t)}case J.NotContaining:{let e=h.toString(),t=a.toString();return-1==e.indexOf(t)}case J.BeginningWith:{let e=h.toString(),t=a.toString();return e[D.System.StiObject.stimulsoft]().startsWith(t)}case J.EndingWith:{let e=h.toString(),t=a.toString();return e[D.System.StiObject.stimulsoft]().endsWith(t)}}}catch(e){D.System.StiError.showError(e,!1)}}}return u}static convertStringToColor(i){if(!k.isNullOrEmpty(i))try{return b.convertStringToColor(i)}catch(e){D.System.StiError.showError(e,!1);let t=k.format("Can't get color from '{0}'",i);P.a.StiLogService.write1("StiChartHelper.ConvertStringToColor "+t)}return null}static createChart(o,A){let L=new $,T=!1,v=0;while(v<A.series.count){let y=A.series.getByIndex(v),e=(this.setTitle(o,v,y),y.valuesStart=[],y.values=this.checkValueNaN(this.getValues(o,y)),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiGanttSeries)),t=(null!=e&&(e.valuesEnd=this.checkValueNaN(this.getValuesEnd(o,e,e.valueDataColumnEnd,e.invokeGetListOfValuesEnd,e.invokeGetValueEnd))),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiRangeSeries)),i=(null!=t&&(t.valuesEnd=this.checkValueNaN(this.getValuesEnd(o,t,t.valueDataColumnEnd,t.invokeGetListOfValuesEnd,t.invokeGetValueEnd))),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiSteppedRangeSeries)),s=(null!=i&&(i.valuesEnd=this.checkValueNaN(this.getValuesEnd(o,i,i.valueDataColumnEnd,i.invokeGetListOfValuesEnd,i.invokeGetValueEnd))),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiRangeBarSeries)),r=(null!=s&&(s.valuesEnd=this.checkValueNaN(this.getValuesEnd(o,s,s.valueDataColumnEnd,s.invokeGetListOfValuesEnd,s.invokeGetValueEnd))),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiSplineRangeSeries)),n=(null!=r&&(r.valuesEnd=this.checkValueNaN(this.getValuesEnd(o,r,r.valueDataColumnEnd,r.invokeGetListOfValuesEnd,r.invokeGetValueEnd))),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiCandlestickSeries)),p=(null!=n&&(n.valuesHigh=this.getValuesHigh(o,n),n.valuesLow=this.getValuesLow(o,n),n.valuesClose=this.getValuesClose(o,n),n.valuesOpen=this.getValuesOpen(o,n)),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiHeatmapSeries)),x=(null!=p&&(p.xValues=this.getXValues(o,p),p.yValues=this.getYValues(o,p)),A.series.getByIndex(v)[D.System.StiObject.stimulsoft]().as(P.d.StiBubbleSeries)),l=(null!=x&&(x.weights=this.getWeights(o,x)),y[D.System.StiObject.stimulsoft]().as(P.d.StiPieSeries));if(null!=l&&this.setCutPieList(o,l),o.cacheValues(!0),y.arguments=this.getArguments(o,y),y.tags=this.getTags(o,y),y.hyperlinks=this.getHyperlinks(o,y),y.toolTips=this.getToolTips(o,y),this.checkParetoValues(y),y.is(P.d.StiHistogramSeries)){let e=y.chart.area.xAxis.labels.formatService;P.d.StiHistogramHelper.checkValuesAndArguments(y,e)}o.cacheValues(!1);let b=this.getAutoSeriesKeysFromAutoSeriesKeyDataColumn(o,y),f=this.getAutoSeriesTitleFromAutoSeriesTitleDataColumn(o,y),C=this.getAutoSeriesColorFromautoSeriesColorDataColumn(o,y);if(y.sortBy!=P.d.StiSeriesSortType.None||0<y.filters.count||0<b.length){let e=(y.values.length>y.arguments.length?y.values:y.arguments).length,w=[];for(let g=0;g<e;g++){let e=y.values.length>g?y.values[g]:0,t=y.arguments.length>g?y.arguments[g]:null,i=b.length>g?b[g]:null,s=f.length>g?f[g]:null,r=C.length>g?C[g]:null,n=y.tags.length>g?y.tags[g]:0,l=null,o=(y.is(P.d.IStiRangeSeries)&&(l=y.valuesEnd.length>g?y.valuesEnd[g]:0),null),a=null,h=null,u=null,d=(y.is(P.d.IStiFinancialSeries)&&(o=y.valuesOpen.length>g?y.valuesOpen[g]:0,a=y.valuesClose.length>g?y.valuesClose[g]:0,h=y.valuesLow.length>g?y.valuesLow[g]:0,u=y.valuesHigh.length>g?y.valuesHigh[g]:0),null),c=(null!=x&&(d=x.weights.length>g?x.weights[g]:0),null),S=null,m=(null!=p&&(c=p.xValues.length>g?p.xValues[g]:g,S=p.yValues.length>g?p.yValues[g]:g),y.toolTips.length>g?y.toolTips[g]:"");w.push(new P.d.StiDataItem(g,t,e,l,c,S,d,o,a,h,u,s,i,r,m,n))}let r=new $,i=0;for(let t of y.filters.list){let e=`${A.name}Filters_${v}_`+i;r.set(t,this.getFilterData(A.report,t,e)),i++}let n=[],l=null,o=null;if(0<y.filters.count){try{l=h.getDataSourceFromDataColumn(A.report.dictionary,y.valueDataColumn)}catch(e){D.System.StiError.showError(e,!1)}if(null==l)try{l=h.getDataSourceFromDataColumn(A.report.dictionary,y.argumentDataColumn)}catch(e){D.System.StiError.showError(e,!1)}null==l&&(l=A.dataSource);try{o=h.getBusinessObjectFromDataColumn(A.report.dictionary,y.valueDataColumn)}catch(e){D.System.StiError.showError(e,!1)}if(null==o)try{o=h.getBusinessObjectFromDataColumn(A.report.dictionary,y.argumentDataColumn)}catch(e){D.System.StiError.showError(e,!1)}null==o&&(o=A.businessObject)}null!=l&&(l.saveState("ChartFilter"),l.first()),null!=o&&(o.saveState("ChartFilter"),o.createEnumerator());for(let e of w){let i=R.create(Boolean,y.filters.count),s=0;for(let t of y.filters.list){if(i[s]=this.getFilterResult(t,e.argument,e.value,e.valueEnd,e.valueOpen,e.valueClose,e.valueLow,e.valueHigh,r.get(t)),t.item==q.Expression){let e=`${A.name}Filters_${v}_`+s;try{i[s]=this.getFilterData(A.report,t,e)[D.System.StiObject.stimulsoft]().toBoolean()}catch(e){D.System.StiError.showError(e,!1)}}s++}let t=!0;if(y.filterMode==W.And){for(let e of i)if(!e){t=!1;break}}else{t=!1;for(let e of i)if(e){t=!0;break}}t&&n.push(e),null!=l&&l.next(),null!=o&&o.next()}if(null!=l&&l.restoreState("ChartFilter"),null!=o&&o.restoreState("ChartFilter"),w=n,y.sortBy!=P.d.StiSeriesSortType.None){let e=new P.d.StiDataItemComparer(y.sortBy,y.sortDirection);w[D.System.StiObject.stimulsoft]().sort2(e)}if(this.fillSeriesData(y,w),0<b.length){let n=new $,c=null;if(null!=y.arguments&&0<y.arguments.length){let i=[],s=new $;for(let t of w){let e=t.argument;s.containsKey(e)||(i.push(e),s.add(e,null))}s.clear(),c=i[D.System.StiObject.stimulsoft]().toArray(),y.sortBy==P.d.StiSeriesSortType.Argument&&(R.sort(c),y.sortDirection==P.d.StiSeriesSortDirection.Descending)&&R.reverse(c)}else{let s=new $;for(let t of w){let e=s.get(t.key);null==e&&(e=[],s.set(t.key,e)),e.push(t)}let r=0;for(let i of s.values){r=Math.max(r,i.count);let t=0;for(let e of i)e.argument=t.toString(),n.set(e,t.toString()),t++}c=R.create(String,r);for(let e=0;e<r;e++)c[e]=e.toString()}let t=new $;for(let e of b)t.set(e,e);let S=t.keys.toArray(),e={ref:S},m=(this.sortArray(e),S=e.ref,R.create2(P.d.StiDataItem,c.length,S.length)),l=new $;for(let e=0;e<c.length;e++)l.set(c[e],e);let o=new $;for(let e=0;e<S.length;e++)o.set(S[e],e);let g=new $,p=new $;for(let r of w){let e=this.getKey(r.key),t=r.argument,i=(null!=y.arguments&&0!=y.arguments.length||(t=n.get(r)),o.get(e)),s=l.get(t);if(null!=r.title?g.set(e,r.title):g.set(e,r.key),p.set(e,r.color),null!=m[s][i])m[s][i].push(r);else{let e=[];e.push(r),m[s][i]=e}}let f=null;null!=x&&(f=x.clone());for(let d=0;d<S.length;d++){let e=S[d],r=null,t=(0==d?r=y:(r=y.clone(),A.series.insert(v+d,r)),r.coreTitle=g.get(e),p.get(e)),n=(L.set(r,t),[]),l=[],o=[],a=[],h=[],u=[];if(r.is(P.d.IStiScatterSeries)){let s=new G;for(let t=0;t<c.length;t++){let e=m[t][d];null!=e&&s.addRange(e)}for(let i of s=s.orderBy(e=>e.index).toList()){let e=null,t=r.is(P.d.IStiScatterSeries);if(null!=i&&"number"==typeof i.value&&(e=i.value[D.System.StiObject.stimulsoft]().toNumber(),t=!1),null==i.argument)continue;n.push(e),t||o.push(i.argument),r.is(P.d.IStiRangeSeries)&&l.push(i.valueEnd[D.System.StiObject.stimulsoft]().toNumber()),null!=f&&a.push(i.weight[D.System.StiObject.stimulsoft]().toNumber()),null!=i.toolTip&&h.push(i.toolTip.toString()),null!=i.tag&&u.push(i.tag)}}else for(let s=0;s<c.length;s++){let e=m[s][d];if(null==e){if(r.is(P.d.IStiScatterSeries))continue;n.push(null),a.push(0),h.push(null),u.push(null),r.is(P.d.IStiRangeSeries)&&l.push(null),o.push(c[s])}else for(let i of e){let e=null,t=r.is(P.d.IStiScatterSeries);if(null!=i&&"number"==typeof i.value&&(e=i.value[D.System.StiObject.stimulsoft]().toNumber(),t=!1),r.is(P.d.IStiScatterSeries)&&null==c[s])continue;n.push(e),t||o.push(c[s]),r.is(P.d.IStiRangeSeries)&&l.push(i.valueEnd[D.System.StiObject.stimulsoft]().toNumber()),null!=f&&a.push(i.weight[D.System.StiObject.stimulsoft]().toNumber()),null!=i.toolTip&&h.push(i.toolTip.toString()),null!=i.tag&&u.push(i.tag)}}let i=R.create(Number,n.length),s=(n[D.System.StiObject.stimulsoft]().copyTo(i),r.values=i,R.create(Object,o.length));if(o[D.System.StiObject.stimulsoft]().copyTo(s),r.arguments=s,r.is(P.d.IStiRangeSeries)){let e=R.create(Number,l.length);l[D.System.StiObject.stimulsoft]().copyTo(e),r.valuesEnd=e}if(r.is(P.d.StiBubbleSeries)){let e=R.create(Number,a.length);a[D.System.StiObject.stimulsoft]().copyTo(e),r.weights=e}r.toolTips=h[D.System.StiObject.stimulsoft]().toArray(),r.tags=u[D.System.StiObject.stimulsoft]().toArray(),this.checkArgumentsDateTimeStep(r),this.createTopN(r),r.filters=y.filters,T=!0}v+=S.length-1}else this.createTopN(y)}else this.checkArgumentsDateTimeStep(y),this.createTopN(y);v++}if(P.d.StiBoxAndWhiskerHelper.checkArgument(A),this.checkWaterfallTotals(A),D["StiOptions"].Engine.allowInvokeProcessChartEventForTemplateOfChart&&A.invokeEvents(),T&&D["StiOptions"].Engine.applyStylesInAutoSeries){A.series.applyStyle(A.style);let s=0;for(let i of A.series.list){let e=this.convertStringToColor(L.get(i)),t=new F(s,i,null);null!=e&&(t.color=e),i.invokeNewAutoSeries(t),t.color instanceof B&&i.core.applyStyle(A.style,t.color),s++}}}static getShorterListPoints(t){let i=[];for(let e=0;e<t.values.length;e++)i[e]=new M(t.values[e],e);let s=[.3,.6,1,5,9,15,20,25,30,40],r=[],n=[];for(let e=0;e<t.values.length;e++){if((r=P.d.StiSimplifyHelper.simplify(i,s[e],!0)).length/i.length<.02&&r.length<900&&null!=n){r=n;break}n=r}return r}static checkParetoValues(r){let e=r[D.System.StiObject.stimulsoft]().as(P.d.StiParetoSeries);if(null!=e){let i=new G,s=new G;for(let t=0;t<r.values.length;t++){let e=r.values[t];0<e&&(i.push(e),null!=r.arguments&&t<r.arguments.length?s.push(r.arguments[t]):s.push(t+1))}e.values=i[D.System.StiObject.stimulsoft]().toArray(),e.arguments=s[D.System.StiObject.stimulsoft]().toArray(),e.valuesStart=[]}}static checkValueNaN(t){for(let e=0;e<t.length;e++)null!=t[e]&&isNaN(t[e])&&(t[e]=null);return t}static checkArgumentsDateTimeStep(f){let w=f.arguments;if(f.chart.area.is(P.d.StiAxisArea)){let m=f.chart.area.xAxis.dateTimeStep,g=m.step,p=m.numberOfValues;if(this.isArgumentsDateTime(w)&&g!=P.d.StiTimeDateStep.None){let l=R.create(y,w.length);for(let e=0;e<w.length;e++)l[e]=y.fromString(w[e].toString());let o=this.maximumDate(l),e=this.minimumDate(l),t=(o=this.ceilDateTimeByStep(o,g),e=this.roundDateTimeByStep(e,g),O.round2(this.getTotalTimeSpans(g,o,e))),a=[],h=[],u=e,i=this.getNextDate(e,g);for(let e=0;e<t;e++){let n=(i.ticks-u.ticks)/p;for(let r=0;r<p;r++){let e=new I(n*r);if(e.ticks>o.ticks)continue;a.push(u.addTicks(e.ticks));let t=new y(a[a.length-1].ticks),i=new y(a[a.length-1].ticks).addTicks(n),s=this.getValueForDate(t,i,l,f.values);h.push(s)}u=i,i=this.getNextDate(i,g)}let s=R.create(Object,a.length),r=R.create(Number,h.length),n=(a[D.System.StiObject.stimulsoft]().copyTo(s),h[D.System.StiObject.stimulsoft]().copyTo(r),0),d=0,c=null,S=null;for(let e=0;e<r.length;e++){if(null!=r[e]&&null==c){n=e,c=r[e];continue}if(null!=r[e]&&null!=c){d=e,c=r[n],S=r[d];let t=(c-S)/(d-n);for(let e=n+1;e<d;e++)m.interpolation?r[e]=r[e-1]-t:r[e]=0;n=0,c=null,e--}}f.arguments=s,f.values=r}}}static ceilDateTimeByStep(e,t){switch(t){case P.d.StiTimeDateStep.Second:return new y(e.year,e.month,e.day,e.hour,e.minute,e.second).addSeconds(1);case P.d.StiTimeDateStep.Minute:return new y(e.year,e.month,e.day,e.hour,e.minute,0).addMinutes(1);case P.d.StiTimeDateStep.Hour:return new y(e.year,e.month,e.day,e.hour,0,0).addHours(1);case P.d.StiTimeDateStep.Day:return new y(e.year,e.month,e.day,0,0,0).addDays(1);case P.d.StiTimeDateStep.Month:return new y(e.year,e.month,1,0,0,0).addMonths(1)}return e}static roundDateTimeByStep(e,t){switch(t){case P.d.StiTimeDateStep.Second:return new y(e.year,e.month,e.day,e.hour,e.minute,e.second);case P.d.StiTimeDateStep.Minute:return new y(e.year,e.month,e.day,e.hour,e.minute,0);case P.d.StiTimeDateStep.Hour:return new y(e.year,e.month,e.day,e.hour,0,0);case P.d.StiTimeDateStep.Day:return new y(e.year,e.month,e.day,0,0,0);case P.d.StiTimeDateStep.Month:return new y(e.year,e.month,1,0,0,0);case P.d.StiTimeDateStep.Year:return new y(e.year,1,1,0,0,0);default:return e}}static checkWaterfallTotals(e){let l=0;for(let t of e.series.toCast()){let e=t[D.System.StiObject.stimulsoft]().as(P.d.StiWaterfallSeries);null!=e&&(l=Math.max(l,e.values.length))}for(let n=0;n<e.series.count;n++){let r=e.series.list[n][D.System.StiObject.stimulsoft]().as(P.d.StiWaterfallSeries);if(null!=r){let t=[],i=[],s=0;for(let e=0;e<l;e++)0==n&&(e<r.arguments.length?t.push(r.arguments[e]):t.push(e)),r.values.length>e?(i.push(r.values[e]),s+=r.values[e]):i.push(null);r.total.visible&&i.push(s),0==n&&t.push(r.total.text),r.values=i,r.arguments=t,r.valuesStart=[]}}}static createTopN(e){if(e.topN.mode==P.d.StiTopNMode.None||e.values.length<=e.topN.count)return;let t=e[D.System.StiObject.stimulsoft]().as(P.d.StiBubbleSeries);null!=t?this.createValuesWeightsTopN(t):this.createValuesTopN(e)}static createValuesTopN(t){let e=t.topN.count,i=t.values[D.System.StiObject.stimulsoft]().clone(),s=R.create(Number,t.values.length);for(let e=0;e<t.values.length;e++)s[e]=e;R.sort3(i,s),t.topN.mode==P.d.StiTopNMode.Top&&(R.reverse(i),R.reverse(s));let r=R.create(Number,e),n=R.create(Number,e),l=(R.copy(i,0,r,e),R.copy(s,0,n,e),[]),o=[],a=0;for(let e=0;e<t.values.length;e++)this.findIndex(n,e)?(l.push(t.values[e]),e<t.arguments.length?o.push(t.arguments[e]):o.push(e)):a+=t.values[e];t.topN.showOthers&&(t.is(P.d.StiClusteredBarSeries)?(l[D.System.StiObject.stimulsoft]().insert(0,a),o[D.System.StiObject.stimulsoft]().insert(0,t.topN.othersText)):(l.push(a),o.push(t.topN.othersText)));let h=R.create(Number,l.length),u=(l[D.System.StiObject.stimulsoft]().copyTo(h),R.create(Object,o.length));o[D.System.StiObject.stimulsoft]().copyTo(u),t.values=h,t.arguments=u}static createValuesWeightsTopN(t){let e=t.topN.count,i=t.weights[D.System.StiObject.stimulsoft]().clone(),s=R.create(Number,t.weights.length);for(let e=0;e<t.weights.length;e++)s[e]=e;R.sort3(i,s),t.topN.mode==P.d.StiTopNMode.Top&&(R.reverse(i),R.reverse(s));let r=R.create(Number,e),n=R.create(Number,e),l=(R.copy(i,0,r,e),R.copy(s,0,n,e),[]),o=[],a=[];for(let e=0;e<t.weights.length;e++)this.findIndex(n,e)&&(l.push(t.weights[e]),e<t.values.length&&o.push(t.values[e]),e<t.arguments.length)&&a.push(t.arguments[e]);let h=R.create(Number,l.length),u=(l[D.System.StiObject.stimulsoft]().copyTo(h),R.create(Number,o.length)),d=(o[D.System.StiObject.stimulsoft]().copyTo(u),R.create(Object,a.length));a[D.System.StiObject.stimulsoft]().copyTo(d),t.weights=h,t.values=u,t.arguments=d}static getNextDate(e,t){switch(t){case P.d.StiTimeDateStep.Second:return e.addSeconds(1);case P.d.StiTimeDateStep.Minute:return e.addMinutes(1);case P.d.StiTimeDateStep.Day:return e.addDays(1);case P.d.StiTimeDateStep.Hour:return e.addHours(1);case P.d.StiTimeDateStep.Month:return e.addMonths(1);case P.d.StiTimeDateStep.Year:return e.addYears(1)}return e}static getKey(e){let t=e[D.System.StiObject.stimulsoft]().toNumber();if(!isNaN(t)&&e.split(",").join(".").split(".").length<=2)return t.toString();return e.toString()}static sortArray(e){let i=e.ref,s=[],r=[];for(let t=0;t<i.length;t++){let e=i[t][D.System.StiObject.stimulsoft]().toNumber();!isNaN(e)&&i[t].split(",").join(".").split(".").length<=2?s.push(e):r.push(i[t])}s.sort(),r.sort();let t=R.create(String,i.length),n=0;for(let e of s)t[n]=e.toString(),n++;for(let e of r)t[n]=e,n++;i=t,e.ref=i}static findIndex(t,i){for(let e=0;e<t.length;e++)if(t[e]==i)return!0;return!1}static getValueForDate(i,s,r,n){let l=0,o=0,e=null;for(let t=0;t<r.length;t++){let e=r[t];e.toOADate2(!1)>i.toOADate2(!1)&&e.toOADate2(!1)<=s.toOADate2(!1)&&(l++,o+=n[t])}return e=0!=l?o/l:e}static getTotalTimeSpans(e,t,i){let s=I.fromTicks(t.ticks-i.ticks),r=0;switch(e){case P.d.StiTimeDateStep.Second:r=s.totalSeconds;break;case P.d.StiTimeDateStep.Minute:r=s.totalMinutes;break;case P.d.StiTimeDateStep.Hour:r=s.totalHours;break;case P.d.StiTimeDateStep.Day:r=s.totalDays;break;case P.d.StiTimeDateStep.Month:r=12*(t.year-i.year)+t.month-i.month;break;case P.d.StiTimeDateStep.Year:r=t.year-i.year;break}return r}static isArgumentsDateTime(e){if(0==e.length)return!1;for(let t of e){if(null==t)return!1;let e=t.toString();if(!y.fromString(e,!1))return!1}return!0}static maximumDate(t){let i=null;for(let e of t){if(null==i){i=e;continue}e.toOADate2(!1)>i.toOADate2(!1)&&(i=e)}return i}static minimumDate(t){let i=null;for(let e of t){if(null==i){i=e;continue}e.toOADate2(!1)<i.toOADate2(!1)&&(i=e)}return i}static getAutoSeriesColorFromautoSeriesColorDataColumn(n,l){if(null!=l.autoSeriesColorDataColumn&&0<l.autoSeriesColorDataColumn.trim().length){let s=h.getDataSourceFromDataColumn(n.report.dictionary,l.autoSeriesColorDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=R.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=h.getDataFromDataColumn(n.report.dictionary,l.autoSeriesColorDataColumn);e=null==e?"":e.toString(),i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}let r=h.getBusinessObjectFromDataColumn(n.report.dictionary,l.autoSeriesColorDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=R.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=h.getDataFromBusinessObject(n.report.dictionary,l.autoSeriesColorDataColumn);e=null==e?"":e.toString(),i[t]=e,r.next()}return r.restoreState("ChartRender_DataColumn"),i}}return[]}static getAutoSeriesTitleFromAutoSeriesTitleDataColumn(n,l){if(null!=l.autoSeriesTitleDataColumn&&0<l.autoSeriesTitleDataColumn.trim().length){let s=h.getDataSourceFromDataColumn(n.report.dictionary,l.autoSeriesTitleDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=R.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=h.getDataFromDataColumn(n.report.dictionary,l.autoSeriesTitleDataColumn);e=null==e?"":e.toString(),i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}let r=h.getBusinessObjectFromDataColumn(n.report.dictionary,l.autoSeriesTitleDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=R.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=h.getDataFromBusinessObject(n.report.dictionary,l.autoSeriesTitleDataColumn);e=null==e?"":e.toString(),i[t]=e,r.next()}return r.restoreState("ChartRender_DataColumn"),i}}return[]}static getAutoSeriesKeysFromAutoSeriesKeyDataColumn(n,l){if(null!=l.autoSeriesKeyDataColumn&&0<l.autoSeriesKeyDataColumn.trim().length){let s=h.getDataSourceFromDataColumn(n.report.dictionary,l.autoSeriesKeyDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=R.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=h.getDataFromDataColumn(n.report.dictionary,l.autoSeriesKeyDataColumn);e=null==e?"":e.toString(),i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}let r=h.getBusinessObjectFromDataColumn(n.report.dictionary,l.autoSeriesKeyDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=R.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=h.getDataFromBusinessObject(n.report.dictionary,l.autoSeriesKeyDataColumn);e=null==e?"":e.toString(),i[t]=e,r.next()}return r.restoreState("ChartRender_DataColumn"),i}}return[]}static setTitle(e,t,i){let s=new T;s.series=i,s.index=t,i.invokeGetTitle(e,s),k.isNullOrEmpty(s.value)||(i.coreTitle=s.value)}static setCutPieList(e,t){let i=new Y;t.invokeGetCutPieList(e,i),k.isNullOrEmpty(i.value)||(t.cutPieListValues=P.d.StiSeries.getValuesFromString(i.value))}static getArguments(e,t){let i=this.getArgumentsFromListOfArguments(e,t);if(null!=i)return i;if(null!=(i=this.getArgumentsFromArgumentDataColumn(e,t)))return i;if(null!=(i=this.getArgumentsFromArgumentExpression(e,t)))return i;return[]}static getArgumentsFromArgumentExpression(i,s){let r=R.create(Object,i.count);i.first();for(let t=0;t<i.count;t++){let e=new z;s.invokeGetArgument(i,e),r[t]=e.value,i.next()}return r}static getArgumentsFromArgumentDataColumn(s,r){if(null!=r.argumentDataColumn&&0<r.argumentDataColumn.trim().length){let e=h.getDataSourceFromDataColumn(s.report.dictionary,r.argumentDataColumn);if(null!=e){e.saveState("ChartRender_DataColumn");let i=R.create(Object,e.count);e.first();for(let t=0;t<e.count;t++){try{i[t]=h.getDataFromDataColumn(s.report.dictionary,r.argumentDataColumn),null!=i&&i[t]instanceof y&&(r.core.isDateTimeArguments=!0)}catch(e){i[t]=null}e.next()}return e.restoreState("ChartRender_DataColumn"),i}let i=h.getBusinessObjectFromDataColumn(s.report.dictionary,r.argumentDataColumn);if(null!=i){i.saveState("ChartRender_DataColumn");let t=R.create(Object,i.count);i.first();for(let e=0;e<i.count;e++)t[e]=h.getDataFromBusinessObject(s.report.dictionary,r.argumentDataColumn),t[e]instanceof y&&(r.core.isDateTimeArguments=!0),i.next();return i.restoreState("ChartRender_DataColumn"),t}}return null}static getArgumentsFromListOfArguments(e,t){let i=new Y;if(t.invokeGetListOfArguments(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getArgumentsFromString(i.value);return null}static getValues(e,t){let i=this.getValuesFromListOfValues(e,t);if(null!=i)return i;if(null!=(i=this.getValuesFromValueDataColumn(e,t)))return i;if(null!=(i=this.getValuesFromValueExpression(e,t)))return i;return[]}static getValuesFromValueExpression(i,s){let r=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s.invokeGetValue(i,e),r[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return r}static getValuesFromValueDataColumn(l,o){if(null!=o.valueDataColumn&&0<o.valueDataColumn.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,o.valueDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,o.valueDataColumn),t=null;null!=(e=!o.is(P.d.StiGanttSeries)||null==e||e instanceof y||null==y.fromString(e.toString(),!1)?e:y.fromString(e.toString()))&&e instanceof y?(t=e.toOADate2(!1),o.core.isDateTimeValues=!0):null!=e&&e!=v.value&&(t=e[D.System.StiObject.stimulsoft]().toNumber()),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,o.valueDataColumn);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,o.valueDataColumn),t=null;(e=e instanceof y||null==y.fromString(e.toString(),!1)?e:y.fromString(e.toString()))instanceof y?(o.core.isDateTimeValues=!0,t=e.toOADate2(!1)):null!=e&&e!=v.value&&(t=e[D.System.StiObject.stimulsoft]().toNumber()),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getValuesFromListOfValues(e,t){let i=new Y;if(t.invokeGetListOfValues(e,i,t),null!=i.value&&0<i.value.length)return P.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesEnd(e,t,i,s,r){let n=this.getValuesEndFromListOfValuesEnd(e,t,s);if(null!=n)return n;if(null!=(n=this.getValuesEndFromValueDataColumnEnd(e,t,i)))return n;if(null!=(n=this.getValuesEndFromValueEndExpression(e,r,t)))return n;return[]}static getValuesEndFromValueEndExpression(i,s,r){let n=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s(i,e,r),n[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return n}static getValuesEndFromValueDataColumnEnd(l,o,a){if(null!=a&&0<a.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,a);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,a),t=null;(e=!o.is(P.d.StiGanttSeries)||null==e||e instanceof y||null==y.fromString(e.toString(),!1)?e:y.fromString(e.toString()))instanceof y?(o.core.isDateTimeValues=!0,t=e.toOADate2(!1)):null!=e&&e!=v.value&&(t=e[D.System.StiObject.stimulsoft]().toNumber()),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,a);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,a),t=null;(e=e instanceof y||null==y.fromString(e.toString(),!1)?e:y.fromString(e.toString()))instanceof y?(o.core.isDateTimeValues=!0,t=e.toOADate2(!1)):null!=e&&e!=v.value&&(t=e[D.System.StiObject.stimulsoft]().toNumber()),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getValuesEndFromListOfValuesEnd(e,t,i){let s=new Y;if(i(e,s,t),null!=s.value&&0<s.value.length)return P.d.StiSeries.getNullableValuesFromString(t,s.value);return null}static getValuesOpen(e,t){let i=this.getValuesOpenFromListOfValuesOpen(e,t);if(null!=i)return i;if(null!=(i=this.getValuesOpenFromValueDataColumnOpen(e,t)))return i;if(null!=(i=this.getValuesOpenFromValuesOpenExpression(e,t)))return i;return[]}static getValuesOpenFromValuesOpenExpression(i,s){let r=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s.invokeGetValueOpen(i,e),r[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return r}static getValuesOpenFromValueDataColumnOpen(l,o){if(null!=o.valueDataColumnOpen&&0<o.valueDataColumnOpen.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,o.valueDataColumnOpen);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,o.valueDataColumnOpen),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,o.valueDataColumnOpen);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,o.valueDataColumnOpen),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getValuesOpenFromListOfValuesOpen(e,t){let i=new Y;if(t.invokeGetListOfValuesOpen(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesClose(e,t){let i=this.getValuesCloseFromListOfValuesClose(e,t);if(null!=i)return i;if(null!=(i=this.getValuesCloseFromValueDataColumnClose(e,t)))return i;if(null!=(i=this.getValuesCloseFromValuesCloseExpression(e,t)))return i;return[]}static getValuesCloseFromValuesCloseExpression(i,s){let r=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s.invokeGetValueClose(i,e),r[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return r}static getValuesCloseFromValueDataColumnClose(l,o){if(null!=o.valueDataColumnClose&&0<o.valueDataColumnClose.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,o.valueDataColumnClose);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,o.valueDataColumnClose),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,o.valueDataColumnClose);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,o.valueDataColumnClose),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getValuesCloseFromListOfValuesClose(e,t){let i=new Y;if(t.invokeGetListOfValuesClose(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesHigh(e,t){let i=this.getValuesHighFromListOfValuesHigh(e,t);if(null!=i)return i;if(null!=(i=this.getValuesHighFromValueDataColumnHigh(e,t)))return i;if(null!=(i=this.getValuesHighFromValuesHighExpression(e,t)))return i;return[]}static getValuesHighFromValuesHighExpression(i,s){let r=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s.invokeGetValueHigh(i,e),r[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return r}static getValuesHighFromValueDataColumnHigh(l,o){if(null!=o.valueDataColumnHigh&&0<o.valueDataColumnHigh.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,o.valueDataColumnHigh);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,o.valueDataColumnHigh),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,o.valueDataColumnHigh);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,o.valueDataColumnHigh),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getValuesHighFromListOfValuesHigh(e,t){let i=new Y;if(t.invokeGetListOfValuesHigh(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getValuesLow(e,t){let i=this.getValuesLowFromListOfValuesLow(e,t);if(null!=i)return i;if(null!=(i=this.getValuesLowFromValueDataColumnLow(e,t)))return i;if(null!=(i=this.getValuesLowFromValuesLowExpression(e,t)))return i;return[]}static getValuesLowFromValuesLowExpression(i,s){let r=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s.invokeGetValueLow(i,e),r[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return r}static getValuesLowFromValueDataColumnLow(l,o){if(null!=o.valueDataColumnLow&&0<o.valueDataColumnLow.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,o.valueDataColumnLow);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,o.valueDataColumnLow),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,o.valueDataColumnLow);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,o.valueDataColumnLow),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getValuesLowFromListOfValuesLow(e,t){let i=new Y;if(t.invokeGetListOfValuesLow(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getWeights(e,t){let i=this.getWeightsFromListOfWeights(e,t);if(null!=i)return i;if(null!=(i=this.getWeightsFromWeightDataColumn(e,t)))return i;if(null!=(i=this.getWeightsWeightExpression(e,t)))return i;return[]}static getWeightsWeightExpression(i,s){let r=R.create(Number,i.count);i.first();for(let t=0;t<i.count;t++){let e=new Y;e.value="0",s.invokeGetWeight(i,e),r[t]=e.value[D.System.StiObject.stimulsoft]().toNumber(),i.next()}return r}static getWeightsFromWeightDataColumn(l,o){if(null!=o.weightDataColumn&&0<o.weightDataColumn.trim().length){let r=h.getDataSourceFromDataColumn(l.report.dictionary,o.weightDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let s=R.create(Number,r.count);r.first();for(let i=0;i<r.count;i++){let e=h.getDataFromDataColumn(l.report.dictionary,o.weightDataColumn),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,r.next()}return r.restoreState("ChartRender_DataColumn"),s}let n=h.getBusinessObjectFromDataColumn(l.report.dictionary,o.weightDataColumn);if(null!=n){n.saveState("ChartRender_DataColumn");let s=R.create(Number,n.count);n.first();for(let i=0;i<n.count;i++){let e=h.getDataFromBusinessObject(l.report.dictionary,o.weightDataColumn),t=(e instanceof y||null==y.fromString(e.toString(),!1)||(e=y.fromString(e.toString())),0);t=e instanceof y?(o.core.isDateTimeValues=!0,e.toOADate2(!1)):e[D.System.StiObject.stimulsoft]().toNumber(),s[i]=t,n.next()}return n.restoreState("ChartRender_DataColumn"),s}}return null}static getWeightsFromListOfWeights(e,t){let i=new Y;if(t.invokeGetListOfWeights(e,i,t),null!=i.value&&0<i.value.length)return P.d.StiSeries.getNullableValuesFromString(t,i.value);return null}static getXValues(e,t){let i=this.getXValuesFromListOfXValues(e,t);if(null!=i)return i;if(null!=(i=this.getXValuesFromXValueDataColumn(e,t)))return i;if(null!=(i=this.getXValuesFromXvalueExpression(e,t)))return i;return[]}static getXValuesFromXvalueExpression(i,e){let s=R.create(Object,i.count);i.first();for(let t=0;t<i.count;t++){let e=new z;s[t]=e.value,i.next()}return s}static getXValuesFromXValueDataColumn(s,r){if(null==r.xValuesDataColumn||r.xValuesDataColumn.trim().length<=0)return null;let n=h.getDataSourceFromDataColumn(s.report.dictionary,r.xValuesDataColumn);if(null!=n){n.saveState("ChartRender_DataColumn");let i=R.create(Object,n.count);n.first();for(let t=0;t<n.count;t++){let e=h.getDataFromDataColumn(s.report.dictionary,r.xValuesDataColumn);i[t]=e,n.next()}return n.restoreState("ChartRender_DataColumn"),i}let i=h.getBusinessObjectFromDataColumn(s.report.dictionary,r.xValuesDataColumn);if(null!=i){i.saveState("ChartRender_DataColumn"),i.createEnumerator(),i.specTotalsCalculation=!0;let t=R.create(Object,i.count);i.first();for(let e=0;e<i.count;e++)t[e]=h.getDataFromBusinessObject(s.report.dictionary,r.xValuesDataColumn),i.next();return i.restoreState("ChartRender_DataColumn"),t}return null}static getXValuesFromListOfXValues(e,t){let i=new Y;if(t.invokeGetListOfXValues(e,i),!k.isNullOrEmpty(i.value))return P.d.StiSeries.getArgumentsFromString(i.value);return null}static getYValues(e,t){let i=this.getYValuesFromListOfYValues(e,t);if(null!=i)return i;if(null!=(i=this.getYValuesFromYValueDataColumn(e,t)))return i;if(null!=(i=this.getYValuesFromXvalueExpression(e,t)))return i;return[]}static getYValuesFromXvalueExpression(i,e){let s=R.create(Object,i.count);i.first();for(let t=0;t<i.count;t++){let e=new z;s[t]=e.value,i.next()}return s}static getYValuesFromYValueDataColumn(s,r){if(null==r.yValuesDataColumn||r.yValuesDataColumn.trim().length<=0)return null;let n=h.getDataSourceFromDataColumn(s.report.dictionary,r.yValuesDataColumn);if(null!=n){n.saveState("ChartRender_DataColumn");let i=R.create(Object,n.count);n.first();for(let t=0;t<n.count;t++){let e=h.getDataFromDataColumn(s.report.dictionary,r.yValuesDataColumn);i[t]=e,n.next()}return n.restoreState("ChartRender_DataColumn"),i}let i=h.getBusinessObjectFromDataColumn(s.report.dictionary,r.yValuesDataColumn);if(null!=i){i.saveState("ChartRender_DataColumn"),i.createEnumerator(),i.specTotalsCalculation=!0;let t=R.create(Object,i.count);i.first();for(let e=0;e<i.count;e++)t[e]=h.getDataFromBusinessObject(s.report.dictionary,r.yValuesDataColumn),i.next();return i.restoreState("ChartRender_DataColumn"),t}return null}static getYValuesFromListOfYValues(e,t){let i=new Y;if(t.invokeGetListOfYValues(e,i),!k.isNullOrEmpty(i.value))return P.d.StiSeries.getArgumentsFromString(i.value);return null}static getHyperlinks(e,t){let i=this.getHyperlinksFromListOfHyperlinks(e,t);if(null!=i)return i;if(null!=(i=this.getHyperlinksFromHyperlinkDataColumn(e,t)))return i;if(null!=(i=this.getHyperlinksFromHyperlinkExpression(e,t)))return i;return[]}static getHyperlinksFromHyperlinkExpression(i,s){let r=R.create(String,i.count);i.first();for(let t=0;t<i.count;t++){let e=new z;e.value=null,s.invokeGetHyperlink(i,e),null!=e.value&&(r[t]=e.value.toString()),i.next()}return r}static getHyperlinksFromHyperlinkDataColumn(n,l){if(null!=l.hyperlinkDataColumn&&0<l.hyperlinkDataColumn.trim().length){let s=h.getDataSourceFromDataColumn(n.report.dictionary,l.hyperlinkDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=R.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=h.getDataFromDataColumn(n.report.dictionary,l.hyperlinkDataColumn);null!=e&&(i[t]=e.toString()),s.next()}return s.restoreState("ChartRender_DataColumn"),i}let r=h.getBusinessObjectFromDataColumn(n.report.dictionary,l.hyperlinkDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=R.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=h.getDataFromBusinessObject(n.report.dictionary,l.hyperlinkDataColumn);null!=e&&(i[t]=e.toString()),r.next()}return r.restoreState("ChartRender_DataColumn"),i}}return null}static getHyperlinksFromListOfHyperlinks(e,t){let i=new Y;if(t.invokeGetListOfHyperlinks(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getStringsFromString(i.value);return null}static getTags(e,t){let i=this.getTagsFromListOfTags(e,t);if(null!=i)return i;if(null!=(i=this.getTagsFromTagDataColumn(e,t)))return i;if(null!=(i=this.getTagsFromTagExpression(e,t)))return i;return[]}static getTagsFromTagExpression(i,s){let r=R.create(Object,i.count);i.first();for(let t=0;t<i.count;t++){let e=new z;e.value=null,s.invokeGetTag(i,e),r[t]=e.value,i.next()}return r}static getTagsFromTagDataColumn(r,n){if(null!=n.tagDataColumn&&0<n.tagDataColumn.trim().length){let s=h.getDataSourceFromDataColumn(r.report.dictionary,n.tagDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=R.create(Object,s.count);s.first();for(let t=0;t<s.count;t++){let e=h.getDataFromDataColumn(r.report.dictionary,n.tagDataColumn);i[t]=e,s.next()}return s.restoreState("ChartRender_DataColumn"),i}let i=h.getBusinessObjectFromDataColumn(r.report.dictionary,n.tagDataColumn);if(null!=i){i.saveState("ChartRender_DataColumn");let t=R.create(Object,i.count);i.first();for(let e=0;e<i.count;e++)t[e]=h.getDataFromBusinessObject(r.report.dictionary,n.tagDataColumn),i.next();return i.restoreState("ChartRender_DataColumn"),t}}return null}static getTagsFromListOfTags(e,t){let i=new Y;if(t.invokeGetListOfTags(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getStringsFromString(i.value);return null}static getToolTips(e,t){let i=this.getToolTipsFromListOfToolTips(e,t);if(null!=i)return i;if(null!=(i=this.getToolTipsFromToolTipDataColumn(e,t)))return i;if(null!=(i=this.getToolTipsFromToolTipExpression(e,t)))return i;return[]}static getToolTipsFromToolTipExpression(i,s){let r=R.create(String,i.count);i.first();for(let t=0;t<i.count;t++){let e=new z;e.value=null,s.invokeGetToolTip(i,e),null!=e.value&&(r[t]=e.value.toString()),i.next()}return r}static getToolTipsFromToolTipDataColumn(n,l){if(null!=l.toolTipDataColumn&&0<l.toolTipDataColumn.trim().length){let s=h.getDataSourceFromDataColumn(n.report.dictionary,l.toolTipDataColumn);if(null!=s){s.saveState("ChartRender_DataColumn");let i=R.create(String,s.count);s.first();for(let t=0;t<s.count;t++){let e=h.getDataFromDataColumn(n.report.dictionary,l.toolTipDataColumn);null!=e&&(i[t]=e.toString()),s.next()}return s.restoreState("ChartRender_DataColumn"),i}let r=h.getBusinessObjectFromDataColumn(n.report.dictionary,l.toolTipDataColumn);if(null!=r){r.saveState("ChartRender_DataColumn");let i=R.create(String,r.count);r.first();for(let t=0;t<r.count;t++){let e=h.getDataFromBusinessObject(n.report.dictionary,l.toolTipDataColumn);null!=e&&(i[t]=e.toString()),r.next()}return r.restoreState("ChartRender_DataColumn"),i}}return null}static getToolTipsFromListOfToolTips(e,t){let i=new Y;if(t.invokeGetListOfToolTips(e,i),null!=i.value&&0<i.value.length)return P.d.StiSeries.getStringsFromString(i.value);return null}static getAnimationCompatibilitySeries(e,t){let i=nt.getAnimationSeriesType(e),s=nt.getAnimationSeriesType(t);if(i==P.d.StiSeriesAnimationType.None||s==P.d.StiSeriesAnimationType.None)return!1;return i==s}static getAnimationSeriesType(e){let t=e[D.System.StiObject.stimulsoft]().getType();if(t==P.d.StiClusteredColumnSeries)return P.d.StiSeriesAnimationType.Column;if(t==P.d.StiStackedColumnSeries)return P.d.StiSeriesAnimationType.Column;if(t==P.d.StiFullStackedColumnSeries)return P.d.StiSeriesAnimationType.Column;if(t==P.d.StiRangeBarSeries)return P.d.StiSeriesAnimationType.Column;if(t==P.d.StiHistogramSeries)return P.d.StiSeriesAnimationType.Column;if(t==P.d.StiWaterfallSeries)return P.d.StiSeriesAnimationType.Column;if(t==P.d.StiLineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiStackedLineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiFullStackedLineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiSplineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiStackedSplineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiFullStackedSplineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiSteppedLineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiScatterLineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiScatterSplineSeries)return P.d.StiSeriesAnimationType.Line;if(t==P.d.StiClusteredBarSeries)return P.d.StiSeriesAnimationType.Bar;if(t==P.d.StiStackedBarSeries)return P.d.StiSeriesAnimationType.Bar;if(t==P.d.StiFullStackedBarSeries)return P.d.StiSeriesAnimationType.Bar;if(t==P.d.StiGanttSeries)return P.d.StiSeriesAnimationType.Bar;if(t==P.d.StiAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiStackedAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiFullStackedAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiSplineAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiStackedSplineAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiFullStackedSplineAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiSteppedAreaSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiRangeSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiSplineRangeSeries)return P.d.StiSeriesAnimationType.Range;if(t==P.d.StiSteppedRangeSeries)return P.d.StiSeriesAnimationType.Range;return P.d.StiSeriesAnimationType.None}}nt.globalDurationElement=new I(0,0,1),nt.globalBeginTimeElement=new I(0,0,1),P.d.StiChartHelper=nt}let U=D.Base.Meta.StiStringMeta,t=D.Base.Meta.StiMetaHelper,ee=D.Base.Meta.StiBrushMeta,e=D.Base.Meta.StiColorMeta,i=D.Base.Meta.StiBoolMeta,s=D.Base.JsonReportObject.IStiJsonReportObject,r=D.System.ICloneable,V=D.Base.Drawing.StiSolidBrush,te=D.Base.Services.StiService,n=D.Base.Meta.StiNumberMeta,ie=D.Base.StiActivator;{class je extends te{constructor(){super(...arguments),this.chart=null,this._allowApplyStyle=!0,this.colorEach=!1,this.showShadow=!1,this.borderColor=B.gray,this.borderThickness=1,this.brush=new V(B.white)}implements(){return je.implementsStiArea||(je.implementsStiArea=super.implements().concat([s,P.d.IStiArea,r])),je.implementsStiArea}meta(){return[...super.meta(),new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("AllowApplyStyle","",!0),new i("ColorEach"),new i("ShowShadow"),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new ee(["Brush","br"])]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=D["StiOptions"].Services.chartAreas.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t);if(null==i)throw k.format("Type {0} is not found!",t);let s=ie.createObject(i[D.System.StiObject.stimulsoft]().getType());return s.loadFromJsonObject(e),s}static loadAreaFromXml(e,t){let i=e.attributes.getNamedItem("type").value,s=i.split(".").pop(),r=new P.d[s];return r.chart=t,r.loadFromXml(e),r}get propName(){return""}clone(){let e=super.clone();return e.brush=this.brush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.area=e),e}toString(){return this.serviceName}getDefaultSeriesType(){return null}getSeriesTypes(){return null}getDefaultSeriesLabelsType(){return null}getSeriesLabelsTypes(){return null}get serviceCategory(){return"Chart"}get serviceType(){return je}get isDefaultSeriesTypeFullStackedColumnSeries(){return this.getDefaultSeriesType()==P.d.StiFullStackedColumnSeries}get isDefaultSeriesTypeFullStackedBarSeries(){return this.getDefaultSeriesType()==P.d.StiFullStackedBarSeries}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}}P.d.StiArea=je}let l=D.Base.Meta.StiEnumMeta,o=D.Base.Meta.StiObjectMeta;{class et extends P.d.StiArea{implements(){return et.implementsStiRadarArea||(et.implementsStiRadarArea=super.implements().concat([s,P.d.IStiRadarArea,P.d.IStiArea,r])),et.implementsStiRadarArea}meta(){return[...super.meta(),new o("InterlacingHor","_"),new o("InterlacingVert","_"),new o("GridLinesHor","_"),new o("GridLinesVert","_"),new o("XAxis","_").set(e=>{this._xAxis.loadFromJsonObject(e.value),1==this._xAxis[D.System.StiObject.stimulsoft]().as(P.d.StiRadarAxis).jsonLoadFromJsonObjectArea&&(this._xAxis[D.System.StiObject.stimulsoft]().as(P.d.StiRadarAxis).jsonLoadFromJsonObjectArea=!1,this._xAxis.area=this)}).setXml(e=>{this._xAxis.loadFromXml(e),this._xAxis.area=this}),new o("YAxis","_").set(e=>{this._yAxis.loadFromJsonObject(e.value),1==this._yAxis[D.System.StiObject.stimulsoft]().as(P.d.StiRadarAxis).jsonLoadFromJsonObjectArea&&(this._yAxis[D.System.StiObject.stimulsoft]().as(P.d.StiRadarAxis).jsonLoadFromJsonObjectArea=!1,this._yAxis.area=this)}).setXml(e=>{this._yAxis.loadFromXml(e),this._yAxis.area=this}),new l("RadarStyle","",P.d.StiRadarStyle,P.d.StiRadarStyle.Circle)]}clone(){let e=super.clone();return e.interlacingHor=this.interlacingHor.clone(),e.interlacingVert=this.interlacingVert.clone(),e.gridLinesHor=this.gridLinesHor.clone(),e.gridLinesVert=this.gridLinesVert.clone(),e.xAxis=this.xAxis.clone(),e.yAxis=this.yAxis.clone(),e}getDefaultSeriesLabelsType(){return P.d.StiNoneLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiOutsideBaseAxisLabels,P.d.StiOutsideEndAxisLabels,P.d.StiOutsideAxisLabels,P.d.StiValueAxisLabels]}get interlacingHor(){return this._interlacingHor}set interlacingHor(e){this._interlacingHor=e,null!=this._interlacingHor&&(this._interlacingHor.area=this)}get interlacingVert(){return this._interlacingVert}set interlacingVert(e){this._interlacingVert=e,null!=this._interlacingVert&&(this._interlacingVert.area=this)}get gridLinesHor(){return this._gridLinesHor}set gridLinesHor(e){this._gridLinesHor=e,null!=this._gridLinesHor&&(this._gridLinesHor.area=this)}get gridLinesVert(){return this._gridLinesVert}set gridLinesVert(e){this._gridLinesVert=e,null!=this._gridLinesVert&&(this._gridLinesVert.area=this)}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e,null!=this._xAxis&&(this._xAxis.area=this)}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e,null!=this._yAxis&&(this._yAxis.area=this)}constructor(){super(),this.radarStyle=P.d.StiRadarStyle.Circle,this.xAxis=new P.d.StiXRadarAxis,this.yAxis=new P.d.StiYRadarAxis,this.interlacingHor=new P.d.StiInterlacingHor,this.interlacingVert=new P.d.StiInterlacingVert,this.gridLinesHor=new P.d.StiRadarGridLinesHor,this.gridLinesVert=new P.d.StiRadarGridLinesVert}}P.d.StiRadarArea=et}let E=D.System.Drawing.Rectangle,se=P.d.IStiSeriesElement;{class Je{implements(){return Je.implementsStiChartCoreXF||(Je.implementsStiChartCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiChartCoreXF]),Je.implementsStiChartCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.chart.style=e,this.chart.allowApplyStyle&&(this.chart.brush=e.core.chartBrush),null!=this.chart.title&&this.chart.title.core.applyStyle(e),null!=this.chart.area&&this.chart.area.core.applyStyle(e),null!=this.chart.legend&&this.chart.legend.core.applyStyle(e),null!=this.chart.seriesLabels&&this.chart.seriesLabels.core.applyStyle(e),null!=this.chart.series&&this.chart.series.applyStyle(e),null!=this.chart.constantLines&&this.chart.constantLines.applyStyle(e),null!=this.chart.strips&&this.chart.strips.applyStyle(e),null!=this.chart.table&&this.chart.table.core.applyStyle(e)}render(n,t,e){let l=new P.d.StiChartGeom(t);l.createChildGeoms();let r;if(e){let e=n.options.zoom;r=new E(t.x+this.chart.horSpacing*e,t.y+this.chart.vertSpacing*e,t.width-2*this.chart.horSpacing*e,t.height-2*this.chart.vertSpacing*e)}else r=t.clone();this.fullRectangle=r;let i=this.chart.title.core.render(n,this.chart.title,r);if(null!=i){switch(this.chart.title.dock){case P.d.StiChartTitleDock.Top:r.y+=i.clientRectangle.height,r.height-=i.clientRectangle.height;break;case P.d.StiChartTitleDock.Right:r.width-=i.clientRectangle.width;break;case P.d.StiChartTitleDock.Bottom:r.height-=i.clientRectangle.height;break;case P.d.StiChartTitleDock.Left:r.x+=i.clientRectangle.width,r.width-=i.clientRectangle.width;break}l.childGeoms.push(i)}let o=null,a=null,h=r.clone();if(null!=this.chart.legend&&(o=this.chart.area.core.render(n,h.clone()),null!=(a=this.chart.legend.core.render(n,o.clientRectangle.clone())))){let e=a.clientRectangle.clone(),t={ref:r},i={ref:h},s={ref:e};this.setLegendRect(n,this.chart,t,i,s),r=t.ref,e=s.ref,h=i.ref}let u=0,d=0,s=(this.chart.table.core.showTable()&&(o=this.chart.area.core.render(n,h.clone()),u=this.chart.table.core.getWidthCellLegend(n)+o.clientRectangle.width,d=this.chart.table.core.getHeightTable(n,u),h.height-=d),null!=this.chart.area&&null!=(o=this.chart.area.core.render(n,h.clone()))&&l.childGeoms.push(o),l.getSeriesElementGeoms());for(let t=0;t<s.length;t++){let e=s[t][D.System.StiObject.stimulsoft]().as(se);null!=e&&(e.elementIndex=t.toString())}if(this.chart.table.core.showTable()){let e=this.chart.series,r=this.chart.area;if(null!=e&&0<e.count){let e=h.x,t=(this.chart.table.core.getWidthCellLegend(n)<o.clientRectangle.x-h.x&&(e=o.clientRectangle.x-this.chart.table.core.getWidthCellLegend(n)),r.reverseHor&&r.yRightAxis.visible&&(e=o.clientRectangle.left),o.clientRectangle.bottom),i=(this.chart.table.chart.area.is(P.d.IStiClusteredBarArea)&&(t=h.bottom),new E(e,t,u,d)),s=this.chart.table.core.render(n,i);l.childGeoms.push(s)}}if(l.createChildGeoms(),null!=a){h=o.clientRectangle.clone();let e=a.clientRectangle.clone(),t={ref:r},i={ref:h},s={ref:e};this.setLegendRect(n,this.chart,t,i,s),r=t.ref,e=s.ref,h=i.ref,a.clientRectangle=e.clone(),l.childGeoms.push(a)}return l}setLegendRect(e,t,i,s,r){let n=i.ref,l=s.ref,o=r.ref,a=t.horSpacing*e.options.zoom,h=t.vertSpacing*e.options.zoom;switch(t.legend.horAlignment){case P.d.StiLegendHorAlignment.LeftOutside:o.x=n.x,l.width-=o.width+a,l.x+=o.width+a;break;case P.d.StiLegendHorAlignment.Left:o.x=l.x+a;break;case P.d.StiLegendHorAlignment.Center:o.x=l.x+(l.width-o.width)/2;break;case P.d.StiLegendHorAlignment.Right:o.x=l.right-a-o.width,t.legend.showShadow&&t.legend.vertAlignment==P.d.StiLegendVertAlignment.BottomOutside&&(o.x-=5,l.width-=5);break;case P.d.StiLegendHorAlignment.RightOutside:o.x=n.right-o.width,l.width-=o.width+a,t.legend.showShadow&&(o.x-=5,l.width-=5);break}switch(t.legend.vertAlignment){case P.d.StiLegendVertAlignment.TopOutside:o.y=n.y,l.height-=o.height+h,l.y+=o.height+h;break;case P.d.StiLegendVertAlignment.Top:o.y=l.y+h;break;case P.d.StiLegendVertAlignment.Center:o.y=l.y+(l.height-o.height)/2;break;case P.d.StiLegendVertAlignment.Bottom:o.y=l.bottom-h-o.height,!t.legend.showShadow||t.legend.horAlignment!=P.d.StiLegendHorAlignment.LeftOutside&&t.legend.horAlignment!=P.d.StiLegendHorAlignment.RightOutside||(o.y-=5,l.height-=5);break;case P.d.StiLegendVertAlignment.BottomOutside:o.y=n.bottom-o.height,l.height-=o.height+h,t.legend.showShadow&&(o.y-=5,l.height-=5);break}t.legend.vertAlignment==P.d.StiLegendVertAlignment.BottomOutside||t.legend.vertAlignment==P.d.StiLegendVertAlignment.TopOutside?(t.legend.horAlignment==P.d.StiLegendHorAlignment.Left&&(o.x-=a),t.legend.horAlignment==P.d.StiLegendHorAlignment.Right&&(o.x+=a)):t.legend.horAlignment!=P.d.StiLegendHorAlignment.RightOutside&&t.legend.horAlignment!=P.d.StiLegendHorAlignment.LeftOutside||(t.legend.vertAlignment==P.d.StiLegendVertAlignment.Top&&(o.y-=h),t.legend.vertAlignment==P.d.StiLegendVertAlignment.Bottom&&(o.y+=h)),i.ref=n,s.ref=l,r.ref=o}constructor(e){this.chart=e}}P.d.StiChartCoreXF=Je}let a=D.Base.Meta.StiStringNullOrEmptyMeta;{class $e{implements(){return $e.implementsStiChartTable||($e.implementsStiChartTable=[s,P.d.IStiChartTable,r]),$e.implementsStiChartTable}meta(){return[new i("Visible"),new i("AllowApplyStyle","",!0),new i("MarkerVisible","",!0),new e("GridLineColor","",B.gray),new i("GridLinesHor","",!0),new i("GridLinesVert","",!0),new i("GridOutline","",!0),new a("Format"),new o("Header"),new o("DataCells")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.font=this.font.clone(),e.header=this.header.clone(),e.dataCells=this.dataCells.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.chartTable=e),e}get font(){return this.dataCells.font}set font(e){this.dataCells.font=e}get textColor(){return this.dataCells.textColor}set textColor(e){this.dataCells.textColor=e}constructor(){this.visible=!1,this.allowApplyStyle=!0,this.markerVisible=!0,this.gridLineColor=B.gray,this.gridLinesHor=!0,this.gridLinesVert=!0,this.gridOutline=!0,this.format="",this.chart=null,this.header=new P.d.StiChartTableHeader,this.dataCells=new P.d.StiChartTableDataCells,this.core=new P.d.StiChartTableCoreXF(this)}}P.d.StiChartTable=$e}let re=D.Base.Meta.StiFontMeta,X=D.System.Drawing.StringAlignment,S=D.System.Drawing.Font,ne=D.System.Drawing.FontStyle;{class qe{implements(){return qe.implementsStiChartTitle||(qe.implementsStiChartTitle=[P.d.IStiChartTitle,r,s]),qe.implementsStiChartTitle}meta(){return[new i("AllowApplyStyle","_",!0),new re(["Font","fn"],"","Tahoma",12,ne.Bold),new a(["Text","text"]),new ee(["Brush","bh"]),new i("Antialiasing","",!0),new l("Alignment","",X,X.Center),new l("Dock","",P.d.StiChartTitleDock,P.d.StiChartTitleDock.Top),new n("Spacing","",2),new i("Visible")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.alignment=this.alignment,e.font=this.font.clone(),e.brush=this.brush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.chartTitle=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}constructor(e=new S("Tahoma",12,ne.Bold),t="",i=new V(B.saddleBrown),s=!0,r=X.Center,n=P.d.StiChartTitleDock.Top,l=2,o=!1,a=!0){this._allowApplyStyle=!0,this.font=new S("Tahoma",12,ne.Bold),this.text="",this.brush=new V(B.saddleBrown),this.antialiasing=!0,this.alignment=X.Center,this.dock=P.d.StiChartTitleDock.Top,this.spacing=2,this.visible=!1,this.chart=null,this.core=new P.d.StiChartTitleCoreXF(this),this.font=e,this.text=t,this.brush=i,this.antialiasing=s,this.alignment=r,this.dock=n,this.spacing=l,this.visible=o,this.allowApplyStyle=a}}P.d.StiChartTitle=qe}let le=D.Base.StiJson,d=D.Base.Localization.StiLocalization,oe=D.System.Collections.CollectionBase;{class it extends oe{constructor(){super(...arguments),this.chart=null}implements(){return it.implementsStiStripsCollection||(it.implementsStiStripsCollection=[s,P.d.IStiApplyStyle,P.d.IStiStripsCollection]),it.implementsStiStripsCollection}saveToJsonObject(t){if(0==this.list.length)return null;let i=new le,s=0;for(let e of this.list)i.addPropertyJObject(s.toString(),e.saveToJsonObject(t)),s++;return i}loadFromJsonObject(e){for(let t of e.properties()){let e=new P.d.StiStrips;e.chart=this.chart,this.add(e),e.loadFromJsonObject(t.value)}}loadFromXml(s){for(let i=0;i<s.childNodes.length;i++){let t=s.childNodes[i];if(null==t.attributes)continue;let e=t.attributes.getNamedItem("type");if(null!=e&&"Stimulsoft.Report.Chart.StiStrips"==t.attributes.getNamedItem("type").value){let e=new P.d.StiStrips;e.chart=this.chart,this.add(e),e.loadFromXml(t)}}}applyStyle(t){for(let e of this.list)e.core.applyStyle(t)}getStripsTitle(){let e=d.get("Chart","Strip"),t=e,i=1,s=!0;while(s){t=e+" "+i.toString(),s=!1;for(let e of this.list)if(e.text==t){s=!0;break}i++}return t}add(e){null!=this.chart&&(k.isNullOrEmpty(e.text)&&(e.text=this.getStripsTitle()),e.chart=this.chart),super.add(e)}}P.d.StiStripsCollection=it}{class Qe extends oe{constructor(){super(...arguments),this.chart=null}implements(){return Qe.implementsStiConstantLinesCollection||(Qe.implementsStiConstantLinesCollection=[s,P.d.IStiApplyStyle,P.d.IStiConstantLinesCollection]),Qe.implementsStiConstantLinesCollection}saveToJsonObject(t){if(0==this.list.length)return null;let i=new le,s=0;for(let e of this.list)i.addPropertyJObject(s.toString(),e.saveToJsonObject(t)),s++;return i}loadFromJsonObject(e){for(let t of e.properties()){let e=new P.d.StiConstantLines;e.chart=this.chart,this.add(e),e.loadFromJsonObject(t.value)}}loadFromXml(s){for(let i=0;i<s.childNodes.length;i++){let t=s.childNodes[i];if(null==t.attributes)continue;let e=t.attributes.getNamedItem("type");if(null!=e&&"Stimulsoft.Report.Chart.StiConstantLines"==t.attributes.getNamedItem("type").value){let e=new P.d.StiConstantLines;e.chart=this.chart,this.add(e),e.loadFromXml(t)}}}applyStyle(t){for(let e of this.list)e.core.applyStyle(t)}getConstantLineTitle(){let e=d.get("Chart","ConstantLine"),t=e,i=1,s=!0;while(s){t=e+" "+i.toString(),s=!1;for(let e of this.list)if(e.text==t){s=!0;break}i++}return t}add(e){null!=this.chart&&(k.isNullOrEmpty(e.text)&&(e.text=this.getConstantLineTitle()),e.chart=this.chart),super.add(e)}}P.d.StiConstantLinesCollection=Qe}let ae=D.Base.Meta.StiSizeMeta,he=D.System.Drawing.Size,ue=P.e.TextFormats.StiFormatService,de=P.e.TextFormats.StiGeneralFormatService;{class Xe extends te{constructor(){super(...arguments),this.preventIntersection=!1,this._allowApplyStyle=!0,this.showZeros=!1,this.showNulls=!0,this.markerVisible=!1,this.markerSize=new he(8,6),this.markerAlignment=P.d.StiMarkerAlignment.Left,this.step=0,this.valueType=P.d.StiSeriesLabelsValueType.Value,this.valueTypeSeparator="-",this.legendValueType=P.d.StiSeriesLabelsValueType.Value,this.textBefore="",this.textAfter="",this.angle=0,this.format="",this.antialiasing=!0,this.visible=!0,this.drawBorder=!0,this.useSeriesColor=!1,this.labelColor=B.black,this.borderColor=B.black,this.brush=new V(B.white),this.font=new S("Arial",7),this.chart=null,this.wordWrap=!1,this.width=0}implements(){return Xe.implementsStiSeriesLabels||(Xe.implementsStiSeriesLabels=super.implements().concat([s,P.d.IStiSeriesLabels,r])),Xe.implementsStiSeriesLabels}meta(){return[...super.meta(),new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("PreventIntersection"),new i("AllowApplyStyle","",!0),new i("ShowZeros"),new i("ShowNulls","",!0),new i("MarkerVisible"),new ae("MarkerSize"),new l("MarkerAlignment","",P.d.StiMarkerAlignment,P.d.StiMarkerAlignment.Left),new n("Step"),new l("ValueType","",P.d.StiSeriesLabelsValueType,P.d.StiSeriesLabelsValueType.Value),new a("ValueTypeSeparator"),new l("LegendValueType","",P.d.StiSeriesLabelsValueType,P.d.StiSeriesLabelsValueType.Value),new a("TextBefore"),new a("TextAfter"),new n("Angle"),new a("Format"),new i("Antialiasing","",!0),new i("Visible","",!0),new i("DrawBorder","",!0),new i("UseSeriesColor"),new e("LabelColor","",B.black),new e("BorderColor","",B.black),new ee(["Brush","bh"]),new re("Font","","Arial",7),new i("WordWrap"),new n("Width"),new o("FormatService").check(()=>null!=this.formatService&&!this.formatService.is(de)).set(e=>this.formatService=ue.createFromJsonObject(e.value)).setXml(e=>this.formatService=ue.loadFormatFromXml(e))]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}static loadFromJsonObjectInternal(e,t){let i=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),s=D["StiOptions"].Services.chartSerieLabels.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==i);if(null==s)throw k.format("Type {0} is not found!",i);let r=ie.createObject(s[D.System.StiObject.stimulsoft]().getType());return r.chart=t,r.loadFromJsonObject(e),r}static loadLabelsFromXml(e,t){let i=e.attributes.getNamedItem("type").value,s=i.split(".").pop(),r=new P.d[s];return r.chart=t,r.loadFromXml(e),r}get propName(){return""}clone(){let e=super.clone();return e.brush=this.brush.clone(),e.font=this.font.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.seriesLabels=e),e}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return Xe}get axisCore(){return this.core}get pieCore(){return this.core}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}get conditions(){if(null==this.chart)return null;return this.chart.seriesLabelsConditions}set conditions(e){if(null==this.chart)return;this.chart.seriesLabelsConditions=e}get showOnZeroValues(){return this.showZeros}set showOnZeroValues(e){this.showZeros=e}toString(){return this.serviceName}}P.d.StiSeriesLabels=Xe}{class vi extends P.d.StiSeriesLabels{constructor(){super(...arguments),this._showInPercent=!1}implements(){return vi.implementsStiAxisSeriesLabels||(vi.implementsStiAxisSeriesLabels=super.implements().concat([P.d.IStiSeriesLabels,r,P.d.IStiAxisSeriesLabels])),vi.implementsStiAxisSeriesLabels}meta(){return[...super.meta(),new i("ShowInPercent","_")]}get showInPercent(){return this._showInPercent}set showInPercent(e){this._showInPercent=e,this._showInPercent&&!this.format[D.System.StiObject.stimulsoft]().startsWith("P")&&(this.format="P2"),this._showInPercent||(this.format="")}}P.d.StiAxisSeriesLabels=vi}{class We extends P.d.StiAxisSeriesLabels{implements(){return We.implementsStiCenterAxisLabels||(We.implementsStiCenterAxisLabels=super.implements().concat([s,P.d.IStiSeriesLabels,P.d.IStiCenterAxisLabels,P.d.IStiAxisSeriesLabels,r])),We.implementsStiCenterAxisLabels}constructor(){super(),this.core=new P.d.StiCenterAxisLabelsCoreXF(this)}}P.d.StiCenterAxisLabels=We}let p=D.Base.Drawing.StiPenStyle;{class Fi{implements(){return Fi.implementsStiAxis||(Fi.implementsStiAxis=[s,r,P.d.IStiAxis,s]),Fi.implementsStiAxis}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return[new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("LogarithmicScale"),new i("AllowApplyStyle","",!0),new i("StartFromZero","",!0),new o("Interaction"),new o("Labels"),new o("Range"),new i("Visible","",!0),new l("ArrowStyle","",P.d.StiArrowStyle,P.d.StiArrowStyle.None),new l("LineStyle","",p,p.Solid),new e("LineColor","",B.gray),new n("LineWidth","",1),new o("Title"),new o("Ticks")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.arrowStyle=this.arrowStyle,e.lineStyle=this.lineStyle,e.labels=this.labels.clone(),e.range=this.range.clone(),e.title=this.title.clone(),e.ticks=this.ticks.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.axis=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}get step(){if(null==this.labels)return 0;return this.labels.step}set step(e){null!=this.labels&&(this.labels.step=e)}get title(){return null==this._title&&(this._title=new P.d.StiAxisTitle,this.is(P.d.StiXBottomAxis)||this.is(P.d.StiXTopAxis)?this._title.direction=P.d.StiDirection.LeftToRight:this.is(P.d.StiYRightAxis)?this._title.direction=P.d.StiDirection.TopToBottom:this.is(P.d.StiYLeftAxis)&&(this._title.direction=P.d.StiDirection.BottomToTop)),this._title}set title(e){null==this._title&&(this._title=new P.d.StiAxisTitle,this.is(P.d.StiXBottomAxis)||this.is(P.d.StiXTopAxis)?this._title.direction=P.d.StiDirection.LeftToRight:this.is(P.d.StiYRightAxis)?this._title.direction=P.d.StiDirection.TopToBottom:this.is(P.d.StiYLeftAxis)&&(this._title.direction=P.d.StiDirection.BottomToTop)),this._title=e}get titleDirection(){if(null==this.title)return P.d.StiLegendDirection.BottomToTop;switch(this.title.direction){case P.d.StiDirection.BottomToTop:return P.d.StiLegendDirection.BottomToTop;case P.d.StiDirection.LeftToRight:return P.d.StiLegendDirection.LeftToRight;case P.d.StiDirection.RightToLeft:return P.d.StiLegendDirection.RightToLeft;case P.d.StiDirection.TopToBottom:return P.d.StiLegendDirection.TopToBottom}return P.d.StiLegendDirection.BottomToTop}set titleDirection(e){if(null==this.title)return;switch(e){case P.d.StiLegendDirection.BottomToTop:this.title.direction=P.d.StiDirection.BottomToTop;break;case P.d.StiLegendDirection.LeftToRight:this.title.direction=P.d.StiDirection.LeftToRight;break;case P.d.StiLegendDirection.RightToLeft:this.title.direction=P.d.StiDirection.RightToLeft;break;case P.d.StiLegendDirection.TopToBottom:this.title.direction=P.d.StiDirection.TopToBottom;break}}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!0,u=!0,d=!0,c=!1){this._allowApplyStyle=!0,this.logarithmicScale=!1,this.startFromZero=!0,this.interaction=new P.d.StiAxisInteraction,this.labels=new P.d.StiAxisLabels,this.range=new P.d.StiAxisRange,this.ticks=new P.d.StiAxisTicks,this.arrowStyle=P.d.StiArrowStyle.None,this.lineStyle=p.Solid,this.lineColor=B.gray,this.lineWidth=1,this.visible=!0,this.info=new P.d.StiAxisInfoXF,this.labels=e,this.range=t,this._title=i,this.ticks=s,this.interaction=r,this.arrowStyle=n,this.lineStyle=l,this.lineColor=o,this.lineWidth=a,this.visible=h,this.startFromZero=u,this._allowApplyStyle=d,this.logarithmicScale=c}}P.d.StiAxis=Fi}{class ki extends P.d.StiAxis{implements(){return ki.implementsStiYAxis||(ki.implementsStiYAxis=super.implements().concat([s,P.d.IStiYAxis,r,P.d.IStiAxis])),ki.implementsStiYAxis}meta(){return[...super.meta(),new l("ShowYAxis","",P.d.StiShowYAxis,P.d.StiShowYAxis.Both)]}get propName(){return""}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!0,u=!0,d=P.d.StiShowYAxis.Both,c=!0,S=!1){super(e,t,i,s,r,n,l,o,a,h,u,c,S),this.showYAxis=P.d.StiShowYAxis.Both,this.showYAxis=d}}P.d.StiYAxis=ki}let ce=D.Base.Meta.StiRemoveMeta,Se=D.Base.Drawing.StiHorAlignment;{class Bi extends P.d.StiYAxis{implements(){return Bi.implementsStiYRightAxis||(Bi.implementsStiYRightAxis=super.implements().concat([s,P.d.IStiYAxis,r,P.d.IStiAxis,P.d.IStiYRightAxis])),Bi.implementsStiYRightAxis}meta(){return[...super.meta(),new ce("ShowYAxis"),new i("Visible")]}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!0,u=!0,d=!0,c=!1){super(e,t,i,s,r,n,l,o,a,h,u,P.d.StiShowYAxis.Both,d,c),this.visible=!1,this.labels.textAlignment=Se.Left,this.core=new P.d.StiYRightAxisCoreXF(this)}}P.d.StiYRightAxis=Bi}{class Ii extends P.d.StiAxis{implements(){return Ii.implementsStiXAxis||(Ii.implementsStiXAxis=super.implements().concat([s,P.d.IStiAxis,P.d.IStiXAxis,r])),Ii.implementsStiXAxis}meta(){return[...super.meta(),new i("ShowEdgeValues"),new l("ShowXAxis","",P.d.StiShowXAxis,P.d.StiShowXAxis.Both),new o("DateTimeStep")]}get propName(){return""}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!0,u=!0,d=P.d.StiShowXAxis.Both,c=!1,S=!0,m=new P.d.StiAxisDateTimeStep,g=!1){super(e,t,i,s,r,n,l,o,a,h,u,S,g),this.showEdgeValues=!1,this.showXAxis=P.d.StiShowXAxis.Both,this.dateTimeStep=new P.d.StiAxisDateTimeStep,this.showXAxis=d,this.dateTimeStep=m,this.showEdgeValues=c}}P.d.StiXAxis=Ii}{class Di extends P.d.StiXAxis{implements(){return Di.implementsStiXTopAxis||(Di.implementsStiXTopAxis=super.implements().concat([P.d.IStiXTopAxis,r,P.d.IStiAxis,P.d.IStiXAxis,s])),Di.implementsStiXTopAxis}meta(){return[...super.meta(),new ce(["Range","ShowXAxis","DateTimeStep"]),new i("Visible")]}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!1,u=!0,d=P.d.StiShowXAxis.Both,c=!1,S=!0,m=!1){super(e,t,i,s,r,n,l,o,a,h,u,P.d.StiShowXAxis.Both,c,S,new P.d.StiAxisDateTimeStep,m),this.core=new P.d.StiXTopAxisCoreXF(this)}}P.d.StiXTopAxis=Di}{class Oi extends P.d.StiYAxis{implements(){return Oi.implementsStiYLeftAxis||(Oi.implementsStiYLeftAxis=super.implements().concat([s,P.d.IStiYAxis,r,P.d.IStiAxis,P.d.IStiYLeftAxis])),Oi.implementsStiYLeftAxis}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!0,u=!0,d=P.d.StiShowYAxis.Both,c=!0,S=!1){super(e,t,i,s,r,n,l,o,a,h,u,d,c,S),this.core=new P.d.StiYLeftAxisCoreXF(this)}}P.d.StiYLeftAxis=Oi}{class Pi{implements(){return Pi.implementsStiAxisLabels||(Pi.implementsStiAxisLabels=[s,P.d.IStiAxisLabels,r]),Pi.implementsStiAxisLabels}meta(){return[new i("AllowApplyStyle","",!0),new a("Format"),new n("Angle"),new n("Width"),new a("TextBefore"),new a("TextAfter"),new re("Font","","Tahoma",8),new i("Antialiasing","",!0),new l("Placement","",P.d.StiLabelsPlacement,P.d.StiLabelsPlacement.OneLine),new e("Color","",B.black),new l("TextAlignment","",Se,Se.Right),new n("Step"),new i("WordWrap")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.placement=this.placement,e.font=this.font.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.labels=e),e}constructor(e="",t="",i="",s=0,r=new S("Tahoma",8),n=!0,l=P.d.StiLabelsPlacement.OneLine,o=B.black,a=0,h=Se.Right,u=0,d=!0,c=!1){this.allowApplyStyle=!0,this.format="",this.angle=0,this.width=0,this.textBefore="",this.textAfter="",this.font=new S("Tahoma",8),this.antialiasing=!0,this.placement=P.d.StiLabelsPlacement.OneLine,this.color=B.black,this.textAlignment=Se.Right,this.step=0,this.wordWrap=!1,this.format=e,this.textBefore=t,this.textAfter=i,this.angle=s,this.font=r,this.antialiasing=n,this.placement=l,this.color=o,this.width=a,this.textAlignment=h,this.step=u,this.allowApplyStyle=d,this.wordWrap=c,this.core=new P.d.StiAxisLabelsCoreXF(this)}}P.d.StiAxisLabels=Pi}{class Ri{implements(){return Ri.implementsStiAxisRange||(Ri.implementsStiAxisRange=[s,r,P.d.IStiAxisRange]),Ri.implementsStiAxisRange}meta(){return[new n("Minimum"),new n("Maximum"),new i("Auto","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}constructor(e=!0,t=0,i=0){this.minimum=0,this.maximum=0,this.auto=!0,this.auto=e,this.minimum=t,this.maximum=i}}P.d.StiAxisRange=Ri}{class Mi{implements(){return Mi.implementsStiAxisTicks||(Mi.implementsStiAxisTicks=[s,P.d.IStiAxisTicks,r]),Mi.implementsStiAxisTicks}meta(){return[new n("LengthUnderLabels","_",5),new n("Length","_",5),new n("MinorLength","_",2),new n("MinorCount","_",4),new n("Step","_"),new i("MinorVisible"),new i("Visible","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}get lengthUnderLabels(){return this._lengthUnderLabels}set lengthUnderLabels(e){0<e&&(this._lengthUnderLabels=e)}get length(){return this._length}set length(e){0<e&&(this._length=e)}get minorLength(){return this._minorLength}set minorLength(e){0<e&&(this._minorLength=e)}get minorCount(){return this._minorCount}set minorCount(e){0<=e&&(this._minorCount=e)}get step(){return this._step}set step(e){0<=e&&(this._step=e)}constructor(e=!0,t=5,i=!1,s=2,r=4,n=0,l=5){this._lengthUnderLabels=5,this._length=5,this._minorLength=2,this._minorCount=4,this._step=0,this.minorVisible=!1,this.visible=!0,this.visible=e,this._length=t,this.minorVisible=i,this._minorLength=s,this._minorCount=r,this._step=n,this._lengthUnderLabels=l}}P.d.StiAxisTicks=Mi}{class Gi{implements(){return Gi.implementsStiAxisInteraction||(Gi.implementsStiAxisInteraction=[s,P.d.IStiAxisInteraction,r]),Gi.implementsStiAxisInteraction}meta(){return[new i("ShowScrollBar"),new i("RangeScrollEnabled","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e}constructor(e=!1,t=!0){this.showScrollBar=!1,this.rangeScrollEnabled=!0,this.showScrollBar=e,this.rangeScrollEnabled=t}}P.d.StiAxisInteraction=Gi}{class Vi{implements(){return Vi.implementsStiAxisDateTimeStep||(Vi.implementsStiAxisDateTimeStep=[s,r,P.d.IStiAxisDateTimeStep,s]),Vi.implementsStiAxisDateTimeStep}meta(){return[new l("Step","",P.d.StiTimeDateStep,P.d.StiTimeDateStep.None),new n("NumberOfValues","",1),new i("Interpolation")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}constructor(e=P.d.StiTimeDateStep.None,t=1,i=!1){this.step=P.d.StiTimeDateStep.None,this.numberOfValues=1,this.interpolation=!1,this.step=e,this.numberOfValues=t,this.interpolation=i}}P.d.StiAxisDateTimeStep=Vi}{class Ei extends P.d.StiXAxis{implements(){return Ei.implementsStiXBottomAxis||(Ei.implementsStiXBottomAxis=super.implements().concat([s,P.d.IStiXAxis,r,P.d.IStiXBottomAxis,P.d.IStiAxis])),Ei.implementsStiXBottomAxis}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=null,s=new P.d.StiAxisTicks,r=new P.d.StiAxisInteraction,n=P.d.StiArrowStyle.None,l=p.Solid,o=B.gray,a=1,h=!0,u=!0,d=P.d.StiShowXAxis.Both,c=!1,S=!0,m=new P.d.StiAxisDateTimeStep,g=!1){super(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g),this.dateTimeStep=m,this.core=new P.d.StiXBottomAxisCoreXF(this)}}P.d.StiXBottomAxis=Ei}{class Xi{implements(){return Xi.implementsStiGridLines||(Xi.implementsStiGridLines=[s,P.d.IStiGridLines,r]),Xi.implementsStiGridLines}meta(){return[new i("AllowApplyStyle","_",!0),new e("Color","",B.silver),new e("MinorColor","",B.gainsboro),new l("Style","",p,p.Dot),new l("MinorStyle","",p,p.Dot),new i("Visible","",!0),new i("MinorVisible"),new n("MinorCount","_"),new i("Area","needSetAreaJsonPropertyInternal").get(()=>null!=this.area)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.style=this.style,e.minorStyle=this.minorStyle,null!=this.core&&(e.core=this.core.clone(),e.core.gridLines=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}get minorCount(){return this._minorCount}set minorCount(e){0<=e&&(this._minorCount=e)}constructor(e=B.silver,t=p.Dot,i=!0,s=B.gainsboro,r=p.Dot,n=!1,l=0,o=!0){this.needSetAreaJsonPropertyInternal=!1,this._allowApplyStyle=!0,this.color=B.silver,this.minorColor=B.gainsboro,this.style=p.Dot,this.minorStyle=p.Dot,this.visible=!0,this.minorVisible=!1,this._minorCount=0,this.color=e,this.style=t,this.visible=i,this.minorColor=s,this.minorStyle=r,this.minorVisible=n,this._minorCount=l,this._allowApplyStyle=o,this.core=new P.d.StiGridLinesCoreXF(this)}}P.d.StiGridLines=Xi}{class Ni extends P.d.StiGridLines{implements(){return Ni.implementsStiGridLinesVert||(Ni.implementsStiGridLinesVert=super.implements().concat([s,P.d.IStiGridLines,r,P.d.IStiGridLinesVert])),Ni.implementsStiGridLinesVert}constructor(e=B.silver,t=p.Dot,i=!0,s=B.gainsboro,r=p.Dot,n=!1,l=0,o=!0){super(e,t,i,s,r,n,l,o)}}P.d.StiGridLinesVert=Ni}{class ji extends P.d.StiGridLines{implements(){return ji.implementsStiGridLinesHor||(ji.implementsStiGridLinesHor=super.implements().concat([s,P.d.IStiGridLines,P.d.IStiGridLinesHor,r])),ji.implementsStiGridLinesHor}constructor(e=B.silver,t=p.Dot,i=!0,s=B.gainsboro,r=p.Dot,n=!1,l=0,o=!0){super(e,t,i,s,r,n,l,o)}}P.d.StiGridLinesHor=ji}{class _i{implements(){return _i.implementsStiInterlacing||(_i.implementsStiInterlacing=[P.d.IStiInterlacing,r,s]),_i.implementsStiInterlacing}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return[new i("AllowApplyStyle","_",!0),new ee("InterlacedBrush"),new i("Visible","",!0),new i("Area","needSetAreaJsonPropertyInternal").get(()=>null!=this.area)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.interlacedBrush=this.interlacedBrush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.interlacing=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}constructor(e=new V(B.transparent),t=!0,i=!0){this.needSetAreaJsonPropertyInternal=!1,this._allowApplyStyle=!0,this.interlacedBrush=new V(B.transparent),this.visible=!0,this.interlacedBrush=e,this.visible=t,this._allowApplyStyle=i,this.core=new P.d.StiInterlacingCoreXF(this)}}P.d.StiInterlacing=_i}{class Hi extends P.d.StiInterlacing{implements(){return Hi.implementsStiInterlacingVert||(Hi.implementsStiInterlacingVert=super.implements().concat([P.d.IStiInterlacing,P.d.IStiInterlacingVert,r,s])),Hi.implementsStiInterlacingVert}constructor(e=new V(B.transparent),t=!0,i=!0){super(e,t,i)}}P.d.StiInterlacingVert=Hi}{class zi extends P.d.StiInterlacing{implements(){return zi.implementsStiInterlacingHor||(zi.implementsStiInterlacingHor=super.implements().concat([P.d.IStiInterlacing,P.d.IStiInterlacingHor,s,r])),zi.implementsStiInterlacingHor}constructor(e=new V(B.transparent),t=!0,i=!0){super(e,t,i)}}P.d.StiInterlacingHor=zi}{class Ve extends P.d.StiArea{implements(){return Ve.implementsStiAxisArea||(Ve.implementsStiAxisArea=super.implements().concat([s,P.d.IStiAxisArea,P.d.IStiArea,r])),Ve.implementsStiAxisArea}meta(){return[...super.meta(),new o("InterlacingHor","_").set(e=>{this._interlacingHor.loadFromJsonObject(e.value),this._interlacingHor.needSetAreaJsonPropertyInternal&&(this._interlacingHor.needSetAreaJsonPropertyInternal=!1,this._interlacingHor.area=this)}).setXml(e=>{this._interlacingHor.loadFromXml(e),this._interlacingHor.area=this}),new o("InterlacingVert","_").set(e=>{this._interlacingVert.loadFromJsonObject(e.value),this._interlacingVert.needSetAreaJsonPropertyInternal&&(this._interlacingVert.needSetAreaJsonPropertyInternal=!1,this._interlacingVert.area=this)}).setXml(e=>{this._interlacingVert.loadFromXml(e),this._interlacingVert.area=this}),new o("GridLinesHor","_").set(e=>{this._gridLinesHor.loadFromJsonObject(e.value),this._gridLinesHor.needSetAreaJsonPropertyInternal&&(this._gridLinesHor.needSetAreaJsonPropertyInternal=!1,this._gridLinesHor.area=this)}).setXml(e=>{this._gridLinesHor.loadFromXml(e),this._gridLinesHor.area=this}),new o("GridLinesHorRight","_").set(e=>{this._gridLinesHorRight.loadFromJsonObject(e.value),this._gridLinesHorRight.needSetAreaJsonPropertyInternal&&(this._gridLinesHorRight.needSetAreaJsonPropertyInternal=!1,this._gridLinesHorRight.area=this)}).setXml(e=>{this._gridLinesHorRight.loadFromXml(e),this._gridLinesHorRight.area=this}),new o("GridLinesVert","_").set(e=>{this._gridLinesVert.loadFromJsonObject(e.value),this._gridLinesVert.needSetAreaJsonPropertyInternal&&(this._gridLinesVert.needSetAreaJsonPropertyInternal=!1,this._gridLinesVert.area=this)}).setXml(e=>{this._gridLinesVert.loadFromXml(e),this._gridLinesVert.area=this}),new o("YAxis","_"),new o("YRightAxis","_"),new o("XAxis","_"),new o("XTopAxis","_"),new i("ReverseHor"),new i("ReverseVert")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=super.clone();return e.interlacingHor=this.interlacingHor.clone(),e.interlacingVert=this.interlacingVert.clone(),e.gridLinesHor=this.gridLinesHor.clone(),e.gridLinesHorRight=this.gridLinesHorRight.clone(),e.gridLinesVert=this.gridLinesVert.clone(),e.yAxis=this.yAxis.clone(),e.yRightAxis=this.yRightAxis.clone(),e.xAxis=this.xAxis.clone(),e.xTopAxis=this.xTopAxis.clone(),e}get axisCore(){return this.core}get interlacingHor(){return this._interlacingHor}set interlacingHor(e){this._interlacingHor=e,null!=this._interlacingHor&&(this._interlacingHor.area=this)}get interlacingVert(){return this._interlacingVert}set interlacingVert(e){this._interlacingVert=e,null!=this._interlacingVert&&(this._interlacingVert.area=this)}get gridLinesHor(){return this._gridLinesHor}set gridLinesHor(e){this._gridLinesHor=e,null!=this._gridLinesHor&&(this._gridLinesHor.area=this)}get gridLinesHorRight(){return this._gridLinesHorRight}set gridLinesHorRight(e){this._gridLinesHorRight=e,null!=this._gridLinesHorRight&&(this._gridLinesHorRight.area=this)}get gridLinesVert(){return this._gridLinesVert}set gridLinesVert(e){this._gridLinesVert=e,null!=this._gridLinesVert&&(this._gridLinesVert.area=this)}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e,null!=this._yAxis&&(this._yAxis.area=this)}get yRightAxis(){return this._yRightAxis}set yRightAxis(e){this._yRightAxis=e,null!=this._yRightAxis&&(this._yRightAxis.area=this)}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e,null!=this._xAxis&&(this._xAxis.area=this)}get xTopAxis(){return this._xTopAxis}set xTopAxis(e){this._xTopAxis=e,null!=this._xTopAxis&&(this._xTopAxis.area=this)}getDefaultSeriesLabelsType(){return P.d.StiCenterAxisLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiInsideBaseAxisLabels,P.d.StiInsideEndAxisLabels,P.d.StiCenterAxisLabels,P.d.StiOutsideBaseAxisLabels,P.d.StiOutsideEndAxisLabels,P.d.StiOutsideAxisLabels,P.d.StiLeftAxisLabels,P.d.StiValueAxisLabels,P.d.StiRightAxisLabels]}constructor(){super(),this.reverseHor=!1,this.reverseVert=!1,this.interlacingHor=new P.d.StiInterlacingHor,this.interlacingVert=new P.d.StiInterlacingVert,this.gridLinesHor=new P.d.StiGridLinesHor,this.gridLinesHorRight=new P.d.StiGridLinesHor,this.gridLinesVert=new P.d.StiGridLinesVert,this.gridLinesHorRight.visible=!1,this.xAxis=new P.d.StiXBottomAxis,this.yAxis=new P.d.StiYLeftAxis,this.xTopAxis=new P.d.StiXTopAxis,this.yRightAxis=new P.d.StiYRightAxis}}P.d.StiAxisArea=Ve}{class Ke extends P.d.StiAxisArea{implements(){return Ke.implementsStiClusteredColumnArea||(Ke.implementsStiClusteredColumnArea=super.implements().concat([s,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,P.d.IStiRoundValuesArea,r,P.d.IStiArea])),Ke.implementsStiClusteredColumnArea}meta(){return[...super.meta(),new i("RoundValues"),new i("SideBySide","",!1,!0)]}getDefaultSeriesType(){return P.d.StiClusteredColumnSeries}getSeriesTypes(){return[P.d.StiClusteredColumnSeries,P.d.StiLineSeries,P.d.StiSteppedLineSeries,P.d.StiSplineSeries,P.d.StiAreaSeries,P.d.StiSteppedAreaSeries,P.d.StiSplineAreaSeries]}constructor(){super(),this.roundValues=!1,this.sideBySide=!0,this.core=new P.d.StiClusteredColumnAreaCoreXF(this)}}P.d.StiClusteredColumnArea=Ke}{class st extends oe{constructor(){super(...arguments),this.chart=null}implements(){return st.implementsStiSeriesCollection||(st.implementsStiSeriesCollection=[s,P.d.IStiApplyStyle,P.d.IStiSeriesCollection]),st.implementsStiSeriesCollection}saveToJsonObject(t){if(0==this.list.length)return null;let i=new le,s=0;for(let e of this.list)i.addPropertyJObject(s.toString(),e.saveToJsonObject(t)),s++;return i}loadFromJsonObject(e){for(let r of e.properties()){let e=r.value,t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=D["StiOptions"].Services.chartSeries.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t);if(null==i)throw k.format("Type {0} is not found!",t);let s=ie.createObject(i[D.System.StiObject.stimulsoft]().getType());s.chart=this.chart,this.list.push(s),s.loadFromJsonObject(r.value)}}loadFromXml(i,r){for(let t=0;t<i.childNodes.length;t++){let s=i.childNodes[t];if(null==s.attributes)continue;let e=s.attributes.getNamedItem("type");if(null!=e){let e=s.attributes.getNamedItem("type").value,t=e.split(".").pop(),i=new P.d[t];i.chart=r,this.list.push(i),i.loadFromXml(s)}}}applyStyle(i){if(null==i)return;let s=0;for(let t of this.list){let e=i.core.getColors(this.length,t.core.seriesColors);t.core.applyStyle(i,e[s++])}}getSeriesTitle(){let e=d.get("Chart","Series"),t=e,i=1,s=!0;while(s){t=e+" "+i.toString(),s=!1;for(let e of this.list)if(e.coreTitle==t){s=!0;break}i++}return t}add(e){null!=this.chart&&(k.isNullOrEmpty(e.coreTitle)&&(e.coreTitle=this.getSeriesTitle()),e.chart=this.chart),super.add(e),this.invokeSeriesAdded(e)}insert(e,t){null!=this.chart&&(k.isNullOrEmpty(t.coreTitle)&&(t.coreTitle=this.getSeriesTitle()),t.chart=this.chart),super.insert(e,t),this.invokeSeriesAdded(t)}remove(e){this.invokeSeriesRemoved(e),super.remove(e)}removeAt(e){let t=this.getByIndex(e);this.invokeSeriesRemoved(t),super.removeAt(e)}getByName(t){for(let e of this.list)if(e.coreTitle==t)return e;return null}setByName(i,s){for(let t=0;t<this.list.length;t++){let e=this.list[t];if(e.coreTitle==i)return void(this.list[t]=s)}this.add(s)}invokeSeriesAdded(e){null!=this.seriesAdded&&this.seriesAdded(e,x.empty)}invokeSeriesRemoved(e){null!=this.seriesRemoved&&this.seriesRemoved(e,x.empty)}}P.d.StiSeriesCollection=st}let me=D.System.Enum;{class Yi{implements(){return Yi.implementsStiChartFilter||(Yi.implementsStiChartFilter=[s,P.d.IStiChartFilter,r]),Yi.implementsStiChartFilter}meta(){return[new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new l("Condition","",J,J.EqualTo),new l("DataType","",Z,Z.String),new l("Item","",q,q.Argument),new a("Value")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}get index(){if(null==this.filters)return-1;let e=this.filters.indexOf(this);return e}get value(){return this._valueObj}set value(e){this._valueObj=e}toString(){let e="";switch(this.condition){case J.EqualTo:e="=";break;case J.NotEqualTo:e="<>";break;case J.GreaterThan:e=">";break;case J.GreaterThanOrEqualTo:e=">=";break;case J.LessThan:e="<";break;case J.LessThanOrEqualTo:e="=<";break}let t=d.get("PropertyMain","Argument");switch(me.parse(q,t)){case q.Value:t=d.get("PropertyMain","Value");break;case q.ValueEnd:t=d.get("PropertyMain","Value");break}return k.format("{0} {1} {2}",t,e,this.value)}constructor(e=q.Argument,t=Z.String,i=J.EqualTo,s=""){this.condition=J.EqualTo,this.dataType=Z.String,this.item=q.Argument,this._valueObj="",this.filters=null,this.item=e,this.dataType=t,this.condition=i,this._valueObj=s}}P.d.StiChartFilter=Yi}{class Wi extends P.d.StiChartFilter{implements(){return Wi.implementsStiChartCondition||(Wi.implementsStiChartCondition=super.implements().concat([P.d.IStiChartCondition,P.d.IStiChartFilter,s])),Wi.implementsStiChartCondition}meta(){return[...super.meta(),new e("Color","",B.white),new l("MarkerType","",P.d.StiMarkerType,P.d.StiMarkerType.Circle),new n("MarkerAngle")]}clone(){return super.clone()}constructor(e=B.white,t=q.Argument,i=Z.String,s=J.EqualTo,r="",n,l){super(t,i,s,r),this.color=B.white,this.markerType=P.d.StiMarkerType.Circle,this.markerAngle=0,this.conditions=null,this.color=e,null!=n&&(this.markerType=n),null!=l&&(this.markerAngle=l)}}P.d.StiChartCondition=Wi}let ge=D.System.Text.XMLConvert;{class He extends oe{implements(){return He.implementsStiChartConditionsCollection||(He.implementsStiChartConditionsCollection=[s,r,P.d.IStiChartConditionsCollection]),He.implementsStiChartConditionsCollection}saveToJsonObject(t){if(0==this.list.length)return null;let i=new le,s=0;for(let e of this.list)i.addPropertyJObject(s.toString(),e.saveToJsonObject(t)),s++;return i}loadFromJsonObject(e){for(let t of e.properties()){let e=new P.d.StiChartCondition;e.loadFromJsonObject(t.value),this.list.push(e)}}loadFromXml(t){for(let e=0;e<t.childNodes.length;e++){let s=t.childNodes[e];if("value"==s.nodeName){let e=s.textContent.split(","),t=e[3],i=("GreaterThen"==t?t="GreaterThan":"GreaterThenOrEqualTo"==t?t="GreaterThanOrEqualTo":"LessThen"==t?t="LessThan":"LessThenOrEqualTo"==t&&(t="LessThanOrEqualTo"),new P.d.StiChartCondition(D.System.Text.StiReportObjectStringConverter.convertStringToColor(e[0]),me.parse(q,e[1]),me.parse(Z,e[2]),me.parse(J,t),ge.decodeName(e[4])));this.add(i)}}}clone(){let t=new He;for(let e of this.list)t.add(e.clone());return t}add(e){this.list.push(e),null==e.conditions&&(e.conditions=this)}}P.d.StiChartConditionsCollection=He}let pe=P.a.Expressions.StiExpression,fe=D.Base.Meta.StiExpressionMeta,we=D.System.Globalization.CultureInfo,ye=D.System.Text.XMLConvert,xe=D.Base.StiJsonSaveMode,be=D.System.Text.StringBuilder,Ce=D.Base.StiGuidUtils,Ae=D.Base.Drawing.StiGradientBrush,Le=D.Base.Drawing.StiGlareBrush;{class tt extends te{implements(){return tt.implementsStiSeries||(tt.implementsStiSeries=super.implements().concat([s,r,P.d.IStiSeries,s])),tt.implementsStiSeries}meta(){return[...super.meta(),new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("AllowApplyStyle","",!0),new a("Format"),new l("SortBy","",P.d.StiSeriesSortType,P.d.StiSeriesSortType.None),new l("SortDirection","",P.d.StiSeriesSortDirection,P.d.StiSeriesSortDirection.Ascending),new i("ShowInLegend","",!0),new l("ShowSeriesLabels","_",P.d.StiShowSeriesLabels,P.d.StiShowSeriesLabels.FromChart),new i("ShowShadow","",!0),new l("FilterMode","",W,W.And),new o("Filters"),new o("Conditions"),new o("TopN"),new l("YAxis","",P.d.StiSeriesYAxis,P.d.StiSeriesYAxis.LeftYAxis),new o("SeriesLabels").set(e=>this.seriesLabels=P.d.StiSeriesLabels.loadFromJsonObjectInternal(e,this.chart)).setXml(e=>this.seriesLabels=P.d.StiSeriesLabels.loadLabelsFromXml(e,this.chart)),new o("TrendLines"),new a("ValueDataColumn"),new a("ArgumentDataColumn"),new a("AutoSeriesTitleDataColumn"),new a("AutoSeriesKeyDataColumn"),new a("AutoSeriesColorDataColumn"),new a("ToolTipDataColumn"),new a("TagDataColumn"),new a("HyperlinkDataColumn"),new i("DrillDownEnabled"),new a("DrillDownReport"),new a("DrillDownPageGuid"),new i("AllowSeries","",!0),new i("AllowSeriesElements","",!0),new o("Interaction"),new fe("Value"),new fe("ListOfValues"),new fe("Argument"),new fe("ListOfArguments"),new fe("Title").set(e=>{let t=new pe;t.loadFromJsonObject(e),this.title=t.value,this.titleValue=t.value}).setXml(e=>{let t=new pe;t.loadFromXml(e),this.title=t.value,this.titleValue=t.value}),new fe("ToolTip"),new fe("ListOfToolTips"),new fe("Tag"),new fe("ListOfTags"),new fe("Hyperlink"),new fe("ListOfHyperlinks"),new a("ValuesString"),new a("ArgumentsString"),new a("ToolTipsString"),new a("TagString"),new a("HyperlinkString"),new a("TitleValue"),new e("LegendColor","",null),new a("ValuesString","",xe.Document),new a("ArgumentsString","",xe.Document),new a("ToolTipsString","",xe.Document),new a("TagString","",xe.Document),new a("HyperlinkString","",xe.Document),new a("TitleValue","",xe.Document),new e("LegendColor","",null,xe.Document)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=super.clone();return e.title=this.title,e.values=this.values[D.System.StiObject.stimulsoft]().clone(),e.arguments=this.arguments[D.System.StiObject.stimulsoft]().clone(),e.tags=this.tags[D.System.StiObject.stimulsoft]().clone(),e.toolTips=this.toolTips[D.System.StiObject.stimulsoft]().clone(),e.hyperlinks=this.hyperlinks[D.System.StiObject.stimulsoft]().clone(),e.topN=this.topN.clone(),e.interaction=this.interaction.clone(),e.seriesLabels=this.seriesLabels.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.series=e),e}baseTransform(){}get parent(){return this.chart}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return tt}get showLabels(){return!0}set showLabels(e){e&&(this.showSeriesLabels=P.d.StiShowSeriesLabels.FromChart)}get showSeriesLabels(){return this._showSeriesLabels}set showSeriesLabels(e){this._showSeriesLabels=e==P.d.StiShowSeriesLabels.None?P.d.StiShowSeriesLabels.FromChart:e}get seriesLabels(){return this._seriesLabels}set seriesLabels(e){this._seriesLabels=e,this._seriesLabels.chart=this.chart}get trendLine(){if(null!=this.trendLines&&0<this.trendLines.count)return this.trendLines.getByIndex(0);return new P.d.StiTrendLineNone}set trendLine(e){e.is(P.d.StiTrendLineNone)||this.trendLines.insert(0,e)}get chart(){return this._chart}set chart(e){this._chart!=e&&null!=(this._chart=e)&&(this.seriesLabels.chart=e)}get values(){if(null==this.chart||null!=this.chart&&!this.chart.isDesigning||this.isDashboard)return this._values;let e=this.chart.series.indexOf(this),i=[],t=this.as(P.d.StiWaterfallSeries),s=(i=null!=t?t.total.visible?[3,-1,2,4]:[3,-1,2]:this.is(P.d.IStiBoxAndWhiskerSeries)?[8,2,3,9,10]:this.is(P.d.IStiHistogramSeries)?[4,2,1]:k.isNullOrEmpty(this.listOfValues)||this.listOfValues[D.System.StiObject.stimulsoft]().contains("{")?this.is(P.d.IStiSteppedRangeSeries)?[1+3*e,3+4*e,2+3*e,3+3*e,3+3*e]:this.is(P.d.IStiFunnelSeries)?[3,2,1]:this.is(P.d.IStiGanttSeries)?[1+3*e,3+4*e,7+3*e]:this.is(P.d.IStiScatterSeries)?[1+e,6+e,2+e]:this.is(P.d.IStiHeatmapSeries)?[1,2,3,2,3,2,3,2,1]:this.is(P.d.IStiPieSeries)?0==e?[1,3,2]:[1+e,3+e,4+e]:this.is(P.d.StiRadarSeries)?[1+e,2+e,3+e,4+e,5+e]:0==e?this._values:[1+e,3+e,2.5+e]:tt.getNullableValuesFromString(this,this.listOfValues),this.getOffsetForValues());if(0!=s){let t=[];for(let e=0;e<i.length;e++)t[e]=i[e]+s;return t}return i}set values(t){let i,s=[];for(let e=0;e<t.length;e++)e<this.values.length&&0<(null==(i=this.valuesStart)?void 0:i.length)?s[e]=this.values[e]:s[e]=0;this.valuesStart=s,this._values=t}get valuesString(){let t=new be,i=!0;for(let e of this._values)i?t.appendFormat("{0}",null==e?"":e):t.appendFormat(";{0}",null==e?"":e),i=!1;return t.toString()}set valuesString(e){if(null==e||0==e.trim().length)this._values=[];else{let t=e.split(";");this._values=[];for(let e of t)k.isNullOrEmpty(e)?this._values.push(null):this._values.push(e[D.System.StiObject.stimulsoft]().toNumber())}}get arguments(){return this.getArguments()}set arguments(e){this.setArguments(e)}getArguments(){if(null==this.chart||!this.chart.isDesigning||this.isDashboard)return this._arguments;if(!k.isNullOrEmpty(this.listOfArguments))return tt.getArgumentsFromString(this.listOfArguments);let e=this.as(P.d.StiWaterfallSeries);if(null!=e&&(null==this._arguments||0==this._arguments.length))return e.total.visible?["A","B","C",e.total.text]:["A","B","C"];if(this.is(P.d.IStiHistogramSeries))return["[1, 2]","(2, 3]","(3, 4]"];if((this.is(P.d.IStiTreemapSeries)||this.is(P.d.IStiGanttSeries)||this.is(P.d.IStiRangeBarSeries)||this.is(P.d.IStiCandlestickSeries)||this.is(P.d.StiSunburstSeries))&&(null==this._arguments||0==this._arguments.length))return["A","B","C"];if((this.is(P.d.IStiScatterSeries)||this.is(P.d.IStiScatterLineSeries)||this.is(P.d.IStiScatterSplineSeries))&&(null==this._arguments||0==this._arguments.length))return["1","5","4"];return this._arguments}setArguments(e){this._arguments=e}get argumentsString(){let i=new be,s=!0;for(let t of this._arguments)if(null!=t){let e="";e=t instanceof y?t.toString("YYYY-MM-DDTHH:mm:ss.SSSSSS"):t.toString(),s?i.appendFormat("{0}",ye.encodeName(e)):i.appendFormat(";{0}",ye.encodeName(e)),s=!1}return i.toString()}set argumentsString(t){if(null==t||0==t.trim().length)this._arguments=[];else{let e=t.split(";");this._arguments=[];for(let i of e){let e=ye.decodeName(i),t=y.tryParseExact(e,["YYYY-MM-DDTHH:mm:ss.SSSSSS"]);t.successfully?this._arguments.push(t.result):this._arguments.push(e)}}}get toolTips(){if((null!=this.chart&&this.chart.isDesigning||this.isDashboard)&&!k.isNullOrEmpty(this.listOfToolTips))return tt.getStringsFromString(this.listOfToolTips);return this._toolTips}set toolTips(e){this._toolTips=e}get toolTipsString(){let t=new be,i=!0;for(let e of this._toolTips)null!=e&&(i?t.appendFormat("{0}",ye.encodeName(e.toString())):t.appendFormat(";{0}",ye.encodeName(e.toString())),i=!1);return t.toString()}set toolTipsString(e){if(null==e||0==e.trim().length)this._toolTips=[];else{let t=e.split(";");this._toolTips=[];for(let e of t)this._toolTips.push(ye.decodeName(e))}}get tags(){if((null!=this.chart&&this.chart.isDesigning||this.isDashboard)&&!k.isNullOrEmpty(this.listOfTags))return tt.getArgumentsFromString(this.listOfTags);return this._tags}set tags(e){this._tags=e}get tagString(){let t=new be,i=!0;for(let e of this.tags)null!=e&&(i?t.appendFormat("{0}",ye.encodeName(e.toString())):t.appendFormat(";{0}",ye.encodeName(e.toString())),i=!1);return t.toString()}set tagString(e){if(null==e||0==e.trim().length)this._tags=[];else{let t=e.split(";");this._tags=[];for(let e of t)this._tags.push(ye.decodeName(e))}}get hyperlinks(){if((null!=this.chart&&this.chart.isDesigning||this.isDashboard)&&null!=this.listOfHyperlinks&&0<this.listOfHyperlinks.length)return tt.getStringsFromString(this.listOfHyperlinks);return this._hyperlinks}set hyperlinks(e){this._hyperlinks=e}get hyperlinkString(){let t=new be,i=!0;for(let e of this._hyperlinks)null!=e&&(i?t.appendFormat("{0}",ye.encodeName(e.toString())):t.appendFormat(";{0}",ye.encodeName(e.toString())),i=!1);return t.toString()}set hyperlinkString(e){if(null==e||0==e.trim().length)this._hyperlinks=[];else{let t=e.split(";");this._hyperlinks=[];for(let e of t)this._hyperlinks.push(ye.decodeName(e))}}get drillDownPage(){if(null==this.chart||null==this.chart.report)return null;for(let e of this.chart.report.pages.list)if(e.guid==this.drillDownPageGuid)return e;return null}set drillDownPage(e){null==e?this.drillDownPageGuid=null:(null==e.guid&&(e.guid=Ce.newGuid()),this.drillDownPageGuid=e.guid)}get coreTitle(){let e=null;return e=null==(e=null!=this.chart&&this.chart.isDesigning?this.title:this.titleValue)?"":e}set coreTitle(e){this.title=e,this.titleValue=e}get interaction(){return this._interaction}set interaction(e){this._interaction!=e&&null!=(this._interaction=e)&&(this._interaction.parentSeries=this)}processSeriesColors(t,e){for(let e of this.conditions.list)if(this.getConditionResult(t,e))return e.color;return e}processSeriesMarkerType(t,e){for(let e of this.conditions.list)if(this.getConditionResult(t,e))return e.markerType;return e}processSeriesMarkerAngle(t,e){for(let e of this.conditions.list)if(this.getConditionResult(t,e))return e.markerAngle;return e}processSeriesMarkerVisible(t){for(let e of this.conditions.list)if(this.getConditionResult(t,e))return!0;return!1}processSeriesBrushes(t,i){for(let e of this.conditions.list)if(this.getConditionResult(t,e))return i=this.allowApplyStyle&&null!=this.chart.style?this.chart.style.core.getColumnBrush(e.color):new V(e.color),this.chart.area.is(P.d.IStiClusteredBarArea)&&(i.is(Ae)&&(i.angle+=90),i.is(Le))&&(i.angle+=90),i;return i}getConditionResult(e,t){if((null==this.values||this.values.length<=e)&&!this.is(P.d.IStiFinancialSeries))return!1;let i=null,s=null,r=null,n=null,l=null,o=null,a=null,h=(this.chart.area.is(P.d.IStiAxisArea)&&this.chart.area.reverseHor&&!this.chart.area.is(P.d.IStiClusteredBarArea)||this.chart.area.is(P.d.IStiClusteredBarArea)&&this.chart.area.reverseVert?(null!=this.values&&e<this.values.length&&(i=this.values[this.values.length-e-1]),this.is(P.d.IStiRangeSeries)&&e<this.valuesEnd.length&&(s=this.valuesEnd[this.valuesEnd.length-e-1]),this.is(P.d.IStiFinancialSeries)&&(e<this.valuesOpen.length&&(r=this.valuesOpen[this.valuesOpen.length-e-1]),e<this.valuesClose.length&&(n=this.valuesClose[this.valuesClose.length-e-1]),e<this.valuesLow.length&&(l=this.valuesLow[this.valuesLow.length-e-1]),e<this.valuesHigh.length)&&(o=this.valuesHigh[this.valuesHigh.length-e-1]),null!=this.arguments&&e<this.arguments.length&&(a=this.arguments[this.arguments.length-e-1])):(null!=this.values&&e<this.values.length&&(i=this.values[e]),this.is(P.d.IStiRangeSeries)&&e<this.valuesEnd.length&&(s=this.valuesEnd[e]),this.is(P.d.IStiFinancialSeries)&&(e<this.valuesOpen.length&&(r=this.valuesOpen[e]),e<this.valuesClose.length&&(n=this.valuesClose[e]),e<this.valuesLow.length&&(l=this.valuesLow[e]),e<this.valuesHigh.length)&&(o=this.valuesHigh[e]),null!=this.arguments&&e<this.arguments.length&&(a=this.arguments[e])),P.d.StiChartHelper.getFilterData(null,t,null));return P.d.StiChartHelper.getFilterResult(t,a,i,s,r,n,l,o,h)}toString(){return this.serviceName}static tryParseValue(t,i,s){this.storedCulture=null;try{k.isNullOrEmpty(i)||(this.storedCulture=we.currentCulture,we.currentCulture=we.cultures[i]);let e=C.tryParse(t);return s.ref=e.result,e.successfully}finally{null!=this.storedCulture&&(we.currentCulture=this.storedCulture)}}static getNullableValuesFromString(s,e){let r=[],t=e.split(";");for(let i of t)if(null!=i&&0<i.trim().length){let t=0;try{t=i[D.System.StiObject.stimulsoft]().replaceAll(",",".")[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1)}let e=i[D.System.StiObject.stimulsoft]().toNumber();if(0<i.length&&!isNaN(e))t=e;else{let e=y.fromString(i,!1);null!=e&&(s.core.isDateTimeValues=!0,t=e.toOADate())}r.push(t)}return r[D.System.StiObject.stimulsoft]().toArray()}static getValuesFromString(e){let i=[],s=e.split(";");for(let t of s)if(null!=t&&0<t.trim().length){let e=0;try{e=t[D.System.StiObject.stimulsoft]().replaceAll(",",".")[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1)}i.push(e)}return i[D.System.StiObject.stimulsoft]().toArray()}static getStringsFromString(e){let t=[],i=e.split(";");for(let e of i)null!=e&&0<e.trim().length&&t.push(e);return t[D.System.StiObject.stimulsoft]().toArray()}static getArgumentsFromString(e){return e.split(";")}getOffsetForValues(){let e=0,t=this.chart.area.as(P.d.StiAxisArea);return e=null==t||t.yAxis.range.auto?e:t.yAxis.range.minimum}getDefaultAreaType(){return null}getDefaultLegendType(){return P.d.StiLegend}invokeNewAutoSeries(e){null!=this.newAutoSeries&&this.newAutoSeries(e.series,e)}onGetValue(e){}invokeGetValue(i,s){try{if(this.onGetValue(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesValue**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.value,e));s.value=i.report.toString2(t)}null!=this.getValue&&this.getValue(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetValue property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetListOfValues(e){}invokeGetListOfValues(i,s,r){try{if(this.onGetListOfValues(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfValues**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValues,e));s.value=i.report.toString2(t)}null!=r.getListOfValues&&r.getListOfValues(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfValues property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetArgument(e){}invokeGetArgument(i,s){try{if(this.onGetArgument(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesArgument**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.argument,e));s.value=i.report.toString2(t)}null!=this.getArgument&&this.getArgument(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in getArgument property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetListOfArguments(e){}invokeGetListOfArguments(i,s){try{if(this.onGetListOfArguments(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfArguments**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfArguments,e));s.value=i.report.toString2(t)}null!=this.getListOfArguments&&this.getListOfArguments(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfArguments property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetTitle(e){}invokeGetTitle(i,s){try{if(this.onGetTitle(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesTitle**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.title,e));s.value=i.report.toString2(t)}null!=this.getTitle&&this.getTitle(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in Title property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetToolTip(e){}invokeGetToolTip(i,s){try{if(this.onGetToolTip(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesToolTip**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.toolTip,e));s.value=k.isNullOrEmpty(this.toolTip)?null:i.report.toString2(t)}null!=this.getToolTip&&this.getToolTip(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetToolTip property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetListOfToolTips(e){}invokeGetListOfToolTips(i,s){try{if(this.onGetListOfToolTips(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfToolTips**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfToolTips,e));s.value=i.report.toString2(t)}null!=this.getListOfToolTips&&this.getListOfToolTips(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfToolTips property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetTag(e){}invokeGetTag(e,t){try{this.onGetTag(t),null!=this.getTag&&this.getTag(e,t)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetTag property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetListOfTags(e){}invokeGetListOfTags(e,t){try{this.onGetListOfTags(t),null!=this.getListOfTags&&this.getListOfTags(e,t)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfTags property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetHyperlink(e){}invokeGetHyperlink(e,t){try{this.onGetHyperlink(t),null!=this.getHyperlink&&this.getHyperlink(e,t)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetHyperlink property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetListOfHyperlinks(e){}invokeGetListOfHyperlinks(i,s){try{if(this.onGetListOfHyperlinks(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfHyperlinks**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfHyperlinks,e));s.value=i.report.toString2(t)}null!=this.getListOfHyperlinks&&this.getListOfHyperlinks(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfHyperlinks property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get value(){return this.valueObj}set value(e){this.valueObj=e}constructor(){super(),this.allowApplyStyle=!0,this.format="",this.sortBy=P.d.StiSeriesSortType.None,this.sortDirection=P.d.StiSeriesSortDirection.Ascending,this.showInLegend=!0,this._showSeriesLabels=P.d.StiShowSeriesLabels.FromChart,this.showShadow=!0,this.filterMode=W.And,this.filters=new P.d.StiChartFiltersCollection,this.conditions=new P.d.StiChartConditionsCollection,this.topN=new P.d.StiSeriesTopN,this.yAxis=P.d.StiSeriesYAxis.LeftYAxis,this.trendLines=new P.d.StiTrendLinesCollection,this.isTotalLabel=!1,this.valuesStart=[],this._values=[1,3,2],this.valueDataColumn="",this._arguments=[],this.argumentDataColumn="",this.autoSeriesTitleDataColumn="",this.autoSeriesKeyDataColumn="",this.autoSeriesColorDataColumn="",this._toolTips=[],this.toolTipDataColumn="",this._tags=[],this.tagDataColumn="",this._hyperlinks=[],this.hyperlinkDataColumn="",this.drillDownEnabled=!1,this.drillDownReport="",this.drillDownPageGuid=null,this.allowSeries=!0,this.allowSeriesElements=!0,this.isDashboard=!1,this.valueObj="",this.listOfValues="",this.argument="",this.listOfArguments="",this.titleValue=null,this.title="",this.toolTip="",this.listOfToolTips="",this.tag="",this.listOfTags="",this.hyperlink="",this.listOfHyperlinks="",this.seriesLabels=new P.d.StiCenterAxisLabels,this.interaction=new P.d.StiSeriesInteraction}}P.d.StiSeries=tt}let Te=P.a.Engine.StiComponentInfo;{class Ze extends Te{constructor(){super(...arguments),this.storedForProcessAtEndChart=null,this.interactiveComps=null}implements(){return Ze.implementsStiChartInfo||(Ze.implementsStiChartInfo=[P.d.IStiChartInfo]),Ze.implementsStiChartInfo}}P.d.StiChartInfo=Ze}let ve=P.a.Styles.StiBaseStyle,Fe=P.a.Dashboard.StiElementStyleIdent;{class Ne extends ve{constructor(){super(...arguments),this.isOffice2015Style=!1,this.allowDashboard=!1,this.styleIdent=Fe.Blue}implements(){return Ne.implementsStiChartStyle||(Ne.implementsStiChartStyle=super.implements().concat([s,P.d.IStiChartStyle,r])),Ne.implementsStiChartStyle}saveToJsonObject(e){let t=new le;return t.addPropertyStringNullOrEmpty("Ident",this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),t}loadFromJsonObject(e){}static loadFromXml(i){if(null!=i.attributes.getNamedItem("type")){let e=i.attributes.getNamedItem("type").value,t=e.split(".").pop();return new P.d[t]}return null}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString();if("StiCustomStyle"==t)return new P.d.StiCustomStyle;{let e=D["StiOptions"].Services.chartStyles.firstOrDefault(function(e){return e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t});if(null==e)throw k.format("Type {0} is not found!",t);return ie.createObject(e[D.System.StiObject.stimulsoft]().getType())}}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return Ne}toString(){if(this.is(P.d.StiCustomStyle)&&null!=this.core.reportChartStyle)return this.core.reportChartStyle.name;return this.serviceName}compareChartStyle(e){if(null==e)return!1;let i=this[D.System.StiObject.stimulsoft]().as(P.d.StiCustomStyle),s=e[D.System.StiObject.stimulsoft]().as(P.d.StiCustomStyle);if(null!=i&&null!=s){let e=i.core.reportStyleName,t=(null!=i.core.reportStyle&&(e=i.core.reportStyle.name),s.core.reportStyleName);return null!=s.core.reportStyle&&(t=s.core.reportStyle.name),e==t}return this[D.System.StiObject.stimulsoft]().getType()==e[D.System.StiObject.stimulsoft]().getType()}}P.d.StiChartStyle=Ne}P.d.StiStyle25=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Green")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Green,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF25}},P.d.StiStyle29=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Blue")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Blue,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF29}};{class Ue{implements(){return Ue.implementsStiLegend||(Ue.implementsStiLegend=[s,r,P.d.IStiLegend]),Ue.implementsStiLegend}meta(){return[new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("AllowApplyStyle","_",!0),new i("HideSeriesWithEmptyTitle"),new i("ShowShadow","",!0),new e("BorderColor","",B.gray),new ee(["Brush","bh"]),new e("TitleColor","",B.gray),new e("LabelsColor","",B.gray),new l("Direction","",P.d.StiLegendDirection,P.d.StiLegendDirection.TopToBottom),new l(["HorAlignment","ha"],"",P.d.StiLegendHorAlignment,P.d.StiLegendHorAlignment.Left),new l(["VertAlignment","va"],"",P.d.StiLegendVertAlignment,P.d.StiLegendVertAlignment.Top),new re("TitleFont","","Arial",14,ne.Bold),new re(["Font","fn"],"","Arial",8),new i("Visible","",!0),new i("MarkerVisible","",!0),new i("MarkerBorder","",!0),new ae("MarkerSize"),new l("MarkerAlignment","",P.d.StiMarkerAlignment,P.d.StiMarkerAlignment.Left),new n("Columns","_"),new n("HorSpacing","",4),new n("VertSpacing","",2),new ae("Size"),new a("Title"),new n("ColumnWidth")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){this.showShadow=!0,t.loadFromJsonObject(e,this)}loadFromXml(e){this.showShadow=!0,t.loadFromXml(e,this)}static loadFromJsonObjectInternal(e,t){let i=e.properties().firstOrDefault(e=>"Ident"==e.name),s=null!=i?i.value.toString():"StiLegend",r=D["StiOptions"].Services.chartLegends.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==s);if(null==r)throw k.format("Type {0} is not found!",s);let n=ie.createObject(r[D.System.StiObject.stimulsoft]().getType());return n.chart=t,n.loadFromJsonObject(e),n}static loadLabelsFromXml(e,t){let i=e.attributes.getNamedItem("type").value,s=i.split(".").pop(),r=new P.d[s];return r.chart=t,r.loadFromXml(e),r}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.brush=this.brush.clone(),e.font=this.font.clone(),e.titleFont=this.titleFont.clone(),e.direction=this.direction,e.horAlignment=this.horAlignment,e.vertAlignment=this.vertAlignment,e.markerAlignment=this.markerAlignment,null!=this.core&&(e.core=this.core.clone(),e.core.legend=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}get columns(){return this._columns}set columns(e){0<=e&&(this._columns=e)}constructor(){this._allowApplyStyle=!0,this.chart=null,this.hideSeriesWithEmptyTitle=!1,this.showShadow=!0,this.borderColor=B.gray,this.brush=new V(B.white),this.titleColor=B.gray,this.labelsColor=B.gray,this.direction=P.d.StiLegendDirection.TopToBottom,this.horAlignment=P.d.StiLegendHorAlignment.Left,this.vertAlignment=P.d.StiLegendVertAlignment.Top,this.titleFont=new S("Arial",14,ne.Bold),this.font=new S("Arial",8),this.visible=!0,this.markerVisible=!0,this.markerBorder=!0,this.markerSize=new he(10,10),this.markerAlignment=P.d.StiMarkerAlignment.Left,this.horSpacing=4,this.vertSpacing=2,this.title="",this.columnWidth=0,this._columns=0,this.size=new D.System.Drawing.Size(0,0),this.core=new P.d.StiLegendCoreXF(this)}}P.d.StiLegend=Ue}let ke=P.e.IStiCornerRadius,Be=D.Base.Drawing.StiCornerRadius,Ie=P.a.Helpers.StiFontIcons;{class Re extends P.d.StiSeries{implements(){return Re.implementsStiTreemapSeries||(Re.implementsStiTreemapSeries=super.implements().concat([s,P.d.IStiTreemapSeries,P.d.IStiSeriesBorderThickness,ke,P.d.IStiFontIconsSeries,r,P.d.IStiSeries])),Re.implementsStiTreemapSeries}meta(){return[...super.meta(),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new ee("Brush"),new l("Icon","",Ie),new a("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Be.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Be.tryParse(e.textContent))]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e.cornerRadius=this.cornerRadius.clone(),e}getDefaultAreaType(){return P.d.StiTreemapArea}constructor(){super(),this.borderColor=B.gray,this.borderThickness=1,this.cornerRadius=new Be,this.brush=new V(B.gainsboro),this.icon=null,this.core=new P.d.StiTreemapSeriesCoreXF(this)}}P.d.StiTreemapSeries=Re}{class Oe extends P.d.StiSeries{implements(){return Oe.implementsStiPictorialSeries||(Oe.implementsStiPictorialSeries=super.implements().concat([P.d.IStiPictorialSeries,P.d.IStiFontIconsSeries,r,P.d.IStiSeries,s])),Oe.implementsStiPictorialSeries}meta(){return[...super.meta(),new l("Icon","",Ie,Ie.QuarterFull)]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiPictorialArea}constructor(){super(),this.icon=Ie.QuarterFull,this.core=new P.d.StiPictorialSeriesCoreXF(this)}}P.d.StiPictorialSeries=Oe}let De=P.d.StiLegendHorAlignment,Oe=P.d.StiPictorialSeries,Pe=P.d.StiLegendVertAlignment,Re=P.d.StiTreemapSeries,Me=P.d.StiChartEditorType,Ge=D.Base.IStiGetFonts,Ve=P.d.StiAxisArea,Ee=P.d.IStiAxisArea,Xe=P.d.StiSeriesLabels,Ne=P.d.StiChartStyle,je=P.d.StiArea,_e=D.Base.StiJsonReportObjectHelper,He=P.d.StiChartConditionsCollection,ze=P.d.IStiChart,Ye=P.d.IStiClusteredColumnArea,We=P.d.StiCenterAxisLabels,Je=P.d.StiChartCoreXF,Ze=P.d.StiChartInfo,qe=P.d.StiChartTitle,$e=P.d.StiChartTable,Ke=P.d.StiClusteredColumnArea,Qe=P.d.StiConstantLinesCollection,Ue=P.d.StiLegend,et=P.d.StiRadarArea,tt=P.d.StiSeries,it=P.d.StiStripsCollection,st=P.d.StiSeriesCollection,rt=P.d.StiStyle29,nt=P.d.StiChartHelper,lt=P.e.StiImageRotation,ot=P.e.StiComponentPriority,at=P.e.StiComponentType,ht=D.Base.Drawing.StiBorder,ut=P.e.StiFilter,dt=P.e.StiFiltersCollection,ct=D.Base.Drawing.StiBrush,St=P.e.StiComponent,mt=P.c.StiEvent;{class Nt extends St{implements(){return Nt.implementsStiChart||(Nt.implementsStiChart=super.implements().concat([P.e.IStiBorder,P.e.IStiBusinessObject,P.e.IStiBrush,P.e.IStiDataSource,P.e.IStiDataRelation,P.e.IStiMasterComponent,P.e.IStiSort,P.e.IStiFilter,P.e.IStiExportImage,P.e.IStiExportImageExtended,P.a.IStiIgnoryStyle,P.a.IStiGlobalizationProvider,ze,s,Ge])),Nt.implementsStiChart}saveToJsonObject(e){let t=super.saveToJsonObject(e);return t.removeProperty("CanShrink"),t.removeProperty("CanGrow"),t.addPropertyBool("AllowApplyStyle",this.allowApplyStyle,!0),t.addPropertyEnum("FilterMode",P.e.StiFilterMode,this.filterMode,P.e.StiFilterMode.And),t.addPropertyBool("FilterOn",this.filterOn,!0),t.addPropertyStringNullOrEmpty("Border",_e.Serialize.jBorder(this.border)),t.addPropertyStringNullOrEmpty("Brush",_e.Serialize.jBrush(this.brush)),t.addPropertyStringNullOrEmpty("DataSourceName",this.dataSourceName),t.addPropertyStringNullOrEmpty("BusinessObjectGuid",this.businessObjectGuid),t.addPropertyNumber("CountData",this.countData),t.addPropertyStringNullOrEmpty("DataRelationName",this.dataRelationName),t.addPropertyBool("ProcessAtEnd",this.processAtEnd),t.addPropertyJObject("ProcessChartEvent",this.processChartEvent.saveToJsonObject(e)),t.addPropertyEnum("Rotation",lt,this.rotation,lt.None),t.addPropertyEnum("EditorType",Me,this.editorType,Me.Advanced),t.addPropertyStringNullOrEmpty("CustomStyleName",this.customStyleName),t.addPropertyNumber("HorSpacing",this.horSpacing,10),t.addPropertyNumber("VertSpacing",this.vertSpacing,10),null!=this.masterComponent&&t.addPropertyStringNullOrEmpty("MasterComponent",this.masterComponent.name),t.addPropertyJObject("Series",this._series.saveToJsonObject(e)),t.addPropertyJObject("Area",this._area.saveToJsonObject(e)),t.addPropertyJObject("Table",this.table.saveToJsonObject(e)),t.addPropertyJObject("SeriesLabels",this.seriesLabels.saveToJsonObject(e)),t.addPropertyJObject("Legend",this.legend.saveToJsonObject(e)),t.addPropertyJObject("Title",this._title.saveToJsonObject(e)),t.addPropertyJObject("Strips",this.strips.saveToJsonObject(e)),t.addPropertyJObject("ConstantLines",this.constantLines.saveToJsonObject(e)),t.addPropertyJObject("Style",this.style.saveToJsonObject(e)),e==xe.Report&&(t.addPropertyJObject("Filters",this.filters.saveToJsonObject(e)),t.addPropertyJObject("Sort",_e.Serialize.stringArray(this.sort)),t.addPropertyJObject("SeriesLabelsConditions",this.seriesLabelsConditions.saveToJsonObject(e))),t}loadFromJsonObject(e){super.loadFromJsonObject(e);for(let t of e.properties())switch(t.name){case"FilterMode":this.filterMode=me.parse(P.e.StiFilterMode,t.value.toString());break;case"Filters":this.filters.loadFromJsonObject(t.value);break;case"FilterOn":this.filterOn=t.value[D.System.StiObject.stimulsoft]().toBoolean();break;case"Border":case"br":this.border=_e.Deserialize.border(t.value.toString());break;case"Brush":case"bh":this.brush=_e.Deserialize.brush(t.value.toString());break;case"DataSourceName":this.dataSourceName=t.value.toString();break;case"BusinessObjectGuid":this.businessObjectGuid=t.value.toString();break;case"CountData":this.countData=t.value[D.System.StiObject.stimulsoft]().toNumber();break;case"DataRelationName":this.dataRelationName=t.value.toString();break;case"ProcessAtEnd":this.processAtEnd=t.value[D.System.StiObject.stimulsoft]().toBoolean();break;case"ProcessChartEvent":{let e=new mt;e.loadFromJsonObject(t.value),this.processChartEvent=e;break}case"SeriesLabelsConditions":this.seriesLabelsConditions.loadFromJsonObject(t.value);break;case"Rotation":this.rotation=me.parse(lt,t.value.toString());break;case"EditorType":this.editorType=me.parse(Me,t.value.toString());break;case"AllowApplyStyle":this.allowApplyStyle=t.value[D.System.StiObject.stimulsoft]().toBoolean();break;case"CustomStyleName":this.customStyleName=t.value.toString();break;case"HorSpacing":this._horSpacing=t.value[D.System.StiObject.stimulsoft]().toNumber();break;case"VertSpacing":this._vertSpacing=t.value[D.System.StiObject.stimulsoft]().toNumber();break;case"MasterComponent":this.jsonMasterComponentTemp=t.value.toString(),this.report.jsonLoaderHelper&&this.report.jsonLoaderHelper.masterComponents.push(this);break;case"Style":this.style=Ne.loadFromJsonObjectInternal(t.value);break;case"ConstantLines":this.constantLines.loadFromJsonObject(t.value);break;case"Strips":this.strips.loadFromJsonObject(t.value);break;case"Title":this.title.loadFromJsonObject(t.value);break;case"Legend":this.legend=Ue.loadFromJsonObjectInternal(t.value,this);break;case"SeriesLabels":this.seriesLabels=Xe.loadFromJsonObjectInternal(t.value,this);break;case"Table":this._table.loadFromJsonObject(t.value);break;case"Area":this._area=je.loadFromJsonObjectInternal(t.value),this._area.chart=this;break;case"Series":this._series.loadFromJsonObject(t.value);break}null==this.report||this.report.isDocument||this.core.applyStyle(this.style)}loadFromXml(i){super.loadFromXml(i);let e=i.getAttribute("Ref");!k.isNullOrEmpty(e)&&this.report.jsonLoaderHelper&&(this.report.jsonLoaderHelper.refNames[e[D.System.StiObject.stimulsoft]().toNumber()]=i.nodeName);for(let e=0;e<i.childNodes.length;e++){let t=i.childNodes[e];switch(t.nodeName){case"FilterMode":this.filterMode=me.parse(P.e.StiFilterMode,t.textContent);break;case"Filters":this.filters.loadFromXml(t);break;case"FilterOn":this.filterOn=t.textContent[D.System.StiObject.stimulsoft]().toBoolean();break;case"Border":case"br":this.border=ht.loadFromXml(t.textContent);break;case"Brush":this.brush=ct.loadFromXml(t.textContent);break;case"DataSourceName":this._dataSourceName=t.textContent;break;case"BusinessObjectGuid":this._businessObjectGuid=t.textContent;break;case"CountData":this.countData=t.textContent[D.System.StiObject.stimulsoft]().toNumber();break;case"DataRelationName":this.dataRelationName=t.textContent;break;case"ProcessAtEnd":this.processAtEnd=t.textContent[D.System.StiObject.stimulsoft]().toBoolean();break;case"ProcessChartEvent":{let e=new mt;e.script=t.textContent,this.processChartEvent=e;break}case"Rotation":this.rotation=me.parse(lt,t.textContent);break;case"EditorType":this.editorType=me.parse(Me,t.textContent);break;case"AllowApplyStyle":this.allowApplyStyle=t.textContent[D.System.StiObject.stimulsoft]().toBoolean();break;case"CustomStyleName":this.customStyleName=t.textContent;break;case"HorSpacing":this._horSpacing=t.textContent[D.System.StiObject.stimulsoft]().toNumber();break;case"VertSpacing":this._vertSpacing=t.textContent[D.System.StiObject.stimulsoft]().toNumber();break;case"MasterComponent":this.jsonMasterComponentTemp=t.getAttribute("isRef"),this.report.jsonLoaderHelper&&this.report.jsonLoaderHelper.masterComponents.push(this);break;case"Style":{let e=P.d.StiChartStyle.loadFromXml(t);null!=e&&(this.style=e);break}case"ConstantLines":this.constantLines.loadFromXml(t);break;case"Strips":this.strips.loadFromXml(t);break;case"Title":{let e=new P.d.StiChartTitle;e.loadFromXml(t),(e.chart=this).title=e;break}case"Legend":{let e=P.d.StiLegend.loadLabelsFromXml(t,this);(e.chart=this).legend=e;break}case"Table":{let e=new P.d.StiChartTable;e.chart=this,e.loadFromXml(t),this._table=e;break}case"SeriesLabels":{let e=P.d.StiSeriesLabels.loadLabelsFromXml(t,this);e&&(this.seriesLabels=e);break}case"Area":this._area=je.loadAreaFromXml(t,this);break;case"Series":this._series.loadFromXml(t,this);break;case"SeriesLabelsConditions":this.seriesLabelsConditions.loadFromXml(t);break}}this.core.applyStyle(this.style)}convert(e,t,i=!1){super.convert(e,t,i),this.legend.size=t.convertSizeFromHInches(e.convertSizeToHInches(this.legend.size))}convertToHInches(e){return null!=this.report?this.report.unit.convertToHInches(e):e}setString(s,r){switch(s){case"Title.Text":this.title.text=r;break;case"Legend.Title":this.legend.title=r;break;case"SeriesLabels.TextBefore":this.seriesLabels.textBefore=r;break;case"SeriesLabels.TextAfter":this.seriesLabels.textAfter=r;break}let e=this.area.as(Ee);if(null!=e)switch(s){case"Area.XAxis.Labels.TextBefore":e.xAxis.labels.textBefore=r;break;case"Area.XAxis.Labels.TextAfter":e.xAxis.labels.textAfter=r;break;case"Area.XAxis.Title.Text":e.xAxis.title.text=r;break;case"Area.YAxis.Labels.TextBefore":e.yAxis.labels.textBefore=r;break;case"Area.YAxis.Labels.TextAfter":e.yAxis.labels.textAfter=r;break;case"Area.YAxis.Title.Text":e.yAxis.title.text=r;break;case"Area.XTopAxis.Labels.TextBefore":e.xTopAxis.labels.textBefore=r;break;case"Area.XTopAxis.Labels.TextAfter":e.xTopAxis.labels.textAfter=r;break;case"Area.XTopAxis.Title.Text":e.xTopAxis.title.text=r;break;case"Area.YRightAxis.Labels.TextBefore":e.yRightAxis.labels.textBefore=r;break;case"Area.YRightAxis.Labels.TextAfter":e.yRightAxis.labels.textAfter=r;break;case"Area.YRightAxis.Title.Text":e.yRightAxis.title.text=r;break}let n=0;for(let i of this.series.list){let e=`Series${n}.Title`,t=(s==e&&i.coreTitle!=r&&(i.coreTitle=r),`Series${n}.TopN.OtherText`);s==t&&(i.topN.othersText=r),s==`Series${n}.Value`&&(i.value=r),s==`Series${n}.ValueDataColumn`&&(i.valueDataColumn=r),s==`Series${n}.ListOfValues`&&(i.listOfValues=r),s==`Series${n}.Argument`&&(i.argument=r),s==`Series${n}.ArgumentDataColumn`&&(i.argumentDataColumn=r),s==`Series${n}.ListOfArguments`&&(i.listOfArguments=r),n++}}getString(s){switch(s){case"Title.Text":return this.title.text;case"Legend.Title":return this.legend.title;case"SeriesLabels.TextBefore":return this.seriesLabels.textBefore;case"SeriesLabels.TextAfter":return this.seriesLabels.textAfter}let e=this.area.as(Ee);if(null!=e)switch(s){case"Area.XAxis.Labels.TextBefore":return e.xAxis.labels.textBefore;case"Area.XAxis.Labels.TextAfter":return e.xAxis.labels.textAfter;case"Area.XAxis.Title.Text":return e.xAxis.title.text;case"Area.YAxis.Labels.TextBefore":return e.yAxis.labels.textBefore;case"Area.YAxis.Labels.TextAfter":return e.yAxis.labels.textAfter;case"Area.YAxis.Title.Text":return e.yAxis.title.text;case"Area.XTopAxis.Labels.TextBefore":return e.xTopAxis.labels.textBefore;case"Area.XTopAxis.Labels.TextAfter":return e.xTopAxis.labels.textAfter;case"Area.XTopAxis.Title.Text":return e.xTopAxis.title.text;case"Area.YRightAxis.Labels.TextBefore":return e.yRightAxis.labels.textBefore;case"Area.YRightAxis.Labels.TextAfter":return e.yRightAxis.labels.textAfter;case"Area.YRightAxis.Title.Text":return e.yRightAxis.title.text}let r=0;for(let i of this.series.list){let e=`Series${r}.Title`;if(s==e)return i.coreTitle;let t=`Series${r}.TopN.OtherText`;if(s==t)return i.topN.othersText;if(s==`Series${r}.Value`)return i.value;if(s==`Series${r}.ValueDataColumn`)return i.valueDataColumn;if(s==`Series${r}.ListOfValues`)return i.listOfValues;if(s==`Series${r}.Argument`)return i.argument;if(s==`Series${r}.ArgumentDataColumn`)return i.argumentDataColumn;if(s==`Series${r}.ListOfArguments`)return i.listOfArguments;r++}throw k.format("Property with name {0}",s)}getAllStrings(){let t=[];t.push("Title.Text"),t.push("Legend.Title"),t.push("SeriesLabels.TextBefore"),t.push("SeriesLabels.TextAfter"),this.area.is(Ee)&&(t.push("Area.XAxis.Labels.TextBefore"),t.push("Area.XAxis.Labels.TextAfter"),t.push("Area.XAxis.Title.Text"),t.push("Area.YAxis.Labels.TextBefore"),t.push("Area.YAxis.Labels.TextAfter"),t.push("Area.YAxis.Title.Text"),t.push("Area.XTopAxis.Labels.TextBefore"),t.push("Area.XTopAxis.Labels.TextAfter"),t.push("Area.XTopAxis.Title.Text"),t.push("Area.YRightAxis.Labels.TextBefore"),t.push("Area.YRightAxis.Labels.TextAfter"),t.push("Area.YRightAxis.Title.Text"));for(let e=0;e<this.series.count;e++)t.push(`Series${e}.Title`),t.push(`Series${e}.TopN.OtherText`),t.push(`Series${e}.Value`),t.push(`Series${e}.ValueDataColumn`),t.push(`Series${e}.ListOfValues`),t.push(`Series${e}.Argument`),t.push(`Series${e}.ArgumentDataColumn`),t.push(`Series${e}.ListOfArguments`);return t}clone(){let s=super.clone();s.chartInfo=this.chartInfo.clone(),s.brush=this.brush.clone(),s.border=this.border.clone(),null!=this.sort?s.sort=this.sort[D.System.StiObject.stimulsoft]().clone():s.sort=null,null!=this.filters?s.filters=this.filters.clone():s.filters=null,null!=s.title&&(s.title=this.title.clone()),null!=s.area&&(s.area=this.area.clone()),null!=s.seriesLabels&&(s.seriesLabels=this.seriesLabels.clone()),null!=s.legend&&(s.legend=this.legend.clone()),null!=s.table&&(s.table=this.table.clone()),s.series=new st,s.series.seriesAdded=this.series_SeriesAdded,s.series.seriesRemoved=this.series_SeriesRemoved;for(let i of this.series.list){let e=i.clone(),t=e.title;s.series.add(e),e.title=t}s.constantLines=new Qe;for(let e of this.constantLines.list)s.constantLines.add(e.clone());s.strips=new it;for(let e of this.strips.list)s.strips.add(e.clone());return null!=s.core&&(s.core=this.core.clone(),s.core.chart=s),s.processChartEvent=this.processChartEvent.clone(),s}saveState(e){super.saveState(e),this.states.pushInt(e,this,"positionValue",this.positionValue),this.states.pushBool(e,this,"isEofValue",this.isEofValue),this.states.pushBool(e,this,"isBofValue",this.isBofValue),null!=this.dataSource&&this.dataSource.saveState(e)}restoreState(e){super.restoreState(e),this.states.isExist(e,this)&&(this.isBofValue=this.states.popBool(e,this,"isBofValue"),this.isEofValue=this.states.popBool(e,this,"isEofValue"),this.positionValue=this.states.popInt(e,this,"positionValue")),null!=this.dataSource&&this.dataSource.restoreState(e)}getImage(e,t=P.a.StiExportFormat.None){if(null!=this.report&&null!=this.report.preparedExportImages){let e=this.report.preparedExportImages.get(this);if(null!=e)return e}let i=new P.a.Export.StiSvgData,s=(i.component=this,i.x=0,i.y=0,i.width=this.report.unit.convertToHInches(this.width),i.height=this.report.unit.convertToHInches(this.height),this.report.isExporting&&t!==P.a.StiExportFormat.Html&&t!==P.a.StiExportFormat.Html5&&t!==P.a.StiExportFormat.HtmlDiv&&t!==P.a.StiExportFormat.HtmlSpan&&t!==P.a.StiExportFormat.HtmlTable);return P.a.Export.StiChartSvgHelper.getImage(i,s)}isExportAsImage(e){if(e==P.a.StiExportFormat.Pdf)return!1;if(e==P.a.StiExportFormat.ImageSvg)return!1;return!0}get filter(){return 0==this.filters.count&&this.filters.add(new ut),this.filters.getByIndex(0).item=P.e.StiFilterItem.Expression,this.filters.getByIndex(0).expression}set filter(e){0==this.filters.count&&this.filters.add(new ut),this.filters.getByIndex(0).item=P.e.StiFilterItem.Expression,this.filters.getByIndex(0).expression=e}get sort(){return this._sort}set sort(e){this._sort=e}get dataSource(){if(this.isCacheValues)return this.cachedDataSource;if(null==this.page||null==this.report||null==this.report.dataSources||null==this.dataSourceName||0==this.dataSourceName.length)return null;return this.report.dataSources.getByName(this.dataSourceName)}get dataSourceName(){return this._dataSourceName}set dataSourceName(e){this._dataSourceName!=e&&(this._dataSourceName=e)}get isDataSourceEmpty(){if(this.isCacheValues)return this.cachedIsDataSourceEmpty;return k.isNullOrEmpty(this.dataSourceName)||null==this.dataSource}get isBusinessObjectEmpty(){if(this.isCacheValues)return this.cachedIsBusinessObjectEmpty;return k.isNullOrEmpty(this.businessObjectGuid)||null==this.businessObject}get businessObject(){if(this.isCacheValues)return this.cachedBusinessObject;if(null==this.page||null==this.report||null==this.businessObjectGuid||0==this.businessObjectGuid.length)return null;return P.a.Dictionary.StiBusinessObjectHelper.getBusinessObjectFromGuid(this.report,this.businessObjectGuid)}get businessObjectGuid(){return this._businessObjectGuid}set businessObjectGuid(e){this._businessObjectGuid!=e&&(this._businessObjectGuid=e,k.isNullOrEmpty(e)||(this.dataSourceName=null))}first(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isEofValue=!1,this.isBofValue=!0,this.positionValue=0):this.dataSource.first():this.businessObject.first()}prior(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isBofValue=!1,this.isEofValue=!1,this.positionValue<=0?this.isBofValue=!0:this.positionValue--):this.dataSource.prior():this.businessObject.prior()}next(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isBofValue=!1,this.isEofValue=!1,this.positionValue>=this.countData-1?this.isEofValue=!0:this.positionValue++):this.dataSource.next():this.businessObject.next()}last(){this.isBusinessObjectEmpty?this.isDataSourceEmpty?(this.isEofValue=!0,this.isBofValue=!1,this.positionValue=this.countData-1):this.dataSource.last():this.businessObject.last()}get isEof(){return this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isEofValue:this.dataSource.isEof:this.businessObject.isEof}set isEof(e){this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isEofValue=e:this.dataSource.isEof=e:this.businessObject.isEof=e}get isBof(){return this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isBofValue:this.dataSource.isBof:this.businessObject.isBof}set isBof(e){this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.isBofValue=e:this.dataSource.isBof=e:this.businessObject.isBof=e}get isEmpty(){return this.isBusinessObjectEmpty?this.isDataSourceEmpty?0==this.countData:this.dataSource.isEmpty:this.businessObject.isEmpty}get position(){if(!this.isBusinessObjectEmpty)return this.businessObject.position;if(!this.isDataSourceEmpty)return this.dataSource.position;return this.positionValue}set position(e){this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.positionValue=e:this.dataSource.position=e:this.businessObject.position=e}get count(){if(this.isCacheValues)return this.cachedCount;return this.isBusinessObjectEmpty?this.isDataSourceEmpty?this.countData:this.dataSource.count:this.businessObject.count}cacheValues(e){e?(this.cachedCount=this.count,this.cachedIsBusinessObjectEmpty=this.isBusinessObjectEmpty,this.cachedIsDataSourceEmpty=this.isDataSourceEmpty,this.cachedDataSource=this.dataSource,this.cachedBusinessObject=this.businessObject):(this.cachedDataSource=null,this.cachedBusinessObject=null),this.isCacheValues=e}get dataRelation(){if(null==this.page||null==this.report||null==this.report.dictionary||null==this.report.dictionary.relations||null==this.dataRelationName||0==this.dataRelationName.length)return null;return this.report.dictionary.relations.getByName(this.dataRelationName)}getFonts(){let i=super.getFonts();i.push(this.title.font),i.push(this.legend.font),i.push(this.table.dataCells.font),i.push(this.table.header.font);for(let e of this.constantLines.list)i.push(e.font);for(let e of this.strips.list)i.push(e.font);let e=this.area.as(Ve),t=(null!=e&&(i.push(e.xAxis.labels.font),i.push(e.xAxis.title.font),i.push(e.yAxis.labels.font),i.push(e.yAxis.title.font),i.push(e.xTopAxis.labels.font),i.push(e.xTopAxis.title.font),i.push(e.yRightAxis.labels.font),i.push(e.yRightAxis.title.font)),this.area.as(et));null!=t&&(i.push(t.xAxis.labels.font),i.push(t.yAxis.labels.font));for(let e of this.series.list){let t=e.as(tt);if(null!=t){for(let e of t.trendLines.list)i.push(e.font);null!=t.seriesLabels&&i.push(t.seriesLabels.font)}e.is(P.d.StiPictorialSeries)}return R.distinct(i)}get priority(){return ot.Component}get localizedCategory(){return d.get("Report","Components")}get componentType(){return at.Simple}get localizedName(){return d.get("Components","StiChart")}invokeEvents(){try{super.invokeEvents(),this.invokeProcessChart(this,x.empty)}catch(e){P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"DoEvents...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onProcessChart(e){}invokeProcessChart(e,t){try{this.onProcessChart(t)}catch(e){P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeProcessChart...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}series_SeriesAdded(e){let t=e,i=t.chart;null!=i.area&&i.area.core.isAcceptableSeries(t[D.System.StiObject.stimulsoft]().getType())||(i.area=ie.createObject(t.getDefaultAreaType()),null!=i.seriesLabels&&i.area.core.isAcceptableSeriesLabels(i.seriesLabels[D.System.StiObject.stimulsoft]().getType()))||(i.seriesLabels=ie.createObject(i.area.getDefaultSeriesLabelsType())),null!=i.legend&&i.legend.core.isAcceptableSeries(t[D.System.StiObject.stimulsoft]().getType())||(i.legend=ie.createObject(t.getDefaultLegendType())),1==i.series.length&&i.series.getByIndex(0).is(Re)?i.legend.vertAlignment=Pe.TopOutside:1==i.series.length&&i.series.getByIndex(0).is(Oe)&&(i.legend.vertAlignment=Pe.TopOutside,i.legend.horAlignment=De.Center,i.legend.columns=1),i.core.applyStyle(i.style)}series_SeriesRemoved(e){let t=e,s=t.chart;if(0==s.series.count)return void(s.area.is(Ye)||(s.area=new Ke,s.area.core.applyStyle(this.style)));if(null!=s.area){let i=s.area[D.System.StiObject.stimulsoft]().getType();for(let t of s.series.list){let e=t.getDefaultAreaType();if(e==i)return}}s.area=ie.createObject(s.series.getByIndex(0).getDefaultAreaType()),this.allowApplyStyle&&this.core.applyStyle(s.style)}get chartType(){return this.area}set chartType(e){this.area=e}applyStyle(){this.allowApplyStyle&&this.core.applyStyle(this.style)}simplifyValues(){let e=0;while(e<this.series.count){let i=this.series.getByIndex(e);if(3e3<i.values.length){let t=nt.getShorterListPoints(i);i.values=[],i.arguments=[];for(let e=1;e<t.length;e++)i.values[e]=t[e].x,i.arguments[e]=t[e].y}e++}}get series(){return this._series}set series(e){this._series=e,this._series.chart=this}get area(){return this._area}set area(e){this._area!=e&&(e.is(et)&&(this._area=e),null!=(this._area=e)?this._area.chart=this:this._area=null)}get table(){return this._table}set table(e){this._table!=e&&(this._table=e,this._table.chart=this)}get style(){return this._style}set style(e){this._style!=e&&null!=(this._style=e)&&(e.core.chart=this)}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&this.core.applyStyle(this.style)}get horSpacing(){return this._horSpacing}set horSpacing(e){0<=e&&(this._horSpacing=e)}get vertSpacing(){return this._vertSpacing}set vertSpacing(e){0<=e&&(this._vertSpacing=e)}get seriesLabels(){return this._seriesLabels}set seriesLabels(e){null!=(this._seriesLabels=e)&&(this._seriesLabels.chart=this)}get labels(){return this._seriesLabels}set labels(e){this._seriesLabels=e}get legend(){return this._legend}set legend(e){if(null==e)throw new Error("new NullReferenceException()");this._legend=e,this._legend.chart=this}get title(){return this._title}set title(e){this._title!=e&&(this._title=e,this._title.chart=this)}get strips(){return this._strips}set strips(e){this._strips=e,this._strips.chart=this}get constantLines(){return this._constantLines}set constantLines(e){this._constantLines=e,this._constantLines.chart=this}constructor(e=E.empty){super(e),this.filterMode=W.And,this.filters=new dt,this.filterOn=!0,this.border=new ht,this.brush=new V(B.transparent),this._sort=[],this._dataSourceName="",this._businessObjectGuid="",this.masterComponent=null,this.countData=0,this.isEofValue=!1,this.isBofValue=!1,this.isCacheValues=!1,this.cachedCount=0,this.cachedIsBusinessObjectEmpty=!1,this.cachedIsDataSourceEmpty=!1,this.cachedDataSource=null,this.cachedBusinessObject=null,this.dataRelationName="",this.processAtEnd=!1,this.defaultClientRectangle=new E(0,0,200,200),this.processChartEvent=new mt,this.seriesLabelsConditions=new He,this.rotation=lt.None,this.editorType=Me.Advanced,this._style=new rt,this._allowApplyStyle=!0,this.customStyleName="",this._horSpacing=10,this._vertSpacing=10,this.isAnimation=!0,this.isAnimationChangingValues=!0,this.chartInfo=new Ze,this._allowApplyStyle=D["StiOptions"].Engine.defaultValueOfAllowApplyStyleProperty,this.legend=new Ue,this.series=new st,this.series.seriesAdded=this.series_SeriesAdded,this.series.seriesRemoved=this.series_SeriesRemoved,this.area=new Ke,this.seriesLabels=new We,this.constantLines=new Qe,this.strips=new it,this.title=new qe,this.table=new $e,this.previousAnimations=new G,this.core=new Je(this),this.core.applyStyle(this.style)}}P.e.StiChart=Nt}{class Ji{static get oldChartPercentMode(){return Ji._oldChartPercentMode}static set oldChartPercentMode(e){Ji._oldChartPercentMode=e}}Ji._oldChartPercentMode=!1,P.d.StiChartOptions=Ji}P.d.StiInteractionOptions=class{constructor(){this.updateContext=!1,this.recallEvent=!1,this.recallTime=I.zero,this.isRecalled=!1,this.mousePoint=M.empty,this.dragEnabled=!1,this.dragDelta=he.empty,this.interactionToolTip=null,this.interactionHyperlink=null,this.seriesInteractionData=null}};{let l;(w=l=l||{})[w["Left"]=0]="Left",w[w["Right"]=1]="Right",w[w["Beyond"]=2]="Beyond",w[w["Behind"]=3]="Behind",w[w["Between"]=4]="Between",w[w["Origin"]=5]="Origin",w[w["Destination"]=6]="Destination";class Zi{static getPointClassify(e,t,i){let s=new M(i.x-t.x,i.y-t.y),r=new M(e.x-t.x,e.y-t.y),n=s.x*r.y-r.x*s.y;if(0<n)return l.Left;if(n<0)return l.Right;if(s.x*r.x<0||s.y*r.y<0)return l.Behind;if(Math.sqrt(s.x*s.x+s.y*s.y)<Math.sqrt(r.x*r.x+r.y*r.y))return l.Beyond;if(t.equals(e))return l.Origin;if(i.equals(e))return l.Destination;return l.Between}static isPointInTriangle(e,t,i,s){return Zi.getPointClassify(e,t,i)!=l.Left&&Zi.getPointClassify(e,i,s)!=l.Left&&Zi.getPointClassify(e,s,t)!=l.Left}static isPointInPolygon(t,i){for(let e=0;e<i.length;e++)if(Zi.getPointClassify(t,i[e],e+1<i.length?i[e+1]:i[0])==l.Left)return!1;return!0}static getLineOffsetRectangle(e,t,i){let s=Math.atan2(t.y-e.y,t.x-e.x),r=i/2,n=R.create(M,4,!0);return n[0]=new M(e.x+r*Math.cos(s+.5*Math.PI),e.y+r*Math.sin(s+.5*Math.PI)),n[1]=new M(t.x+r*Math.cos(s+.5*Math.PI),t.y+r*Math.sin(s+.5*Math.PI)),n[2]=new M(t.x+r*Math.cos(s+1.5*Math.PI),t.y+r*Math.sin(s+1.5*Math.PI)),n[3]=new M(e.x+r*Math.cos(s+1.5*Math.PI),e.y+r*Math.sin(s+1.5*Math.PI)),n}static isLineContainsPoint(e,t,i,s){let r=this.getLineOffsetRectangle(e,t,i);return Zi.isPointInPolygon(s,r)}static optimizePoints(s){if(s.length<800)return s;let r=1,n=0,l=0,o=0,a=0,h=[];while(n<s.length){if(null==s[n]){while(n<s.length&&null==s[n])n++;h.push(null);continue}let i=s[n];if(++n<s.length&&null!=s[n]&&null!=s[n]&&s[n].x-i.x<r){l=i.x,o=i.y,a=i.y;let e=i.y,t=i.y;while(n<s.length&&null!=s[n]&&null!=s[n]&&s[n].x-l<r)o=Math.min(o,s[n].y),a=Math.max(a,s[n].y),t=s[n].y,n++;t>e?(h.push(new M(l,o)),h.push(new M(l+r/2,a))):(h.push(new M(l,a)),h.push(new M(l+r/2,o)))}else h.push(i)}return h[D.System.StiObject.stimulsoft]().toArray()}}P.d.StiPointHelper=Zi}{class qi{static getSquareDistance(e,t){let i=e.x-t.x,s=e.y-t.y;return i*i+s*s}static getSquareSegmentDistance(t,e,i){let s=e.x,r=e.y,n=i.x-s,l=i.y-r;if(0!=n||0!=l){let e=((t.x-s)*n+(t.y-r)*l)/(n*n+l*l);1<e?(s=i.x,r=i.y):0<e&&(s+=n*e,r+=l*e)}return(n=t.x-s)*n+(l=t.y-r)*l}static simplifyRadialDistance(t,i){let s=t[0],r=[],n=(r.push(s),new M);for(let e=1;e<t.length;e++)n=t[e],qi.getSquareDistance(n,s)>i&&(r.push(n),s=n);return s!=n&&r.push(n),r}static simplifyDouglasPeucker(s,e){let t=s.length,r=R.create(Number,t),n=0,l=t-1,o=0,a=[],i=[];r[n]=r[l]=1;while(null!=l){let i=0;for(let t=n+1;t<l;t++){let e=qi.getSquareSegmentDistance(s[t],s[n],s[l]);e>i&&(o=t,i=e)}if(i>e){r[o]=1;let e=[n,o,o,l];a[D.System.StiObject.stimulsoft]().addRange(e)}0<a.length?(l=a[a.length-1],a[D.System.StiObject.stimulsoft]().removeAt(a.length-1)):l=null,0<a.length?(n=a[a.length-1],a[D.System.StiObject.stimulsoft]().removeAt(a.length-1)):n=null}for(let e=0;e<t;e++)0!=r[e]&&i.push(s[e]);return i}static simplify(e,t,i){if(null==e||0==e.length)return[];let s=t*t;if(i)return qi.simplifyDouglasPeucker(e,s);let r=qi.simplifyRadialDistance(e,s);return qi.simplifyDouglasPeucker(r,s)}}P.d.StiSimplifyHelper=qi}P.d.StiBoxAndWhiskerHelper=class{static checkArgument(e){let i=[];for(let t of e.series.toCast()){let e=t.as(P.d.StiBoxAndWhiskerSeries);null!=e&&i.push(e.coreTitle)}for(let t of e.series.toCast()){let e=t.as(P.d.StiBoxAndWhiskerSeries);null!=e&&(e.arguments=i,e.originalArguments=i)}}};{class $i{static getColorFromRange(r,n,l,o){{let e=l-n,t=o-n,i=t/e,s=$i.getLinearGradientPoints(r.length);return $i.getColorAtOffset(r,s,i)}}static getColorAtOffset(t,i,s){if(isNaN(s))return B.empty;if(0==t.length)return B.empty;if(1==t.length)return t[0];let r,n,l,o;for(let e=0;e<t.length-1;e++)if(l=i[e],o=i[e+1],l<=s&&s<=o){r=t[e],n=t[e+1];break}let e=o-l,a=s-l,h=a/e,u=this.interpolate(r.r,n.r,h),d=this.interpolate(r.g,n.g,h),c=this.interpolate(r.b,n.b,h);return B.fromArgb(255,u,d,c)}static interpolate(e,t,i){return Math.round(e+(t-e)*i)}static getLinearGradientPoints(t){let i=new G,s=1/(t-1);for(let e=0;e<t;e++)i[e]=s*e,e==t-1&&(i[e]=1);return i}}P.d.StiHeatmapHelper=$i}P.d.StiHistogramHelper=class{static checkValuesAndArguments(s,r){if(!s.is(P.d.StiHistogramSeries))return;let t=s.values,e=this.getStandardDeviation(t),n=3.5*e/Math.pow(t.length,1/3),i=(n=n||1,n=this.roundToSignificantDigits(n,6),t[D.System.StiObject.stimulsoft]().toList().min()),l=i-n/2,o=(i<0&&l<0?l=t[D.System.StiObject.stimulsoft]().toList().min():l<0&&(l=0),new G),a=new G,h=0,u=0,d=0,c=l+n,S=s.chart.area.as(P.d.StiAxisArea);for(let e of t[D.System.StiObject.stimulsoft]().toList().orderBy(e=>e)){if(e>c||u==t.length-1){o.add(h);let e=null!=r?r.format(l):S.xAxis.core.getLabelText2(l,l,s),t=null!=r?r.format(c):S.xAxis.core.getLabelText2(c,c,s),i=0==d?"["+e+", "+t+"]":"("+e+", "+t+"]";a.add(i),h=0,d++,l+=n*d,c=l+n}u++,h++}s.values=o[D.System.StiObject.stimulsoft]().toArray(),s.arguments=a[D.System.StiObject.stimulsoft]().toArray(),s.originalArguments=a[D.System.StiObject.stimulsoft]().toArray(),s.valuesStart=[]}static roundToSignificantDigits(e,t){if(0==e)return 0;let i=Math.pow(10,Math.floor(O.log10(Math.abs(e)))+1);return O.round2(i*O.round2(e/i,t),t)}static getStandardDeviation(e){let t=e[D.System.StiObject.stimulsoft]().toList().sum()/e.length,i=e[D.System.StiObject.stimulsoft]().toList().sum(e=>Math.pow(e-t,2));return Math.sqrt(i/(e.length-1))}};{class Ki{static createColorWithCorrectedLightness(e,t){if(0==t)return e;let i=e.r,s=e.g,r=e.b;return t<0?(t=1+t,i*=t,s*=t,r*=t):(i=(255-i)*t+i,s=(255-s)*t+s,r=(255-r)*t+r),B.fromArgb(e.a,i,s,r)}static getActualAngle(e,t){let i=e.height*Math.cos(t*Math.PI/180),s=e.width*Math.sin(t*Math.PI/180),r=180*Math.atan2(s,i)/Math.PI;if(r<0)return r+360;return r}static transformAngle(e,t){let i=e.width*Math.cos(t*Math.PI/180),s=e.height*Math.sin(t*Math.PI/180),r=180*Math.atan2(s,i)/Math.PI;if(r<0)return r+360;return r}}Ki.brightnessEnhancementFactor1=.3,P.d.StiPie3dHelper=Ki}let gt=P.a.Dashboard.StiEmptyCellsAs,pt=P.d.StiShowEmptyCellsAs,N=(P.d.StiShowEmptyCellsAsHelper=class{static convert(e){switch(e){case gt.Zero:return pt.Zero;case gt.Gap:return pt.Gap;case gt.ConnectPointsWithLine:return pt.ConnectPointsWithLine;default:return pt.Zero}}static seriesIsEmtyCellsAs(e){return e.is(P.d.StiLineSeries)||e.is(P.d.StiSplineSeries)}},D.Base.Context.StiFontGeom);P.d.StiTextContentHelper=class{static getMeasureText(e,t,i,s){return this.getMeasureText2(e,t,N.create(i),s)}static getMeasureText2(i,s,r,n){for(let t=0;s.length>t;t++){let e=s.substr(0,t);if(n<i.measureString(e,r).width){if(4<e.length)return e.substr(0,e.length-3)+`...`;if(1<e.length)return e.substr(0,1)+`...`}}return s}};{class Qi{implements(){return Qi.implementsStiAreaCoreXF||(Qi.implementsStiAreaCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiAreaCoreXF]),Qi.implementsStiAreaCoreXF}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.area.allowApplyStyle&&(this.area.brush=e.core.chartAreaBrush,this.area.borderColor=e.core.chartAreaBorderColor,this.area.borderThickness=e.core.chartAreaBorderThickness,this.area.showShadow=e.core.chartAreaShowShadow)}render(e,t){return null}prepareInfo(e){}checkInLabelsTypes(t){let i=this.area.getSeriesLabelsTypes();for(let e of i)if(e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName())return!0;return!1}getSeries(){let t=new $,i=this.area.getSeriesTypes();for(let e of i)t.set(e,e);let s=[];for(let e of this.area.chart.series.list){if(null==t.get(e[D.System.StiObject.stimulsoft]().getType()))continue;s.push(e)}return s}isAcceptableSeries(t){let i=this.area.getSeriesTypes();for(let e of i)if(e==t)return!0;return!1}isAcceptableSeriesLabels(t){let i=this.area.getSeriesLabelsTypes();for(let e of i)if(e==t)return!0;return!1}get localizedName(){return null}get seriesOrientation(){return P.d.StiChartSeriesOrientation.Vertical}get position(){return null}constructor(e){this.area=e}}P.d.StiAreaCoreXF=Qi}let f=D.Base.Drawing.StiColorUtils,ft=P.d.IStiShowNullsSeriesAs,wt=P.d.IStiShowZerosSeriesAs;{class Ui extends P.d.StiSeries{implements(){return Ui.implementsStiBaseLineSeries||(Ui.implementsStiBaseLineSeries=super.implements().concat([s,P.d.IStiBaseLineSeries,r,P.d.IStiSeries,P.d.IStiAllowApplyColorNegative,P.d.IStiShowNullsSeries,ft,P.d.IStiShowZerosSeries,wt])),Ui.implementsStiBaseLineSeries}meta(){return[...super.meta(),new i("ShowZeros","",!0),new i("ShowNulls","",!0),new o("Marker"),new o("LineMarker"),new e("LineColor","",B.black),new l("LineStyle","",p,p.Solid),new i("Lighting","",!0),new n("LineWidth","",2),new n("LabelsOffset"),new e("LineColorNegative","",B.firebrick),new i("AllowApplyColorNegative"),new l("ShowNullsAs","",pt,pt.Zero),new l("ShowZerosAs","",pt,pt.Zero)]}clone(){let e=super.clone();return e.marker=this.marker.clone(),e.lineStyle=this.lineStyle,e}get showMarker(){return this.marker.visible}set showMarker(e){this.marker.visible=e}get markerColor(){return ct.toColor(this.marker.brush)}set markerColor(e){this.marker.brush=new V(e),this.marker.borderColor=f.dark(e,50)}get markerSize(){return this.marker.size}set markerSize(e){this.marker.size=e}get markerType(){return this.marker.type}set markerType(e){this.marker.type=e}get lineColor(){return this.getLineColor()}set lineColor(e){this.setLineColor(e)}getLineColor(){return this._lineColor}setLineColor(e){this._lineColor=e}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}get showNullsAs(){return this._showNullsAs}set showNullsAs(e){this._showNullsAs=e,this.showNulls=e==pt.Zero}get showZerosAs(){return this._showZerosAs}set showZerosAs(e){this._showZerosAs=e,this.showZeros=e==pt.Zero}constructor(){super(),this.showNulls=!0,this.showZeros=!0,this.marker=new P.d.StiMarker,this.lineMarker=new P.d.StiLineMarker,this._lineColor=B.black,this.lineStyle=p.Solid,this.lighting=!0,this._lineWidth=2,this.labelsOffset=0,this.lineColorNegative=B.firebrick,this.allowApplyColorNegative=!1,this._showNullsAs=pt.Zero,this._showZerosAs=pt.Zero,this.seriesLabels=new P.d.StiOutsideEndAxisLabels}}P.d.StiBaseLineSeries=Ui}{class es extends P.d.StiBaseLineSeries{implements(){return es.implementsStiScatterSeries||(es.implementsStiScatterSeries=super.implements().concat([s,P.d.IStiBaseLineSeries,P.d.IStiSeries,r,P.d.IStiScatterSeries,P.d.IStiAllowApplyColorNegative])),es.implementsStiScatterSeries}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiScatterArea}getLineColor(){if(this[D.System.StiObject.stimulsoft]().getType()==es){if(this.marker.brush.is(V))return this.marker.brush.color;if(this.marker.brush.is(Ae))return this.marker.brush.startColor}return super.getLineColor()}setLineColor(e){super.setLineColor(e)}constructor(){super(),this.core=new P.d.StiScatterSeriesCoreXF(this)}}P.d.StiScatterSeries=es}{class ts extends P.d.StiScatterSeries{implements(){return ts.implementsStiScatterLineSeries||(ts.implementsStiScatterLineSeries=super.implements().concat([P.d.IStiScatterLineSeries,P.d.IStiBaseLineSeries,P.d.IStiScatterSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyColorNegative])),ts.implementsStiScatterLineSeries}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiScatterArea}constructor(){super(),this.core=new P.d.StiScatterLineSeriesCoreXF(this)}}P.d.StiScatterLineSeries=ts}{class is extends P.d.StiAreaCoreXF{implements(){return is.implementsStiAxisAreaCoreXF||(is.implementsStiAxisAreaCoreXF=[P.d.IStiAxisAreaCoreXF]),is.implementsStiAxisAreaCoreXF}applyStyle(e){super.applyStyle(e);let t=this.area;t.allowApplyStyle&&(null!=t.interlacingHor&&t.interlacingHor.core.applyStyle(e),null!=t.interlacingVert&&t.interlacingVert.core.applyStyle(e),null!=t.gridLinesHor&&t.gridLinesHor.core.applyStyle(e),null!=t.gridLinesVert&&t.gridLinesVert.core.applyStyle(e),null!=t.xAxis&&t.xAxis.core.applyStyle(e),null!=t.xTopAxis&&t.xTopAxis.core.applyStyle(e),null!=t.yAxis&&t.yAxis.core.applyStyle(e),null!=t.yRightAxis)&&t.yRightAxis.core.applyStyle(e)}render(l,o){let a=this.area,h=(a.yAxis.info.minimum=0,a.yAxis.info.maximum=0,a.yRightAxis.info.minimum=0,a.yRightAxis.info.maximum=0,a.xAxis.info.minimum=0,a.xAxis.info.maximum=0,a.xTopAxis.info.minimum=0,a.xTopAxis.info.maximum=0,this.prepareInfo(o.clone()),null),u=null,d=null,c=null,S=null,m=null,e=null,t=null,i=null,s=null,r=null,n=null,g=E.empty,p=E.empty,f=E.empty,w=E.empty,y=E.empty,x=E.empty,b=E.empty,C=a.core.getSeries();if(0<C.length){let i=0,s=0,r=0,n=0;if(g=(a.reverseHor?a.yRightAxis:a.yAxis).core.getAxisRect(l,o,!0,!0,!1,!0),this.area.chart.table.core.showTable()){let e=this.area.chart.table.core.getWidthCellLegend(l);e>g.width&&(g.width=e,g.x=-e,0==g.height)&&(g.height=1)}if(g.isEmpty||(g.x+=o.x,g.y+=o.y),g.isEmpty||(r=g.width,g.top<o.top&&(i=Math.abs(o.top-g.top)),o.bottom<g.bottom&&(s=Math.abs(g.bottom-o.bottom))),(p=a.yAxis.core.getCenterAxisRect(l,o,!0,!0,!1)).isEmpty||(p.x+=o.x,p.y+=o.y),(f=(a.reverseHor?a.yAxis:a.yRightAxis).core.getAxisRect(l,o,!0,!0,!1,!0)).isEmpty||(f.x+=o.x,f.y+=o.y),f.isEmpty||(n=f.width,f.top<o.top&&(i=Math.max(i,Math.abs(o.top-f.top))),o.bottom<f.bottom&&(s=Math.max(s,Math.abs(f.bottom-o.bottom)))),(w=a.xTopAxis.core.getAxisRect(l,o,!0,!0,!1,!0)).isEmpty||(w.x+=o.x,w.y+=o.y),w.isEmpty||(i=Math.max(w.height,i),w.x<o.x&&(r=Math.max(r,Math.abs(o.left-w.left))),o.right<w.right&&(n=Math.max(n,Math.abs(w.right-o.right)))),(y=a.xAxis.core.getCenterAxisRect(l,o,!0,!0,!1)).isEmpty||(y.x+=o.x,y.y+=o.y),a.reverseHor){let e={ref:r},t={ref:n};this.swap(e,t),r=e.ref,n=t.ref}let e=new E(o.x+r,o.y,o.width-r-n,o.height),t=(a.xAxis.info.dpi=e.width/a.xAxis.info.range,this.calculateStepX(a.xAxis,e.left,e.right),{ref:a.xAxis.info.labelsCollection});if(this.calculatePositions(a.xAxis,t,0<a.xAxis.labels.step?O.trunc(a.xAxis.labels.step):1,!1),a.xAxis.info.labelsCollection=t.ref,(x=a.xAxis.core.getAxisRect(l,e,!0,!0,!1,!0)).isEmpty||this.area.chart.table.core.showTable()||(x.x+=o.x,x.y+=o.y),x.isEmpty||this.area.chart.table.core.showTable()&&!this.area.chart.table.chart.area.is(P.d.IStiClusteredBarArea)||(s=Math.max(x.height,s),x.x<o.x&&(r=Math.max(r,Math.abs(o.left-x.left))),o.right<x.right&&(n=Math.max(n,Math.abs(x.right-o.right)))),a.reverseHor){let e={ref:r},t={ref:n};this.swap(e,t),r=e.ref,n=t.ref}if(a.reverseVert){let e={ref:i},t={ref:s};this.swap(e,t),i=e.ref,s=t.ref}o.x+=r,o.width-=r+n,o.y+=i,o.height-=i+s,this.prepareInfo(o),h=a.yAxis.core.renderView(l,o),u=a.yAxis.core.renderCenterView(l,o),d=a.yRightAxis.core.renderView(l,o),c=a.xTopAxis.core.renderView(l,o),S=a.xAxis.core.renderCenterView(l,o),m=a.xAxis.core.renderView(l,o)}b=o.clone();let A=this.calculateScrollValuesX(o.clone(),a),L=this.calculateScrollValuesY(o.clone(),a),T=(o.x=-this.scrollDistanceX,o.y=-this.scrollDistanceY,o.width*=A,o.height*=L,this.prepareInfo(o.clone()),0<C.length&&(e=a.yAxis.core.render(l,o.clone()),t=a.yAxis.core.renderCenter(l,o.clone()),i=a.yRightAxis.core.render(l,o.clone()),s=a.xTopAxis.core.render(l,o.clone()),r=a.xAxis.core.renderCenter(l,o.clone()),n=a.xAxis.core.render(l,o.clone()),null!=e&&(e.view=h),null!=t&&(t.view=u),null!=i&&(i.view=d),null!=s&&(s.view=c),null!=r&&(r.view=S),null!=n)&&(n.view=m),null!=m&&a.xAxis.core.renderScrollBar(l,m.clientRectangle,m),null!=c&&a.xTopAxis.core.renderScrollBar(l,c.clientRectangle,c),null!=h&&a.yAxis.core.renderScrollBar(l,h.clientRectangle,h),null!=d&&a.yRightAxis.core.renderScrollBar(l,d.clientRectangle,d),new P.d.StiAxisAreaViewGeom(a,b)),v=new P.d.StiAxisAreaGeom(T,a,o.clone());T.createChildGeoms(),T.childGeoms.push(v);for(let e of this.area.chart.strips.list)e.showBehind&&e.core.render(l,v,o.clone());for(let e of this.area.chart.constantLines.list)e.showBehind&&e.core.render(l,v,o.clone());this.renderSeries(l,o.clone(),v,C);for(let e of this.area.chart.strips.list)e.showBehind||e.core.render(l,v,o.clone());for(let e of this.area.chart.constantLines.list)e.showBehind||e.core.render(l,v,o.clone());return null!=e&&(T.createChildGeoms(),h.createChildGeoms(),T.childGeoms.push(h),h.childGeoms.push(e)),null!=t&&(T.createChildGeoms(),u.createChildGeoms(),T.childGeoms.push(u),u.childGeoms.push(t)),null!=i&&(T.createChildGeoms(),d.createChildGeoms(),T.childGeoms.push(d),d.childGeoms.push(i)),null!=s&&(T.createChildGeoms(),c.createChildGeoms(),T.childGeoms.push(c),c.childGeoms.push(s)),null!=r&&(T.createChildGeoms(),S.createChildGeoms(),T.childGeoms.push(S),S.childGeoms.push(r)),null==n||this.area.chart.table.core.showTable()&&!this.area.chart.table.chart.area.is(P.d.IStiClusteredBarArea)||(T.createChildGeoms(),m.createChildGeoms(),T.childGeoms.push(m),m.childGeoms.push(n)),T}calculateScrollValuesX(e,t){let i,s,r=1;if((this.isAutoRangeXAxis(t.xAxis)||(i=t.xAxis.range.minimum,s=t.xAxis.range.maximum,i>s))&&(i=t.xAxis.info.minimum,s=t.xAxis.info.maximum),this._scrollRangeX=t.xAxis.info.maximum-t.xAxis.info.minimum,this._scrollViewX=s-i,!t.xAxis.core.getStartFromZero()||t.xAxis.logarithmicScale?this.blockScrollValueX=!0:this.blockScrollValueX=!1,!this.blockScrollValueX&&!t.xAxis.interaction.showScrollBar){let e=i+Math.abs(t.xAxis.info.minimum);0<t.xAxis.info.minimum&&0<i&&(e=Math.abs(i-t.xAxis.info.minimum)),this.scrollValueX=t.reverseHor?this._scrollRangeX-e-this._scrollViewX:e}return r=this.scrollRangeX/this.scrollViewX,this._scrollDpiX=e.width*r/this.scrollRangeX,r}calculateScrollValuesY(e,t){let i,s,r=1;if((this.isAutoRangeYAxis(t.yAxis)||(i=t.yAxis.range.minimum,s=t.yAxis.range.maximum,i>s))&&(i=t.yAxis.info.minimum,s=t.yAxis.info.maximum),this._scrollRangeY=t.yAxis.info.maximum-t.yAxis.info.minimum,this._scrollViewY=s-i,!t.yAxis.core.getStartFromZero()||t.yAxis.logarithmicScale?this.blockScrollValueY=!0:this.blockScrollValueY=!1,this.blockScrollValueY)this.scrollValueY=0;else{let e=i+Math.abs(t.yAxis.info.minimum);t.reverseVert?this.scrollValueY=e:this.scrollValueY=this._scrollRangeY-e-this._scrollViewY}return r=this.scrollRangeY/this.scrollViewY,this._scrollDpiY=e.height*r/this.scrollRangeY,r}prepareInfo(h){let u=this.getSeries();if(0<u.length){let e=this.area,t=(this.valuesCount=0,this.is(P.d.StiClusteredBarAreaCoreXF)?e.yAxis:e.xAxis),i=this.is(P.d.StiClusteredBarAreaCoreXF)?e.yRightAxis:e.xTopAxis,s=this.is(P.d.StiClusteredBarAreaCoreXF)?e.xAxis:e.yAxis,r=this.is(P.d.StiClusteredBarAreaCoreXF)?e.xTopAxis:e.yRightAxis,n=(t.info.stripLines=new P.d.StiStripLinesXF,s.info.stripLines=new P.d.StiStripLinesXF,r.info.stripLines=new P.d.StiStripLinesXF,!1);for(let t=0;t<u.length;t++){let e=u[t].values;null!=(e=u[t].is(P.d.StiCandlestickSeries)?u[t].valuesOpen:e)&&(this.valuesCount=Math.max(e.length,this.valuesCount)),u[t].core.isDateTimeValues&&(n=!0)}this.is(P.d.StiBoxAndWhiskerAreaCoreXF)&&(this.valuesCount=u.length),this.prepareRange(t,i,s,r),!s.range.auto&&s.range.maximum>s.info.maximum&&(s.info.maximum=s.range.maximum),!s.range.auto&&s.range.minimum<s.info.minimum&&(s.info.minimum=s.range.minimum),(!r.range.auto&&r.range.maximum>r.info.maximum||e.is(P.d.StiParetoArea))&&(r.info.maximum=r.range.maximum),!r.range.auto&&r.range.minimum<r.info.minimum&&(r.info.minimum=r.range.minimum);let l=0<this.area.chart.series.count&&this.area.chart.series.getByIndex(0).is(P.d.StiScatterSeries),o=(s.logarithmicScale&&l?this.calculateMinimumAndMaximumYAxisLog(s):(this.checkStartFromZeroYAxis(s),this.checkStartFromZeroYAxis(r),this.calculateMinimumAndMaximumYAxis(s),r.range.auto&&this.calculateMinimumAndMaximumYAxis(r)),this.calculateMinimumAndMaximumXAxis(t),this.createStripLinesXAxis(t),this.createStripLinesYAxis(s,n),this.createStripLinesYAxis(r,n),this.checkStripLinesAndMaximumMinimumXAxis(t),this.checkStripLinesAndMaximumMinimumYAxis(s),this.checkStripLinesAndMaximumMinimumYAxis(r),e.is(P.d.IStiClusteredBarArea)&&(is.rotateStripLines(t),is.rotateStripLines(s),is.rotateStripLines(r)),i.info=t.info.clone(),this.checkShowEdgeValues(t),this.checkShowEdgeValues(i),e.reverseHor&&(is.rotateStripLines(e.xAxis),is.rotateStripLines(e.xTopAxis)),e.reverseVert&&(is.rotateStripLines(e.yAxis),is.rotateStripLines(e.yRightAxis)),e.xAxis.info.dpi=h.width/e.xAxis.info.range,e.xTopAxis.info.dpi=h.width/e.xTopAxis.info.range,e.yAxis.info.dpi=h.height/e.yAxis.info.range,e.yRightAxis.info.dpi=h.height/e.yRightAxis.info.range,this.calculateStepX(e.xAxis,h.left,h.right),this.calculateStepX(e.xTopAxis,h.left,h.right),this.calculateStepY(e.yAxis,h.top,h.bottom),this.calculateStepY(e.yRightAxis,h.top,h.bottom),{ref:e.xAxis.info.labelsCollection}),a=(this.calculatePositions(e.xAxis,o,0<e.xAxis.labels.step?O.trunc(e.xAxis.labels.step):1,!1),e.xAxis.info.labelsCollection=o.ref,o={ref:e.xTopAxis.info.labelsCollection},this.calculatePositions(e.xTopAxis,o,0<e.xTopAxis.labels.step?O.trunc(e.xTopAxis.labels.step):1,!1),e.xTopAxis.info.labelsCollection=o.ref,o={ref:e.yAxis.info.labelsCollection},this.calculatePositions(e.yAxis,o,0<e.yAxis.labels.step?O.trunc(e.yAxis.labels.step):1,!1),e.yAxis.info.labelsCollection=o.ref,o={ref:e.yRightAxis.info.labelsCollection},this.calculatePositions(e.yRightAxis,o,0<e.yRightAxis.labels.step?O.trunc(e.yRightAxis.labels.step):1,!1),e.yRightAxis.info.labelsCollection=o.ref,{ref:e.xAxis.info.ticksCollection});this.calculatePositions(e.xAxis,a,0<e.xAxis.ticks.step?O.trunc(e.xAxis.ticks.step):1,!0),e.xAxis.info.ticksCollection=a.ref,a={ref:e.xTopAxis.info.ticksCollection},this.calculatePositions(e.xTopAxis,a,0<e.xTopAxis.ticks.step?O.trunc(e.xTopAxis.ticks.step):1,!0),e.xTopAxis.info.ticksCollection=a.ref,a={ref:e.yAxis.info.ticksCollection},this.calculatePositions(e.yAxis,a,0<e.yAxis.ticks.step?O.trunc(e.yAxis.ticks.step):1,!0),e.yAxis.info.ticksCollection=a.ref,a={ref:e.yRightAxis.info.ticksCollection},this.calculatePositions(e.yRightAxis,a,0<e.yRightAxis.ticks.step?O.trunc(e.yRightAxis.ticks.step):1,!0),e.yRightAxis.info.ticksCollection=a.ref}}renderSeries(r,n,l,e){let i=[],s=new $;for(let t of e)if(this.isAcceptableSeries(t[D.System.StiObject.stimulsoft]().getType())){let e=s.get(t[D.System.StiObject.stimulsoft]().getType());null==e&&(e=[],i.push(e),s.add(t[D.System.StiObject.stimulsoft]().getType(),e)),e.push(t)}for(let e of i){let s=e[D.System.StiObject.stimulsoft]().toArray();if(s[0].is(P.d.StiStackedBarSeries)||s[0].is(P.d.StiStackedColumnSeries)||s[0].is(P.d.StiStackedBaseLineSeries)){let t=[],i=[];for(let e of s)(e.yAxis==P.d.StiSeriesYAxis.LeftYAxis?t:i).push(e);0<t.length&&t[D.System.StiObject.stimulsoft]().toArray()[0].core.renderSeries(r,n,l,t[D.System.StiObject.stimulsoft]().toArray()),0<i.length&&i[D.System.StiObject.stimulsoft]().toArray()[0].core.renderSeries(r,n,l,i[D.System.StiObject.stimulsoft]().toArray())}else s[0].core.renderSeries(r,n,l,s)}}isAutoRangeXAxis(e){return e.range.auto||e.range.minimum>=e.range.maximum||e.logarithmicScale}isAutoRangeYAxis(e){return e.range.auto||e.range.maximum==e.range.minimum||this.area.isDefaultSeriesTypeFullStackedColumnSeries||e.logarithmicScale}calculateMinimumAndMaximumXAxis(e){e.range.auto||(e.info.maximum=e.range.maximum,e.info.minimum=e.range.minimum)}calculateMinimumAndMaximumYAxisLog(t){if(t.is(P.d.IStiYAxis)){let e=.05;t.info.minimum=t.info.minimum-e,t.info.maximum=t.info.maximum+e}}calculateMinimumAndMaximumYAxis(i){if(0<this.getSeries().length&&this.getSeries()[0].is(P.d.StiGanttSeries))return void(i.range.auto||(i.info.maximum=i.range.maximum,i.info.minimum=i.range.minimum));if(!i.startFromZero&&i.range.auto&&i.is(P.d.IStiYAxis)){let e=.05*(i.info.maximum-i.info.minimum);i.info.minimum=i.info.minimum-e,i.info.maximum=i.info.maximum+e,i.info.minimum<0&&0<=i.info.minimum+e&&(i.info.minimum=0)}else{let e=.1,t=(0<this.getSeries().length&&this.getSeries()[0].seriesLabels.is(P.d.StiOutsideEndAxisLabels)&&(e=.15),Math.min(e,Math.abs(4/((i.info.maximum+i.info.minimum)/2))));i.info.maximum*=1+t*Math.sign(i.info.maximum),i.info.minimum*=1-t*Math.sign(i.info.minimum)}i.info.minimum==i.info.maximum&&(0==i.info.maximum?i.info.maximum=100:(i.info.minimum-=.1*i.info.minimum,i.info.maximum+=.1*i.info.maximum))}getArgumentLabel(e,t){if(null==e)return"";let i=this.area;return(i.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical?i.xAxis:i.yAxis).core.getLabelText(e,t)}switchOff(){let e=this.area;e.gridLinesHor.visible=!1,e.gridLinesVert.visible=!1,e.interlacingHor.visible=!1,e.interlacingVert.visible=!1,e.xAxis.visible=!1,e.yAxis.visible=!1,e.xTopAxis.visible=!1,e.yRightAxis.visible=!1,e.yAxis.range.auto=!0,e.xAxis.range.auto=!0,e.xAxis.startFromZero=!0,e.gridLinesHor.minorVisible=!1,e.gridLinesVert.minorVisible=!1,e.gridLinesHorRight.visible=!1}swap(e,t){let i=e.ref;e.ref=t.ref,t.ref=i}prepareRange(e,t,i,s){}createStripLinesXAxis(s){let r=s.core.getStartFromZero(),t=r?this.valuesCount+1:this.valuesCount;for(let e=r?0:1;e<=t;e++)s.info.stripLines.add2(e,e);let i=this.getSeries();for(let e of i)for(let i=0;i<this.valuesCount;i++){let t=null;if(null!=e.arguments&&i<e.arguments.length&&(t=e.arguments[i],k.isNullOrEmpty(t)))continue;if(null!=t){let e=r?1+i:i;e<s.info.stripLines.count&&(s.info.stripLines.getByIndex(e).valueObject=t)}}}checkShowEdgeValues(t){if(0<t.info.stripLines.count){let e=(t.is(P.d.IStiXTopAxis)?t.area.xTopAxis:t.area.xAxis).showEdgeValues;e&&!t.area.is(P.d.IStiClusteredBarArea)||(t.info.stripLines.getByIndex(0).valueObject=null,t.info.stripLines.getByIndex(t.info.stripLines.count-1).valueObject=null)}}createStripLinesYAxis(l,e){if(this.area.isDefaultSeriesTypeFullStackedColumnSeries||this.area.isDefaultSeriesTypeFullStackedBarSeries){let i=!1,s=!1,e=this.getSeries();for(let t of e)for(let e of t.values)0<e&&(i=!0),e<0&&(s=!0);let t=s?-100:0,r=i?100:0,n=(0==t&&0==r&&(r=100),l.labels.step);0==n&&(n=P.d.StiStripLineCalculatorXF.getInterval(t,r,6)),l.info.stripLines=P.d.StiStripLineCalculatorXF.getStripLines(t,r,n,!1);for(let e of l.info.stripLines.list)e.valueObject=k.format("{0}%",e.valueObject)}else{let t=l.labels.step;if(0==(t=0<t&&0<l.info.range&&500<l.info.range/t?0:t)){t=P.d.StiStripLineCalculatorXF.getInterval(l.info.minimum,l.info.maximum,6);let e=this.area.chart;e.isDashboard&&(l.labels.calculatedStep=t)}l.info.stripLines=P.d.StiStripLineCalculatorXF.getStripLines(l.info.minimum,l.info.maximum,t,e)}}checkStripLinesAndMaximumMinimumXAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.minimum=0,e.info.maximum=1)}checkStripLinesAndMaximumMinimumYAxis(e){0<e.info.stripLines.count?(e.info.maximum=e.info.stripLines.getByIndex(0).value,e.info.minimum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.maximum=100,e.info.minimum=0)}calculateStepX(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(0).value-e.info.stripLines.getByIndex(1).value)*e.info.dpi),e.core.calculateStripPositions(t,i)):(e.info.step=1,e.info.stripPositions=[])}calculateStepY(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(1).value-e.info.stripLines.getByIndex(0).value)*e.info.dpi),e.core.calculateStripPositions(t,i)):(e.info.step=1,e.info.stripPositions=[])}checkStartFromZeroYAxis(e){e.core.getStartFromZero()&&(e.info.maximum<0&&(e.info.maximum=0),0<e.info.minimum)&&(e.info.minimum=0)}calculatePositions(s,e,t,r){let n=[],i=this.area,l=!1,o=(this.area.is(P.d.IStiYAxis)?l=i.reverseVert:this.area.is(P.d.IStiXAxis)&&(l=i.reverseHor),0),a=s.info.stripPositions.length;for(let i=0;i<a;i++){if(0==o){let e=new P.d.StiStripPositionXF,t=l?a-i-1:i;e.stripLine=s.info.stripLines.getByIndex(t),e.position=s.info.stripPositions[t],l?n[D.System.StiObject.stimulsoft]().insert(0,e):n.push(e)}if(this.area.core.is(P.d.StiScatterAreaCoreXF)&&s.is(P.d.IStiXAxis)&&!s.logarithmicScale)continue;if(this.area.core.is(P.d.StiClusteredBarAreaCoreXF)&&s.is(P.d.IStiXAxis)&&!r)continue;if(!this.area.core.is(P.d.StiClusteredBarAreaCoreXF)&&s.is(P.d.IStiYAxis)&&!r)continue;if(i==a-1){let e=s;if(null!=e&&e.showEdgeValues){let e=new P.d.StiStripPositionXF,t=l?0:a-1;e.stripLine=s.info.stripLines.getByIndex(t),e.position=s.info.stripPositions[t],l?n[D.System.StiObject.stimulsoft]().insert(0,e):n.push(e)}}++o==t&&(o=0)}e.ref=n}calculateDivider(t){let e=this.area,i=0;if(null!=t.info.stripLines)for(let e of t.info.stripLines.list){if(0==e.value)return t.info.stripPositions[i];i++}return t.is(P.d.IStiYAxis)?e.reverseVert?-t.info.minimum*t.info.dpi:null==t.info.stripPositions||0==t.info.stripPositions.length?t.info.minimum*t.info.dpi:t.info.stripPositions[t.info.stripPositions.length-1]+t.info.minimum*t.info.dpi:t.is(P.d.IStiXAxis)?e.reverseHor?null==t.info.stripPositions||0==t.info.stripPositions.length?t.info.minimum*t.info.dpi:t.info.stripPositions[t.info.stripPositions.length-1]+t.info.minimum*t.info.dpi:-t.info.minimum*t.info.dpi:0}static rotateStripLines(t){let i=new P.d.StiStripLinesXF;for(let e of t.info.stripLines.list)i.insert(0,e);t.info.stripLines=i}getDividerX(){let e=this.area;if(this.is(P.d.StiClusteredBarAreaCoreXF)||this.is(P.d.StiScatterAreaCoreXF))return this.calculateDivider(e.xAxis);return 0}getDividerTopX(){let e=this.area;if(this.is(P.d.StiClusteredBarAreaCoreXF))return this.calculateDivider(e.xTopAxis);return 0}getDividerY(){let e=this.area;return this.is(P.d.StiClusteredBarAreaCoreXF)&&!this.is(P.d.StiGanttAreaCoreXF)?0:this.calculateDivider(e.yAxis)}getDividerRightY(){let e=this.area;return this.is(P.d.StiClusteredBarAreaCoreXF)&&!this.is(P.d.StiGanttAreaCoreXF)?0:this.calculateDivider(e.yRightAxis)}get scrollDistanceX(){return this.scrollDpiX*this.scrollValueX}get scrollDistanceY(){return this.scrollDpiY*this.scrollValueY}get scrollRangeX(){return this._scrollRangeX}get scrollRangeY(){return this._scrollRangeY}get scrollViewX(){return this._scrollViewX}get scrollViewY(){return this._scrollViewY}get scrollDpiX(){return this._scrollDpiX}get scrollDpiY(){return this._scrollDpiY}constructor(e){super(e),this.valuesCount=0,this._scrollRangeX=0,this._scrollRangeY=0,this._scrollViewX=0,this._scrollViewY=0,this.blockScrollValueX=!1,this.blockScrollValueY=!1,this.scrollValueX=0,this.scrollValueY=0,this._scrollDpiX=1,this._scrollDpiY=1,this.scrollDragStartValue=0}}P.d.StiAxisAreaCoreXF=is}P.d.StiClusteredColumnAreaCoreXF=class extends P.d.StiAxisAreaCoreXF{prepareRange(e,t,s,r){let n=!0,l=!0,o=!1,a=!1,h=(s.info.maximum=0,s.info.minimum=0,r.info.maximum=0,r.info.minimum=0,this.getSeries());for(let e=0;e<h.length;e++){let t=h[e],i=t.values;for(let e of i)t.yAxis==P.d.StiSeriesYAxis.LeftYAxis?null!=e&&(n?(o=!0,s.info.maximum=e,s.info.minimum=e,n=!1):(o=!0,s.info.maximum=Math.max(e,s.info.maximum),s.info.minimum=Math.min(e,s.info.minimum))):null!=e&&(l?(a=!0,r.info.maximum=e,r.info.minimum=e,l=!1):(a=!0,r.info.maximum=Math.max(e,r.info.maximum),r.info.minimum=Math.min(e,r.info.minimum)))}o||(s.info.maximum=r.info.maximum,s.info.minimum=r.info.minimum),a||(r.info.maximum=s.info.maximum,r.info.minimum=s.info.minimum)}get localizedName(){return d.get("Chart","ClusteredColumn")}get position(){return P.d.StiChartAreaPosition.ClusteredColumn}constructor(e){super(e)}};let yt=P.d.StiChartAreaPosition,xt=(P.d.StiBoxAndWhiskerAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","BoxAndWhisker")}get position(){return yt.Bubble}constructor(e){super(e)}},D.Base.StiConvert),bt=(P.d.StiScatterAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{isXAxisAutoRange(e){let t=this.area;return e.range.auto||t.xAxis.range.maximum==t.xAxis.range.minimum||e.logarithmicScale}prepareRange(e,t,i,s){super.prepareRange(e,t,i,s);let r=!0,n=(e.info.maximum=0,e.info.minimum=0,this.isArgumentDateTime=!1,this.getSeries());for(let s of n){if(0<s.arguments.length&&"string"==typeof s.arguments[0]){let e=s.arguments[0];if(e[D.System.StiObject.stimulsoft]().endsWith("AM")||e[D.System.StiObject.stimulsoft]().endsWith("PM"))for(let t=0;t<s.arguments.length;t++){let e=y.fromString(s.arguments[t].toString(),!1);null!=e&&(s.arguments[t]=e)}}for(let i of s.arguments){let t=0;if(i instanceof y)this.isArgumentDateTime=!0,t=i.toOADate();else if("string"==typeof i){let e={ref:0};P.d.StiSeries.tryParseValue(i,s.chart.report.culture,e)&&(t=e.ref)}else try{t=xt.changeType(i,Number)}catch(e){t=0}r?(r=!1,e.info.maximum=t,e.info.minimum=t):(e.info.maximum=Math.max(e.info.maximum,t),e.info.minimum=Math.min(e.info.minimum,t))}}}checkStripLinesAndMaximumMinimumXAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.minimum=0,e.info.maximum=1)}createStripLinesXAxis(s){if(!this.isArgumentDateTime&&!s.logarithmicScale&&this.isXAxisAutoRange(s)){let e=.05*Math.abs(s.info.maximum-s.info.minimum);0!=e?(s.info.maximum+=e,s.info.minimum-=e,s.info.minimum<0&&0<=s.info.minimum+e&&(s.info.minimum=0)):(s.info.maximum*=1.05,s.info.minimum<0?s.info.minimum*=1.05:s.info.minimum*=.95),s.core.getStartFromZero()&&(s.info.minimum=0),s.info.minimum==s.info.maximum&&(0==s.info.maximum?s.info.maximum=100:(s.info.minimum-=.1*s.info.minimum,s.info.maximum-=.1*s.info.maximum))}let t=!1,i=this.getSeries();for(let e=0;e<i.length;e++)if(i[e].core.isDateTimeValues){t=!0;break}let e=s.labels.step;0==e&&(e=P.d.StiStripLineCalculatorXF.getInterval(s.info.minimum,s.info.maximum,6));let r;r=s.logarithmicScale?P.d.StiStripLineCalculatorXF.getStripLinesLogScale(s.info.minimum,s.info.maximum):this.isArgumentDateTime?P.d.StiStripLineCalculatorXF.getScatterXDateStripLines(s.info.minimum,s.info.maximum,e):P.d.StiStripLineCalculatorXF.getStripLines(s.info.minimum,s.info.maximum,e,t),s.info.stripLines.clear();for(let i=r.count-1;0<=i;i--){let e=r.getByIndex(i).value,t=r.getByIndex(i).valueObject;this.isArgumentDateTime&&(t=y.fromOADate(e)),s.info.stripLines.add2(t,e)}}createStripLinesYAxis(l,t){if(this.area.isDefaultSeriesTypeFullStackedColumnSeries||this.area.isDefaultSeriesTypeFullStackedBarSeries){let i=!1,s=!1,e=this.getSeries();for(let t of e)for(let e of t.values)0<e&&(i=!0),e<0&&(s=!0);let t=s?-100:0,r=i?100:0,n=l.labels.step;0==n&&(n=P.d.StiStripLineCalculatorXF.getInterval(t,r,6)),l.info.stripLines=P.d.StiStripLineCalculatorXF.getStripLines(t,r,n,!1);for(let e of l.info.stripLines.list)e.valueObject=k.format("{0}%",e.valueObject)}else{let e=l.labels.step;0==(e=0<e&&0<l.info.range&&500<l.info.range/e?0:e)&&(e=P.d.StiStripLineCalculatorXF.getInterval(l.info.minimum,l.info.maximum,6)),l.info.stripLines=l.logarithmicScale?P.d.StiStripLineCalculatorXF.getStripLinesLogScale(l.info.minimum,l.info.maximum):P.d.StiStripLineCalculatorXF.getStripLines(l.info.minimum,l.info.maximum,e,t)}}get localizedName(){return d.get("Chart","Scatter")}get position(){return P.d.StiChartAreaPosition.Scatter}constructor(e){super(e),this.isArgumentDateTime=!1}},P.d.StiBubbleAreaCoreXF=class extends P.d.StiScatterAreaCoreXF{get localizedName(){return d.get("Chart","Bubble")}get position(){return yt.Bubble}constructor(e){super(e)}},P.d.StiCandlestickAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","Candlestick")}get position(){return P.d.StiChartAreaPosition.Candlestick}createStripLinesXAxis(s){s.info.stripLines.clear(),s.info.stripLines.add2(0,0);let t=this.getSeries();for(let e of t)for(let i of e.arguments){let t=!0;for(let e of s.info.stripLines.list)e.valueObject.toString()==i.toString()&&(t=!1);t&&s.info.stripLines.add2(i,s.info.stripLines.count)}s.info.stripLines.add2("",s.info.stripLines.count)}prepareRange(e,t,i,s){e.info.maximum=0,e.info.minimum=0,i.info.maximum=0,i.info.minimum=0;let r=this.getSeries(),n=!0;for(let t of r){for(let e of t.valuesOpen)null!=e&&(n?(n=!1,i.info.maximum=e,i.info.minimum=e):(i.info.maximum=Math.max(i.info.maximum,e),i.info.minimum=Math.min(i.info.minimum,e)));for(let e of t.valuesClose)null!=e&&(i.info.maximum=Math.max(i.info.maximum,e),i.info.minimum=Math.min(i.info.minimum,e));for(let e of t.valuesHigh)null!=e&&(i.info.maximum=Math.max(i.info.maximum,e));for(let e of t.valuesLow)null!=e&&(i.info.minimum=Math.min(i.info.minimum,e))}s.info.maximum=i.info.maximum,s.info.minimum=i.info.minimum}constructor(e){super(e)}},P.d.StiClusteredBarAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","ClusteredBar")}get seriesOrientation(){return P.d.StiChartSeriesOrientation.Horizontal}get position(){return P.d.StiChartAreaPosition.ClusteredBar}constructor(e){super(e)}},P.d.StiAreaAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","Area")}get position(){return P.d.StiChartAreaPosition.Area}constructor(e){super(e)}},P.d.StiHistogramAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","Histogram")}get position(){return P.d.StiChartAreaPosition.Histogram}constructor(e){super(e)}},P.d.StiLineAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","Line")}get position(){return P.d.StiChartAreaPosition.Line}constructor(e){super(e)}},P.d.StiParetoAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","Pareto")}get position(){return P.d.StiChartAreaPosition.Pareto}constructor(e){super(e)}},P.d.StiSplineAreaAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","SplineArea")}get position(){return P.d.StiChartAreaPosition.SplineArea}constructor(e){super(e)}},P.d.StiSplineAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","Spline")}get position(){return P.d.StiChartAreaPosition.Spline}constructor(e){super(e)}},P.d.StiSteppedAreaAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","SteppedArea")}get position(){return P.d.StiChartAreaPosition.SteppedArea}constructor(e){super(e)}},P.d.StiSteppedLineAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","SteppedLine")}get position(){return P.d.StiChartAreaPosition.SteppedLine}constructor(e){super(e)}},P.d.StiWaterfallAreaCoreXF=class extends P.d.StiAxisAreaCoreXF{prepareRange(e,t,s,i){let r=!0,n=0,l=(s.info.maximum=0,s.info.minimum=0,this.getSeries());for(let t=0;t<l.length;t++){let i=l[t],e=i.total.visible?1:0;for(let t=0;t<i.values.length-e;t++){let e=i.values[t];i.yAxis==P.d.StiSeriesYAxis.LeftYAxis&&null!=e&&(r?(n=e,s.info.maximum=Math.max(0,e),s.info.minimum=Math.min(0,e),r=!1):(n+=e,s.info.maximum=Math.max(n,s.info.maximum),s.info.minimum=Math.min(n,s.info.minimum)))}}}get localizedName(){return d.get("Chart","Waterfall")}get position(){return P.d.StiChartAreaPosition.Waterfall}constructor(e){super(e)}},P.d.StiPieAreaCoreXF=class extends P.d.StiAreaCoreXF{render(e,t){this.prepareInfo(t);let i=new P.d.StiPieAreaGeom(this.area,t),s=this.getSeries();return this.renderSeries(e,t,i,s),i}renderSeries(i,s,r,e){let n=[],l=new $;for(let t of e){let e=l.get(t[D.System.StiObject.stimulsoft]().getType());null==e&&(e=[],n.push(e),l.set(t[D.System.StiObject.stimulsoft]().getType(),e)),e.push(t)}for(let t of n){let e=t[D.System.StiObject.stimulsoft]().toArray();e[0].core.renderSeries(i,s,r,e)}}prepareInfo(e){this.valuesCount=0;let i=this.getSeries();if(0<i.length)for(let t=0;t<i.length;t++){let e=i[t].values;null!=e&&(this.valuesCount=Math.max(e.length,this.valuesCount))}}get localizedName(){return d.get("Chart","Pie")}get position(){return P.d.StiChartAreaPosition.Pie}constructor(e){super(e),this.valuesCount=0}},P.d.StiDoughnutAreaCoreXF=class extends P.d.StiPieAreaCoreXF{applyStyle(e){super.applyStyle(e);let t=this.area;null!=t&&(t.indicator.value.color==B.transparent&&(t.indicator.value.styleColor=e.core.seriesLabelsColor),t.indicator.title.color==B.transparent)&&(t.indicator.title.styleColor=e.core.seriesLabelsColor)}render(e,t){this.prepareInfo(t);let i=new P.d.StiDoughnutAreaGeom(this.area,t),s=this.getSeries();return this.renderSeries(e,t,i,s),i}get localizedName(){return d.get("Chart","Doughnut")}get position(){return P.d.StiChartAreaPosition.Doughnut}constructor(e){super(e)}},P.d.StiStackedBarAreaCoreXF=class extends P.d.StiClusteredBarAreaCoreXF{prepareSeriesRange(e){let s=[],r=[],n=[],l=[],o=this.getSeries();for(let i=0;i<this.valuesCount;i++)for(let t of o)if(t[D.System.StiObject.stimulsoft]().getType()==e)if(t.yAxis==P.d.StiSeriesYAxis.LeftYAxis){if(s.push(0),r.push(0),i<t.values.length){let e=t.values[i];0<e?r[i]=r[i]+e:s[i]=s[i]+e}}else if(n.push(0),l.push(0),i<t.values.length){let e=t.values[i];0<e?l[i]=l[i]+e:n[i]=n[i]+e}let t=[s,r,n,l];return t}prepareRange(e,t,i,s){let r=this.getSeries(),n=new $;for(let e of r)n.set(e[D.System.StiObject.stimulsoft]().getType(),e[D.System.StiObject.stimulsoft]().getType());let l=[],o=[],a=[],h=[];for(let e of n.values){let t=this.prepareSeriesRange(e),i=0;for(let e of t[0])l.length<=i?l.push(e):l[i]=Math.min(l[i],e),i++;i=0;for(let e of t[1])o.length<=i?o.push(e):o[i]=Math.max(o[i],e),i++;i=0;for(let e of t[2])a.length<=i?a.push(e):a[i]=Math.min(a[i],e),i++;i=0;for(let e of t[3])h.length<=i?h.push(e):h[i]=Math.max(h[i],e),i++}0==l.length&&(l=a),0==o.length&&(o=h),0==a.length&&(a=l),0==h.length&&(h=o);let u=!0;for(let e of l)u?(i.info.minimum=e,u=!1):i.info.minimum=Math.min(e,i.info.minimum);u=!0;for(let e of o)u?(i.info.maximum=e,u=!1):i.info.maximum=Math.max(e,i.info.maximum);u=!0;for(let e of a)u?(s.info.minimum=e,u=!1):s.info.minimum=Math.min(e,s.info.minimum);u=!0;for(let e of h)u?(s.info.maximum=e,u=!1):s.info.maximum=Math.max(e,s.info.maximum)}get localizedName(){return d.get("Chart","StackedBar")}get seriesOrientation(){return P.d.StiChartSeriesOrientation.Horizontal}get position(){return P.d.StiChartAreaPosition.StackedBar}constructor(e){super(e)}},P.d.StiFullStackedBarAreaCoreXF=class extends P.d.StiStackedBarAreaCoreXF{get localizedName(){return d.get("Chart","FullStackedBar")}get position(){return P.d.StiChartAreaPosition.FullStackedBar}constructor(e){super(e)}},P.d.StiStackedColumnAreaCoreXF=class extends P.d.StiAxisAreaCoreXF{prepareSeriesRange(e){let s=[],r=[],n=[],l=[],o=this.getSeries();for(let i=0;i<this.valuesCount;i++)for(let t of o)if(t[D.System.StiObject.stimulsoft]().getType()==e)if(t.yAxis==P.d.StiSeriesYAxis.LeftYAxis){if(s.push(0),r.push(0),i<t.values.length){let e=t.values[i];0<e?r[i]=r[i]+e:s[i]=s[i]+e}}else if(n.push(0),l.push(0),i<t.values.length){let e=t.values[i];0<e?l[i]=l[i]+e:n[i]=n[i]+e}let t=[s,r,n,l];return t}prepareRange(e,t,i,s){let r=this.getSeries(),n=new $;for(let e of r)n.set(e[D.System.StiObject.stimulsoft]().getType(),e[D.System.StiObject.stimulsoft]().getType());let l=[],o=[],a=[],h=[];for(let e of n.values){let t=this.prepareSeriesRange(e),i=0;for(let e of t[0])l.length<=i?l.push(e):l[i]=Math.min(l[i],e),i++;i=0;for(let e of t[1])o.length<=i?o.push(e):o[i]=Math.max(o[i],e),i++;i=0;for(let e of t[2])a.length<=i?a.push(e):a[i]=Math.min(a[i],e),i++;i=0;for(let e of t[3])h.length<=i?h.push(e):h[i]=Math.max(h[i],e),i++}0==l.length&&(l=a),0==o.length&&(o=h),0==a.length&&(a=l),0==h.length&&(h=o);let u=!0;for(let e of l)u?(i.info.minimum=e,u=!1):i.info.minimum=Math.min(e,i.info.minimum);u=!0;for(let e of o)u?(i.info.maximum=e,u=!1):i.info.maximum=Math.max(e,i.info.maximum);u=!0;for(let e of a)u?(s.info.minimum=e,u=!1):s.info.minimum=Math.min(e,s.info.minimum);u=!0;for(let e of h)u?(s.info.maximum=e,u=!1):s.info.maximum=Math.max(e,s.info.maximum)}get localizedName(){return d.get("Chart","StackedColumn")}get position(){return P.d.StiChartAreaPosition.StackedColumn}constructor(e){super(e)}},P.d.StiFullStackedColumnAreaCoreXF=class extends P.d.StiStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","FullStackedColumn")}get position(){return P.d.StiChartAreaPosition.FullStackedColumn}constructor(e){super(e)}},P.d.StiFullStackedAreaAreaCoreXF=class extends P.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","FullStackedArea")}get position(){return P.d.StiChartAreaPosition.FullStackedArea}constructor(e){super(e)}},P.d.StiFullStackedLineAreaCoreXF=class extends P.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","FullStackedLine")}get position(){return P.d.StiChartAreaPosition.FullStackedLine}constructor(e){super(e)}},P.d.StiFullStackedSplineAreaAreaCoreXF=class extends P.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","FullStackedSplineArea")}get position(){return P.d.StiChartAreaPosition.FullStackedSplineArea}constructor(e){super(e)}},P.d.StiFullStackedSplineAreaCoreXF=class extends P.d.StiFullStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","FullStackedSpline")}get position(){return P.d.StiChartAreaPosition.FullStackedSpline}constructor(e){super(e)}},P.d.StiFunnelAreaCoreXF=class extends P.d.StiAreaCoreXF{get localizedName(){return d.get("Chart","Funnel")}get position(){return P.d.StiChartAreaPosition.Funnel}render(e,t){let i=new P.d.StiPieAreaGeom(this.area,t),s=this.getSeries();return this.renderSeries(e,t,i,s),i}renderSeries(i,s,r,e){let n=[],l=new $;for(let t of e){let e=l.get(t[D.System.StiObject.stimulsoft]().getType());null==e&&(e=[],n.push(e),l.set(t[D.System.StiObject.stimulsoft]().getType(),e)),e.push(t)}for(let t of n){let e=t[D.System.StiObject.stimulsoft]().toArray();e[0].core.renderSeries(i,s,r,e)}}prepareInfo(e){}constructor(e){super(e)}},P.d.StiGanttAreaCoreXF=class extends P.d.StiClusteredBarAreaCoreXF{createStripLinesXAxis(r){r.info.stripLines.clear(),r.info.stripLines.add2(0,0);let t=this.getSeries();for(let e of t)for(let s of e.arguments){let i=!0;for(let t of r.info.stripLines.list){let e=null==s?"":s.toString();null!=t.valueObject&&t.valueObject.toString()==e&&(i=!1)}i&&r.info.stripLines.add2(null!=s?s:"",r.info.stripLines.count)}r.info.stripLines.add2("",r.info.stripLines.count)}prepareRange(e,t,i,s){e.info.maximum=0,e.info.minimum=0,i.info.maximum=0,i.info.minimum=0;let r=this.getSeries(),n=!0;for(let t of r){for(let e of t.values)null!=e&&(n?(n=!1,i.info.maximum=e,i.info.minimum=e):(i.info.maximum=Math.max(i.info.maximum,e),i.info.minimum=Math.min(i.info.minimum,e)));for(let e of t.valuesEnd)null!=e&&(i.info.maximum=Math.max(i.info.maximum,e),i.info.minimum=Math.min(i.info.minimum,e))}s.info.maximum=i.info.maximum,s.info.minimum=i.info.minimum}get localizedName(){return d.get("Chart","Gantt")}get seriesOrientation(){return P.d.StiChartSeriesOrientation.Horizontal}get position(){return P.d.StiChartAreaPosition.Gantt}constructor(e){super(e)}},P.d.StiHeatmapAreaCoreXF=class extends P.d.StiAxisAreaCoreXF{prepareInfo(h){let u=this.getSeries();if(0<u.length){let e=this.area,t=(this.xValuesCount=0,this.yValuesCount=0,e.xAxis),i=e.xTopAxis,s=e.yAxis,r=e.yRightAxis,n=(t.info.stripLines=new P.d.StiStripLinesXF,s.info.stripLines=new P.d.StiStripLinesXF,r.info.stripLines=new P.d.StiStripLinesXF,new G),l=new G;for(let s=0;s<u.length;s++){let e=u[s],t=e.xValues,i=(null!=t&&n.addRange(t),e.yValues);null!=i&&l.addRange(i)}this.xValuesCount=n.distinct().length,this.yValuesCount=l.distinct().length,this.createStripLinesXAxis(t),this.createStripLinesYAxis(s,!1),this.createStripLinesYAxis(r,!1),this.checkStripLinesAndMaximumMinimumXAxis(t),this.checkStripLinesAndMaximumMinimumXAxis(s),this.checkStripLinesAndMaximumMinimumXAxis(r),i.info=t.info.clone(),e.xAxis.info.dpi=h.width/e.xAxis.info.range,e.xTopAxis.info.dpi=h.width/e.xTopAxis.info.range,e.yAxis.info.dpi=h.height/e.yAxis.info.range,e.yRightAxis.info.dpi=h.height/e.yRightAxis.info.range,this.calculateStepX(e.xAxis,h.left,h.right),this.calculateStepX(e.xTopAxis,h.left,h.right),this.calculateStepY(e.yAxis,h.top,h.bottom),this.calculateStepY(e.yRightAxis,h.top,h.bottom);let o={ref:e.xAxis.info.labelsCollection},a=(this.calculatePositions(e.xAxis,o,0<e.xAxis.labels.step?e.xAxis.labels.step:1,!1),e.xAxis.info.labelsCollection=o.ref,o={ref:e.xTopAxis.info.labelsCollection},this.calculatePositions(e.xTopAxis,o,0<e.xTopAxis.labels.step?e.xTopAxis.labels.step:1,!1),e.xTopAxis.info.labelsCollection=o.ref,o={ref:e.yAxis.info.labelsCollection},this.calculatePositions(e.yAxis,o,1<e.yAxis.labels.step?e.yAxis.labels.step:1,!1),e.yAxis.info.labelsCollection=o.ref,o={ref:e.yRightAxis.info.labelsCollection},this.calculatePositions(e.yRightAxis,o,0<e.yRightAxis.labels.step?e.yRightAxis.labels.step:1,!1),e.yRightAxis.info.labelsCollection=o.ref,{ref:e.xAxis.info.ticksCollection});this.calculatePositions(e.xAxis,a,0<e.xAxis.ticks.step?e.xAxis.ticks.step:1,!0),e.xAxis.info.ticksCollection=a.ref,a={ref:e.xTopAxis.info.ticksCollection},this.calculatePositions(e.xTopAxis,a,0<e.xTopAxis.ticks.step?e.xTopAxis.ticks.step:1,!0),e.xTopAxis.info.ticksCollection=a.ref,a={ref:e.yAxis.info.ticksCollection},this.calculatePositions(e.yAxis,a,0<e.yAxis.ticks.step?e.yAxis.ticks.step:1,!0),e.yAxis.info.ticksCollection=a.ref,a={ref:e.yRightAxis.info.ticksCollection},this.calculatePositions(e.yRightAxis,a,0<e.yRightAxis.ticks.step?e.yRightAxis.ticks.step:1,!0),e.yRightAxis.info.ticksCollection=a.ref}}createStripLinesXAxis(t){let s=this.getSeries(),r=new G;for(let i=0;i<s.length;i++){let e=s[i],t=e.xValues;null!=t&&r.addRange(t)}let i=r.distinct();this.xValuesCount=i.length;for(let e=0;e<i.length;e++)t.info.stripLines.add2(i[e],e);t.info.stripLines.add2(this.xValuesCount,this.xValuesCount)}createStripLinesYAxis(t,e){let s=this.getSeries(),r=new G;for(let i=0;i<s.length;i++){let e=s[i],t=e.yValues;null!=t&&r.addRange(t)}let i=r.distinct();i.reverse(),this.yValuesCount=i.length;for(let e=0;e<i.length;e++)t.info.stripLines.add2(i[e],e);t.info.stripLines.add2(this.yValuesCount,this.yValuesCount)}calculatePositions(s,e,t,i){let r=[],n=this.area,l=!1,o=(this.area.is(P.d.IStiAxisArea)&&s.is(P.d.IStiYAxis)?l=n.reverseVert:this.area.is(P.d.IStiAxisArea)&&s.is(P.d.IStiXAxis)&&(l=n.reverseHor),0),a=s.info.stripPositions.length-1;for(let i=0;i<a;i++){if(0==o){let e=new P.d.StiStripPositionXF,t=l?a-i-1:i;e.stripLine=s.info.stripLines.getByIndex(t),e.position=s.info.stripPositions[t]+s.info.step/2,l?r[D.System.StiObject.stimulsoft]().insert(0,e):r.push(e)}++o==t&&(o=0)}e.ref=r}get localizedName(){return d.get("Chart","Heatmap")}get position(){return P.d.StiChartAreaPosition.Heatmap}constructor(e){super(e),this.xValuesCount=0,this.yValuesCount=0}},P.d.StiPictorialAreaCoreXF=class extends P.d.StiAreaCoreXF{render(e,t){let i=new P.d.StiPictorialAreaGeom(this.area,t),s=this.getSeries();return e.pushTranslateTransform(t.x,t.y),0<s.length&&s[0].core.renderSeries(e,new E(0,0,t.width,t.height),i,s[D.System.StiObject.stimulsoft]().toArray()),e.popTransform(),i}get localizedName(){return d.get("Chart","Pictorial")}get position(){return P.d.StiChartAreaPosition.Pictorial}constructor(e){super(e)}},P.d.StiPictorialStackedAreaCoreXF=class extends P.d.StiAreaCoreXF{render(e,t){let i=new P.d.StiPictorialAreaGeom(this.area,t),s=this.getSeries();return e.pushTranslateTransform(t.x,t.y),0<s.length&&s[0].core.renderSeries(e,new E(0,0,t.width,t.height),i,s[D.System.StiObject.stimulsoft]().toArray()),e.popTransform(),i}get localizedName(){return d.get("Chart","PictorialStacked")}get position(){return P.d.StiChartAreaPosition.PictorialStacked}constructor(e){super(e)}},P.d.StiPie3dAreaCoreXF=class extends P.d.StiPieAreaCoreXF{render(e,t){this.prepareInfo(t);let i=new P.d.StiPieAreaGeom(this.area,t),s=this.getSeries();return this.renderSeries(e,t,i,s),i}get localizedName(){return d.get("Chart","Pie")+"3D"}get position(){return P.d.StiChartAreaPosition.Pie3d}constructor(e){super(e)}},D.Base.Drawing.StiEmptyBrush);{class ss extends P.d.StiAreaCoreXF{applyStyle(e){super.applyStyle(e);let t=this.area;t.allowApplyStyle&&(null!=t.interlacingHor&&t.interlacingHor.core.applyStyle(e),null!=t.interlacingVert&&t.interlacingVert.core.applyStyle(e),null!=t.gridLinesHor&&t.gridLinesHor.core.applyStyle(e),null!=t.gridLinesVert&&t.gridLinesVert.core.applyStyle(e),null!=t.xAxis&&t.xAxis.core.applyStyle(e),null!=t.yAxis&&t.yAxis.core.applyStyle(e),t.brush=new bt)}render(e,t){let i=this.area,s=t.clone(),r=(s=ss.centerArea(s),this.prepareInfo(s),s=this.measureLabels(e,s).clone(),s=ss.centerArea(s).clone(),s=new E(t.x+(t.width-s.width)/2,t.y+(t.height-s.height)/2,s.width,s.height),this.prepareInfo(s),new P.d.StiRadarAreaGeom(this.area,s,this.valuesCount)),n=i.yAxis.yCore.render(e,s),l=(null!=n&&(r.createChildGeoms(),r.childGeoms.push(n)),0<this.area.chart.series.count&&this.renderArguments(e,r,this.area.chart.series.getByIndex(0)),this.getSeries());return this.renderSeries(e,s,r,l),r}static centerArea(e){return e.width>e.height?e.width=e.height:e.height=e.width,e}measureLabels(u,r){if(0==this.valuesCount)return r;let d=this.area;if(null!=d.xAxis&&d.xAxis.visible&&null!=d.yAxis.info.stripPositions){let n=d.yAxis.info.stripPositions[d.yAxis.info.stripPositions.length-1]+4*u.options.zoom,l=0,o=360/this.valuesCount,a=0,h=r.clone();for(let r of this.points){let e=l<this.arguments.length?this.arguments[l]:null,t=new M(this.centerPoint.x+n*r.x,this.centerPoint.y+n*r.y),i=d.xAxis.core.getLabelText(e),s=d.xAxis.xCore.getLabelRect(u,t,i,a).clone();s.isEmpty||(h=E.union(h,s)),a+=o,l++}let e=r.left-h.left,t=h.right-r.right,i=r.top-h.top,s=h.bottom-r.bottom;0<e&&(r.width-=e),0<t&&(r.width-=t),0<i&&(r.height-=i),0<s&&(r.height-=s)}return r}renderArguments(a,h,u){if(0==this.valuesCount)return;let d=this.area;if(null!=d.xAxis&&d.xAxis.visible&&null!=d.yAxis.info.stripPositions){let r=d.yAxis.info.stripPositions[d.yAxis.info.stripPositions.length-1]+4*a.options.zoom,n=0,l=360/this.valuesCount,o=0;for(let s of this.points){let e=n<this.arguments.length?this.arguments[n]:null,t=new M(this.centerPoint.x+r*s.x,this.centerPoint.y+r*s.y),i=(t.x-=h.clientRectangle.x,t.y-=h.clientRectangle.y,d.xAxis.xCore.renderLabel(a,u,t,e,o,n,this.valuesCount));null!=i&&(h.createChildGeoms(),h.childGeoms.push(i)),o+=l,n++}}}renderSeries(i,s,r,e){let n=[],l=new $;for(let t of e){let e=l.get(t[D.System.StiObject.stimulsoft]().getType());null==e&&(e=[],n.push(e),l.set(t[D.System.StiObject.stimulsoft]().getType(),e)),e.push(t)}for(let t of n){let e=t[D.System.StiObject.stimulsoft]().toArray();e[0].core.renderSeries(i,s,r,e)}}prepareInfo(e){let t=this.area,s=(this.valuesCount=0,this.getSeries());if(0<s.length)for(let t=0;t<s.length;t++){let e=s[t].values;null!=e&&(this.valuesCount=Math.max(e.length,this.valuesCount))}if(this.arguments=[],0<s.length){let i=s[0];for(let e of s)if(e.arguments.length==this.valuesCount){i=e;break}for(let t=0;t<this.valuesCount;t++)if(t<i.arguments.length){let e=null==i.arguments[t]?"":i.arguments[t].toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);this.arguments.push(e)}}else this.arguments.push("1"),this.arguments.push("2"),this.arguments.push("3"),this.arguments.push("4"),this.arguments.push("5");this.centerPoint=new M(e.x+e.width/2,e.y+e.height/2);let i,r=(i=0<this.valuesCount?360/this.valuesCount:360/5,this.points=[],0);while(r<360){let e=(r-90)*Math.PI/180,t=new M(Math.cos(e),Math.sin(e));if(this.points.push(t),r+=i,this.points.length==this.valuesCount)break}let n=0,l=0;if(t.yAxis.range.auto){let i=!0;for(let e=0;e<s.length;e++){let t=s[e].values;if(null!=t)for(let e of t){if(null==e)continue;i?(n=e,l=e,i=!1):(n=Math.min(n,e),l=Math.max(l,e))}}0==s.length&&(l=1),0==(l=Math.abs(n)>l?Math.abs(n):l)&&0==n&&(l=1),n=0}else n=t.yAxis.range.minimum,l=t.yAxis.range.maximum;this.createStripLinesAxis(t.yAxis,n,l),null!=t.yAxis.info.stripLines&&0<t.yAxis.info.stripLines.count&&(t.yAxis.info.minimum=t.yAxis.info.stripLines.getByIndex(t.yAxis.info.stripLines.count-1).value,t.yAxis.info.maximum=t.yAxis.info.stripLines.getByIndex(0).value),t.yAxis.info.dpi=.5*e.height/t.yAxis.info.range,this.calculateStep(t.yAxis,0,e.height/2);let o={ref:t.yAxis.info.labelsCollection},a=(this.calculatePositions(t.yAxis,o,0<t.yAxis.labels.step?O.trunc(t.yAxis.labels.step):1,!1),t.yAxis.info.labelsCollection=o.ref,{ref:t.yAxis.info.ticksCollection});this.calculatePositions(t.yAxis,a,0<t.yAxis.ticks.step?O.trunc(t.yAxis.ticks.step):1,!0),t.yAxis.info.ticksCollection=a.ref}createStripLinesAxis(e,t,i){let s=this.area,r=s.yAxis.labels.step;0==r&&(r=P.d.StiStripLineCalculatorXF.getInterval(t,i,6)),s.yAxis.info.stripLines=P.d.StiStripLineCalculatorXF.getStripLines(t,i,r,!1);for(let e of s.yAxis.info.stripLines.list)e.valueObject=k.format("{0}",e.valueObject)}calculateStep(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(1).value-e.info.stripLines.getByIndex(0).value)*e.info.dpi),e.yCore.calculateStripPositions(t,i)):e.info.step=1}calculatePositions(s,e,t,r){let n=[],l=0;if(null!=s.info.stripPositions){let e=s.info.stripPositions.length;for(let i=0;i<e;i++){if(0==l){let e=new P.d.StiStripPositionXF,t=i;e.stripLine=s.info.stripLines.getByIndex(t),e.position=s.info.stripPositions[t],n.push(e)}++l!=t&&r||(l=0)}}e.ref=n}constructor(e){super(e),this.valuesCount=0,this.points=[],this.arguments=[],this.centerPoint=M.empty}}P.d.StiRadarAreaCoreXF=ss}P.d.StiRadarAreaAreaCoreXF=class extends P.d.StiRadarAreaCoreXF{get localizedName(){return d.get("Chart","RadarArea")}get position(){return P.d.StiChartAreaPosition.RadarArea}constructor(e){super(e)}},P.d.StiRadarLineAreaCoreXF=class extends P.d.StiRadarAreaCoreXF{get localizedName(){return d.get("Chart","RadarLine")}get position(){return P.d.StiChartAreaPosition.RadarLine}constructor(e){super(e)}},P.d.StiRadarPointAreaCoreXF=class extends P.d.StiRadarAreaCoreXF{get localizedName(){return d.get("Chart","RadarPoint")}get position(){return P.d.StiChartAreaPosition.RadarPoint}constructor(e){super(e)}},P.d.StiRangeAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("PropertyMain","Range")}get position(){return P.d.StiChartAreaPosition.Range}prepareRange(e,t,a,h){let u=!0,d=!0,c=!1,S=!1,i=(a.info.maximum=0,a.info.minimum=0,h.info.maximum=0,h.info.minimum=0,this.getSeries());for(let t=0;t<i.length;t++){let n=i[t],l=n.values,o=n.valuesEnd,e=Math.min(l.length,o.length);for(let r=0;r<e;r++){let e=null!=l[r]?l[r][D.System.StiObject.stimulsoft]().toNumber():0,t=null!=o[r]?o[r][D.System.StiObject.stimulsoft]().toNumber():0,i=Math.max(e,t),s=Math.min(e,t);n.yAxis==P.d.StiSeriesYAxis.LeftYAxis?u?(c=!0,a.info.maximum=i,a.info.minimum=s,u=!1):(c=!0,a.info.maximum=Math.max(i,a.info.maximum),a.info.minimum=Math.min(s,a.info.minimum)):d?(S=!0,h.info.maximum=i,h.info.minimum=s,d=!1):(S=!0,h.info.maximum=Math.max(i,h.info.maximum),h.info.minimum=Math.min(s,h.info.minimum))}}c||(a.info.maximum=h.info.maximum,a.info.minimum=h.info.minimum),S||(h.info.maximum=a.info.maximum,h.info.minimum=a.info.minimum)}constructor(e){super(e)}},P.d.StiRangeBarAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{createStripLinesXAxis(s){s.info.stripLines.clear(),s.info.stripLines.add2(0,0);let t=this.getSeries();for(let e of t)for(let i of e.arguments){let t=!0;for(let e of s.info.stripLines.list)e.valueObject.toString()==i.toString()&&(t=!1);t&&s.info.stripLines.add2(i,s.info.stripLines.count)}s.info.stripLines.add2("",s.info.stripLines.count),0<s.info.stripLines.count&&(s.area.xAxis.showEdgeValues||(s.info.stripLines.getByIndex(0).valueObject="",s.info.stripLines.getByIndex(s.info.stripLines.count-1).valueObject=""))}prepareRange(e,t,i,s){e.info.maximum=0,e.info.minimum=0,i.info.maximum=0,i.info.minimum=0;let r=this.getSeries(),n=!0;for(let t of r){for(let e of t.values)null!=e&&(n?(n=!1,i.info.maximum=e,i.info.minimum=e):(i.info.maximum=Math.max(i.info.maximum,e),i.info.minimum=Math.min(i.info.minimum,e)));for(let e of t.valuesEnd)null!=e&&(i.info.maximum=Math.max(i.info.maximum,e),i.info.minimum=Math.min(i.info.minimum,e))}s.info.maximum=i.info.maximum,s.info.minimum=i.info.minimum}get localizedName(){return d.get("Chart","RangeBar")}get position(){return P.d.StiChartAreaPosition.RangeBar}constructor(e){super(e)}},P.d.StiSplineRangeAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","SplineRange")}get position(){return P.d.StiChartAreaPosition.SplineRange}prepareRange(e,t,a,h){let u=!0,d=!0,c=!1,S=!1,i=(a.info.maximum=0,a.info.minimum=0,h.info.maximum=0,h.info.minimum=0,this.getSeries());for(let t=0;t<i.length;t++){let n=i[t],l=n.values,o=n.valuesEnd,e=Math.min(l.length,o.length);for(let r=0;r<e;r++){let e=null!=l[r]?l[r][D.System.StiObject.stimulsoft]().toNumber():0,t=null!=o[r]?o[r][D.System.StiObject.stimulsoft]().toNumber():0,i=Math.max(e,t),s=Math.min(e,t);n.yAxis==P.d.StiSeriesYAxis.LeftYAxis?u?(c=!0,a.info.maximum=i,a.info.minimum=s,u=!1):(c=!0,a.info.maximum=Math.max(i,a.info.maximum),a.info.minimum=Math.min(s,a.info.minimum)):d?(S=!0,h.info.maximum=i,h.info.minimum=s,d=!1):(S=!0,h.info.maximum=Math.max(i,h.info.maximum),h.info.minimum=Math.min(s,h.info.minimum))}}c||(a.info.maximum=h.info.maximum,a.info.minimum=h.info.minimum),S||(h.info.maximum=a.info.maximum,h.info.minimum=a.info.minimum)}constructor(e){super(e)}},P.d.StiSteppedRangeAreaCoreXF=class extends P.d.StiClusteredColumnAreaCoreXF{get localizedName(){return d.get("Chart","SteppedRange")}get position(){return P.d.StiChartAreaPosition.SteppedRange}prepareRange(e,t,a,h){let u=!0,d=!0,c=!1,S=!1,i=(a.info.maximum=0,a.info.minimum=0,h.info.maximum=0,h.info.minimum=0,this.getSeries());for(let t=0;t<i.length;t++){let n=i[t],l=n.values,o=n.valuesEnd,e=Math.min(l.length,o.length);for(let r=0;r<e;r++){let e=null!=l[r]?l[r][D.System.StiObject.stimulsoft]().toNumber():0,t=null!=o[r]?o[r][D.System.StiObject.stimulsoft]().toNumber():0,i=Math.max(e,t),s=Math.min(e,t);n.yAxis==P.d.StiSeriesYAxis.LeftYAxis?u?(c=!0,a.info.maximum=i,a.info.minimum=s,u=!1):(c=!0,a.info.maximum=Math.max(i,a.info.maximum),a.info.minimum=Math.min(s,a.info.minimum)):d?(S=!0,h.info.maximum=i,h.info.minimum=s,d=!1):(S=!0,h.info.maximum=Math.max(i,h.info.maximum),h.info.minimum=Math.min(s,h.info.minimum))}}c||(a.info.maximum=h.info.maximum,a.info.minimum=h.info.minimum),S||(h.info.maximum=a.info.maximum,h.info.minimum=a.info.minimum)}constructor(e){super(e)}},P.d.StiStackedAreaAreaCoreXF=class extends P.d.StiStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","StackedArea")}get position(){return P.d.StiChartAreaPosition.StackedArea}constructor(e){super(e)}},P.d.StiStackedLineAreaCoreXF=class extends P.d.StiStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","StackedLine")}get position(){return P.d.StiChartAreaPosition.StackedLine}constructor(e){super(e)}},P.d.StiStackedSplineAreaAreaCoreXF=class extends P.d.StiStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","StackedSplineArea")}get position(){return P.d.StiChartAreaPosition.StackedSplineArea}constructor(e){super(e)}},P.d.StiStackedSplineAreaCoreXF=class extends P.d.StiStackedColumnAreaCoreXF{get localizedName(){return d.get("Chart","StackedSpline")}get position(){return P.d.StiChartAreaPosition.StackedSpline}constructor(e){super(e)}},P.d.StiStockAreaCoreXF=class extends P.d.StiCandlestickAreaCoreXF{get localizedName(){return d.get("Chart","Stock")}get position(){return P.d.StiChartAreaPosition.Stock}constructor(e){super(e)}},P.d.StiSunburstAreaCoreXF=class extends P.d.StiAreaCoreXF{render(e,t){let i=new P.d.StiSunburstAreaGeom(this.area,t),s=this.getSeries();return 0<s.length&&s[0].core.renderSeries(e,t,i,s),i}prepareInfo(e){}get localizedName(){return d.get("Chart","Sunburst")}get position(){return P.d.StiChartAreaPosition.Sunburst}constructor(e){super(e)}};let Ct=D.Base.Helpers.StiValueHelper,At=(P.d.StiTreemapAreaCoreXF=class extends P.d.StiAreaCoreXF{render(t,e){let i=new P.d.StiTreemapAreaGeom(this.area,e),s=this.getSeries(),r=[];for(let i of s){let t=[];for(let e of i.values)t.push(Ct.tryToNumber(e));r.push(t[D.System.StiObject.stimulsoft]().toList().sum())}let n=new E(0,0,e.width,e.height),l=this.area.core.normalizeDataForArea(r,n.width*n.height),o=this.area.core.squarify(l,[],n,[]),a=!0;for(let e=0;e<s.length;e++)o.length-1>=e&&(s[e].core.renderSeries(t,o[e],i,s),a=!1);return a&&(i.createChildGeoms(),i.childGeoms.push(new P.d.StiTreemapEmptySeriesElementGeom(n))),i}renderSeries(t,i,e,s,r){for(let e=0;e<r.length;e++)i.length-1>=e&&r[e].core.renderSeries(t,i[e],s,r[D.System.StiObject.stimulsoft]().toArray())}cutArea(i,s){let r;if(i.width>=i.height){let e=s/i.height,t=i.width-e;r=new E(i.x+e,i.y,t,i.height)}else{let e=s/i.width,t=i.height-e;r=new E(i.x,i.y+e,i.width,t)}return r}squarify(i,s,r,n){if(0==i.length)return n[D.System.StiObject.stimulsoft]().addRange(this.getCoordinates(r,s)),n;let e=Math.min(r.width,r.height),t=i[0];if(this.improvesRatio(s,t,e))s.push(t),this.squarify(i[D.System.StiObject.stimulsoft]().toList().skip(1),s,r,n);else{let e=this.cutArea(r,s[D.System.StiObject.stimulsoft]().toList().sum()),t=(n[D.System.StiObject.stimulsoft]().addRange(this.getCoordinates(r,s)),[]);this.squarify(i,t,e,n)}return n}improvesRatio(e,t,i){if(0==e.length)return!0;let s=e[D.System.StiObject.stimulsoft]().clone(),r=(s.push(t),this.calculateRatio(e,i)),n=this.calculateRatio(s,i);return n<=r}calculateRatio(e,t){let i=e[D.System.StiObject.stimulsoft]().toList().sum(),s=Math.pow(t,2)*e[D.System.StiObject.stimulsoft]().toList().max()/Math.pow(i,2),r=Math.pow(i,2)/(Math.pow(t,2)*e[D.System.StiObject.stimulsoft]().toList().min());return Math.max(s,r)}normalizeDataForArea(t,e){let i=[],s=t[D.System.StiObject.stimulsoft]().toList().sum();if(0==s)return i;let r=e/s;for(let e=0;e<t.length;e++)i.push(t[e]*r);return i}getCoordinates(e,t){let i=[],s=e.x,r=e.y,n=t[D.System.StiObject.stimulsoft]().toList().sum()/e.height,l=t[D.System.StiObject.stimulsoft]().toList().sum()/e.width;if(e.height<=e.width)for(let e=0;e<t.length;e++)i.push(new E(s,r,n,t[e]/n)),r+=t[e]/n;else for(let e=0;e<t.length;e++)i.push(new E(s,r,t[e]/l,l)),s+=t[e]/l;return i}prepareInfo(e){}get localizedName(){return d.get("Chart","Treemap")}get position(){return P.d.StiChartAreaPosition.Treemap}constructor(e){super(e)}},D.System.Drawing.StringTrimming),Lt=D.System.Drawing.StringFormatFlags;{class rs{implements(){return rs.implementsStiAxisCoreXF||(rs.implementsStiAxisCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiAxisCoreXF]),rs.implementsStiAxisCoreXF}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.axis.allowApplyStyle&&(this.axis.lineColor=e.core.axisLineColor,this.axis.labels.core.applyStyle(e),this.axis.title.core.applyStyle(e))}getStartFromZero(){if(1==this.axis.area.axisCore.valuesCount)return!0;if(null!=this.axis&&null!=this.axis.range&&!this.axis.range.auto)return!0;return null==this.axis||this.axis.startFromZero}render(e,t){return null}renderView(e,t){return null}calculateStripPositions(r,n){if(n-=r,r=0,null==this.axis.info.stripLines||this.axis.info.stripLines.count<2)this.axis.info.stripPositions=[];else{let e=!1;if(0<this.axis.area.chart.series.count&&this.axis.area.chart.series.getByIndex(0).is(P.d.StiScatterSeries)&&(e=!0),this.axis.logarithmicScale&&e){let e=this.axis.info.stripLines.count,t=(this.axis.info.stripPositions=R.create(Number,this.axis.info.stripLines.count),this.axis.info.stripPositions[0]=r,this.axis.info.stripPositions[this.axis.info.stripPositions.length-1]=n,this.axis.info.stripLines.getByIndex(0).value),i=this.axis.info.stripLines.getByIndex(e-1).value,s=n/(O.log10(i)-O.log10(t));for(let t=1;t<this.axis.info.stripPositions.length-1;t++){let e=Math.abs(O.log10(Math.abs(this.axis.info.stripLines.getByIndex(t).value))*s-O.log10(Math.abs(this.axis.info.stripLines.getByIndex(t-1).value))*s);this.axis.info.stripPositions[t]=r+e,r=this.axis.info.stripPositions[t]}}else{this.axis.info.stripPositions=R.create(Number,this.axis.info.stripLines.count),this.axis.info.stripPositions[0]=r,this.axis.info.stripPositions[this.axis.info.stripPositions.length-1]=n;for(let e=1;e<this.axis.info.stripPositions.length-1;e++)this.axis.info.stripPositions[e]=r+e*this.axis.info.step}}}getTicksMaxLength(e){return this.axis.core.ticksMaxLength*e.options.zoom}getArrowHeight(e){return 4*this.axis.core.arrowHeight*e.options.zoom}getLabelsSpaceAxis(e){return 5*e.options.zoom}getLabelsTwoLinesDestination(e){return 2*this.axis.labels.font.sizeInPoints*e.options.zoom}getFontGeom(e){let t=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom);return t}getTextAlignment(){if(this.axis.is(P.d.IStiYAxis)){let e=this.axis;if(this.axis.labels.placement==P.d.StiLabelsPlacement.TwoLines){if(e.core.isLeftSide)return Se.Right;if(e.core.isRightSide)return Se.Left}}return this.axis.labels.textAlignment}getStringFormatGeom(e,t){let i=e.getGenericStringFormat();if(i.trimming=At.None,t||(i.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap),0<this.axis.labels.width){let e=this.getTextAlignment();e==Se.Left?i.alignment=X.Near:e==Se.Right?i.alignment=X.Far:e==Se.Center&&(i.alignment=X.Center)}return i}getAxisTitleSize(e){if(k.isNullOrEmpty(this.axis.title.text))return he.empty;let t=N.changeFontSize(this.axis.title.font,this.axis.title.font.size*e.options.zoom),i=e.measureString(this.axis.title.text,t);switch(this.axis.title.direction){case P.d.StiDirection.LeftToRight:case P.d.StiDirection.RightToLeft:return i;case P.d.StiDirection.BottomToTop:case P.d.StiDirection.TopToBottom:return new he(i.height,i.width)}return he.empty}getAngleTitle(){let e=0;switch(this.axis.title.direction){case P.d.StiDirection.LeftToRight:e=0;break;case P.d.StiDirection.RightToLeft:e=180;break;case P.d.StiDirection.BottomToTop:e=-90;break;case P.d.StiDirection.TopToBottom:e=90;break}return e}getCorrectionFontSize(e,t,i){switch(this.axis.title.direction){case P.d.StiDirection.LeftToRight:case P.d.StiDirection.RightToLeft:e.width<t.width&&(i=e.width/t.width*i);break;case P.d.StiDirection.BottomToTop:case P.d.StiDirection.TopToBottom:e.height<t.height&&(i=e.height/t.height*i);break}return i}checkUseMaxWidth(e,t,i){switch(i.ref=0,this.axis.title.direction){case P.d.StiDirection.LeftToRight:case P.d.StiDirection.RightToLeft:if(e.width<t.width)return i.ref=e.width,!0;break;case P.d.StiDirection.BottomToTop:case P.d.StiDirection.TopToBottom:if(e.height<t.height)return i.ref=e.width,!0;break}return!1}get ticksMaxLength(){return this.axis.visible?Math.max(this.axis.ticks.visible?this.axis.ticks.length:0,this.axis.ticks.minorVisible?this.axis.ticks.minorLength:0):0}get arrowWidth(){return 3}get arrowHeight(){if(this.is(P.d.StiXAxisCoreXF))return this.axis.area.reverseHor?-5:5;if(this.is(P.d.StiYAxisCoreXF))return this.axis.area.reverseVert?-5:5;return 0}get info(){return this.axis.info}set info(e){this.axis.info=e}constructor(e){this.axis=e}}rs.defaultScrollBarSize=12,rs.defaultScrollBarSmallFactor=.01,rs.defaultScrollBarFirstRecallTime=.3,rs.defaultScrollBarOtherRecallTime=.05,P.d.StiAxisCoreXF=rs}{class ns{constructor(){this.dpi=0,this.step=0,this.stripPositions=null,this.ticksCollection=null,this.labelsCollection=null,this.minimum=0,this.maximum=0}implements(){return ns.implementsStiAxisInfoXF||(ns.implementsStiAxisInfoXF=[r,P.d.IStiAxisInfoXF]),ns.implementsStiAxisInfoXF}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.stripLines=this.stripLines.clone(),e}get range(){return this.maximum-this.minimum}}P.d.StiAxisInfoXF=ns}P.d.StiAxisLabelInfoXF=class{constructor(){this.clientRectangle=E.empty,this.textPoint=M.empty}};{class ls{implements(){return ls.implementsStiAxisLabelsCoreXF||(ls.implementsStiAxisLabelsCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiAxisLabelsCoreXF]),ls.implementsStiAxisLabelsCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.labels.allowApplyStyle&&(this.labels.color=e.core.axisLabelsColor)}constructor(e){this.labels=e}}P.d.StiAxisLabelsCoreXF=ls}{class os{implements(){return os.implementsStiAxisTitleCoreXF||(os.implementsStiAxisTitleCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiAxisTitleCoreXF]),os.implementsStiAxisTitleCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.title.allowApplyStyle&&(this.title.color=e.core.axisTitleColor)}constructor(e){this.title=e}}P.d.StiAxisTitleCoreXF=os}let j=D.Base.Drawing.StiRotationMode,Tt=P.e.TextFormats.StiDateFormatService,vt=P.e.TextFormats.StiTimeFormatService,Ft=P.e.TextFormats.StiNumberFormatService;P.d.StiXAxisCoreXF=class extends P.d.StiAxisCoreXF{getStartFromZero(){if(null!=this.axis.info.labelsCollection&&this.isArgumentDateTime1(this.axis.info.labelsCollection)&&(this.axis.area.is(P.d.StiScatterArea)||this.axis.area.is(P.d.StiGanttArea)))return!1;return super.getStartFromZero()}render(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t,!1,!1,!0,!1).clone(),s=(i.x=0,i.y=0,this.axis.interaction.showScrollBar&&this.axis.is(P.d.IStiXTopAxis)&&this.axis.area.reverseVert&&(i.y+=P.d.StiAxisCoreXF.defaultScrollBarSize*e.options.zoom),new P.d.StiXAxisGeom(this.axis,i,!1));return this.renderLabels(e,i,s),this.renderTitle(e,i,s),s}renderView(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t,!1,!1,!0,!0).clone();return new P.d.StiXAxisViewGeom(this.axis,i,!1)}renderScrollBar(i,o,a){if(this.axis.interaction.showScrollBar){let r=o.clone(),n=(r.x=0,r.height=P.d.StiAxisCoreXF.defaultScrollBarSize*i.options.zoom,this.axis.is(P.d.IStiXTopAxis)&&!this.axis.area.reverseVert||this.axis.is(P.d.IStiXBottomAxis)&&this.axis.area.reverseVert?r.y=o.height-r.height:r.y=0,new P.d.StiHorzScrollBarGeom(this.axis,r));if(a.createChildGeoms(),a.childGeoms.push(n),r.x=0,r.y=0,r.inflate(-2,-2),this.axis.interaction.rangeScrollEnabled){let e=r.clone(),t=(e.width=r.height,new P.d.StiLeftButtonGeom(this.axis,e)),i=(n.createChildGeoms(),n.childGeoms.push(t),r.clone()),s=(i.width=r.height,i.x=r.right-i.width,new P.d.StiRightButtonGeom(this.axis,i));n.createChildGeoms(),n.childGeoms.push(s),r.inflate(-r.height-2,0)}let s=r.clone(),e=this.axis.area.xAxis,l=this.axis.area.core;if(!e.range.auto){let e=r.width/l.scrollRangeX,t=l.scrollValueX*e,i=l.scrollViewX<l.scrollRangeX?l.scrollViewX*e:l.scrollRangeX*e;s=new E(t+r.x,r.y,i,r.height)}let t=new P.d.StiHorzTrackBarGeom(this.axis,s,n);n.createChildGeoms(),n.childGeoms.push(t)}}renderCenter(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.yAxis.info.minimum)return null;let i=this.getCenterAxisRect(e,t,!1,!1,!0).clone();return i.x=0,i.y=0,new P.d.StiXAxisGeom(this.axis,i,!0)}renderCenterView(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.yAxis.info.minimum)return null;let i=this.getCenterAxisRect(e,t,!1,!1,!0).clone(),s=new P.d.StiXAxisViewGeom(this.axis,i,!0);return s}getLabelText(e,t){return this.getLabelText2(e.valueObject,e.value,t)}getLabelText2(i,e,s){var t;null==i&&(i=""),this.storedCulture=we.currentCulture;let r=null==(t=this.axis.area.chart.report)?void 0:t.getParsedCulture();try{if(null!=this.axis.labels.formatService&&!this.axis.labels.formatService.is(de)){if(this.axis.area.is(P.d.StiClusteredBarArea)&&this.setTotalNumberCapacity(),i instanceof y)return this.axis.labels.formatService.is(Tt)||this.axis.labels.formatService.is(vt)?``+this.axis.labels.textBefore+this.axis.labels.formatService.format(i)+this.axis.labels.textAfter:``+this.axis.labels.textBefore+i+this.axis.labels.textAfter;return``+this.axis.labels.textBefore+this.axis.labels.formatService.format(e)+this.axis.labels.textAfter}k.isNullOrEmpty(r)||(we.currentCulture=we.cultures[r]);let t="";if(null!=(t=null!=(t=null!=s?s.format:t)&&0!=t.trim().length?t:this.axis.labels.format)&&0!=t.trim().length){if("string"==typeof i){let e=D.System.StiNumber.tryParse(i);if(e.successfully)i=e.result;else{let e=y.fromString(i.toString(),!1);null!=e&&(i=e)}}else if(null==i)return"";if(!P.d.StiChartOptions.oldChartPercentMode&&t[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return 1<t.length&&(e=t[D.System.StiObject.stimulsoft]().remove(0,1)[D.System.StiObject.stimulsoft]().toNumber()),k.format("{0}{1:N"+e.toString()+"}{2}{3}",this.axis.labels.textBefore,i,"%",this.axis.labels.textAfter)}return k.format("{0}{1:"+t+"}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}return k.format("{0}{1}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}finally{k.isNullOrEmpty(r)||(we.currentCulture=this.storedCulture)}return i.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}setTotalNumberCapacity(){let i,s=this.axis.labels.formatService.as(Ft);if(null!=s){let e=this.axis.labels.calculatedStep;if(0==e)return;let t=Math.ceil(Math.abs(Math.log10(e)));s.totalNumberCapacity=t,null!=(s=null==(i=this.axis.area.chart.seriesLabels.formatService)?void 0:i.as(Ft))&&(s.totalNumberCapacity=t)}}get isLabelsAngleByWidth(){return this.axis.labels.angle<30||150<this.axis.labels.angle}checkAutoAngleLabels(d,c){if(this.axis.labels.placement!=P.d.StiLabelsPlacement.AutoRotation)return!1;let S=[];if(null!=this.axis.info.labelsCollection){let r=this.getStringFormatGeom(d,this.axis.labels.wordWrap),n=this.getFontGeom(d),l=j.CenterCenter,o=-this.axis.labels.angle,a=M.empty,h=(l=this.isTopSide?j.CenterBottom:j.LeftCenter,0),t=0,u=this.axis.area.reverseVert?this.isBottomSide:this.isTopSide;for(let s of this.axis.info.labelsCollection){if(u&&this.axis.area.yRightAxis.arrowStyle!=P.d.StiArrowStyle.None&&0==t){S.push(new P.d.StiAxisLabelInfoXF),t++;continue}if(u&&this.axis.area.yAxis.arrowStyle!=P.d.StiArrowStyle.None&&t==this.axis.info.stripLines.count-1){S.push(new P.d.StiAxisLabelInfoXF),t++;continue}let i=this.getLabelText(s.stripLine,null),e=s.position;if(a=this.isTopSide?new M(e,c.height-(this.getTicksMaxLength(d)+this.getLabelsSpaceAxis(d))):new M(e,this.getTicksMaxLength(d)+this.getLabelsSpaceAxis(d)),this.axis.labels.placement!=P.d.StiLabelsPlacement.None){let e=d.measureRotatedString3(i,n,a,r,l,o,O.trunc(this.axis.labels.width*d.options.zoom)),t=new P.d.StiAxisLabelInfoXF;t.angle=o,t.clientRectangle=e,t.rotationMode=l,t.textPoint=a,t.text=i,t.stripLine=s.stripLine,S.push(t),this.isLabelsAngleByWidth&&(h=Math.max(h,e.width))}else S.push(new P.d.StiAxisLabelInfoXF);t++}for(let i=1;i<S.length;i++){let e=S[i-1].clientRectangle,t=S[i].clientRectangle;if(e.intersectsWith(t))return!0}}return!1}measureStripLines(u,d){let c=[],S=null,m=-this.axis.labels.angle,g=this.axis.labels.width,p=this.axis.labels.wordWrap,e=this.checkAutoAngleLabels(u,d);if(e){m=-45,S=this.axis.is(P.d.IStiXTopAxis)?j.LeftBottom:j.RightTop,p=D["StiOptions"].Engine.wordWrapAxisLabelsForPlacementAutoRotation;let e=this.axis.area.chart.core.fullRectangle.height;g=e/3.5}if(null!=this.axis.info.labelsCollection&&this.axis.labels.placement!=P.d.StiLabelsPlacement.None){let a=0,h=0;for(let o of this.axis.info.labelsCollection){let e=this.axis.area.reverseVert?this.isBottomSide:this.isTopSide;if(e&&this.axis.area.yRightAxis.arrowStyle!=P.d.StiArrowStyle.None&&0==h){c.push(new P.d.StiAxisLabelInfoXF),h++;continue}if(e&&this.axis.area.yAxis.arrowStyle!=P.d.StiArrowStyle.None&&h==this.axis.info.stripLines.count-1){c.push(new P.d.StiAxisLabelInfoXF),h++;continue}let n=this.getLabelText(o.stripLine,null),l=(!p&&0<g&&(n=P.d.StiTextContentHelper.getMeasureText(u,n,this.axis.labels.font,g)),o.position);if(this.axis.labels.placement!=P.d.StiLabelsPlacement.None){let e=this.getStringFormatGeom(u,p),t=this.getFontGeom(u),i=(S=j.CenterCenter,M.empty),s=(S=this.isTopSide?(i=new M(l,d.height-(this.getTicksMaxLength(u)+this.getLabelsSpaceAxis(u))),0==m?j.CenterBottom:j.LeftCenter):(i=new M(l,this.getTicksMaxLength(u)+this.getLabelsSpaceAxis(u)),0==m?j.CenterTop:j.RightTop),this.axis.labels.placement==P.d.StiLabelsPlacement.TwoLines&&0!=(1&h)&&(this.isTopSide&&(i.y-=this.getLabelsTwoLinesDestination(u)),this.isBottomSide)&&(i.y+=this.getLabelsTwoLinesDestination(u)),u.measureRotatedString3(n,t,i,e,S,m,O.trunc(g*u.options.zoom))),r=new P.d.StiAxisLabelInfoXF;r.angle=m,r.width=g,r.wordWrap=p,r.clientRectangle=s,r.rotationMode=S,r.textPoint=i,r.text=n,r.stripLine=o.stripLine,c.push(r),this.isLabelsAngleByWidth&&(a=Math.max(a,s.width))}else c.push(new P.d.StiAxisLabelInfoXF);h++}let r=1;if(this.axis.range.auto)if(e){let e=d.width/(this.axis.info.stripLines.count-1);r=Math.ceil(.66*a/e)}else{this.isLabelsAngleByWidth||(a=1.5*this.axis.labels.font.sizeInPoints*u.options.zoom);let e=d.width/this.axis.info.stripLines.count,t=a/e;1<t&&(r=O.trunc(P.d.StiStripLineCalculatorXF.getInterval(0,this.axis.info.labelsCollection.length,6)),this.axis.logarithmicScale)&&(r=1)}else r=O.trunc(Math.max(1,this.axis.step));let n=!1,l=0,o=0;if(this.axis.labels.placement==P.d.StiLabelsPlacement.TwoLines&&1<c.length&&(o=c[0].textPoint.y,l=c[1].textPoint.y),1==r||0!=this.axis.labels.step)return c;{let i=0,s=[];for(let t=0;t<c.length;t++){let e=c[t];(0==i||t==c.length-1&&this.axis.showEdgeValues)&&(this.axis.labels.placement==P.d.StiLabelsPlacement.TwoLines&&1<c.length&&(n=n?(e.textPoint.y=l,!1):(e.textPoint.y=o,!0)),s.push(e)),++i==r&&(i=0)}return s}}return c}getCenterAxisRect(e,t,i,s,r){if(0<=this.axis.area.yAxis.info.minimum)return E.empty;let n=-this.getTicksMaxLength(e);return new E(0,n,t.width,this.getTicksMaxLength(e))}getAxisRect(t,i,e,s,r,n){let l=E.empty;if(!this.axis.visible)return l;let o=this.measureStripLines(t,i);if(0==o.length)l=this.isTopSide?new E(0,-this.getTicksMaxLength(t),i.width,this.getTicksMaxLength(t)):new E(0,i.height,i.width,this.getTicksMaxLength(t));else{for(let e of o){if(e.clientRectangle.isEmptyF)continue;l=l.isEmpty?e.clientRectangle:E.union(l,e.clientRectangle)}this.axis.interaction.showScrollBar&&n&&(l.height+=P.d.StiAxisCoreXF.defaultScrollBarSize*t.options.zoom),l.height+=this.getTicksMaxLength(t)+this.getLabelsSpaceAxis(t);let e=l.clone();this.isTopSide&&(l=new E(0,-l.height,i.width,l.height)),this.isBottomSide&&(l=new E(0,i.height,i.width,l.height)),s&&(l.x=e.x,l.width=e.width)}if(this.axis.arrowStyle!=P.d.StiArrowStyle.None&&e){let e=this.getArrowHeight(t);this.axis.area.reverseHor&&(e=-e),l=E.union(l,new E(i.width,l.y+l.height/2,e,1))}let a=this.getAxisTitleSize(t);return a.isEmpty||this.axis.title.position!=P.d.StiTitlePosition.Outside||(l.height+=a.height,0==l.width&&(l.width=a.width),this.isTopSide&&(l.y-=a.height)),l}renderLabels(u,t,s){if(null!=this.axis.info.stripLines&&this.axis.labels.placement!=P.d.StiLabelsPlacement.None){let e=this.measureStripLines(u,t),i=(s.createChildGeoms(),this.axis.area.xAxis);if(this.isArgumentDateTime2(e)&&null!=i&&i.dateTimeStep.step!=P.d.StiTimeDateStep.None){let e,t,r=i.info.labelsCollection,n=[],l="",o=!0,a=0;for(let s=0;s<r.length;s++){if(null==r[s].stripLine.valueObject)continue;if(e=r[s].stripLine.valueObject,t=s<r.length-2&&!i.area.is(P.d.StiScatterArea)?r[s+1].stripLine.valueObject:e,!e.ticks||!t.ticks)continue;switch(o&&(a=r[s].position,o=!1),this.axis.area.xAxis.dateTimeStep.step){case P.d.StiTimeDateStep.Day:e.toString("yyyyMMMMdd")==t.toString("yyyyMMMMdd")&&s!=r.length-2||(l=e.toString("dd"));break;case P.d.StiTimeDateStep.Hour:e.toString("yyyyMMMMddHH")==t.toString("yyyyMMMMddHH")&&s!=r.length-2||(l=e.toString("HH"));break;case P.d.StiTimeDateStep.Minute:e.toString("yyyyMMMMddHHmm")==t.toString("yyyyMMMMddHHmm")&&s!=r.length-2||(l=e.toString("mm"));break;case P.d.StiTimeDateStep.Month:e.toString("yyyyMMMM")==t.toString("yyyyMMMM")&&s!=r.length-2||(l=d.get("A_WebViewer","Month"+e.toString("MMMM")));break;case P.d.StiTimeDateStep.Second:e.toString("yyyyMMMMddHHmmss")==t.toString("yyyyMMMMddHHmmss")&&s!=r.length-2||(l=e.toString("ss"));break;case P.d.StiTimeDateStep.Year:e.toString("yyyy")==t.toString("yyyy")&&s!=r.length-2||(l=e.toString("yyyy"));break}if(""!=l){l=``+this.axis.labels.textBefore+l+this.axis.labels.textAfter;let e=new M((r[s].position+a)/2,this.getTicksMaxLength(u)+this.getLabelsSpaceAxis(u)),t=0,i=new P.d.StiAxisLabelInfoXF;i.angle=t,i.clientRectangle=u.measureRotatedString3(l,this.getFontGeom(u),e,this.getStringFormatGeom(u,i.wordWrap),j.CenterCenter,t,O.trunc(this.axis.labels.width*u.options.zoom)),i.rotationMode=j.CenterCenter,i.stripLine=r[s].stripLine,i.text=l,i.textPoint=e,n.push(i),o=!0,l=""}}o=!0;let h=[];for(let s=0;s<n.length-1;s++){switch(e=n[s].stripLine.valueObject,t=n[s+1].stripLine.valueObject,o&&(a=n[s].textPoint.x,o=!1),this.axis.area.xAxis.dateTimeStep.step){case P.d.StiTimeDateStep.Day:e.toString("yyyyMMMM")==t.toString("yyyyMMMM")&&s!=n.length-2||(l=d.get("A_WebViewer","Month"+e.toString("MMMM")));break;case P.d.StiTimeDateStep.Hour:e.toString("yyyyMMMMdd")==t.toString("yyyyMMMMdd")&&s!=n.length-2||(l=e.toString("dd"));break;case P.d.StiTimeDateStep.Minute:e.toString("yyyyMMMMddhh")==t.toString("yyyyMMMMddhh")&&s!=n.length-2||(l=e.toString("hh"));break;case P.d.StiTimeDateStep.Month:e.toString("yyyy")==t.toString("yyyy")&&s!=n.length-2||(l=e.toString("yyyy"));break;case P.d.StiTimeDateStep.Second:e.toString("yyyyMMMMddhhmm")==t.toString("yyyyMMMMddhhmm")&&s!=n.length-2||(l=e.toString("mm"));break;case P.d.StiTimeDateStep.Year:if(e.toString("yyyy")!=t.toString("yyyy")||s==n.length-2)continue;break}if(""!=l){l=``+this.axis.labels.textBefore+l+this.axis.labels.textAfter;let e=new M((n[s+1].textPoint.x+a)/2,this.getTicksMaxLength(u)+2*this.getLabelsSpaceAxis(u)),t=0,i=new P.d.StiAxisLabelInfoXF;i.angle=t,i.clientRectangle=u.measureRotatedString3(l,this.getFontGeom(u),e,this.getStringFormatGeom(u,i.wordWrap),j.CenterCenter,t,O.trunc(this.axis.labels.width*u.options.zoom)),i.rotationMode=j.CenterTop,i.stripLine=n[s].stripLine,i.text=l,i.textPoint=e,h.push(i),o=!0,l=""}}n[D.System.StiObject.stimulsoft]().addRange(h);for(let t of n)if(!t.clientRectangle.isEmpty){let e=new P.d.StiAxisLabelGeom(this.axis,t.clientRectangle,t.textPoint,t.text,t.stripLine,t.angle,t.width,t.rotationMode,t.wordWrap);s.childGeoms.push(e)}}else for(let t of e)if(!t.clientRectangle.isEmpty){let e=new P.d.StiAxisLabelGeom(this.axis,t.clientRectangle,t.textPoint,t.text,t.stripLine,t.angle,t.width,t.rotationMode,t.wordWrap);s.childGeoms.push(e)}}}renderTitle(e,t,i){if(k.isNullOrEmpty(this.axis.title.text))return;let s=this.getAxisTitleSize(e),r=E.empty;if(this.isTopSide){switch(this.axis.title.alignment){case X.Near:r=new E(0,0,s.width,s.height);break;case X.Center:r=new E((t.width-s.width)/2,0,s.width,s.height);break;case X.Far:r=new E(t.width-s.width,0,s.width,s.height);break}this.axis.title.position==P.d.StiTitlePosition.Inside&&(r.y+=t.height)}if(this.isBottomSide){switch(this.axis.title.alignment){case X.Near:r=new E(0,t.height-s.height,s.width,s.height);break;case X.Center:r=new E((t.width-s.width)/2,t.height-s.height,s.width,s.height);break;case X.Far:r=new E(t.width-s.width,t.height-s.height,s.width,s.height);break}this.axis.title.position==P.d.StiTitlePosition.Inside&&(r.y-=t.height)}let n=this.axis.title.font.size*e.options.zoom,l={ref:0},o=(this.axis.area.chart.isDashboard&&this.checkUseMaxWidth(t,r,l)&&(n=this.getCorrectionFontSize(t,r,n)),N.changeFontSize(this.axis.title.font,n)),a=this.getAngleTitle(),h=new P.d.StiAxisTitleGeom(this.axis,r,a,this.axis.title.alignment,o);i.createChildGeoms(),i.childGeoms.push(h)}isArgumentDateTime1(t){for(let e of t)if(null!=e.stripLine.valueObject&&e.stripLine.valueObject instanceof y)return!0;return!1}isArgumentDateTime2(t){for(let e of t)if(null!=e.stripLine.valueObject&&e.stripLine.valueObject instanceof y)return!0;return!1}get dock(){return null}get isTopSide(){return this.dock==P.d.StiXAxisDock.Top&&!this.axis.area.reverseVert||this.dock==P.d.StiXAxisDock.Bottom&&this.axis.area.reverseVert}get isBottomSide(){return this.dock==P.d.StiXAxisDock.Bottom&&!this.axis.area.reverseVert||this.dock==P.d.StiXAxisDock.Top&&this.axis.area.reverseVert}constructor(e){super(e)}},P.d.StiXBottomAxisCoreXF=class extends P.d.StiXAxisCoreXF{get dock(){return P.d.StiXAxisDock.Bottom}constructor(e){super(e)}},P.d.StiXTopAxisCoreXF=class extends P.d.StiXAxisCoreXF{get dock(){return P.d.StiXAxisDock.Top}constructor(e){super(e)}},P.d.StiYAxisCoreXF=class extends P.d.StiAxisCoreXF{render(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t,!1,!1,!0,!1).clone(),s=(i.x=0,i.y=0,this.axis.interaction.showScrollBar&&this.axis.is(P.d.IStiYLeftAxis)&&this.axis.area.reverseHor&&(i.x+=P.d.StiAxisCoreXF.defaultScrollBarSize*e.options.zoom),new P.d.StiYAxisGeom(this.axis,i.clone(),!1));return this.renderLabels(e,i.clone(),s),this.axis.range.auto||(this.axis.area.reverseVert?i.y=(this.axis.info.minimum-this.axis.range.minimum)*this.axis.info.dpi:i.y=(this.axis.info.maximum-this.axis.range.maximum)*this.axis.info.dpi,i.height=(this.axis.range.maximum-this.axis.range.minimum)*this.axis.info.dpi),this.renderTitle(e,i,s),s}renderView(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t,!1,!1,!0,!0).clone();return new P.d.StiYAxisViewGeom(this.axis[D.System.StiObject.stimulsoft]().as(P.d.IStiYAxis),i,!1)}renderScrollBar(e,t,i){}renderCenter(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.xAxis.info.minimum)return null;let i=this.getCenterAxisRect(e,t,!1,!1,!0).clone(),s=(i.x=0,i.y=0,new P.d.StiYAxisGeom(this.axis,i,!0));return s}renderCenterView(e,t){if(!this.axis.visible)return null;if(0<=this.axis.area.xAxis.info.minimum)return null;let i=this.getCenterAxisRect(e,t,!1,!1,!0).clone(),s=new P.d.StiYAxisViewGeom(this.axis,i,!0);return s}setTotalNumberCapacity(){let i,s=this.axis.labels.formatService.as(Ft);if(null!=s){let e=this.axis.labels.calculatedStep;if(0==e)return;let t=Math.ceil(Math.abs(Math.log10(e)));s.totalNumberCapacity=t,null!=(s=null==(i=this.axis.area.chart.seriesLabels.formatService)?void 0:i.as(Ft))&&(s.totalNumberCapacity=t)}}getLabelText(e,t){let i,s=e.valueObject;null==s&&(s="");try{if(null!=this.axis.labels.formatService){if(this.setTotalNumberCapacity(),s instanceof y)return this.axis.labels.formatService.is(Tt)||this.axis.labels.formatService.is(vt)?``+this.axis.labels.textBefore+this.axis.labels.formatService.format(s)+this.axis.labels.textAfter:``+this.axis.labels.textBefore+s+this.axis.labels.textAfter;return``+this.axis.labels.textBefore+this.axis.labels.formatService.format(e.value)+this.axis.labels.textAfter}if(null!=this.axis.labels.format&&0!=this.axis.labels.format.trim().length){this.storedCulture=we.currentCulture;let e=null==(i=this.axis.area.chart.report)?void 0:i.getParsedCulture();k.isNullOrEmpty(e)||(we.currentCulture=we.cultures[e]);try{if("string"==typeof s&&(s=s[D.System.StiObject.stimulsoft]().toNumber()),!P.d.StiChartOptions.oldChartPercentMode&&this.axis.labels.format[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return 1<this.axis.labels.format.length&&(e=parseInt(this.axis.labels.format[D.System.StiObject.stimulsoft]().remove(0,1))),k.format("{0}{1:N"+e.toString()+"}{2}{3}",this.axis.labels.textBefore,s,"%",this.axis.labels.textAfter)}return k.format("{0}{1:"+this.axis.labels.format+"}{2}",this.axis.labels.textBefore,s,this.axis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}finally{k.isNullOrEmpty(e)||(we.currentCulture=this.storedCulture)}}return k.format("{0}{1}{2}",this.axis.labels.textBefore,s,this.axis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}return s.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}measureStripLines(g,p){let f=[];if(null!=this.axis.info.labelsCollection&&this.axis.labels.placement!=P.d.StiLabelsPlacement.None){let S=this.getAxisTitleSize(g),m=0;for(let c of this.axis.info.labelsCollection){let e=this.axis.area.reverseHor?this.isLeftSide:this.isRightSide;if(e&&this.axis.area.xTopAxis.arrowStyle!=P.d.StiArrowStyle.None&&0==m){f.push(new P.d.StiAxisLabelInfoXF),m++;continue}if(e&&this.axis.area.xAxis.arrowStyle!=P.d.StiArrowStyle.None&&m==this.axis.info.stripLines.count-1){f.push(new P.d.StiAxisLabelInfoXF),m++;continue}let t=this.getLabelText(c.stripLine,null),i=c.position,s=g.getGenericStringFormat(),r=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*g.options.zoom),n=this.getTextAlignment(),l=j.LeftCenter,o=-this.axis.labels.angle,a=M.empty,h=(this.isLeftSide?n==Se.Left?(l=j.LeftCenter,a=new M(S.width,i),o=0):n==Se.Center?(l=j.CenterCenter,a=new M((p.width-S.width)/2,i),o=0):(l=j.RightCenter,a=new M(p.width-this.getTicksMaxLength(g)-this.getLabelsSpaceAxis(g),i)):n==Se.Left?(l=j.LeftCenter,a=new M(this.getTicksMaxLength(g)+this.getLabelsSpaceAxis(g),i)):o=(a=n==Se.Center?(l=j.CenterCenter,new M((p.width-S.width)/2,i)):(l=j.RightCenter,new M(p.width-S.width,i)),0),this.axis.labels.placement==P.d.StiLabelsPlacement.TwoLines&&0!=(1&m)&&(this.isLeftSide&&(a.x-=this.getLabelsTwoLinesDestination(g)),this.isRightSide)&&(a.x+=this.getLabelsTwoLinesDestination(g)),g.measureRotatedString3(t,r,a,s,l,o,this.axis.labels.width*g.options.zoom)),u=this.axis.labels.width*g.options.zoom;if(0!=u){switch(l.toString()){case"3":case"4":case"5":h.x-=(u-h.width)/2;break;case"6":case"7":case"8":h.x-=u-h.width;break}h.width=u}let d=new P.d.StiAxisLabelInfoXF;d.angle=o,d.clientRectangle=h,d.rotationMode=l,d.textPoint=a,d.text=t,d.stripLine=c.stripLine,f.push(d),m++}}if(this.axis.range.auto){let e=this.axis.labels.font.getHeight()*g.options.zoom,t=p.height/this.axis.info.stripLines.count,i=Math.ceil(e/t),s=0,r=new G;f.reverse();for(let e=0;e<f.length;e++)0==s&&r.push(f[e]),++s==i&&(s=0);return r}return f}getCenterAxisRect(e,t,i,s,r){if(0<=this.axis.area.xAxis.info.minimum)return E.empty;let n=-this.getTicksMaxLength(e);return new E(n,0,this.getTicksMaxLength(e),t.height)}getAxisRect(t,i,e,s,r,n){let l=E.empty;if(!this.axis.visible)return l;let o=this.measureStripLines(t,i);if(0==o.length)l=this.isLeftSide?new E(-this.getTicksMaxLength(t),0,this.getTicksMaxLength(t),i.height):new E(i.width,0,this.getTicksMaxLength(t),i.height);else{for(let e of o){if(e.clientRectangle.isEmpty)continue;l=l.isEmpty?e.clientRectangle.clone():E.union(l,e.clientRectangle)}this.axis.interaction.showScrollBar&&n&&(l.width+=P.d.StiAxisCoreXF.defaultScrollBarSize*t.options.zoom),l.width+=this.getTicksMaxLength(t)+this.getLabelsSpaceAxis(t);let e=l.clone();this.isLeftSide&&(l=new E(-l.width,0,l.width,i.height)),this.isRightSide&&(l=new E(i.width,0,l.width,i.height)),s&&(l.y=e.y,l.height=e.height)}if(this.axis.arrowStyle!=P.d.StiArrowStyle.None&&e){let e=this.getArrowHeight(t);this.axis.area.reverseVert&&(e=-e),l=E.union(l,new E(l.x,-e,1,e))}let a=this.getAxisTitleSize(t);return a.isEmpty||this.axis.title.position!=P.d.StiTitlePosition.Outside||(l.width+=a.width,this.isLeftSide&&(l.x-=a.width)),l}renderLabels(t,i,s){if(this.axis.labels.placement!=P.d.StiLabelsPlacement.None){let e=this.measureStripLines(t,i);s.createChildGeoms();for(let t of e)if(!t.clientRectangle.isEmpty){let e=new P.d.StiAxisLabelGeom(this.axis,t.clientRectangle,t.textPoint,t.text,t.stripLine,t.angle,this.axis.labels.width,t.rotationMode,this.axis.labels.wordWrap);s.childGeoms.push(e)}}}renderTitle(e,t,i){if(k.isNullOrEmpty(this.axis.title.text))return;let s=this.getAxisTitleSize(e),r=E.empty;if(this.isLeftSide){switch(this.axis.title.alignment){case X.Near:r=new E(0,t.height-s.height+t.y,s.width,s.height);break;case X.Center:r=new E(0,(t.height-s.height)/2+t.y,s.width,s.height);break;case X.Far:r=new E(0,t.y,s.width,s.height);break}this.axis.title.position==P.d.StiTitlePosition.Inside&&(r.x+=t.width)}if(this.isRightSide){switch(this.axis.title.alignment){case X.Near:r=new E(t.width-s.width,t.height-s.height+t.y,s.width,s.height);break;case X.Center:r=new E(t.width-s.width,(t.height-s.height)/2+t.y,s.width,s.height);break;case X.Far:r=new E(t.width-s.width,t.y,s.width,s.height);break}this.axis.title.position==P.d.StiTitlePosition.Inside&&(r.x-=t.width)}let n=this.axis.title.font.size*e.options.zoom,l={ref:0},o=(this.axis.area.chart.isDashboard&&this.checkUseMaxWidth(t,r,l)&&(n=this.getCorrectionFontSize(t,r,n)),N.changeFontSize(this.axis.title.font,n)),a=this.getAngleTitle(),h=new P.d.StiAxisTitleGeom(this.axis,r,a,this.axis.title.alignment,o);i.createChildGeoms(),i.childGeoms.push(h)}get dock(){return null}get isLeftSide(){return this.dock==P.d.StiYAxisDock.Left&&!this.axis.area.reverseHor||this.dock==P.d.StiYAxisDock.Right&&this.axis.area.reverseHor}get isRightSide(){return this.dock==P.d.StiYAxisDock.Right&&!this.axis.area.reverseHor||this.dock==P.d.StiYAxisDock.Left&&this.axis.area.reverseHor}constructor(e){super(e)}},P.d.StiYLeftAxisCoreXF=class extends P.d.StiYAxisCoreXF{get dock(){return P.d.StiYAxisDock.Left}constructor(e){super(e)}},P.d.StiYRightAxisCoreXF=class extends P.d.StiYAxisCoreXF{get dock(){return P.d.StiYAxisDock.Right}getStartFromZero(){if(1==this.axis.area.axisCore.valuesCount)return!0;if(null!=this.axis&&null!=this.axis.range&&!this.axis.range.auto)return!1;return null==this.axis||this.axis.startFromZero}constructor(e){super(e)}};{class as{static getInterval1(e){let t=Math.abs(e),i=0;if(1<e){while(1<t)t/=10,i++;t=t<.15?.1:t<.3?.2:t<.75?.5:1;while(0<i)t*=10,i--}else if(0<e){while(10*t<1)t*=10,i++;t=t<.15?.1:t<.3?.2:t<.75?.5:1;while(0<i)t/=10,i--}return t}static getInterval(e,t,i){if(t==e)return 0;return as.getInterval1((t-e)/i)}static getStripLines(e,t,i,s){let r=new P.d.StiStripLinesXF;if(e==t)return r;let n=e,l=t,o=i,a=0;a=O.trunc(n/o)*(1e3*o)/1e3;while(n<a+o)a-=o;let h=this.getCountAfterComma(o),u=this.getCountAfterComma(a),d=Math.max(h,u);while(a<l)a+=o,0<d&&(a=O.round2(a,d)),s?r.insert(0,new P.d.StiStripLineXF(y.fromOADate(a),a)):r.insert(0,new P.d.StiStripLineXF(a.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),a));return r}static getScatterXDateStripLines(e,t,i){let s=new P.d.StiStripLinesXF;if(e==t)return s;let r=e,n=t,l=i,o=0;o=r;while(r<=o+l)o-=l;while(o<n)o+=l,s.insert(0,new P.d.StiStripLineXF(y.fromOADate(o),o));return s}static getCountAfterComma(e){let t=e.toString()[D.System.StiObject.stimulsoft]().replaceAll(",","."),i=t.indexOf("."),s=0;return s=0<i?t.substring(i).length-1:s}static getStripLinesLogScale(e,t){let i=new P.d.StiStripLinesXF;if(e==t)return i;let s=e,r=t,n=1,l=1;if(0<e&&e<1)while(s<n)n/=10;if(1<e){while(s>n)n*=10;n/=10}if(0<r&&r<1){while(l>r)l/=10;l*=10}if(1<r)while(r>l)l*=10;let o=n,a=o,h=1;while(o<=l)i.insert(0,new P.d.StiStripLineXF(o.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),o)),o+=a,10==++h&&(h=1,a=o);return i}}P.d.StiStripLineCalculatorXF=as}{class hs{implements(){return hs.implementsStiStripLineXF||(hs.implementsStiStripLineXF=[r,P.d.IStiStripLinesXF]),hs.implementsStiStripLineXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}get value(){return this.valueObj}set value(e){this.valueObj=e}constructor(e,t){this.valueObject=null,this.valueObj=0,this.valueObject=e,this.valueObj=t}}P.d.StiStripLineXF=hs}{class us extends oe{implements(){return us.implementsStiStripLinesXF||(us.implementsStiStripLinesXF=[r,P.d.IStiStripLinesXF]),us.implementsStiStripLinesXF}clone(){let i=new us;for(let t of this.list){let e=t.clone();i.add(e)}return i}add2(e,t){this.add(new P.d.StiStripLineXF(e,t))}}P.d.StiStripLinesXF=us}{class ds{implements(){return ds.implementsStiStripPositionXF||(ds.implementsStiStripPositionXF=[P.d.IStiStripPositionXF]),ds.implementsStiStripPositionXF}}P.d.StiStripPositionXF=ds}{class cs{implements(){return cs.implementsStiChartTitleCoreXF||(cs.implementsStiChartTitleCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiChartTitleCoreXF]),cs.implementsStiChartTitleCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.chartTitle.allowApplyStyle&&(this.chartTitle.brush=new V(e.core.axisTitleColor))}render(e,t,i){if(!t.visible)return null;let s=new N(t.font.fontFamily.name,t.font.size,t.font.style,t.font.unit),r=e.getDefaultStringFormat(),n=(r.alignment=t.alignment,e.measureRotatedString2(t.text,s,i,r,j.CenterCenter,t.dock,0));switch(t.dock){case P.d.StiChartTitleDock.Top:n.height+=t.spacing,n.height*=e.options.zoom,n.y=i.y,t.alignment!=X.Center&&(n.width*=e.options.zoom),t.alignment==X.Near&&(n.x=i.x),t.alignment==X.Center&&(n.x=i.x+i.width/2-n.width/2),t.alignment==X.Far&&(n.x=i.x+i.width-n.width);break;case P.d.StiChartTitleDock.Right:n.width+=t.spacing,n.width*=e.options.zoom,n.x=i.x+i.width-n.width,t.alignment!=X.Center&&(n.height*=e.options.zoom),t.alignment==X.Near&&(n.y=i.y),t.alignment==X.Center&&(n.y=i.y+i.height/2-n.height/2),t.alignment==X.Far&&(n.y=i.y+i.height-n.height);break;case P.d.StiChartTitleDock.Bottom:n.height+=t.spacing,n.height*=e.options.zoom,n.y=i.y+i.height-n.height,t.alignment!=X.Center&&(n.width*=e.options.zoom),t.alignment==X.Near&&(n.x=i.x+i.width-n.width),t.alignment==X.Center&&(n.x=i.x+i.width/2-n.width/2),t.alignment==X.Far&&(n.x=i.x);break;case P.d.StiChartTitleDock.Left:n.width+=t.spacing,n.width*=e.options.zoom,n.x=i.x,t.alignment!=X.Center&&(n.height*=e.options.zoom),t.alignment==X.Near&&(n.y=i.y+i.height-n.height),t.alignment==X.Center&&(n.y=i.y+i.height/2-n.height/2),t.alignment==X.Far&&(n.y=i.y);break}return new P.d.StiChartTitleGeom(t,n)}constructor(e){this.chartTitle=e}}P.d.StiChartTitleCoreXF=cs}let kt=P.a.Dashboard.StiReportParser;{class Ss{implements(){return Ss.implementsStiConstantLinesCoreXF||(Ss.implementsStiConstantLinesCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiConstantLinesCoreXF]),Ss.implementsStiConstantLinesCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.constantLines.allowApplyStyle&&(this.constantLines.lineColor=e.core.seriesLabelsColor)}renderXConstantLines(e,l){let o=e.area;if(null==o)return;let a,t=y.fromString(this.constantLines.axisValue,!1);if(null!=t)a=t.toOADate();else try{let e=kt.parse2(this.constantLines.axisValue,o.chart.report);a=e[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1),a=0}o.reverseVert&&(a=-a);let h=0;if(o.xAxis.logarithmicScale&&0<o.xAxis.info.stripLines.count){let e=o.xAxis.info.stripLines.count,t=o.reverseHor?e-1:0,i=o.reverseHor?0:e-1,s=o.xAxis.info.stripLines.getByIndex(t).value,r=o.xAxis.info.stripLines.getByIndex(i).value,n=Math.abs(l.width/(O.log10(r)-O.log10(s)));h=Math.abs(O.log10(a)*n-O.log10(o.xAxis.info.stripLines.getByIndex(t).value)*n)}else{h=o.axisCore.getDividerX()+a*o.xAxis.info.dpi;for(let e of o.xAxis.info.stripLines.list)null!=e.valueObject&&e.valueObject.toString()==this.constantLines.axisValue&&(a=e.value,o.reverseHor&&(a=-a),h=a*o.xAxis.info.dpi+o.axisCore.getDividerX())}let i=new M(0,0),s=j.LeftTop;switch(this.constantLines.position){case P.d.StiConstantLines_StiTextPosition.LeftTop:s=j.LeftBottom,i=new M(h+this.constantLines.lineWidth/2,0);break;case P.d.StiConstantLines_StiTextPosition.LeftBottom:s=j.LeftTop,i=new M(h-this.constantLines.lineWidth/2,0);break;case P.d.StiConstantLines_StiTextPosition.CenterTop:s=j.CenterBottom,i=new M(h+this.constantLines.lineWidth/2,l.height/2);break;case P.d.StiConstantLines_StiTextPosition.CenterBottom:s=j.CenterTop,i=new M(h-this.constantLines.lineWidth/2,l.height/2);break;case P.d.StiConstantLines_StiTextPosition.RightTop:s=j.RightBottom,i=new M(h+this.constantLines.lineWidth/2,l.height);break;case P.d.StiConstantLines_StiTextPosition.RightBottom:s=j.RightTop,i=new M(h-this.constantLines.lineWidth/2,l.height);break}let r=new P.d.StiConstantLinesVerticalGeom(this.constantLines,new E(h,0,h,l.height),i,s);e.createChildGeoms(),e.childGeoms.push(r)}renderYConstantLines(e,l){let o=e.area;if(null==o)return;let a;try{let e=kt.parse2(this.constantLines.axisValue,o.chart.report);a=e[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1),a=0}o.reverseVert&&(a=-a);let h;if(o.yAxis.logarithmicScale){let e=o.yAxis.info.stripLines.count,t=0,i=e-1,s=o.yAxis.info.stripLines.getByIndex(t).value,r=o.yAxis.info.stripLines.getByIndex(i).value,n=Math.abs(l.height/(O.log10(r)-O.log10(s)));h=Math.abs(O.log10(o.yAxis.info.stripLines.getByIndex(t).value)*n-O.log10(a)*n)}else h=this.constantLines.orientation==P.d.StiConstantLines_StiOrientation.Horizontal?o.axisCore.getDividerY()-a*o.yAxis.info.dpi:o.axisCore.getDividerRightY()-a*o.yRightAxis.info.dpi;let t=new M(0,0),i=j.LeftTop;switch(this.constantLines.position){case P.d.StiConstantLines_StiTextPosition.LeftTop:i=j.LeftBottom,t=new M(-l.x,h-this.constantLines.lineWidth/2);break;case P.d.StiConstantLines_StiTextPosition.LeftBottom:i=j.LeftTop,t=new M(-l.x,h+this.constantLines.lineWidth/2);break;case P.d.StiConstantLines_StiTextPosition.CenterTop:i=j.CenterBottom,t=new M(l.width/2,h-this.constantLines.lineWidth/2);break;case P.d.StiConstantLines_StiTextPosition.CenterBottom:i=j.CenterTop,t=new M(l.width/2,h+this.constantLines.lineWidth/2);break;case P.d.StiConstantLines_StiTextPosition.RightTop:i=j.RightBottom,t=new M(l.width,h-this.constantLines.lineWidth/2);break;case P.d.StiConstantLines_StiTextPosition.RightBottom:i=j.RightTop,t=new M(l.width,h+this.constantLines.lineWidth/2);break}let s=new P.d.StiConstantLinesYGeom(this.constantLines,new E(0,h,l.width,h),t,i);e.createChildGeoms(),e.childGeoms.push(s)}render(e,t,i){if(!this.constantLines.visible)return;this.constantLines.orientation==P.d.StiConstantLines_StiOrientation.Vertical&&this.renderXConstantLines(t,i),this.constantLines.orientation!=P.d.StiConstantLines_StiOrientation.Horizontal&&this.constantLines.orientation!=P.d.StiConstantLines_StiOrientation.HorizontalRight||this.renderYConstantLines(t,i)}constructor(e){this.constantLines=e}}P.d.StiConstantLinesCoreXF=Ss}{class ms{implements(){return ms.implementsStiGridLinesCoreXF||(ms.implementsStiGridLinesCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiGridLinesCoreXF]),ms.implementsStiGridLinesCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.gridLines.allowApplyStyle&&(this.gridLines[D.System.StiObject.stimulsoft]().is(P.d.IStiGridLinesVert)?(this.gridLines.color=e.core.gridLinesVertColor,this.gridLines.minorColor=e.core.gridLinesVertColor):(this.gridLines.color=e.core.gridLinesHorColor,this.gridLines.minorColor=e.core.gridLinesHorColor))}constructor(e){this.gridLines=e}}P.d.StiGridLinesCoreXF=ms}{class gs{implements(){return gs.implementsStiRadarGridLinesCoreXF||(gs.implementsStiRadarGridLinesCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiRadarGridLinesCoreXF]),gs.implementsStiRadarGridLinesCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.gridLines.allowApplyStyle&&(this.gridLines[D.System.StiObject.stimulsoft]().is(P.d.IStiRadarGridLinesVert)?this.gridLines.color=e.core.gridLinesVertColor:this.gridLines.color=e.core.gridLinesHorColor)}constructor(e){this.gridLines=e}}P.d.StiRadarGridLinesCoreXF=gs}{class ps{implements(){return ps.implementsStiInterlacingCoreXF||(ps.implementsStiInterlacingCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiInterlacingCoreXF]),ps.implementsStiInterlacingCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.interlacing.allowApplyStyle&&(this.interlacing[D.System.StiObject.stimulsoft]().is(P.d.IStiInterlacingVert)?this.interlacing.interlacedBrush=e.core.interlacingVertBrush:this.interlacing.interlacedBrush=e.core.interlacingHorBrush)}constructor(e){this.interlacing=e}}P.d.StiInterlacingCoreXF=ps}let Bt=D.System.Drawing.Rectangle,It=P.d.StiChartSeriesOrientation;{class fs{implements(){return fs.implementsStiLegendCoreXF||(fs.implementsStiLegendCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiLegendCoreXF]),fs.implementsStiLegendCoreXF}applyStyle(e){this.legend.allowApplyStyle&&(this.legend.brush=e.core.legendBrush.clone(),this.legend.labelsColor=e.core.legendLabelsColor,this.legend.titleColor=e.core.legendTitleColor,this.legend.borderColor=e.core.legendBorderColor,this.legend.showShadow=e.core.legendShowShadow,this.legend.font=e.core.legendFont)}isAcceptableSeries(e){return e!=P.d.StiHeatmapSeries}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}render(u,e){let d,t={ref:d},c=this.getLegendItems(t);if(d=t.ref,!this.legend.visible||0==c.length)return null;let h,S,i={ref:h},s={ref:S},r=this.getLegendSize(u,e,i,s),n=(h=i.ref,S=s.ref,new E(e.x,e.y,r.width,r.height)),m=n.clone(),l=(m.location=new M(0,0),null);if(!k.isNullOrEmpty(this.legend.title)){let e=this.getTitleSize(u),t=n.clone();t.location=new M(0,0),t.height=e.height,l=new P.d.StiLegendTitleGeom(this.legend,t),m.y+=t.height,m.height-=t.height}let g=new P.d.StiLegendGeom(this.legend,n,c),p=(null!=l&&(g.createChildGeoms(),g.childGeoms.push(l),g.legendTitleGeom=l),this.legend.horSpacing*u.options.zoom),f=this.legend.vertSpacing*u.options.zoom;if(0<n.width&&0<n.height)if(0==this.legend.columns){let e=p+m.x,i=f+m.y,n=e,l=i,s=this.getMatrixIndexItem(h,S,c.length),o=0,r=new G;for(let t=0;t<s.length;t++)for(let e=0;e<s[0].length;e++){let i=s[t][e];if(0<=i){let e=c[i],t=this.getItemRealSize(u,e);o=Math.max(o,t.height),r.add(t)}}let a=0;for(let t=0;t<s.length;t++){for(let e=0;e<s[0].length;e++){let r=s[t][e];if(0<=r){let e=c[r],t=this.getItemRealSize(u,e),i=(a=Math.max(a,t.width),new Bt(n,l,t.width,o)),s=new P.d.StiLegendItemGeom(this.legend,e,i,e.colorIndex,d,e.index);g.createChildGeoms(),g.childGeoms.push(s)}l+=o+f}l=i,n+=a+p,a=0}}else{let s=0,r=0,n=this.getItemSize1(u,c,0),l=(this.legend.direction==P.d.StiLegendDirection.LeftToRight||this.legend.direction==P.d.StiLegendDirection.TopToBottom?(s=p+m.x,r=f+m.y):this.legend.direction==P.d.StiLegendDirection.RightToLeft?(s=m.right-p-n.width,r=f+m.y):this.legend.direction==P.d.StiLegendDirection.BottomToTop&&(s=p+m.x,r=m.bottom-f-n.height),s),o=r,a=0,h=0;for(let i of c){n=this.getItemSize2(u,c,i);let e=new E(l,o,n.width,n.height),t=new P.d.StiLegendItemGeom(this.legend,i,e,i.colorIndex,d,i.index);g.createChildGeoms(),g.childGeoms.push(t),a++,this.legend.direction==P.d.StiLegendDirection.TopToBottom?(o+=f+e.height,a==this.legend.columns&&(o=r,l+=n.width+p,a=0)):this.legend.direction==P.d.StiLegendDirection.LeftToRight?(l+=p+e.width,a==this.legend.columns&&(l=s,o+=n.height+f,a=0)):this.legend.direction==P.d.StiLegendDirection.RightToLeft?(n=this.getItemSize1(u,c,h+1),l-=p+n.width,a==this.legend.columns&&(l=s,o+=n.height+f,a=0)):this.legend.direction==P.d.StiLegendDirection.BottomToTop&&(o-=f+e.height,a==this.legend.columns)&&(o=r,l+=n.width+p,a=0),h++}}return g}getMatrixIndexItem(s,r,n){let l=R.create2(Number,s,r);if(this.legend.direction==P.d.StiLegendDirection.TopToBottom){let i=0;for(let t=0;t<r;t++)for(let e=0;e<s;e++)l[e][t]=i<n?i:-1,i++}else if(this.legend.direction==P.d.StiLegendDirection.BottomToTop){let i=0;for(let t=r-1;0<=t;t--)for(let e=0;e<s;e++)l[e][t]=i<n?i:-1,i++}else if(this.legend.direction==P.d.StiLegendDirection.LeftToRight){let i=0;for(let t=0;t<s;t++)for(let e=0;e<r;e++)l[t][e]=i<n?i:-1,i++}else if(this.legend.direction==P.d.StiLegendDirection.RightToLeft){let i=0;for(let t=s-1;0<=t;t--)for(let e=0;e<r;e++)l[t][e]=i<n?i:-1,i++}return l}getArgumentText(e,t){if(e.arguments.length>t&&null!=e.arguments[t])return e.arguments[t].toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}getLegendItemColumn(t,i){let s=0,r=0;for(let e of t){if(e==i)break;++s>=this.legend.columns&&(s=0,r++)}if(this.legend.direction==P.d.StiLegendDirection.TopToBottom||this.legend.direction==P.d.StiLegendDirection.BottomToTop)return r;return s}getTitleSize(e){if(k.isNullOrEmpty(this.legend.title))return new he(0,0);let t=N.changeFontSize(this.legend.titleFont,this.legend.titleFont.size*e.options.zoom),i=e.getDefaultStringFormat(),s=(i.formatFlags=0,e.measureString(this.legend.title,t));return s.width++,s}getItemSize1(t,i,s){if(0<=s&&s<i.length){let e=i[s];return this.getItemSize2(t,i,e)}return new he(0,0)}getItemSize2(i,e,t){let s=0,r=0,n=this.getLegendItemColumn(e,t),l=N.changeFontSize(this.legend.font,this.legend.font.size*i.options.zoom);for(let t of e)if(this.getLegendItemColumn(e,t)==n){let e=t.measureString(i,l);s=Math.max(e.width,s+2),r=Math.max(e.height,r)}return this.legend.markerVisible&&(s=Math.max(this.legend.markerSize.width*i.options.zoom,s)+this.legend.markerSize.width*i.options.zoom,r=Math.max(this.legend.markerSize.height*i.options.zoom,r)),new he(s,r)}getItemRealSize(e,t){let i=N.changeFontSize(this.legend.font,this.legend.font.size*e.options.zoom),s=t.measureString(e,i),r=s.width,n=s.height;return this.legend.markerVisible&&(r+=this.legend.markerSize.width*e.options.zoom,n=Math.max(this.legend.markerSize.height*e.options.zoom,n)),new he(r,n)}getItemsSize(i,s){let r=this.legend.horSpacing*i.options.zoom,n=0,l=0,t=this.legend.columns;this.legend.direction!=P.d.StiLegendDirection.TopToBottom&&this.legend.direction!=P.d.StiLegendDirection.BottomToTop||(t=O.trunc((s.length-1)/this.legend.columns)+1);for(let e=0;e<t;e++)for(let t of s)if(this.getLegendItemColumn(s,t)==e){let e=this.getItemSize2(i,s,t);n+=e.width+r,l=Math.max(e.height,l);break}return new he(n,l)}getItemsAutoSize(n,l,o,e,t){let a=this.legend.direction==P.d.StiLegendDirection.TopToBottom||this.legend.direction==P.d.StiLegendDirection.BottomToTop,h=this.legend.horSpacing*n.options.zoom,u=this.legend.vertSpacing*n.options.zoom,d=N.changeFontSize(this.legend.font,this.legend.font.size*n.options.zoom),c=0,S=0,m=new G,g=new G,p=0,f=null;for(let r=0;r<l.length;r++){let e=l[r],t=e.measureString(n,d),i=t.width+h,s=t.height+u;if(this.legend.markerVisible&&(i+=this.legend.markerSize.width*n.options.zoom,s=Math.max(this.legend.markerSize.height*n.options.zoom+u,s)),p=Math.max(s,p),a){if(m.length-1<c&&null==f||m.length-1<c&&null!=f&&c<=f)m.push(i);else if(m[c]<i){m[c]=i,m.removeRange(c+1,m.length-(c+1)),r=-1,c=0,S=0;continue}c++,null!=f&&f<=c&&(c=0,S++),m.sum()+h>o.width&&1<m.length&&(c=0,S++,0<r&&r--,0<m.length)&&(m.removeAt(m.length-1),f=m.length)}else g.length-1<S&&g.push(s),S++,m.length-1<c?m.push(i):m[c]=Math.max(m[c],i),g.sum()+u>o.height&&1<g.length&&(c++,(S=0)<r&&r--,0<g.length)&&g.removeAt(g.length-1)}return e.ref=m.length,t.ref=a?Math.ceil(l.length/m.length):g.length,new he(m.sum()+h,t.ref*p+u)}getSeriesSize(i,t,s,r){let n=this.legend.horSpacing*i.options.zoom,l=this.legend.vertSpacing*i.options.zoom,e={ref:0},o=this.getLegendItems(e),a=e.ref,h=0,u=0;if(0==this.legend.columns){let e=this.getItemsAutoSize(i,o,t,s,r);h=e.width,u=e.height}else{r.ref=0,s.ref=this.legend.columns;let t=this.getItemsSize(i,o);switch(this.legend.direction){case P.d.StiLegendDirection.TopToBottom:case P.d.StiLegendDirection.BottomToTop:{h=t.width+n;let e=this.legend.columns;e>a&&(e=a),u=(t.height+l)*e+l;break}case P.d.StiLegendDirection.LeftToRight:case P.d.StiLegendDirection.RightToLeft:{let e=Math.ceil(a/this.legend.columns);e*this.legend.columns<a&&e++,h=t.width+n,u=(t.height+l)*e+l;break}}}return new he(h,u)}getLegendSize(e,t,i,s){let r=this.getTitleSize(e),n={ref:i},l={ref:s},o=this.getSeriesSize(e,t,n,l),a=(i.ref=n.ref,s.ref=l.ref,new he(Math.max(r.width,o.width),r.height+o.height)),h=0,u=0;return u=null!=this.legend.chart?(h=this.legend.chart.convertToHInches(this.legend.size.width*e.options.zoom),this.legend.chart.convertToHInches(this.legend.size.height*e.options.zoom)):(h=this.legend.size.width*e.options.zoom,this.legend.size.height*e.options.zoom),0!=h&&(a.width=h),0!=u&&(a.height=u),a.width=Math.round(a.width),a.height=Math.round(a.height),a}getLegendItems(e){let r=0,o=this.legend.chart.area.core.getSeries()[D.System.StiObject.stimulsoft]().toList(),a=this.legend.chart.area.as(P.d.IStiAxisArea),h=[];if(this.legend.chart.area.colorEach||o.any(e=>e.is(P.d.IStiFunnelSeries))||o.any(e=>e.is(P.d.IStiPictorialSeries))||o.any(e=>e.is(P.d.IStiDoughnutSeries))){let i=0;for(let e of o)i=Math.max(e.values.length,i);let l=0;for(let n of o)if(this.legend.chart.area.core.isAcceptableSeries(n[D.System.StiObject.stimulsoft]().getType()))for(let t=0;t<i;t++){if(n.showInLegend&&null!=n.values){let e=null!=a&&(a.reverseHor||a.axisCore.seriesOrientation==It.Horizontal);if(t>=n.values.length)continue;let s=e?n.values.length-t-1:t,r=n.values[s];if(null!=r){let e=n[D.System.StiObject.stimulsoft]().as(P.d.IStiPieSeries),t=n[D.System.StiObject.stimulsoft]().as(P.d.IStiFunnelSeries),i=n[D.System.StiObject.stimulsoft]().as(P.d.IStiDoughnutSeries);(null!=e&&!e.showZeros||null!=i&&!i.showZeros||null!=t&&!t.showZeros)&&0==r||h.push(new P.d.StiLegendItemCoreXF(this.legend.chart.seriesLabels.core.getLabelText(n,r,this.getArgumentText(n,s),n.core.getTag(s),n.coreTitle,!0),n,s,l))}}r++,l++}}else if(this.legend.chart.area.is2(P.d.IStiSunburstArea)){if(1<=o.length){let i=o[0],e=i.arguments[D.System.StiObject.stimulsoft]().toList().groupBy(e=>e).select(e=>e.key).toList(),s=0;for(let t of e){if(null!=t){let e=t.toString();k.isNullOrEmpty(e)||h.push(new P.d.StiLegendItemCoreXF(e,i,s,s))}s++,r++}}}else if(this.legend.chart.area.is2(P.d.IStiBoxAndWhiskerArea)){if(1<=o.length){let t=o[0],i=0;for(let e of o)h.push(new P.d.StiLegendItemCoreXF(e.coreTitle,t,i,i)),i++,r++}}else if(this.legend.chart.area.is2(P.d.IStiWaterfallArea)){if(1<=o.length){let e=o[0];h.push(new P.d.StiLegendItemCoreXF(d.get("PropertyMain","Positive"),e,0,0)),h.push(new P.d.StiLegendItemCoreXF(d.get("PropertyMain","Negative"),e,0,1)),h.push(new P.d.StiLegendItemCoreXF(e.total.text,e,0,2)),r=3}}else for(let e of o)!this.legend.chart.area.core.isAcceptableSeries(e[D.System.StiObject.stimulsoft]().getType())||!e.showInLegend||this.legend.hideSeriesWithEmptyTitle&&k.isNullOrEmpty(e.coreTitle)&&!this.legend.chart.isDesigning||(h.push(new P.d.StiLegendItemCoreXF(e.coreTitle,e,-1,0)),r++);return e.ref=r,h}constructor(e){this.legend=e}}P.d.StiLegendCoreXF=fs}let Dt=D.System.Drawing.Point,_=D.System.Drawing.Rectangle,Ot=(P.d.StiHeatmapLegendCoreXF=class extends P.d.StiLegendCoreXF{render(i,e){let l=this.getItemCores();if(!this.legend.visible||0==l.length)return null;let t=this.getLegendSize(i,e),s=new _(e.x,e.y,t.width,t.height),o=s,r=(o.location=new Dt(0,0),null);if(!k.isNullOrEmpty(this.legend.title)){let e=this.getTitleSize(i),t=s.clone();t.location=new Dt(0,0),t.height=e.height,r=new P.d.StiLegendTitleGeom(this.legend,t),o.y+=t.height,o.height-=t.height}let a=new P.d.StiHeatmapLegendGeom(this.legend,s),n=(null!=r&&(a.createChildGeoms(),a.childGeoms.push(r),a.legendTitleGeom=r),this.legend.chart.series.getByIndex(0).core),h=this.getSpacingVertical(i),u=(o=new _(o.x,o.y+h/2,o.width,o.height-h)).height/(l.length-1);for(let n=0;n<l.length;n++){let e=0==n?l[n]:null,t=n<l.length-1?l[n+1]:null,i=n<l.length?u*n:0,s=new _(o.x,o.y+i,o.width,u),r=new P.d.StiHeatmapLegendItemGeom(this.legend,s,e,t);a.createChildGeoms(),a.childGeoms.push(r)}let d=n.getHeatmapColors(),c=new P.d.StiHeatmapLegendMarkerGeom(this.legend,d[D.System.StiObject.stimulsoft]().clone().reverse(),o);return a.createChildGeoms(),a.childGeoms.push(c),a}getSpacingVertical(e){let t=N.changeFontSize(this.legend.font,this.legend.font.size*e.options.zoom),i=e.getDefaultStringFormat();return i.formatFlags=Lt.NoWrap,e.measureString2("0",t,0,i).height}getLegendSize(e,t){let i=this.getTitleSize(e),s=this.getBodyValueTextSize(e,t),r=this.getMarkerSize(e,t),n=new he(Math.max(i.width,s.width+r.width),s.height),l=0,o=0;return o=null!=this.legend.chart?(l=this.legend.chart.convertToHInches(this.legend.size.width*e.options.zoom),this.legend.chart.convertToHInches(this.legend.size.height*e.options.zoom)):(l=this.legend.size.width*e.options.zoom,this.legend.size.height*e.options.zoom),0!=l&&(n.width=l),0!=o&&(n.height=o),n.width=Math.round(n.width),n.height=Math.round(n.height),n}getMarkerSize(e,t){let i=this.legend.markerSize.width*e.options.zoom;return new he(i,t.height)}getBodyValueTextSize(i,e){let s=N.changeFontSize(this.legend.font,this.legend.font.size*i.options.zoom),r=0,n=this.getItemCores();for(let t of n){let e=t.measureString(i,s);r=Math.max(r,e.width)}return new he(r,e.height)}getItemCores(){let n=new G,l=this.legend.chart.area.core.getSeries()[0],e=l.core,t=e.getAllValues();if(0==t.length)return n;let i=t.min(),s=t.max(),o=e.getHeatmapColors(),r=new G,a=(s-i)/(o.length+1);for(let e=0;e<=o.length;e++)0==e?r.add(i):e==o.length?r.add(s):r.add(r[e-1]+a);let h=this.roundValues(r);for(let r=0;r<h.length;r++){let e=this.legend.chart.seriesLabels.core,t=e.getFormattedValue(l,h[r]),i=r<o.length?o[r]:B.empty,s=new P.d.StiHeatmapLegendItemCoreXF(t,l,i);n.add(s)}return n.reverse(),n}roundValues(e){let i=new G;for(let t of e){let e=this.naiveRound(t,2);while(i.contains(e))e+=.01;i.add(e)}return i}naiveRound(e,t){let i=Math.pow(10,t);return Math.round(e*i)/i}isAcceptableSeries(e){return e==P.d.StiHeatmapSeries}constructor(e){super(e)}},P.d.StiHeatmapLegendItemCoreXF=class{getText(e,t){let i=this.series.chart.legend.columnWidth*e.options.zoom;if(0==i||this.series.chart.legend.wordWrap)return this.text;return P.d.StiTextContentHelper.getMeasureText2(e,this.text,t,i)}measureString(e,t){let i=this.getText(e,t),s=this.series.chart.legend.columnWidth*e.options.zoom,r=e.getDefaultStringFormat(),n=(this.series.chart.legend.wordWrap||(r.formatFlags=Lt.NoWrap),e.measureString2(i,t,s,r));return n.width<s&&(n.width=s),n}constructor(e,t,i){this.text=e,this.series=t,this.color=i}},P.d.StiLegendItemCoreXF=class{getText(e,t){let i=this.series.chart.legend.columnWidth*e.options.zoom;if(0==i)return this.text;return P.d.StiTextContentHelper.getMeasureText2(e,this.text,t,i)}measureString(e,t){let i=this.getText(e,t),s=this.series.chart.legend.columnWidth*e.options.zoom,r=e.getDefaultStringFormat(),n=(r.formatFlags=Lt.NoWrap,e.measureString2(i,t,s,r));return n.width<s&&(n.width=s),n}constructor(e,t,i,s){this.index=-1,this.colorIndex=0,this.text=e,this.series=t,this.index=i,this.colorIndex=s}},D.Base.Context.StiPathGeom),A=D.Base.Context.StiPenGeom,Pt=D.Base.Context.StiLinesSegmentGeom,Rt=D.Base.Context.Animation.StiScaleAnimation,Mt=D.Base.Context.StiArcSegmentGeom,L=D.Base.Context.StiLineSegmentGeom,Gt=D.System.Drawing.Size;{class ws{implements(){return ws.implementsStiMarkerCoreXF||(ws.implementsStiMarkerCoreXF=[r,P.d.IStiMarkerCoreXF]),ws.implementsStiMarkerCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}drawMarkers(i,s,r){if(0==s.length)return;if(null!=this.marker&&this.marker.visible){i.pushSmoothingModeToAntiAlias();let t=i.options.zoom;for(let e of s)this.marker.core.draw(i,this.marker,e,t,r,!1,!1,!1,"",null,null);i.popSmoothingMode()}}static getMarkerRect(e,t,i){let s=t*i/2;return new E(e.x-s,e.y-s,2*s,2*s)}draw(e,t,i,s,r,n,l,o,a,h,u){let d=new V(B.fromArgb3(55,B.black)),c=ws.getMarkerRect(i,t.size,s).clone(),S=(r&&t.visible&&(c.x+=2*s,c.y+=2*s,this.drawPoint(e,c.x+c.width/2,c.y+c.height/2,s,d,null,t.type,t.icon,t.size,t.angle,!1,o,a,null,null),c.x-=2*s,c.y-=2*s),t.brush);if(o&&l&&!t.visible){let e=null==t.brush?B.lightGray:ct.toColor(t.brush);S=new V(B.fromArgb(0,e.r,e.g,e.b)),o=!1}let m=l?null:new A(t.borderColor);(t.visible||l)&&this.drawPoint(e,c.x+c.width/2,c.y+c.height/2,s,S,m,t.type,t.icon,t.size,t.angle,n,o,a,h,u)}drawLine(e,t,i,s,r,n,l,o,a,h,u,d){this.drawLines(e,[new M(t,i),new M(s,r)],n,l,o,a,h,u,d)}drawLines(d,c,S,m,g,p,f,w,y){if(d.pushSmoothingModeToAntiAlias(),c.length<2)return;let x=0;for(let u=0;u<c.length-1;u++){let e=c[u],t=c[u+1];if(null==e||null==t)continue;let i=e.x,s=e.y,r=t.x,n=t.y,l=r-i,o=n-s,a=Math.sqrt(l*l+o*o),h=f;while(x<a){let e=i+l*x/a,t=s+o*x/a;this.drawPoint(d,e,t,S,m,g,p,this.marker.icon,w,y,!1,!1,"",null,null),x+=h*S}x-=a}d.popSmoothingMode()}drawPoint(s,e,t,i,r,n,l,o,a,h,u,d,c,S,m){let g=a*i/2,p=e-g,f=e+g,w=t-g,y=t+g;if(null!=o){let e=new _(p,w,a*i,a*i);return void P.a.StiFontIconsHelper.drawDirectionIcons(s,r,e,new Gt(e.height,e.height),o,c,m,!1)}switch(l){case P.d.StiMarkerType.Star5:this.drawPolygon(s,r,n,e,t,g,10,h,!0,u,d,c,S,m);break;case P.d.StiMarkerType.Star6:this.drawPolygon(s,r,n,e,t,g,12,h,!0,u,d,c,S,m);break;case P.d.StiMarkerType.Star7:this.drawPolygon(s,r,n,e,t,g,14,h,!0,u,d,c,S,m);break;case P.d.StiMarkerType.Star8:this.drawPolygon(s,r,n,e,t,g,16,h,!0,u,d,c,S,m);break;case P.d.StiMarkerType.Hexagon:this.drawPolygon(s,r,n,e,t,g,6,30+h,!1,u,d,c,S,m);break;case P.d.StiMarkerType.Rectangle:this.drawPolygon(s,r,n,e,t,g,4,45+h,!1,u,d,c,S,m);break;case P.d.StiMarkerType.Circle:if(d){let e=new Rt(0,0,0,0,0,0,P.d.StiChartHelper.globalDurationElement,I.zero);s.fillDrawAnimationEllipse(r,n,p,w,f-p,y-w,c,S,e,m)}else null!=r&&s.fillEllipse3(r,p,w,f-p,y-w,c,m),u&&s.fillEllipse3(P.d.StiMouseOverHelper.getMouseOverColor(),p,w,f-p,y-w,c,null),null!=n&&s.drawEllipse(n,p,w,f-p,y-w);break;case P.d.StiMarkerType.HalfCircle:{let t=new _(p,w,f-p,y-w),e=new _(0,0,f-p,y-w),i=new G;if(i.push(new Mt(new _(e.x,e.top+e.height/4,e.width,e.height),360,-180)),i.push(new L(new Dt(e.x,e.bottom-e.height/4),new Dt(e.right,e.bottom-e.height/4))),s.pushTranslateTransform(t.x+t.width/2,t.y+t.height/2),s.pushRotateTransform(h),s.pushTranslateTransform(-t.width/2,-t.height/2),d){let e=new Rt(0,0,0,0,0,0,P.d.StiChartHelper.globalDurationElement,I.zero);s.fillDrawAnimationPath(r,n,i,t,S,e,m)}else null!=r&&s.fillPath2(r,i,e,null,c.toString()),u&&s.fillPath2(P.d.StiMouseOverHelper.getMouseOverColor(),i,t,null,c.toString()),null!=n&&s.drawPath(n,i,e);s.popTransform(),s.popTransform(),s.popTransform();break}case P.d.StiMarkerType.Triangle:this.drawPolygon(s,r,n,e,t,g,3,h,!1,u,d,c,S,m);break}}drawPolygon(t,i,s,r,n,l,o,e,a,h,u,d,c,S){let m=[],g=-90+(e=-e),p=R.create(M,o+1,!0);if(a)for(let e=0;e<o;e+=2)p[e].x=r+l*Math.cos(g*Math.PI/180),p[e].y=n+l*Math.sin(g*Math.PI/180),g+=360/o,p[e+1].x=r+l/2*Math.cos(g*Math.PI/180),p[e+1].y=n+l/2*Math.sin(g*Math.PI/180),g+=360/o;else for(let e=0;e<o;e++)p[e].x=r+l*Math.cos(g*Math.PI/180),p[e].y=n+l*Math.sin(g*Math.PI/180),g+=360/o;if(p[o]=p[0],m.push(new Pt(p)),u){let e=new Rt(0,0,0,0,0,0,P.d.StiChartHelper.globalDurationElement,I.zero);t.fillDrawAnimationPath(i,s,m,Ot.getBoundsState,c,e,S)}else{let e=null!=d?d.toString():null;null!=i&&t.fillPath2(i,m,Ot.getBoundsState,null,e),h&&t.fillPath2(P.d.StiMouseOverHelper.getMouseOverColor(),m,Ot.getBoundsState,null,e),null!=s&&t.drawPath(s,m,null)}}constructor(e){this.marker=e}}P.d.StiMarkerCoreXF=ws}{class ys{implements(){return ys.implementsStiRadarAxisCoreXF||(ys.implementsStiRadarAxisCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiRadarAxisCoreXF]),ys.implementsStiRadarAxisCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){}constructor(e){this.axis=e}}P.d.StiRadarAxisCoreXF=ys}{class xs{implements(){return xs.implementsStiRadarAxisLabelsCoreXF||(xs.implementsStiRadarAxisLabelsCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiRadarAxisLabelsCoreXF]),xs.implementsStiRadarAxisLabelsCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.labels.allowApplyStyle&&(this.labels.color=e.core.axisLabelsColor,this.labels.brush=new bt)}constructor(e){this.labels=e}}P.d.StiRadarAxisLabelsCoreXF=xs}{class bs extends P.d.StiRadarAxisCoreXF{implements(){return bs.implementsStiXRadarAxisCoreXF||(bs.implementsStiXRadarAxisCoreXF=[P.d.IStiXRadarAxisCoreXF]),bs.implementsStiXRadarAxisCoreXF}applyStyle(e){this.axis.allowApplyStyle&&this.axis.labels.core.applyStyle(e)}renderLabel(e,t,i,s,r,n,l){let o=this.getLabelText(s),a=this.getLabelRect(e,i,o,0).clone(),h=(a.x=-a.width/2,a.y=-a.height/2,this.getLabelRect(e,i,o,r).clone()),u=this.axis.labels.borderColor,d=new V(this.axis.labels.color);return new P.d.StiXRadarAxisLabelGeom(this.axis,o,d,u,r,a,h,i)}getLabelText(i){try{null==i&&(i="");let t=this.axis;if(null!=t.labels.format&&0!=t.labels.format.trim().length)try{if(!P.d.StiChartOptions.oldChartPercentMode&&t.labels.format[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return t.labels.format.length,k.format("{0}{1:N"+e.toString()+"}{2}{3}",t.labels.textBefore,i,"%",t.labels.textAfter)}return k.format("{0}{1:"+t.labels.format+"}{2}",t.labels.textBefore,i,t.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}return k.format("{0}{1}{2}",t.labels.textBefore,i,t.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}return i.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getLabelRect(e,t,i,s){let r=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom),n=e.getGenericStringFormat();return n.trimming=At.None,this.axis.labels.wordWrap||(n.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap),e.measureRotatedString3(i,r,t,n,j.CenterBottom,s,O.trunc(this.axis.labels.width*e.options.zoom))}get xAxis(){return this.axis}constructor(e){super(e)}}P.d.StiXRadarAxisCoreXF=bs}{class Cs extends P.d.StiRadarAxisCoreXF{implements(){return Cs.implementsStiYRadarAxisCoreXF||(Cs.implementsStiYRadarAxisCoreXF=[P.d.IStiYRadarAxisCoreXF]),Cs.implementsStiYRadarAxisCoreXF}applyStyle(e){this.axis.allowApplyStyle&&(this.yAxis.lineColor=e.core.axisLineColor,this.yAxis.labels.core.applyStyle(e))}render(e,t){if(!this.axis.visible)return null;let i=this.getAxisRect(e,t).clone(),s=new P.d.StiRadarAxisGeom(this.axis,i);return this.renderLabels(e,i,s),s}measureStripLines(c,S){let m=[];if(null!=this.yAxis.info.labelsCollection&&this.yAxis.labels.placement!=P.d.StiLabelsPlacement.None){let d=0;for(let u of this.yAxis.info.labelsCollection){let e=this.getLabelText(u.stripLine),t=u.position,i=c.getGenericStringFormat(),s=N.changeFontSize(this.yAxis.labels.font,this.yAxis.labels.font.size*c.options.zoom),r=this.getTextAlignment(),n,l=-this.yAxis.labels.angle,o=M.empty,a=(r==Se.Left?(n=j.LeftCenter,o=new M(0,t),l=0):(n=j.RightCenter,o=new M(S.width-this.getTicksMaxLength(c)-this.getLabelsSpaceAxis(c),t)),this.yAxis.labels.placement==P.d.StiLabelsPlacement.TwoLines&&0!=(1&d)&&(o.x-=this.getLabelsTwoLinesDestination(c)),c.measureRotatedString3(e,s,o,i,n,l,O.trunc(this.yAxis.labels.width*c.options.zoom))),h=new P.d.StiAxisLabelInfoXF;h.angle=l,h.clientRectangle=a.clone(),h.rotationMode=n,h.textPoint=o,h.text=e,h.stripLine=u.stripLine,m.push(h),d++}}return m}renderLabels(t,i,s){if(this.yAxis.labels.placement!=P.d.StiLabelsPlacement.None){let e=this.measureStripLines(t,i);s.createChildGeoms();for(let t of e)if(!t.clientRectangle.isEmpty){let e=new P.d.StiYRadarAxisLabelGeom(this.yAxis,t.clientRectangle,t.textPoint,t.text,t.stripLine,t.angle,t.rotationMode);s.childGeoms.push(e)}}}calculateStripPositions(t,e){if(e-=t,t=0,null==this.yAxis.info.stripLines||this.yAxis.info.stripLines.count<2)this.yAxis.info.stripPositions=[];else{this.yAxis.info.stripPositions=R.create(Number,this.yAxis.info.stripLines.count),this.yAxis.info.stripPositions[0]=t,this.yAxis.info.stripPositions[this.yAxis.info.stripPositions.length-1]=e;for(let e=1;e<this.yAxis.info.stripPositions.length-1;e++)this.yAxis.info.stripPositions[e]=t+e*this.yAxis.info.step}}getAxisRect(e,t){let i=new E(t.width/2-this.getTicksMaxLength(e),0,this.getTicksMaxLength(e),t.height/2);return i}getTicksMaxLength(e){return this.yAxis.yCore.ticksMaxLength*e.options.zoom}getLabelsSpaceAxis(e){return 5*e.options.zoom}getLabelsTwoLinesDestination(e){return 2*this.yAxis.labels.font.sizeInPoints*e.options.zoom}getTextAlignment(){if(this.yAxis.labels.placement==P.d.StiLabelsPlacement.TwoLines)return Se.Right;return this.yAxis.labels.textAlignment}setTotalNumberCapacity(){let i=this.yAxis.labels.formatService.as(Ft);if(null!=i){let e=this.yAxis.labels.calculatedStep;if(0==e)return;let t=Math.abs(Math.trunc(Math.log10(e)));i.totalNumberCapacity=t,null!=(i=this.yAxis.area.chart.seriesLabels.formatService.as(Ft))&&(i.totalNumberCapacity=t)}}getLabelText(e){let t,i=null!=(t=null==e?void 0:e.valueObject)?t:"";try{if(null!=this.yAxis.labels.formatService)return this.setTotalNumberCapacity(),``+this.yAxis.labels.textBefore+this.yAxis.labels.formatService.format(e.value)+this.yAxis.labels.textAfter;if(null!=this.yAxis.labels.format&&0!=this.yAxis.labels.format.trim().length)try{if(!P.d.StiChartOptions.oldChartPercentMode&&this.yAxis.labels.format[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return this.yAxis.labels.format.length,k.format("{0}{1:N"+e.toString()+"}{2}{3}",this.yAxis.labels.textBefore,i,"%",this.yAxis.labels.textAfter)}return k.format("{0}{1:"+this.yAxis.labels.format+"}{2}",this.yAxis.labels.textBefore,i,this.yAxis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}return k.format("{0}{1}{2}",this.yAxis.labels.textBefore,i,this.yAxis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}return i.toString().replace(".",",")[D.System.StiObject.stimulsoft]().replaceAll(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getStringFormatGeom(e){let t=e.getGenericStringFormat();if(t.trimming=At.None,t.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap,0<this.yAxis.labels.width){let e=this.getTextAlignment();e==Se.Left?t.alignment=X.Near:e==Se.Right?t.alignment=X.Far:e==Se.Center&&(t.alignment=X.Center)}return t}getFontGeom(e){let t=N.changeFontSize(this.yAxis.labels.font,this.yAxis.labels.font.size*e.options.zoom);return t}get yAxis(){return this.axis}get info(){return this.yAxis.info}set info(e){this.yAxis.info=e}get ticksMaxLength(){return this.axis.visible?Math.max(this.yAxis.ticks.visible?this.yAxis.ticks.length:0,this.yAxis.ticks.minorVisible?this.yAxis.ticks.minorLength:0):0}constructor(e){super(e)}}P.d.StiYRadarAxisCoreXF=Cs}let Vt=D.Base.Context.StiSeriesInteractionData;{class As{implements(){return As.implementsStiSeriesCoreXF||(As.implementsStiSeriesCoreXF=[r,P.d.IStiApplyStyleSeries,P.d.IStiSeriesCoreXF]),As.implementsStiSeriesCoreXF}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e,t){this.series.allowApplyStyle&&(this.series.showShadow=e.core.seriesShowShadow,null!=this.series.seriesLabels)&&this.series.seriesLabels.core.applyStyle(e)}checkLabelsRect(e,t,i){return this.checkLabelsRect2(e,t.clientRectangle,i)}checkLabelsRect2(t,i,s){if(null!=t&&t.preventIntersection){s.x<0&&(s.x=0),s.y<0&&(s.y=14),s.right>i.width&&(s.x=i.width-s.width),i.height<s.bottom&&(s.y=i.height-s.height);let e=this.getDrawRectangle(s.clone(),t.angle);if(e.y<0)return s.y=e.height/2,s;e.y+e.height>i.height&&(s.y-=e.height/2)}return s}getDrawRectangle(e,t){let i=new M(e.left,e.top),s=new M(e.right,e.top),r=new M(e.right,e.bottom),n=new M(e.left,e.bottom),l=new M((e.left+e.right)/2,(e.top+e.bottom)/2),o=this.rotatePoint(i,l,t),a=this.rotatePoint(s,l,t),h=this.rotatePoint(r,l,t),u=this.rotatePoint(n,l,t),d=Math.min(Math.min(o.y,a.y),Math.min(h.y,u.y)),c=Math.max(Math.max(o.y,a.y),Math.max(h.y,u.y)),S=Math.min(Math.min(o.x,a.x),Math.min(h.x,u.x)),m=Math.max(Math.max(o.x,a.x),Math.max(h.x,u.x));return new E(S,d,m-S,c-d)}rotatePoint(e,t,i){let s=i*(Math.PI/180),r=Math.cos(s),n=Math.sin(s);return new M(O.trunc(r*(e.x-t.x)-n*(e.y-t.y)+t.x),O.trunc(n*(e.x-t.x)+r*(e.y-t.y)+t.y))}checkIntersectionLabels(o){let t=o.childGeoms,a=[];if(null!=t)for(let e of t)e.is(P.d.StiSeriesLabelsGeom)&&a.push(e);let e=a.length,i=!0,s=0;while(i&&s<29){s++;for(let l=0;l<e;l++)for(let n=0;n<e;n++){if(n==l)continue;let e=this.getDrawRectangle(a[l].clientRectangle.clone(),a[l].seriesLabels.angle),t=this.getDrawRectangle(a[n].clientRectangle.clone(),a[n].seriesLabels.angle),i=!1,s=!1,r=e.height-Math.abs(t.y-e.y)+2;e.intersectsWith(t)&&(s=(i=(e.y>t.y?(e.y+=r/2,t.y-=r/2):(e.y-=r/2,t.y+=r/2),!0),!0)),e.y<0&&(e.y=0,i=!0),t.y<2&&(t.y=0,s=!0),e.y+e.height>o.clientRectangle.height&&(e.y=o.clientRectangle.height-e.height-2,i=!0),t.y+r/2+t.height>o.clientRectangle.height&&(t.y=o.clientRectangle.height-t.height-2,s=!0),i&&(a[l].clientRectangle=this.getDrawRectangle(e.clone(),-a[l].seriesLabels.angle)),s&&(a[n].clientRectangle=this.getDrawRectangle(t.clone(),-a[n].seriesLabels.angle))}}}getLabelRectangle(e,t){let i=Math.pow(Math.pow(t.width,2)+Math.pow(t.height,2),.5),s=Math.atan(t.height/t.width)/Math.PI*180;return e+=s,new E(t.x,t.y,i*Math.cos(e*Math.PI/180),i*Math.sin(e*Math.PI/180))}renderSeries(e,t,i,s){}getSeriesBrush(s,r){if(null==this.series.chart||null==this.series.chart.area)return null;if((this.series.chart.area.colorEach||this.is(P.d.StiBoxAndWhiskerSeriesCoreXF)||this.is(P.d.StiDoughnutSeriesCoreXF)||this.is(P.d.StiSunburstSeriesCoreXF)||this.is(P.d.StiPictorialSeriesCoreXF)||this.is(P.d.StiPictorialStackedSeriesCoreXF)||this.is(P.d.StiWaterfallSeriesCoreXF))&&k.isNullOrEmpty(this.series.autoSeriesColorDataColumn)){let e=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,t=e.getColorByIndex(s,r,this.seriesColors),i=e.getColumnBrush(t);return this.series.chart.area.is(P.d.IStiClusteredBarArea)&&(i.is(Ae)&&(i.angle+=90),i.is(Le))&&(i.angle+=90),i}return null}getSeriesBorderColor(i,s){if(null==this.series.chart||null==this.series.chart.area)return null;if(this.series.chart.area.colorEach&&this.series.allowApplyStyle||this.is(P.d.StiBoxAndWhiskerSeriesCoreXF)||this.is(P.d.StiDoughnutSeriesCoreXF)||this.is(P.d.StiSunburstSeriesCoreXF)||this.is(P.d.StiPictorialStackedSeriesCoreXF)||this.is(P.d.StiHeatmapSeriesCoreXF)){let e=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,t=e.getColorByIndex(i,s,this.seriesColors);return e.getColumnBorder(t)}return null}getSeriesLabels(){if(this.series.showSeriesLabels==P.d.StiShowSeriesLabels.FromChart)return this.series.chart.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.IStiAxisSeriesLabels);if(this.series.showSeriesLabels==P.d.StiShowSeriesLabels.FromSeries)return this.series.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.IStiAxisSeriesLabels);return null}getTag(e){return null!=this.series.tags&&e<this.series.tags.length&&null!=this.series.tags[e]?this.series.tags[e].toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator):""}getInteraction(e,t,i){if(null!=t.core.interaction&&t.core.interaction.drillDownEnabled)return new Vt(e,t,i);return null}get localizedName(){return null}get interaction(){return this.series.interaction}set interaction(e){this.series.interaction=e}constructor(e){this.isDateTimeValues=!1,this.isDateTimeArguments=!1,this.series=e}}As.falseObject={},As.trueObject={},P.d.StiSeriesCoreXF=As}let Et=D.System.Drawing.Point,H=D.Base.Context.Animation.StiOpacityAnimation,Xt=(P.d.StiBoxAndWhiskerSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t),this.series.borderThickness=e.core.seriesBorderThickness)}renderSeries(x,b,C,A){let e=C.area[D.System.StiObject.stimulsoft]().as(P.d.IStiBoxAndWhiskerArea),L=e.xAxis.info.dpi,T=e.yAxis.info.dpi,v=e.xAxis.startFromZero?0:-1,F=e.axisCore.getDividerY(),k=1;for(let e of A){let f=e,w=new G,y=f.brush;if(f.allowApplyBrush&&(y=f.core.getSeriesBrush(k-1,A.length),y=f.processSeriesBrushes(k-1,y)),0<f.values.length){let i=f.values[D.System.StiObject.stimulsoft]().toList().min(),s=f.values[D.System.StiObject.stimulsoft]().toList().max(),e=this.getMedian(f.values),t=this.getFirstQuartile(f.values),r=this.getThirdQuartile(f.values),n=(k+v)*L,l=Math.abs(F-s*T),o=Math.abs(F-i*T),a=Math.abs(F-e*T),h=Math.abs(F-t*T),u=Math.abs(F-r*T),d=new _(n-L/4,o,L/2,l-o),c=ct.toColor(ct.dark(y,30)),S=(w.add([i,new Et(n,o)]),w.add([s,new Et(n,l)]),w.add([e,new Et(n,a)]),w.add([t,new Et(n,h)]),w.add([r,new Et(n,u)]),new G);if(f.showInnerPoints)for(let e of f.values){let t=e;if(t!=i&&t!=s&&!S.contains(t)){let e=Math.abs(F-t*T);S.add(e),w.add([t,new Et(n,e)])}}let m=null;if(f.showMeanMarkers){let e=f.values[D.System.StiObject.stimulsoft]().toList().sum(),t=e/f.values.length;m=Math.abs(F-t*T),w.add([t,new Et(n,m)])}let g=new P.d.StiBoxAndWhiskerSeriesElementGeom(C,f,n,o,l,h,u,a,S[D.System.StiObject.stimulsoft]().toArray(),m,d,y,c,new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/A.length*k)),p=(C.createChildGeoms(),C.childGeoms.push(g),f.core.getSeriesLabels());if(null!=p&&p.visible)for(let i of w){let e=new H(P.d.StiChartHelper.globalBeginTimeElement,I.zero),t=p.core.renderLabel(f,x,i[1],i[1],k,i[0],i[0],i[0].toString(),null,0,1,b,e);null!=t&&(C.createChildGeoms(),C.childGeoms.push(t))}}k++}}getFirstValues(e){let t=this.getMedianIndices(e),i=[],s=1==t.length?t[0]+1:t[1];return R.copy2(e,0,i,0,s),i}getSecondValues(e){let t=this.getMedianIndices(e),i=[],s=1==t.length?t[0]+1:t[1];return R.copy2(e,s-1,i,0,s),i}getThirdQuartile(e){e.sort((e,t)=>e-t);let t=this.getSecondValues(e);return this.getMedian(t)}getFirstQuartile(e){e.sort((e,t)=>e-t);let t=this.getFirstValues(e);return this.getMedian(t)}getMedian(t){t.sort((e,t)=>e-t);let i=this.getMedianIndices(t),s=0;for(let e of i)s+=t[e];return s/i.length}getMedianIndices(t){let i=t.length%2==0?[0,1]:[0];if(1==i.length){let e=Math.ceil(t.length/2)-1;i[0]=e}else{let e=t.length/2-1;i[0]=e,i[1]=e+1}return i}get localizedName(){return d.get("Chart","BoxAndWhisker")}constructor(e){super(e)}},D.Base.Context.Animation.StiLabelAnimation);{class Ls extends P.d.StiSeriesCoreXF{implements(){return Ls.implementsStiBaseLineSeriesCoreXF||(Ls.implementsStiBaseLineSeriesCoreXF=super.implements().concat([P.d.IStiApplyStyleSeries])),Ls.implementsStiBaseLineSeriesCoreXF}applyStyle(t,i){super.applyStyle(t,i);let s=this.series;if(s.allowApplyStyle){if(s.lineColor=i,s.lighting=t.core.seriesLighting,null!=s.marker){let e=s.marker[D.System.StiObject.stimulsoft]().as(P.d.StiMarker);null!=e&&e.extendedVisible!=P.d.StiExtendedStyleBool.FromStyle?s.marker.visible=e.extendedVisible==P.d.StiExtendedStyleBool.True:s.marker.visible=t.core.markerVisible,s.marker.brush=new V(f.light(i,100)),s.marker.borderColor=f.dark(i,100)}null!=s.lineMarker&&(s.lineMarker.brush=new V(f.light(i,50)),s.lineMarker.borderColor=f.dark(i,150))}}clipLinePoints(e,i,s,t,r){let n=t.ref,l=r.ref;if(this.series.chart.area.xAxis.range.auto)return n=0,l=s.length,t.ref=n,r.ref=l,s;n=-1,l=-1;let o=i.view.clientRectangle.clone(),a=(o.x=0,o.y=0,0);for(let t of s){if(null!=t){let e=t;if(e.x+=i.clientRectangle.x,e.y+=i.clientRectangle.y,o.x<=e.x&&e.x<o.right&&-1==n&&(n=a),!(o.x<=e.x&&e.x<o.right)&&-1!=n){l=a;break}}a++}-1==l&&(l=s.length-1),n--,l++,n<0&&(n=0);let h=(l=l>=s.length?s.length-1:l)-n+1;if(h==s.length)return t.ref=n,r.ref=l,s;let u=R.create(M,h,!0);return R.copy(s,n,u,h),t.ref=n,r.ref=l,u}renderMarkers(n,l,e){let o=l.area,a=this.series;if(0==e.length)return;let h=!a.marker.visible&&0<a.toolTips.length;if(null!=a.marker){let r=0;for(let s of e){if(null!=s){let e=o.reverseHor?a.values[a.values.length-r-1]:a.values[r],t=(null==e&&a.showNulls&&(e=0),l.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),new M(s.x,s.y));if(i.x+=l.clientRectangle.x,i.y+=l.clientRectangle.y,t.contains(i.x,i.y)){let t=new P.d.StiMarkerGeom(this.series,r,e,s,a.marker,a.showShadow,n.options.zoom,h);if(null!=t){if(null!=a.core.interaction){let e=this.getInteraction(o,a,r);t.interaction=e}l.createChildGeoms(),l.childGeoms.push(t)}}}r++}}}getInteractions(e,s,r){if(null!=this.series.core.interaction&&this.series.core.interaction.drillDownEnabled){let i=[];for(let t=0;t<r.length;t++){let e=this.getInteraction(s.area,this.series,t);e.point=r[t],i.push(e)}return i}return null}renderLines(e,t,i){}renderAreas(e,t,i){}renderSeries(S,c,m,g){let p,e=m.area;if(null==g||0==g.length||null==this.series.chart)return;let f=e,n=f.xAxis.core.getStartFromZero(),w=(c.width+=.001,0),i=[],y=[],x=[],b=[],C=[];for(let t=0;t<g.length;t++){let o=g[t],e=o.values.length,a=R.create(M,e,!0),h=R.create(M,e,!0),u=R.create(String,e,!0),r=o.valuesStart;for(let s=0;s<e;s++){let e=n?s+1:s;if(e>=f.xAxis.info.stripPositions.length)break;let t=f.xAxis.info.stripPositions[e],i=(a[s]=this.getPointValue(s,o,o.values,f,t),h[s]=this.getPointValue(s,o,r,f,t),f.xAxis.info.stripLines.getByIndex(e).valueObject);u[s]=null==i?"":i[D.System.StiObject.stimulsoft]().toString()}let d=this.getPointsZeroConnect(o,o.values,f),c=this.getPointsNullConnect(o,o.values,f);if(x.push(d),b.push(c),C.push(u),0<a.length){a=P.d.StiPointHelper.optimizePoints(a);let e,t,i={ref:e},s={ref:t},r=this.clipLinePoints(S,m,a,i,s),n=this.clipLinePoints(S,m,h,i,s),l=(e=i.ref,t=s,new P.d.StiSeriesPointsInfo);l.pointsFrom=n,l.points=r,l.pointsZeroConnect=d,l.pointsNullConnect=c,l.pointsIds=u,o.core.renderAreas(S,m,l),this.isTopmostLine(o)||o.core.renderLines(S,m,l)}i.push(a),y.push(h)}let A=0;for(let d of i){let e,t,i={ref:e},s={ref:t},r=this.clipLinePoints(S,m,d,i,s),n=this.clipLinePoints(S,m,y[A],i,s),l=(e=i.ref,t=s.ref,C[A]),o=this.clipLinePoints(S,m,x[A],i,s),a=this.clipLinePoints(S,m,b[A],i,s),h=g[A];if(this.isTopmostLine(g[A])){let e=new P.d.StiSeriesPointsInfo;e.pointsFrom=n,e.points=r,e.pointsZeroConnect=o,e.pointsNullConnect=a,e.pointsIds=l,h.core.renderLines(S,m,e)}h.as(P.d.StiSeries).trendLines.list.forEach(e=>{null!=e&&e.core.renderTrendLine(m,r,f.axisCore.getDividerY())});let u=h.core.getSeriesLabels();if(null!=u&&u.visible)for(let o=e;o<=t;o++)if(h.values.length>o){let r=f.reverseHor?h.values[h.values.length-o-1]:h.values[o],n=r=null==r&&h.showNulls?0:r,l=(f.reverseVert&&null!=r&&(n=-n),w=h.yAxis==P.d.StiSeriesYAxis.LeftYAxis?f.axisCore.getDividerY():f.axisCore.getDividerRightY(),d[o]);if(null!=l){let t=0,i=(null!=h.valuesStart&&h.valuesStart.length>o&&(t=f.reverseHor?h.valuesStart[h.values.length-o-1]:h.valuesStart[o]),new M(l.x,w)),s=null;if(this.series.chart.isAnimationChangingValues&&u.valueType==P.d.StiSeriesLabelsValueType.Value)if(u.valueType==P.d.StiSeriesLabelsValueType.Value&&k.isNullOrEmpty(u.format)&&null!=(p=u.formatService)&&p.is(de)){let e=y[A].length>o?y[A][o]:null;s=new Xt(t,r,e,l,P.d.StiChartHelper.globalBeginTimeElement,I.zero)}else s=new H(P.d.StiChartHelper.globalBeginTimeElement,I.zero);if(0==u.step||o%u.step==0){let e=f.xAxis.startFromZero?o+1:o,t=u.core.renderLabel(h,S,this.correctPoint(l,c,h.labelsOffset*S.options.zoom),this.correctPoint(i,c,h.labelsOffset*S.options.zoom),o,n,r,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(e),h),h.core.getTag(o),0,1,c,s);null!=t&&(m.createChildGeoms(),m.childGeoms.push(t),t.clientRectangle=this.checkLabelsRect(u,m,t.clientRectangle))}}}A++}m.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(m)}getPointsZeroConnect(e,i,t){let s=new G;if(P.d.StiShowEmptyCellsAsHelper.seriesIsEmtyCellsAs(e.as(P.d.StiSeries))&&e.is(wt)&&e.showZerosAs!=P.d.StiShowEmptyCellsAs.ConnectPointsWithLine)return s;let r=new G,n=new G;for(let t=0;t<i.length;t++){let e=i[t];0==e?(n.add(t),1==n.length&&r.add(n)):n=new G}return s=this.getPointConnect(e,i,t,r)}getPointsNullConnect(e,i,t){let s=new G;if(P.d.StiShowEmptyCellsAsHelper.seriesIsEmtyCellsAs(e.as(P.d.StiSeries))&&e.is(ft)&&e.showNullsAs!=P.d.StiShowEmptyCellsAs.ConnectPointsWithLine)return s;let r=new G,n=new G;for(let t=0;t<i.length;t++){let e=i[t];null==e?(n.add(t),1==n.length&&r.add(n)):n=new G}return s=this.getPointConnect(e,i,t,r)}getPointConnect(o,a,h,e){let u=new G;for(let l of e){let t=l[0]-1,i=l[l.length-1]+1,s=0,r=0;if(0<=t&&t<a.length){s=a[t];let e=this.getPointValue2(o,h,s,t);u.add(e)}let n=((r=0<=i&&i<a.length?a[i]:r)-s)/(l.length+1);for(let i=0;i<l.length;i++){let e=s+n*(i+1),t=this.getPointValue2(o,h,e,l[i]);u.add(t)}if(0<=i&&i<a.length){let e=this.getPointValue2(o,h,r,i);u.add(e)}u.add(null)}return u}getPointValue2(e,t,i,s){if((s=t.xAxis.core.getStartFromZero()?s+1:s)>=t.xAxis.info.stripPositions.length)return M.empty;let r=t.xAxis.info.stripPositions[s],n=0;return n=e.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-i*t.yAxis.info.dpi+t.axisCore.getDividerY():-i*t.yRightAxis.info.dpi+t.axisCore.getDividerRightY(),new M(r,n)}getPointValue(e,t,i,s,r){let n=0;return i.length>e&&(n=s.reverseHor?i[i.length-e-1]:i[e]),this.getPointValue1(n,t,s,r)}getPointValue1(e,t,i,s){let r=t.is(P.d.StiStackedAreaSeries)||t.is(P.d.StiStackedSplineAreaSeries)||t.is(P.d.StiSteppedAreaSeries);if(0==e&&!t.showZeros&&!r)return null;if(null==e&&!t.showNulls&&!r)return null;null==e&&t.showNulls&&(e=0),i.reverseVert&&null!=e&&(e=-e);
let n=0;return n=t.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-e*i.yAxis.info.dpi+i.axisCore.getDividerY():-e*i.yRightAxis.info.dpi+i.axisCore.getDividerRightY(),new M(s,n)}isTopmostLine(e){if(e.is(P.d.IStiSplineAreaSeries))return e.topmostLine;if(e.is(P.d.IStiSteppedAreaSeries))return e.topmostLine;if(e.is(P.d.IStiAreaSeries))return e.topmostLine;return!0}correctPoint(e,t,i){if(e.y+i<0)return new M(e.x,0);if(e.y+i>t.height)return new M(e.x,t.height);return new M(e.x,e.y+i)}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s){if(this.series[D.System.StiObject.stimulsoft]().is(P.d.StiBubbleSeries)){let e=this.series;return e.brush}return new V(f.dark(i.lineColor,20))}if(null==s)return new V(f.dark(i.lineColor,20));return s}getSeriesBorderColor(e,t){let i=this.series,s=super.getSeriesBorderColor(e,t);if(null==s){if(this.series[D.System.StiObject.stimulsoft]().is(P.d.StiBubbleSeries)){let e=this.series;return e.borderColor}return i.lineColor}return s}constructor(e){super(e)}}P.d.StiBaseLineSeriesCoreXF=Ls}P.d.StiScatterSeriesCoreXF=class extends P.d.StiBaseLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiBaseLineSeries);i.allowApplyStyle&&!e.core.markerVisible&&(i.marker.visible=!0)}renderLines(e,t,i){this.renderMarkers(e,t,i.points)}renderSeries(h,u,d,c){if(null==c||0==c.length||null==this.series.chart)return;let S=d.area,m=0,l=[],g=[];for(let i=0;i<c.length;i++){let s=c[i],e=Math.min(s.values.length,s.arguments.length),t=R.create(M,e,!0),r=R.create(String,e,!0),n=s.arguments[D.System.StiObject.stimulsoft]().getKeys();for(let i=0;i<e;i++){let h=s.values[i];if(0==(h=null==h&&this.series.showNulls?0:h)&&!this.series.showZeros){t[i]=null,r[i]="_zero_";continue}if(null!=h){S.reverseVert&&null!=h&&!S.yAxis.logarithmicScale&&(h=-h);let l=0;if(S.yAxis.logarithmicScale){let e=S.yAxis.info.stripLines.count,t=0,i=e-1,s=S.yAxis.info.stripLines.getByIndex(t).value,r=S.yAxis.info.stripLines.getByIndex(i).value,n=Math.abs(u.height/(O.log10(r)-O.log10(s)));l=Math.abs(O.log10(S.yAxis.info.stripLines.getByIndex(t).value)*n-O.log10(h)*n)}else l=s.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-h*S.yAxis.info.dpi+S.axisCore.getDividerY():-h*S.yRightAxis.info.dpi+S.axisCore.getDividerRightY();let o=null;if(s.arguments[D.System.StiObject.stimulsoft]().getByIndex(i,n)instanceof y){let e=s.arguments[D.System.StiObject.stimulsoft]().getByIndex(i,n);o=e.toOADate()[D.System.StiObject.stimulsoft]().toNumber()}else try{if(null==s.arguments[D.System.StiObject.stimulsoft]().getByIndex(i,n))o=null;else{let t=s.arguments[D.System.StiObject.stimulsoft]().getByIndex(i,n);if(null==t)o=null;else if("string"==typeof t){let e={ref:0};o=P.d.StiSeries.tryParseValue(t,s.chart.report.getParsedCulture(),e)?e.ref:null}else o=xt.changeType(t,Number)}}catch(e){o=null}if(null==(o=null==o&&this.series.showNulls?0:o)||0==o&&!this.series.showZeros){t[i]=null,r[i]="_zero_";continue}let a=0;if(S.xAxis.logarithmicScale&&0<S.xAxis.info.stripLines.count){let e=S.xAxis.info.stripLines.count,t=S.reverseHor?e-1:0,i=S.reverseHor?0:e-1,s=S.xAxis.info.stripLines.getByIndex(t).value,r=S.xAxis.info.stripLines.getByIndex(i).value,n=Math.abs(u.width/(O.log10(r)-O.log10(s)));a=O.log10(o)*n-O.log10(S.xAxis.info.stripLines.getByIndex(t).value)*n}else a=(o-S.xAxis.info.minimum)*S.xAxis.info.dpi;S.reverseHor&&(a=u.width-a),Number.isFinite(a)&&Number.isFinite(l)?(t[i]=new M(a,l),r[i]=o[D.System.StiObject.stimulsoft]().toString()):(t[i]=null,r[i]="_zero_")}else t[i]=null,r[i]="_zero_"}s.showNullsAs==P.d.StiShowEmptyCellsAs.ConnectPointsWithLine&&(t=t[D.System.StiObject.stimulsoft]().toList().where(e=>null!=e).toList()[D.System.StiObject.stimulsoft]().toArray(),r=r[D.System.StiObject.stimulsoft]().toList().where(e=>null!=e).toList()[D.System.StiObject.stimulsoft]().toArray()),l.push(t),g.push(r)}let i=0;for(let t of l){let l=c[i],o=l.arguments[D.System.StiObject.stimulsoft]().getKeys(),e=new P.d.StiSeriesPointsInfo,a=(e.points=t,e.pointsIds=g[i],l.core.renderLines(h,d,e),l[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).trendLines.list.forEach(e=>{null!=e&&e.core.renderTrendLine(d,t,S.axisCore.getDividerY())}),l.core.getSeriesLabels());if(null!=a&&a.visible)for(let n=0;n<t.length;n++){let i=l.values[n],s=i,r=(S.reverseVert&&null!=i&&(s=-s),m=l.yAxis==P.d.StiSeriesYAxis.LeftYAxis?S.axisCore.getDividerY():S.axisCore.getDividerRightY(),t[n]);if(null!=r){let t=new M(r.x,m);if((u.contains(t.x,t.y)||t.y==u.bottom||u.contains(r.x,r.y))&&(0==a.step||n%a.step==0)){let e=a.core.renderLabel(l,h,this.correctPoint(r,u,l.labelsOffset*h.options.zoom),this.correctPoint(t,u,l.labelsOffset*h.options.zoom),n,s,i,l.arguments[D.System.StiObject.stimulsoft]().getByIndex(n,o).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),l.core.getTag(n),0,1,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(a,d,e.clientRectangle.clone()))}}}i++}d.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(d)}get localizedName(){return d.get("Chart","Scatter")}constructor(e){super(e)}},P.d.StiBubbleSeriesCoreXF=class extends P.d.StiScatterSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t),this.series.borderColor=e.core.getColumnBorder(t),this.series.borderThickness=e.core.seriesBorderThickness)}renderLines(e,t,i){}renderBubbles(e,o,a,h,t){let i=0,u=0;for(let e of a.chart.series.list){let t=e;if(null==t)continue;for(let e of t.weights)i=0==u?e:Math.max(e,i),u++}let d=o.area,s=Math.min(d.xAxis.info.step,d.yAxis.info.step)*a.bubbleScale/100,c=s/i,S=P.d.StiChartHelper.globalBeginTimeElement;u=0;for(let l of t){let n=h[u];if(null!=n&&0<l){let e=l*c,t=new E(n.x-e/2,n.y-e/2,e,e),i=this.getSeriesBrush(u,h.length),s=a.core.getSeriesBorderColor(u,h.length),r=new P.d.StiBubbleSeriesElementGeom(o,l,u,i,s,a,t,new I(S.ticks/d.core.valuesCount*u));if(null!=a.core.interaction){let e=this.getInteraction(d,a,u);r.interaction=e}o.createChildGeoms(),o.childGeoms.push(r)}u++}}renderSeries(h,u,d,c){if(null==c||0==c.length||null==this.series.chart)return;let S=d.area,m=0,g=[],p=[];for(let t=0;t<c.length;t++){let r=c[t],e=Math.min(r.values.length,r.arguments.length),n=[],l=[];for(let s=0;s<e;s++){let e=r.values[s],t=(null==e&&r.showNulls&&(e=0),S.reverseVert&&null!=e&&(e=-e),0),i=(t=r.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-e*S.yAxis.info.dpi+S.axisCore.getDividerY():-e*S.yRightAxis.info.dpi+S.axisCore.getDividerRightY(),null);if(r.arguments[s]instanceof y){let e=r.arguments[s];i=e.toOADate()[D.System.StiObject.stimulsoft]().toNumber()}else try{null!=r.arguments[s]&&r.arguments[s]!=v.value&&(i=r.arguments[s][D.System.StiObject.stimulsoft]().toNumber())}catch(e){D.System.StiError.showError(e,!1),i=null}if(null==i&&r.showNulls&&(i=0),null!=e&&null!=i){let e=(i-S.xAxis.info.minimum)*S.xAxis.info.dpi;S.reverseHor&&(e=u.width-e),n.push(new M(e,t))}else n.push(null);l.push(s<r.weights.length?r.weights[s]:0)}g.push(n),p.push(l)}for(let s=0;s<g.length;s++){let e=p[s],l=g[s],o=c[s],t=(o.core.renderBubbles(h,d,o,l,e),o[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).trendLines),i=R.create(M,l.length,!0);l[D.System.StiObject.stimulsoft]().copyTo(i);for(let e of t.list)e.core.renderTrendLine(d,i,S.axisCore.getDividerY());let a=o.core.getSeriesLabels();if(null!=a&&a.visible)for(let n=0;n<l.length;n++){let i=o.values[n],s=i,r=(S.reverseVert&&null!=s&&(s=-s),m=o.yAxis==P.d.StiSeriesYAxis.LeftYAxis?S.axisCore.getDividerY():S.axisCore.getDividerRightY(),l[n]);if(null!=r){let t=new M(r.x,m);if((u.contains(t.x,t.y)||t.y==u.bottom||u.contains(r.x,r.y))&&(0==a.step||n%a.step==0)){let e=a.core.renderLabel2(o,h,this.correctPoint(r,u,o.labelsOffset*h.options.zoom),this.correctPoint(t,u,o.labelsOffset*h.options.zoom),n,s,i,o.arguments[n].toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),o.core.getTag(n),o.weights[n],n,l.length,u);null!=e&&(d.createChildGeoms(),d.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(a,d,e.clientRectangle))}}}}}get localizedName(){return d.get("Chart","Bubble")}constructor(e){super(e)}},P.d.StiClusteredColumnSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t),this.series.borderColor=e.core.getColumnBorder(t),this.series.borderThickness=e.core.seriesBorderThickness,this.series.cornerRadius=e.core.seriesCornerRadius)}renderSeries(S,m,g,t){let p,f=[],i=g.area;if(null==t||0==t.length||null==this.series.chart)return;let w=i,s=!0;if(i.is2(P.d.IStiClusteredColumnArea)){let e=i;s=e.sideBySide}let r=w.xAxis.core.getStartFromZero(),y=w.axisCore.getDividerY(),x=0,b=w.axisCore.valuesCount*t.length,C=[];for(let e=0;e<t.length;e++)C.push([]);let n=0;if(s)for(let e of t)n+=w.xAxis.info.step/t.length*e.width;for(let c=0;c<w.axisCore.valuesCount;c++){let u=this.measureLeftPosition(w,c,n,r),d=0;w.reverseHor&&(d=t.length-1);while(d<t.length&&!w.reverseHor||0<=d&&w.reverseHor){let o=t[d],a=s?w.xAxis.info.step/t.length*o.width:w.xAxis.info.step*o.width,e=2*S.options.zoom;if(a<e&&(a=e),!s){let e=r?c+1:c;u=w.xAxis.info.step*e-a/2}let h=o.valuesStart;if(c<o.values.length){let l=this.getSeriesCurrentValue(w,o,c),s=this.getColumnRect(S,o,l,u,a),t=this.getSeriesValueStart(w,o.valuesStart,c),e=this.getSeriesValueStart(w,h,c),r=this.getColumnRect(S,o,null!=e?e:0,u,a);for(let e of o.as(P.d.StiSeries).trendLines.list)if(!e.is(P.d.IStiTrendLineNone)){C[d].push(new M(u+a/2,s.y));break}let i=g.view.clientRectangle.clone(),n=(i.x=0,i.y=0,s.clone());if(n.x+=g.clientRectangle.x,n.y+=g.clientRectangle.y,n.right>i.x&&n.x<i.right||this.series.chart.area.xAxis.range.auto){let e=this.getSeriesBrush2(o,l,x,b,c),i=o.core.getSeriesBorderColor(x,b);if(null!=this.series.chart&&null!=this.series.chart.style&&0<s.height){let t=new P.d.StiClusteredColumnSeriesElementGeom(g,l,c,e,i,o,s,r);if(null!=o.core.interaction){let e=this.getInteraction(w,o,c);t.interaction=e}g.createChildGeoms(),g.childGeoms.push(t)}let n=o.core.getSeriesLabels();if(null!=n&&n.visible){let i=this.getPointEnd(o,l,u,a),s=0,r=(null!=l&&(s=w.reverseVert?-l:l),null);if(this.series.chart.isAnimationChangingValues)if(n.valueType==P.d.StiSeriesLabelsValueType.Value&&k.isNullOrEmpty(n.format)&&null!=(p=n.formatService)&&p.is(de)){let e=this.getPointEnd(o,t,u,a);r=new Xt(t,l,new M(e.x,e.y),new M(i.x,i.y),P.d.StiChartHelper.globalBeginTimeElement,I.zero)}else r=new H(P.d.StiChartHelper.globalBeginTimeElement,I.zero);if(0==n.step||c%n.step==0){let e=w.xAxis.startFromZero?c+1:c,t=n.core.renderLabel(o,S,this.correctPoint(i,m),this.correctPoint(new M(i.x,y),m),c,l,s,w.axisCore.getArgumentLabel(w.xAxis.info.stripLines.getByIndex(e),o),o.core.getTag(c),x,b,m,r);null!=t&&(f.push(t),t.clientRectangle=this.checkLabelsRect(n,g,t.clientRectangle))}}}}u+=a,x++,w.reverseHor?d--:d++}}for(let i=0;i<t.length;i++)t[i].trendLines.list.forEach(t=>{if(!t.is2(P.d.IStiTrendLineNone)){let e=C[i];null!=t&&t.core.renderTrendLine(g,e[D.System.StiObject.stimulsoft]().toArray(),w.axisCore.getDividerY())}});for(let e of f)g.createChildGeoms(),g.childGeoms.push(e);g.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(g)}getPointEnd(e,t,i,s){let r,n=e.chart.area,l=n.axisCore.getDividerY(),o=n.axisCore.getDividerRightY();return r=e.yAxis==P.d.StiSeriesYAxis.LeftYAxis?new M(i+s/2,-(t*n.yAxis.info.dpi)+l):new M(i+s/2,-(t*n.yRightAxis.info.dpi)+o)}getColumnRect(e,t,i,s,r){let n=t.chart.area,l=0,o=0,a=n.axisCore.getDividerY(),h=n.axisCore.getDividerRightY();return o=t.yAxis==P.d.StiSeriesYAxis.LeftYAxis?(n.reverseVert,-(l=i*n.yAxis.info.dpi)+a):-(l=i*n.yRightAxis.info.dpi)+h,!t.showZeros||0!=i&&null!=i||(l=Math.max(e.options.zoom,2),n.reverseVert)||(o-=l),i<0&&(o=t.yAxis==P.d.StiSeriesYAxis.LeftYAxis?a:h,l=-l),new E(s,o,r,l)}correctPoint(e,t){if(e.y<0)return new M(e.x,0);if(e.y>t.height)return new M(e.x,t.height);return e}getSeriesBrush(e,t){let i=super.getSeriesBrush(e,t);if(null==i)return this.series.brush;return i}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return this.series.borderColor;return i}measureLeftPosition(e,t,i,s){let r=s?e.xAxis.info.stripPositions[t+1]:e.xAxis.info.stripPositions[t],n=(r-=e.xAxis.info.step/2)+(e.xAxis.info.step-i)/2;return n}getSeriesCurrentValue(e,t,i){let s=e.reverseHor?t.values[t.values.length-i-1]:t.values[i];return s=e.reverseVert&&null!=s?-s:s}getSeriesValueStart(e,t,i){let s=null;return s=this.series.chart.isAnimationChangingValues&&(null!=t&&t.length>i&&(s=e.reverseHor?t[t.length-i-1]:t[i]),e.reverseVert)&&null!=s?-s:s}getSeriesBrush2(e,t,i,s,r){let n=e.core.getSeriesBrush(i,s);return e.allowApplyBrushNegative&&t<0&&(n=e.brushNegative),n=e.processSeriesBrushes(r,n)}get localizedName(){return d.get("Chart","ClusteredColumn")}constructor(e){super(e)}};{class Ts extends P.d.StiClusteredColumnSeriesCoreXF{implements(){return Ts.implementsStiClusteredBarSeriesCoreXF||(Ts.implementsStiClusteredBarSeriesCoreXF=super.implements().concat([P.d.IStiApplyStyleSeries])),Ts.implementsStiClusteredBarSeriesCoreXF}applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.brush.is(Ae)&&(i.brush.angle+=90),i.brush.is(Le)&&(i.brush.angle+=90),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(p,f,n,s){let l,w,y=[],e=n.area;if(null==s||0==s.length||null==this.series.chart)return;let x=e,o=!0,t=e,b=(t&&(o=t.sideBySide),x.yAxis.core.getStartFromZero()),C=x.axisCore.getDividerX(),A=x.axisCore.getDividerTopX(),L=x.axisCore.valuesCount*s.length,T=x.reverseVert?L-1:0,v=x.axisCore.valuesCount,F=[];for(let e=0;e<s.length;e++)F.push([]);let r=s[D.System.StiObject.stimulsoft]().getKeys();for(let g=0;g<v;g++){let e=b?x.yAxis.info.stripPositions[g+1]-x.yAxis.info.step/2:x.yAxis.info.stripPositions[g]-x.yAxis.info.step/2,t=0;if(o)for(let e of s)t+=x.yAxis.info.step/s.length*e.width;let S=e+(x.yAxis.info.step-t)/2,i=0,m=(x.reverseVert&&(i=s.length-1),P.d.StiChartHelper.globalBeginTimeElement);while(i<s.length&&!x.reverseVert||0<=i&&x.reverseVert){let d=s[D.System.StiObject.stimulsoft]().getByIndex(i,r),c=o?x.yAxis.info.step/s.length*d.width:x.yAxis.info.step*d.width;if(g<d.values.length){let a=-(x.reverseVert?d.values[g]:d.values[d.values.length-g-1]);if(!o){let e=b?g+1:g;S=x.yAxis.info.step*e-c/2}let t=a*x.xAxis.info.dpi,s=this.getBarRect(p,d,a,S,c),r=_.empty,h=null;this.series.chart.isAnimationChangingValues&&((null==(l=d.valuesStart)?void 0:l.length)>g&&(h=-(x.reverseVert?d.valuesStart[g]:d.valuesStart[d.valuesStart.length-g-1])),r=x.reverseHor?a<0?_.fromLTRB(s.right,s.top,s.right,s.bottom):_.fromLTRB(s.left,s.top,s.left,s.bottom):0<=a?_.fromLTRB(s.right,s.top,s.right,s.bottom):_.fromLTRB(s.left,s.top,s.left,s.bottom));for(let e of d.as(P.d.StiSeries).trendLines.list)if(!e.is(P.d.IStiTrendLineNone)){F[i].push(new M(t,S+c/2));break}let u=n.view.clientRectangle.clone(),e=(u.x=0,u.y=0,s.clone());if(e.x+=n.clientRectangle.x,e.y+=n.clientRectangle.y,e.bottom>u.y&&e.y<u.bottom||this.series.chart.area.yAxis.range.auto){if(null!=this.series.chart&&null!=this.series.chart.style&&0<s.width){let e=d.core.getSeriesBrush(T,L),t=(d.allowApplyBrushNegative&&0<a&&(e=d.brushNegative),e=d.processSeriesBrushes(v-1-g,e),d.core.getSeriesBorderColor(T,L)),i=new P.d.StiClusteredBarSeriesElementGeom(n,h,x.reverseHor?-a:a,g,e,t,d,r,s);if(null!=d.core.interaction){let e=this.getInteraction(x,d,v-1-g);i.interaction=e}n.createChildGeoms(),n.childGeoms.push(i)}let o=d.core.getSeriesLabels();if(null!=o&&o.visible){let i=a,s=(null!=a&&(i=x.reverseHor?a:-a),d.yAxis==P.d.StiSeriesYAxis.RightYAxis?A:C),r=(d.yAxis==P.d.StiSeriesYAxis.RightYAxis?x.xTopAxis:x.xAxis).info.dpi,n=new M(i*r+s,S+c/2),l=null;if(this.series.chart.isAnimationChangingValues)if(o.valueType==P.d.StiSeriesLabelsValueType.Value&&k.isNullOrEmpty(o.format)&&null!=(w=o.formatService)&&w.is(de)){let e=new M(-(h*r)+s,S+c/2),t=null,i=null;null!=h&&(t=x.reverseHor?h:-h),null!=a&&(i=x.reverseHor?a:-a),l=new Xt(t,i,new M(e.x,e.y),new M(n.x,n.y),m,I.zero)}else l=new H(P.d.StiChartHelper.globalBeginTimeElement,I.zero);if(0==o.step||g%o.step==0){let e=x.yAxis.startFromZero?g+1:g,t=o.core.renderLabel(d,p,this.correctPoint(n,f),this.correctPoint(new M(C,n.y),f),g,a,x.reverseHor?-i:i,x.axisCore.getArgumentLabel(x.yAxis.info.stripLines.getByIndex(e),d),d.core.getTag(v-1-g),T,L,f,l);null!=t&&(y.push(t),t.clientRectangle=this.checkLabelsRect2(o,u,t.clientRectangle))}}}}S+=c,T=x.reverseVert?T-1:T+1,x.reverseVert?i--:i++}}for(let i=0;i<s.length;i++)s[D.System.StiObject.stimulsoft]().getByIndex(i,r).trendLines.list.forEach(t=>{if(!t.is2(P.d.IStiTrendLineNone)){let e=F[i];null!=t&&t.core.renderTrendLine(n,e[D.System.StiObject.stimulsoft]().toArray(),x.axisCore.getDividerY())}});for(let e of y)n.createChildGeoms(),n.childGeoms.push(e)}getBarRect(e,t,i,s,r){let n=t.chart.area,l=n.axisCore.getDividerX(),o=n.axisCore.getDividerTopX(),a=t.yAxis==P.d.StiSeriesYAxis.RightYAxis?o:l,h=(t.yAxis==P.d.StiSeriesYAxis.RightYAxis?n.xTopAxis:n.xAxis).info.dpi,u=i*h,d=-u+a;return!this.series.showZeros||0!=i&&null!=i||(u=Math.max(e.options.zoom,2)),i<0&&(d=a,u=-u),new _(d,s,u,r)}correctPoint(e,t){if(e.x<0)return new M(0,e.y);if(e.x>t.width)return new M(t.width,e.y);return e}get localizedName(){return d.get("Chart","ClusteredBar")}constructor(e){super(e)}}P.d.StiClusteredBarSeriesCoreXF=Ts}P.d.StiLineSeriesCoreXF=class extends P.d.StiBaseLineSeriesCoreXF{renderLines(t,i,s){if(null!=s.points&&1<s.points.length){let e=new P.d.StiLineSeriesGeom(i,s,this.series);i.createChildGeoms(),i.childGeoms.push(e),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,s.points))}this.renderMarkers(t,i,s.points)}get localizedName(){return d.get("Chart","Line")}constructor(e){super(e)}},P.d.StiAreaSeriesCoreXF=class extends P.d.StiLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiAreaSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s))}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}get localizedName(){return d.get("Chart","Area")}constructor(e){super(e)}},P.d.StiHistogramSeriesCoreXF=class extends P.d.StiClusteredColumnSeriesCoreXF{get localizedName(){return d.get("Chart","Histogram")}constructor(e){super(e)}},P.d.StiParetoSeriesCoreXF=class extends P.d.StiClusteredColumnSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;this.series.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.lighting=e.core.seriesLighting,i.marker.visible=e.core.markerVisible,i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius,null!=i.marker&&(i.marker.brush=new V(f.light(t,100)),i.marker.borderColor=f.dark(t,100)),null!=i.lineMarker)&&(i.lineMarker.brush=new V(f.light(t,50)),i.lineMarker.borderColor=f.dark(t,150)),i.allowApplyLineColor||(i.lineColor=f.light(t,50))}renderSeries(e,t,i,s){if(null==s||0==s.length||null==this.series.chart)return;super.renderSeries(e,t,i,s),this.renderLinePareto(e,t,i,s)}renderLinePareto(e,t,i,s){let r=i.area,c=r,S=c.xAxis.core.getStartFromZero(),n=(t.width+=.001,[]),l=[],m=[];for(let t=0;t<s.length;t++){let o=s[t],a=this.getParetoValues(o.values),e=o.values.length,h=R.create(M,e,!0),u=R.create(M,e,!0),d=R.create(String,e,!0);for(let l=0;l<e;l++){let e=S?l+1:l;if(e>=c.xAxis.info.stripPositions.length)break;let t=c.xAxis.info.stripPositions[e],i=c.reverseHor?a[a.length-l-1]:a[l],s=(h[l]=this.getPointValue(i,o,c,t),this.getParetoValues(o.valuesStart)),r=0,n=(s.length>l&&(r=c.reverseHor?s[s.length-l-1]:s[l]),u[l]=this.getPointValue(r,o,c,t),c.xAxis.info.stripLines.getByIndex(e).valueObject);d[l]=null==n?"":n[D.System.StiObject.stimulsoft]().toString()}if(0<h.length){h=P.d.StiPointHelper.optimizePoints(h);let e=new P.d.StiSeriesPointsInfo;e.pointsFrom=u,e.points=h,e.pointsIds=d,this.renderLines(i,e,o)}n.push(h),this.series.chart.isAnimationChangingValues&&(l.push(u),m.push(d))}}renderLines(t,i,s){if(null!=i.points&&1<i.points.length){let e=new P.d.StiLineSeriesGeom(t,i,s);t.createChildGeoms(),t.childGeoms.push(e)}}getParetoValues(t){let i=new G,s=new G,r=0;for(let e of t)r+=e,i.push(r);for(let t of i){let e=t/r*100;s.push(e)}return s}getPointValue(e,t,i,s){let r=-(e=i.reverseVert&&null!=e?-e:e)*i.yRightAxis.info.dpi+i.axisCore.getDividerRightY();return new M(s,r)}get localizedName(){return d.get("Chart","ClusteredColumn")}constructor(e){super(e)}},P.d.StiSplineSeriesCoreXF=class extends P.d.StiBaseLineSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiSplineSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s)),null!=this.interaction&&(s.interactions=this.getInteractions(e,t,i.points)),this.renderMarkers(e,t,i.points)}get localizedName(){return d.get("Chart","Spline")}constructor(e){super(e)}},P.d.StiSplineAreaSeriesCoreXF=class extends P.d.StiSplineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiSplineAreaSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s))}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}get localizedName(){return d.get("Chart","SplineArea")}constructor(e){super(e)}},P.d.StiSteppedLineSeriesCoreXF=class extends P.d.StiBaseLineSeriesCoreXF{renderLines(t,i,s){let e=this.series;if(1<s.points.length||e.pointAtCenter&&0<s.points.length){let e=new P.d.StiSteppedLineSeriesGeom(i,s,this.series);null!=e&&(i.createChildGeoms(),i.childGeoms.push(e)),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,s.points))}this.renderMarkers(t,i,s.points)}get localizedName(){return d.get("Chart","SteppedLine")}constructor(e){super(e)}},P.d.StiSteppedAreaSeriesCoreXF=class extends P.d.StiSteppedLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){let s=this.series;if(null==i.points||0==i.points.length||1==i.points.length&&!s.pointAtCenter)return;let r=new P.d.StiSteppedAreaSeriesGeom(t,i,this.series);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r))}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}get localizedName(){return d.get("Chart","SteppedArea")}constructor(e){super(e)}};let Nt=P.e.StiChart,jt=(P.d.StiWaterfallSeriesCoreXF=class extends P.d.StiClusteredColumnSeriesCoreXF{renderSeries(e,t,i,s){if(null==s||0==s.length||null==this.series.chart)return;this.renderColumns(e,t,i,s)}getSumSeriesWidth(t,i){let s=0;for(let e of i)s+=t.xAxis.info.step/i.length*e.width;return s}getDividerYSeries(e,t){let i=e.axisCore.getDividerY(),s=[];for(let e=0;e<t.length;e++)s[e]=i;return s}renderColumns(m,g,p,t){let f=p.area,w=new G,y=f,x=this.getDividerYSeries(y,t),b=0,C=y.axisCore.valuesCount*t.length,i=this.getSumSeriesWidth(y,t);for(let S=0;S<y.axisCore.valuesCount;S++){let e=y.xAxis.core.getStartFromZero()?y.xAxis.info.stripPositions[S+1]:y.xAxis.info.stripPositions[S],d=(e-=y.xAxis.info.step/2)+(y.xAxis.info.step-i)/2,c=y.reverseHor?t.length-1:0;while(c<t.length&&!y.reverseHor||0<=c&&y.reverseHor){let h=t[c],u=y.xAxis.info.step/t.length*h.width;if(S<h.values.length){let o=y.reverseHor?h.values[h.values.length-S-1]:h.values[S],a=(null==o&&(u=0),y.reverseVert&&null!=o&&(o=-o),S==h.values.length-1),e=a&&h.total.visible?y.axisCore.getDividerY():x[c],t={ref:e},i={ref:x[c]},r=a&&h.total.visible?this.getColumnRect(m,h,o,d,u,t):this.getColumnRect(m,h,o,d,u,i);e=t.ref,x[c]=i.ref;let s,n=(s=o<0?_.fromLTRB(r.left,r.top,r.right,r.top):_.fromLTRB(r.left,r.bottom,r.right,r.bottom),p.as(P.d.StiAxisAreaGeom).view.clientRectangle.clone()),l=(n.x=0,n.y=0,r);if(l.x+=p.clientRectangle.x,l.y+=p.clientRectangle.y,n.x<l.right&&l.x<n.right||this.series.chart.area[D.System.StiObject.stimulsoft]().as(P.d.IStiAxisArea).xAxis.range.auto){let t,i;if(i=f.colorEach?(t=h.core.getSeriesBrush(b,C),h.allowApplyBrushNegative&&o<0&&(t=h.brushNegative),t=h.processSeriesBrushes(S,t),h.core.getSeriesBorderColor(b,C)):(t=!h.connectorLine.visible||a&&h.total.visible?h.core.getSeriesBrush(2,3):h.core.getSeriesBrush(0,3),o<0&&(t=h.allowApplyBrushNegative?h.brushNegative:h.core.getSeriesBrush(1,3)),t=h.processSeriesBrushes(S,t),t=ct.light(t,10*c),h.core.getSeriesBorderColor(0,3)),null!=this.series.chart&&null!=this.series.chart.style&&0<r.height){let e=null;if(0<r.height&&(e=new P.d.StiClusteredColumnSeriesElementGeom(p,o,S,t,i,h,r,s)),h.connectorLine.visible&&!a){let e=new A(h.connectorLine.lineColor,h.connectorLine.lineWidth),t=(e.penStyle=h.connectorLine.lineStyle,0<o?r.top:r.bottom),i=r.right+y.xAxis.info.step-u,s=new P.d.StiWaterfallLineGeom(new Et(r.right,t),new Et(i,t),e,new _(r.right,t,i-r.right,t),h.chart[D.System.StiObject.stimulsoft]().as(Nt).isAnimation);p.createChildGeoms(),p.childGeoms.push(s)}null!=e&&(p.createChildGeoms(),p.childGeoms.push(e))}let l=h.core.getSeriesLabels();if(null!=l&&l.visible&&null!=o){let i=a&&h.total.visible?y.axisCore.getDividerY():e,s=this.getPointEnd(h,o,d,u,i),r=y.reverseVert?-o:o,n=null;if(0==l.step||S%l.step==0){let e=y.xAxis.startFromZero?S+1:S,t=l.core[D.System.StiObject.stimulsoft]().as(P.d.StiAxisSeriesLabelsCoreXF).renderLabel(h,m,this.correctPoint(s,g),this.correctPoint(new Et(s.x,i),g),S,o,r,y.axisCore.getArgumentLabel(y.xAxis.info.stripLines.getByIndex(e),h),h.core.getTag(S),b,C,g,n);null!=t&&(w.push(t),t.clientRectangle=this.checkLabelsRect(l,p,t.clientRectangle))}}}}d+=u,b++,y.reverseHor?c--:c++}}for(let e of w)p.createChildGeoms(),p.childGeoms.push(e);p.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(p)}getPointEnd(e,t,i,s,r=null){let n,l=e.chart.area[D.System.StiObject.stimulsoft]().as(P.d.IStiAxisArea),o=l.axisCore.getDividerRightY();return n=e.yAxis==P.d.StiSeriesYAxis.LeftYAxis?new Et(i+s/2,-(t*l.yAxis.info.dpi)+r):new Et(i+s/2,-(t*l.yRightAxis.info.dpi)+o)}getColumnRect(e,t,i,s,r,n=null){let l=t.chart.area[D.System.StiObject.stimulsoft]().as(P.d.IStiAxisArea),o=0,a=0,h=l.axisCore.getDividerRightY();return a=t.yAxis==P.d.StiSeriesYAxis.LeftYAxis?(l.reverseVert,-(o=i*l.yAxis.info.dpi)+n.ref):-(o=i*l.yRightAxis.info.dpi)+h,!t.showZeros||0!=i&&null!=i||(o=Math.max(e.options.zoom,2),l.reverseVert)||(a-=o),i<0&&(a=t.yAxis==P.d.StiSeriesYAxis.LeftYAxis?n.ref:h,o=-o),n.ref=0<i?a:a+o,new _(s,a,r,o)}get localizedName(){return d.get("Chart","Waterfall")}constructor(e){super(e)}},D.Base.Context.StiPieSegmentGeom),_t=(P.d.StiPieSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.lighting=e.core.seriesLighting,i.borderThickness=e.core.seriesBorderThickness,i.allowApplyBrush&&(i.brush=e.core.getColumnBrush(t)),i.allowApplyBorderColor)&&(i.borderColor=e.core.getColumnBorder(t))}correctBrush(e){return e.is(Ae)&&((e=e.clone()).angle=-45),e.is(Le)&&((e=e.clone()).angle=-45),e}renderPieElement(e,t,i,s,r,n,l,o,a,h,u,d,c){let S,m,g=E.empty,p=(r=this.correctBrush(r),{ref:S}),f={ref:m},w={ref:g},y=this.measurePieElementCore(e,t,i,n,l,h,u,p,f,w);if(y.isEmpty)return null;return new P.d.StiPieSeriesElementGeom(d,o,a,h,g=w.ref,S=p.ref,m=f.ref,s,r,n,n+l,i)}renderPieElementShadow(t,e,i,s,r,n,l,o){if(this.series.chart.isAnimation)return;let a,h,u=E.empty,d=(s=this.correctBrush(s),{ref:a}),c={ref:h},S={ref:u},m=this.measurePieElementCore(t,e,i,r,n,l,o,d,c,S);if(a=d.ref,h=c.ref,u=S.ref,m.isEmpty)return;if(t.pushSmoothingModeToAntiAlias(),t.fillPath(s,a,u,null),null!=h){let e=new Ae(B.fromArgb3(100,B.white),B.fromArgb3(50,B.black),45);t.fillPath(e,h,u,null)}t.popSmoothingMode()}measurePieElement(e,t,i,s,r,n,l){let o,a,h=E.empty,u={ref:o},d={ref:a},c={ref:h},S=this.measurePieElementCore(e,t,i,s,r,n,l,u,d,c);return o=u.ref,a=d.ref,h=c.ref,S}measurePieElementCore(e,t,i,s,r,n,l,o,a,h){let u=[],d=null,c=E.empty;if(0==r||isNaN(r))return E.empty;if(0<l&&(t=this.getPoint(t,l*e.options.zoom,s+r/2)),(c=new E(t.x-i,t.y-i,2*i,2*i)).width<=0&&c.height<=0)return E.empty;if(u.push(new jt(new E(c.x,c.y,c.width,c.height),s,r,null,null,null)),n.lighting&&!B.transparent.equals(n.borderColor)){let e=0;e=.02*i,(d=[]).push(new Mt(c,s,r)),d.push(new L(this.getPoint(t,i-e,s+r),this.getPoint(t,i-e,s+r))),d.push(new Mt(new E(c.x+e,c.y+e,c.width-2*e,c.height-2*e),s+r,-r)),d.push(new L(this.getPoint(t,i-e,s),this.getPoint(t,i-e,s)))}return o.ref=u,a.ref=d,h.ref=c,e.getPathBounds(u)}checkNonZerovalue(e,t,i,s,r=!1){let n=0,l=0,o=0,a=0,h=null;for(let i of e){let t=r?i.valuesStart:i.values;for(let e of t)0==e||null==e||isNaN(e)||(n++,a=e,h=i,1==n&&(o=l)),l++}return i.ref=o,t.ref=n,s.ref=h,a}isNotNullValues(e){for(let t of e)for(let e of t.values)if(null!=e)return!0;return!1}renderSeries(u,h,d,t){let c=this.getRadius(u,h),S=this.getPointCenter(h);if(null==t||0==t.length||null==this.series.chart)return d.createChildGeoms(),void d.childGeoms.push(new P.d.StiPieEmptySeriesElementGeom(new _(S.x-c,S.y-c,2*c,2*c)));let m=P.d.StiChartHelper.globalDurationElement,g=P.d.StiChartHelper.globalBeginTimeElement,p=this.series.chart,f=this.getColorCount(t),e={ref:0},i=(this.checkNonZerovalue(t,e,{ref:-1},{ref:null}),e.ref),w=this.getGradPerValue(t),y=this.getPercentPerValue(t),x=t[0],s=x.core.getPieSeriesLabels(),b=x.startAngle,C=new E(0,0,h.width,h.height);for(let e of t)if(1<i){let s=e,r=0;for(let i of e.values){let e=w*Math.abs(i),t=this.measurePieElement(u,S,c,b,e,s,this.getPieDistance(r));0!=i&&(C=E.union(C,t)),b+=e,r++}}let r=Math.max(-C.left,C.right-h.width),n=Math.max(-C.top,C.bottom-h.height),l=Math.max(r,n),A=(c-=1.2*l,R.create(E,f)),L=R.create(Number,f),T=R.create(Number,4),o=(R.clear(T,0,T.length),b=x.startAngle,(C=new E(10*u.options.zoom,10*u.options.zoom,h.width-20*u.options.zoom,h.height-20*u.options.zoom)).clone()),v=0;for(let h of t){let o=h,a=0;for(let l of h.values){let r=w*Math.abs(l),n=o.core.getPieSeriesLabels();if(null!=n&&n.visible){let e=c,t=(0<this.getPieDistance(a)&&(e+=o.distance*u.options.zoom),b+r/2),i={ref:null},s=(n.core.renderLabel(o,u,S,e,0,t,a,Math.abs(l),l,this.getArgumentText(h,a),o.core.getTag(a),!0,a,f,y,i,!1,0),i.ref);s.isEmpty||(C=E.union(C,s)),(0!=l||n.showZeros)&&(A[v]=s,L[v]=s.y,0<=t&&t<=90&&T[0]++,90<t&&t<=180&&T[1]++,180<t&&t<=270&&T[2]++,270<t)&&t<=360&&T[3]++}b+=r,a++,0==l&&!this.series.chart.seriesLabels.showZeros||v++}}if(0==x.diameter){let e=0;e=Math.min(e,C.left-o.left),e=Math.min(e,o.right-C.right),e=Math.min(e,C.top-o.top),e=Math.min(e,o.bottom-C.bottom),c+=e}v=0;for(let h of t){let o=h,a=0;for(let l of h.values){let r=w*l,n=o.core.getPieSeriesLabels();if(null!=n&&n.visible){let e=c,t=(0<this.getPieDistance(a)&&(e+=o.distance*u.options.zoom),b+r/2),i={ref:null},s=(n.core.renderLabel(this.series,u,S,e,0,t,a,l,l,this.getArgumentText(h,a),o.core.getTag(a),!0,a,f,y,i,!1,0),i.ref);0==l&&!n.showZeros||(A[v]=s,L[v]=s.y)}b+=r,a++,0==l&&!this.series.chart.seriesLabels.showZeros||v++}}if(null!=this.series.chart&&null!=this.series.chart.seriesLabels){let e=this.series.chart.seriesLabels.as(P.d.IStiTwoColumnsPieLabels);if(null!=e&&e.preventIntersection){let t=0;if(0<T[0]){let e=R.create(E,T[0],!0);if(R.copy(A,0,e,T[0]),this.isIntersectionLabels(e)){t=C.height/2/T[0],A[0].y=C.y+C.height/2+t/2-A[0].height/2;for(let e=1;e<T[0];e++)A[e].y=A[e-1].y+t}}let i=T[0];if(0<T[1]){let e=R.create(E,T[1],!0);if(R.copy(A,0,e,T[1]),this.isIntersectionLabels(e)){t=C.height/2/T[1],A[i].y=C.y+C.height-t/2-A[i].height/2;for(let e=i+1;e<i+T[1];e++)A[e].y=A[e-1].y-t}}if(i+=T[1],0<T[2]){let e=R.create(E,T[2],!0);if(R.copy(A,0,e,T[2]),this.isIntersectionLabels(e)){t=C.height/2/T[2],A[i].y=C.y+C.height/2-t/2-A[i].height/2;for(let e=i+1;e<i+T[2];e++)A[e].y=A[e-1].y-t}}if(i+=T[2],0<T[3]){let e=R.create(E,T[3],!0);if(R.copy(A,0,e,T[3]),this.isIntersectionLabels(e)){t=C.height/2/T[3],A[i].y=C.y+t/2-A[i].height/2;for(let e=i+1;e<i+T[3];e++)A[e].y=A[e-1].y+t}}for(let e=0;e<v;e++){if(null==A[e])continue;L[e]=A[e].y-L[e]}}}if(c<=5)return;if(x.showShadow){b=x.startAngle;for(let e of t){if(1==i){let e=new E(S.x-c,S.y-c,2*c,2*c),t=new E(0,0,2*c,2*c),i=u.createShadowGraphics(),s=(null!=i&&i.fillEllipse2(B.fromArgb3(100,B.black),t,null),new P.d.StiPieSeriesShadowElementGeom(x,e,.01*c+2*u.options.zoom,i,m,g));d.createChildGeoms(),d.childGeoms.push(s);break}{let o=e,a=0;for(let l of e.values){let e=w*Math.abs(l),t=S,i=new V(B.fromArgb3(100,B.black)),s=u.createShadowGraphics(),r=h.clone(),n=(r.x=0,r.y=0,p.isAnimation&&(r.x=S.x-c,r.y=S.y-c,r.height=2*c,r.width=2*c),this.renderPieElementShadow(s,t,c,i,b,e,o,this.getPieDistance(a)),new P.d.StiPieSeriesShadowElementGeom(x,r,.01*c+2*u.options.zoom,s,m,g));d.createChildGeoms(),d.childGeoms.push(n),b+=e,a++}}}}let a=this.getPieElementGeoms(u,d,c,h,t);if(a.length<1)return d.createChildGeoms(),void d.childGeoms.push(new P.d.StiPieEmptySeriesElementGeom(new E(S.x-c,S.y-c,2*c,2*c)));for(let t=0;t<a.length;t++){let e=a[t];e.is(P.d.StiPieSeriesFullElementGeom)?(null!=e.series.core.interaction&&(e.interaction=this.getInteraction(d.area,e.series,e.index)),d.createChildGeoms(),d.childGeoms.push(e)):e.is(P.d.StiPieSeriesElementGeom)&&(e.count=a.length,null!=e.series.core.interaction&&(e.interaction=this.getInteraction(d.area,e.series,e.index)),d.createChildGeoms(),d.childGeoms.push(e))}b=x.startAngle;let F=this.getPieLabelGeoms(u,c,h,t,L);if(this.series.chart.isAnimationChangingValues&&null!=s&&s.valueType==P.d.StiSeriesLabelsValueType.Value){let e=c/1.75,t=new E;t.x=S.x-e,t.y=S.y-e,t.width=2*e,t.height=2*e;for(let t=0;t<a.length;t++){let e=F.length>t?F[t]:null;null!=e&&(d.createChildGeoms(),d.childGeoms.push(e))}}else for(let e of F)this.series.chart.isAnimationChangingValues&&e.is(P.d.StiCenterPieLabelsGeom)&&(e.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalBeginTimeElement)),d.createChildGeoms(),d.childGeoms.push(e);let k=this.getPieSeriesLabels();null!=k&&k.preventIntersection&&(k.is(P.d.IStiTwoColumnsPieLabels)?this.checkIntersectionTwoColumnsLabels(d,o):k.is(P.d.IStiOutsidePieLabels)?this.checkIntersectionOutLabels(d):this.checkIntersectionLabels(d))}getColorCount(t,i=!1){let s=0;for(let e of t)i&&null!=e.valuesStart&&(s+=e.valuesStart.length),i||null==e.values||(s+=e.values.length);return s}isIntersectionLabels(i){for(let t=0;t<i.length;t++)for(let e=0;e<i.length;e++){if(t==e)continue;if(i[t].intersectsWith(i[e]))return!0}return!1}getPieLabelGeoms(u,d,e,t,c,i=!1){let S=[],m=0,g=0,s=t[0],r=this.getGradPerValue(t,i),p=this.getPercentPerValue(t,i),f=this.getPointCenter(e),w=s.startAngle,y=this.getColorCount(t,i);for(let h of t){let o=h,a=0,e=i?h.valuesStart:h.values;for(let l of e){let t=r*Math.abs(l),i=o.core.getPieSeriesLabels();if(null!=i&&i.visible){let n=i,e=i;if(null!=n){let i=d,s=(0<this.getPieDistance2(o,a)&&(i+=o.distance*u.options.zoom),w+t/2),r=0;if(null!=e&&e.preventIntersection&&(r+=c[g]),0==n.step||a%n.step==0){let e={ref:null},t=n.core.renderLabel(o,u,f,i,0,s,a,Math.abs(l),l,this.getArgumentText(h,a),o.core.getTag(a),!1,m,y,p,e,!1,r);null!=t&&S.push(t),n.is(P.d.IStiOutsidePieLabels)&&n.showValue&&null!=(t=n.core.renderLabel(o,u,f,i,0,s,a,Math.abs(l),l,this.getArgumentText(h,a),o.core.getTag(a),!1,m,y,p,e,!0,0))&&S.push(t)}}}m++,w+=t,a++,(0!=l||null!=i&&i.showZeros)&&g++}}return S}getPieSeriesLabels(){var e,t;if(this.series.showSeriesLabels==P.d.StiShowSeriesLabels.FromChart)return null==(e=this.series.chart.seriesLabels)?void 0:e.as(P.d.IStiPieSeriesLabels);if(this.series.showSeriesLabels==P.d.StiShowSeriesLabels.FromSeries)return null==(t=this.series.seriesLabels)?void 0:t.as(P.d.IStiPieSeriesLabels);return null}getPieElementGeoms(h,u,d,e,t,i=!1){let c=[],s=t[0],S=this.getGradPerValue(t,i),m=this.getPointCenter(e),g=s.startAngle,p=this.getColorCount(t,i),r={ref:0},n={ref:-1},l={ref:null},o=(this.checkNonZerovalue(t,r,n,l,i),r.ref),f=0;for(let a of t){if(0==o)break;{let e=i?a.valuesStart:a.values;for(let o=0;o<e.length;o++){let l=e[o];if(0!=l){let e=S*Math.abs(l),t=a.brush,i=(a.allowApplyBrush&&(t=a.core.getSeriesBrush(f,p),t=a.processSeriesBrushes(o,t)),a.borderColor),s=(a.allowApplyBorderColor&&(i=a.core.getSeriesBorderColor(f,p)),0==a.values.length?0:P.d.StiChartHelper.globalBeginTimeElement.ticks/a.values.length*o),r=new I(s),n=this.renderPieElement(h,m,d,i,t,g,e,Math.abs(l),o,a,this.getPieDistance2(a,o),u,r);null!=n&&c.push(n),g+=e}f++}}}return c}checkIntersectionOutLabels(n){let t=n.childGeoms,l=[];if(null!=t)for(let e of t)e.is(P.d.StiOutsidePieLabelsGeom)&&l.push(e);let e=l.length,i=!0,s=0;while(i&&s<29){s++;for(let r=0;r<e;r++)for(let s=0;s<e;s++){if(s==r)continue;if(l[r].labelRect.intersectsWith(l[s].labelRect)){let t=l[r].labelRect,i=l[s].labelRect;if(t.intersectsWith(i)){let e=t.height-Math.abs(l[s].labelRect.y-l[r].labelRect.y)+2;t.y>i.y?(t.y+=e/2,i.y-=e/2):(t.y-=e/2,i.y+=e/2),t.y<0&&(t.y=0),i.y<0&&(i.y=0),t.y+t.height>n.clientRectangle.height&&(t.y=n.clientRectangle.height-t.height),i.y+e/2+i.height>n.clientRectangle.height&&(i.y=n.clientRectangle.height-i.height),l[r].labelRect=t,l[s].labelRect=i}}}}}checkIntersectionTwoColumnsLabels(e,t){let i=e.childGeoms;if(null==i)return;let s=this.getPointCenter(t),r=[],n=[];for(let e of i)e.is(P.d.StiTwoColumnsPieLabelsGeom)&&(e.clientRectangle.x<s.x?r:n).push(e);this.isIntersectionLabels(r.map(e=>e.clientRectangle))&&this.checkLabelPosition(r,t),this.isIntersectionLabels(n.map(e=>e.clientRectangle))&&this.checkLabelPosition(n,t)}checkIntersectionLabels(n){let t=n.childGeoms,l=[];if(null!=t)for(let e of t)e.is(P.d.StiCenterPieLabelsGeom)&&l.push(e);let e=l.length,i=!0,s=0;while(i&&s<29){s++;for(let r=0;r<e;r++)for(let s=0;s<e;s++){if(s==r)continue;if(l[r].clientRectangle.intersectsWith(l[s].clientRectangle)){let t=l[r].labelRect,i=l[s].labelRect;if(t.intersectsWith(i)){let e=t.height-Math.abs(l[s].clientRectangle.y-l[r].clientRectangle.y)+2;t.y>i.y?(t.y+=e/2,i.y-=e/2):(t.y-=e/2,i.y+=e/2),t.y<0&&(t.y=0),i.y<0&&(i.y=0),t.y+t.height>n.clientRectangle.height&&(t.y=n.clientRectangle.height-t.height),i.y+e/2+i.height>n.clientRectangle.height&&(i.y=n.clientRectangle.height-i.height),l[r].labelRect=t,l[s].labelRect=i}}}}}checkLabelPosition(t,e){let i=e.height;for(let e of t=t[D.System.StiObject.stimulsoft]().toList().orderBy(e=>e.clientRectangle.y))i-=e.clientRectangle.height;let s=i/(t.length+1),r=e.y;for(let e of t)e.clientRectangle=new E(e.clientRectangle.x,r+s,e.clientRectangle.width,e.clientRectangle.height),e.endPoint=new M(e.endPoint.x,e.clientRectangle.y+e.clientRectangle.height/2),r=e.clientRectangle.y+e.clientRectangle.height}getGradPerValue(t,i=!1){let s=0,r=0;for(let e of t){let t=i?e.valuesStart:e.values;for(let e of t)s+=Math.abs(e),r++}return 0==r&&(r=1),0<s?360/s:360/r}getPercentPerValue(t,i=!1){let s=0;for(let e of t){let t=i?e.valuesStart:e.values;for(let e of t)s+=Math.abs(e)}return 1/s*100}getPointCenter(e){return new M(e.width/2,e.height/2)}getRadius(e,t){let i=this.series;if(0<i.diameter)return i.diameter/2*e.options.zoom;return.95*Math.min(t.width/2,t.height/2)}getPoint(e,t,i){let s=Math.PI*i/180;return new M(e.x+Math.cos(s)*t,e.y+Math.sin(s)*t)}getArgumentText(e,t){let i=e.arguments[D.System.StiObject.stimulsoft]().getKeys();if(e.arguments.length>t&&null!=e.arguments[D.System.StiObject.stimulsoft]().getByIndex(t,i))return e.arguments[D.System.StiObject.stimulsoft]().getByIndex(t,i).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}getPieDistance(e){return this.getPieDistance2(this.series,e)}getPieDistance2(t,i){if(0==t.distance)return 0;if(0==t.cutPieListValues.length)return t.distance;for(let e of t.cutPieListValues)if(e==i+1)return t.distance;return 0}getSeriesBrush(e,t){let i=super.getSeriesBrush(e,t);if(null==i)return this.series.brush;return i}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return this.series.borderColor;return i}get localizedName(){return d.get("Chart","Pie")}constructor(e){super(e)}},P.d.StiDoughnutSeriesCoreXF=class extends P.d.StiPieSeriesCoreXF{renderDoughnutElement(t,e,i,s,r,n,l,o,a,h,u,d,c,S){if(s<0&&(s=1),0==o||isNaN(o))return null;let m=new E(e.x-i,e.y-i,2*i,2*i),g=new E(e.x-s,e.y-s,2*s,2*s);if(m.width<=0&&m.height<=0)return null;d||(n.is(Ae)&&((n=n.clone()).angle=-45),n.is(Le)&&((n=n.clone()).angle=-45));let p=[],f=null,w=null,y=null,x=null,b=0,C=(u.lighting&&!d&&(y=[],x=[],b=.02*i,f=new Ae(B.fromArgb3(100,B.white),B.fromArgb3(50,B.black),45),w=new Ae(B.fromArgb3(50,B.black),B.fromArgb3(100,B.white),45)),this.series.chart);if(p.push(new Mt(m,l,o)),o-l!=360&&p.push(new L(this.getPoint(e,i,l+o),this.getPoint(e,s,l+o))),p.push(new Mt(g,l+o,-o)),o-l!=360&&p.push(new L(this.getPoint(e,s,l),this.getPoint(e,i,l))),d)if(C.isAnimation){let e=new H(I.fromSeconds(1),S);t.fillDrawAnimationPath(n,null,p,m,null,e,null)}else t.fillPath(n,p,m,null);if(null==f||d||(y.push(new L(this.getPoint(e,i-b,l),this.getPoint(e,i,l))),y.push(new Mt(m,l,o)),y.push(new L(this.getPoint(e,i,l+o),this.getPoint(e,i-b,l+o))),y.push(new Mt(new E(m.x+b,m.y+b,m.width-2*b,m.height-2*b),l+o,-o)),x.push(new L(this.getPoint(e,s+b,l),this.getPoint(e,s,l))),x.push(new Mt(g,l,o)),x.push(new L(this.getPoint(e,s,l+o),this.getPoint(e,s+b,l+o))),x.push(new Mt(new E(g.x-b,g.y-b,g.width+2*b,g.height+2*b),l+o,-o))),!d){let e=new P.d.StiDoughnutSeriesElementGeom(c,a,h,u,m,g,p,y,x,r,n,f,w,l,l+o,i,s,S);return e}return null}isNotNullValues(e){for(let t of e)for(let e of t.values)if(null!=e)return!0;return!1}renderSeries(u,e,d,a){let t=this.getRadius(u,e),c=this.getPointCenter(e);if(null==a||0==a.length||null==this.series.chart||null!=a&&!this.isNotNullValues(a))return d.createChildGeoms(),void d.childGeoms.push(new P.d.StiDoughnutEmptySeriesElementGeom(new _(c.x-t,c.y-t,2*t,2*t)));let S=P.d.StiChartHelper.globalDurationElement,m=P.d.StiChartHelper.globalBeginTimeElement,g=t/(a.length+1),i=g,p=0;for(let e of a)null!=e.values&&(p+=e.values.length),i+=0!=e.width?e.width:g;if(i<t&&(t=i),0==p)return;let f=a[0],w=0,h=new E(10*u.options.zoom,10*u.options.zoom,e.width-20*u.options.zoom,e.height-20*u.options.zoom),s=h.clone(),y=0,x=0,b=t;for(let o of a){let l=0,t=(x=o.startAngle,this.getGradPerValue([o]));for(let n of o.values){let s=this.getPercentPerValue([o]),r=t*Math.abs(n),e=null;if(o.showSeriesLabels==P.d.StiShowSeriesLabels.FromChart&&(e=this.series.chart.seriesLabels),o.showSeriesLabels==P.d.StiShowSeriesLabels.FromSeries&&(e=f.seriesLabels),null!=this.series.chart&&null!=e&&e.visible){let i=e[D.System.StiObject.stimulsoft]().as(P.d.IStiPieSeriesLabels);if(null!=i&&i.visible){y=0!=o.width?b-o.width:b-g;let e,t={ref:e};i.core.renderLabel(o,u,c,b,y,x+r/2,l,Math.abs(n),n,this.getArgumentText(o,l),f.core.getTag(l),!0,w,p,s,t,!1,0),(e=t.ref).isEmpty||(h=E.union(h,e))}}w++,x+=r,l++}b-=0!=o.width?o.width+.2*g:1.2*g}let r=0,o=(r=Math.min(r,h.left-s.left),r=Math.min(r,s.right-h.right),r=Math.min(r,h.top-s.top),r=Math.min(r,s.bottom-h.bottom),t+=r,this.series.chart);if(f.showShadow&&!o.isAnimation){let n=new E(c.x-t,c.y-t,2*t,2*t),l=u.createShadowGraphics(),o=new V(B.fromArgb3(100,B.black));g=t/(a.length+1),b=t;for(let r of a){x=r.startAngle;let i=this.getGradPerValue([r]),s=0;for(let t of r.values){let e=i*Math.abs(t);y=0!=r.width?b-r.width:b-g,this.renderDoughnutElement(l,new M(n.width/2,n.height/2),b,y,B.black,o,x,e,Math.abs(t),s,r,!0,d,new I(m.ticks)),x+=e,s++}b-=0!=r.width?r.width+.2*g:1.2*g}let e=new P.d.StiPieSeriesShadowElementGeom(f,n,.01*t+2*u.options.zoom,l,S,m);d.createChildGeoms(),d.childGeoms.push(e)}g=t/(a.length+1),w=0,b=t;let C=0;for(let o of a){let l=0,e=(o.chart.area.colorEach||(w=0),x=o.startAngle,this.getGradPerValue([o])),t={ref:null},i={ref:null},s={ref:null},r=(this.checkNonZerovalue(a,t,i,s),t.ref),n=i.ref;if(0!=r){if(1==r){let e=o.brush,t=(o.allowApplyBrush&&(e=o.core.getSeriesBrush(n,p),e=o.processSeriesBrushes(n,e)),f.core.getSeriesBorderColor(w,p));if(n>=o.values.length)continue;y=0!=o.width?b-o.width:b-g;let i=this.renderDoughnutElement(u,c,b,y,t,e,0,360,o.values[n],n,o,!1,d,new I(m.ticks));null!=i&&(null!=o.core.interaction&&(i.interaction=this.getInteraction(d.area,o,0)),d.createChildGeoms(),d.childGeoms.push(i)),b-=1.2*g,l++,w++,C++;continue}{let n=0;for(let r of o.values){let s=e*Math.abs(r);if(0!=r){let e=o.brush,t=(o.allowApplyBrush&&(e=o.core.getSeriesBrush(w,p),e=o.processSeriesBrushes(l,e)),o.borderColor),i=(o.allowApplyBorderColor&&(t=o.core.getSeriesBorderColor(w,p)),y=0!=o.width?b-o.width:b-g,this.renderDoughnutElement(u,c,b,y,t,e,x,s,Math.abs(r),n,o,!1,d,new I(m.ticks/o.values.length*w)));if(null!=i){if(null!=o.core.interaction){let e=this.getInteraction(d.area,o,n);i.interaction=e}d.createChildGeoms(),d.childGeoms.push(i)}x+=s}l++,w++,C++,n++}}}b-=0!=o.width?o.width+.2*g:1.2*g}let A=d.area[D.System.StiObject.stimulsoft]().as(P.d.StiDoughnutArea);if(null!=A&&A.indicator.visible){let e=A.indicator,t=1.414*y,i=t/2,s=new _(c.x-i,c.y-i,t,t),r=kt.parse(e.value.value,o),n=kt.parse(e.title.text,o),l=new P.d.StiDoughnutAreaIndicatorGeom(s,r,n,e);d.createChildGeoms(),d.childGeoms.push(l)}if(0==C)return d.createChildGeoms(),void d.childGeoms.push(new P.d.StiDoughnutEmptySeriesElementGeom(new _(c.x-t,c.y-t,2*t,2*t)));w=0,b=t;for(let h of a){let a=0,t=(x=h.startAngle,this.getGradPerValue([h]));for(let o of h.values){let n=this.getPercentPerValue([h]),l=t*Math.abs(o),e=null;if(h.showSeriesLabels==P.d.StiShowSeriesLabels.FromChart&&(e=this.series.chart.seriesLabels),h.showSeriesLabels==P.d.StiShowSeriesLabels.FromSeries&&(e=f.seriesLabels),null!=this.series.chart&&null!=e&&e.visible){let r=e[D.System.StiObject.stimulsoft]().as(P.d.IStiPieSeriesLabels);if(null!=r&&r.visible&&(0==r.step||a%r.step==0)){let e,t=0!=h.width?b-h.width:b-g,i={ref:e},s=r.core.renderLabel(h,u,c,b,t,x+l/2,a,Math.abs(o),o,this.getArgumentText(h,a),this.getTag(a),!1,w,p,n,i,!1,0);e=i.ref,null!=s&&(s.duration=S,s.beginTime=new I(m.ticks/h.values.length*w),d.createChildGeoms(),d.childGeoms.push(s))}}w++,x+=l,a++}b-=0!=h.width?h.width+.2*g:1.2*g}}checkNonZerovalue(e,t,i,s,r=!1){let n=0,l=0,o=0,a=0,h=null;for(let i of e){let t=r?i.valuesStart:i.values;for(let e of t)0==e||null==e||isNaN(e)||(n++,a=e,h=i,1==n&&(o=l)),l++}return t.ref=n,i.ref=o,s.ref=h,a}getGradPerValue(t){let i=0;for(let e of t[0].values)i+=Math.abs(e);return 360/i}getPercentPerValue(t){let i=0;for(let e of t[0].values)i+=Math.abs(e);return 1/i*100}getArgumentText(e,t){if(e.arguments.length>t)return e.arguments[t].toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}get localizedName(){return d.get("Chart","Doughnut")}constructor(e){super(e)}},P.d.StiCandlestickSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(i,s){if(super.applyStyle(i,s),this.series.allowApplyStyle){let e=i.core.getColumnBrush(s),t=(this.series.brush=e,i.core.getColumnBorder(s));B.transparent.equals(t)&&(t=ct.toColor(e)),this.series.borderColor=t}}renderSeries(e,t,L,i){var T,v;if(null==i||0==i.length||null==this.series.chart)return;let F=L.area,k=F.axisCore.getDividerY(),B=P.d.StiChartHelper.globalBeginTimeElement;for(let A of i){let f=A.valuesOpen,w=A.valuesClose,y=A.valuesHigh,x=A.valuesLow,b=Math.min(Math.min(f.length,w.length),Math.min(y.length,x.length)),e=A.arguments.length,t=Math.min(b,e),C=A.arguments[D.System.StiObject.stimulsoft]().getKeys();for(let p=0;p<t;p++){let t=f[p],i=w[p],s=y[p],r=x[p];if(null==t||null==i||null==s||null==r)continue;let n=0;for(let e of F.xAxis.info.stripLines.list){if((null==(T=A.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,C))?void 0:T.toString())==(null==(v=e.valueObject)?void 0:v.toString()))break;n++}let e=F.xAxis.info.dpi,l=new V,o;if(t>i?(l=A.brush,o=A.borderColor,s<t&&(s=t),i<r&&(r=i)):(l=A.brushNegative,o=A.borderColorNegative,r>t&&(r=t),i>s&&(s=i),t=w[p],i=f[p]),F.reverseVert&&t>i){let e=t;t=i,i=e,e=r,r=s,s=e}let a=F.yAxis.info.dpi,h=Math.abs(k-t*a),u=Math.abs(k-i*a),d=Math.abs(k-s*a),c=Math.abs(k-r*a),S=n*e,m=new E(S-e/4,h,e/2,u-h),g=(l=A.processSeriesBrushes(p,l),new P.d.StiCandlestickSeriesElementGeom(L,A,m,h,u,d,c,S,n-1,l,o,new I(B.ticks/b*p)));if(null!=g&&null!=A.core.interaction){let e=this.getInteraction(L.area,A,p);g.interaction=e}L.createChildGeoms(),L.childGeoms.push(g)}}}get localizedName(){return d.get("Chart","Candlestick")}constructor(e){super(e)}},P.d.StiStockSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.lineColor=t)}renderSeries(e,t,A,i){var L,T;if(null==i||0==i.length||null==this.series.chart)return;let v=A.area,F=v.axisCore.getDividerY(),k=P.d.StiChartHelper.globalBeginTimeElement;for(let C of i){let f=C.valuesOpen,w=C.valuesClose,y=C.valuesHigh,x=C.valuesLow,b=Math.min(Math.min(f.length,w.length),Math.min(y.length,x.length)),e=C.arguments.length,t=Math.min(b,e);for(let p=0;p<t;p++){let e=f[p],t=w[p],i=y[p],s=x[p],r=0,n=C.arguments[D.System.StiObject.stimulsoft]().getKeys();for(let e of v.xAxis.info.stripLines.list){if((null==(L=C.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,n))?void 0:L.toString())==(null==(T=e.valueObject)?void 0:T.toString()))break;r++}let l=v.xAxis.info.dpi,o=C.lineColor;if(!C.allowApplyColorNegative&&e<t&&(o=C.lineColorNegative),null==e||null==t||null==i||null==s)continue;let a=v.yAxis.info.dpi,h=Math.abs(F-e*a),u=Math.abs(F-t*a),d=Math.abs(F-i*a),c=Math.abs(F-s*a),S=r*l;if(v.reverseHor){let e=h;h=u,u=e}let m=new E(S-l/3,Math.min(d,c),2*l/3,Math.abs(c-d)),g=(o=C.processSeriesColors(p,o),new P.d.StiStockSeriesElementGeom(A,C,m,h,u,d,c,S,r-1,o,new I(k.ticks/b*p)));if(null!=g&&null!=C.core.interaction){let e=this.getInteraction(A.area,C,p);g.interaction=e}A.createChildGeoms(),A.childGeoms.push(g)}}}get localizedName(){return d.get("Chart","Stock")}constructor(e){super(e)}},P.d.StiStackedBarSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.brush.is(Ae)&&(i.brush.angle+=90),i.brush.is(Le)&&(i.brush.angle+=90),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(y,x,b,C){if(null==C||0==C.length||null==this.series.chart)return;let A=[],L=[],e=b.area,T=e,r=this.series,v=T.axisCore.getDividerX(),F=T.xAxis.info.dpi,k=T.axisCore.valuesCount,B=[],s=0;for(let i=0;i<C.length;i++){let t=[];for(let e=0;e<C[i].values.length;e++)t.push(s),s++;B.push(t)}let I=s;for(let w=0;w<k;w++){let c=0,S=0,e={ref:c},t={ref:S},i=(this.calculateTotalWidth(C,w,e,t),c=e.ref,S=t.ref,T.yAxis.info.stripPositions[T.yAxis.startFromZero?w+1:w]-T.yAxis.info.step/2),m=T.yAxis.info.step-T.yAxis.info.step*(1-r.width),g=i+(T.yAxis.info.step-m)/2,p=0,f=0;if(0==C.length)return;let s=C[0].showShadow;if(s=C[0].chart.isAnimation&&!C[0].chart.report.isDesigning?!1:s){for(let i=0;i<C.length;i++)if(w<C[i].values.length){let e=C[i],t=T.reverseVert?e.values[w]:e.values[e.values.length-w-1];0<(t=T.reverseHor&&null!=t?-t:t)?p+=t:f+=t}if(this.series.is(P.d.IStiFullStackedBarSeries)){let e=T.reverseHor?S:c,t=T.reverseHor?c:S;if(0<e&&0<t){let e=new E(-8,g,x.width+8,m),t=new P.d.StiStackedBarSeriesShadowElementGeom(C[0],e,!1,!1);b.createChildGeoms(),b.childGeoms.push(t)}else if(0<e){let e=new E(T.axisCore.getDividerX()-8,g,x.width-T.axisCore.getDividerX()+8,m),t=new P.d.StiStackedBarSeriesShadowElementGeom(C[0],e.clone(),!1,!1);b.createChildGeoms(),b.childGeoms.push(t)}else if(0<t){let e=new E(-8,g,T.axisCore.getDividerX()+8,m),t=new P.d.StiStackedBarSeriesShadowElementGeom(C[0],e.clone(),!1,!1);b.createChildGeoms(),b.childGeoms.push(t)}}else{if(0<p){let e=new E(v,g,p*F,m),t=(e.x-=7,e.width+=7,new P.d.StiStackedBarSeriesShadowElementGeom(C[0],e,!1,!0));b.createChildGeoms(),b.childGeoms.push(t)}if(f<0){let e=new E(v+f*F,g,-f*F,m),t=new P.d.StiStackedBarSeriesShadowElementGeom(C[0],e,!0,!1);b.createChildGeoms(),b.childGeoms.push(t)}}}p=0;for(let l=f=0;l<C.length;l++){let d=C[l];if(w<d.values.length){let o=B[l][w],a=T.reverseVert?d.values[w]:d.values[d.values.length-w-1],h=null!=a?-a:a,u=T.reverseHor?C[D.System.StiObject.stimulsoft]().toList().cast().sum(e=>e.values[w]):C[D.System.StiObject.stimulsoft]().toList().cast().sum(e=>e.values[d.values.length-w-1]),e=(!this.series.is(P.d.IStiFullStackedBarSeries)||0==c&&0==S||null==h||(F=0<h?T.axisCore.getDividerX()/S:(x.width-T.axisCore.getDividerX())/c),(h=T.reverseHor&&null!=h?-h:h)*F),t=-e+v,s=(0<h?t-=p:(t=f+v,e=-e),!d.showZeros||0!=h&&null!=h||(e=Math.max(y.options.zoom,1),T.reverseHor)||(t-=e),new E(t,g,e,m));s=this.correctRect(s,x.clone());let r,i=(r=h<0?E.fromLTRB(s.left,s.top,s.left,s.bottom):E.fromLTRB(s.right,s.top,s.right,s.bottom),b.view.clientRectangle.clone()),n=(i.x=0,i.y=0,s.clone());if(n.x+=b.clientRectangle.x,n.y+=b.clientRectangle.y,n.bottom>i.y&&n.y<i.bottom||this.series.chart.area.yAxis.range.auto){let i=d.core.getSeriesBrush(o,I);if(d.allowApplyBrushNegative&&0<h&&(i=d.brushNegative),i=d.processSeriesBrushes(k-1-w,i),0!=s.height&&0<O.round2(s.width,2)&&null!=i){let e=d.core.getSeriesBorderColor(o,I),t=new P.d.StiStackedBarSeriesElementGeom(b,h,w,i,e,d,s,r);if(null!=d.core.interaction){let e=this.getInteraction(T,d,k-1-w);t.interaction=e}L.push(t)}let l=d.core.getSeriesLabels();if(null!=l&&l.visible&&0<O.round2(s.width,2)){let r=new M(s.x,s.y+s.height/2),n=new M(s.right,s.y+s.height/2);if(h<0&&(n.x=s.x,r.x=s.right),h<0&&(n.x=s.x,r.x=s.right),0==l.step||w%l.step==0){let e=h,t=(d[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).isTotalLabel&&(e=a=u),T.yAxis.startFromZero?w+1:w),i=T.yAxis.info.stripLines.count>w?T.yAxis.info.stripLines.getByIndex(t):null,s=l.core.renderLabel(d,y,r,n,w,e,a,T.axisCore.getArgumentLabel(i,d),d.core.getTag(k-1-w),o,I,x);null!=s&&A.push(s)}}}0<h?p+=e:f+=e,o++}}}for(let t=L.length-1;0<=t;t--){let e=L[t];b.createChildGeoms(),b.childGeoms.push(e)}for(let e of A)b.createChildGeoms(),b.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(e.seriesLabels,b,e.clientRectangle.clone())}calculateTotalWidth(e,i,t,s){let r=0,n=0;if(this.series.is(P.d.IStiFullStackedBarSeries))for(let t of e)if(i<t.values.length){let e=this.series.chart.area.reverseVert?t.values[i]:t.values[t.values.length-i-1];0<e?r+=e:n+=Math.abs(e)}t.ref=r,s.ref=n}correctRect(t,i){if(t.x>i.width||t.right<0)return t.width=0,t;if(t.x<0){let e=-t.x;t.x+=e,t.width-=e}if(i.width<t.right){let e=t.right-i.width;t.width-=e}return t}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}getSeriesBorderColor(e,t){let i=this.series,s=super.getSeriesBorderColor(e,t);if(null==s)return i.borderColor;return s}get localizedName(){return d.get("Chart","StackedBar")}constructor(e){super(e)}},P.d.StiFullStackedBarSeriesCoreXF=class extends P.d.StiStackedBarSeriesCoreXF{get localizedName(){return d.get("Chart","FullStackedBar")}constructor(e){super(e)}},P.d.StiStackedBaseLineSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.lineColor=t,i.lighting=e.core.seriesLighting,i.marker.visible=e.core.markerVisible,null!=i.marker&&(i.marker.brush=new V(f.light(t,100)),i.marker.borderColor=f.dark(t,100)),null!=i.lineMarker)&&(i.lineMarker.brush=new V(f.light(t,50)),i.lineMarker.borderColor=f.dark(t,150))}clipLinePoints(e,i,s,t,r,n,l,o){let a=r.ref,h=n.ref,u=l.ref,d=o.ref;if(this.series.chart.area.xAxis.range.auto)return u=0,d=s.length,a=s,h=t,r.ref=a,n.ref=h,l.ref=u,void(o.ref=d);u=-1,d=-1;let c=i.view.clientRectangle.clone(),S=(c.x=0,c.y=0,0);for(let t of s){let e=new M(t.x,t.y);if(e.x+=i.clientRectangle.x,e.y+=i.clientRectangle.y,c.x<=e.x&&e.x<c.right&&-1==u&&(u=S),!(c.x<=e.x&&e.x<c.right)&&-1!=u){d=S;break}S++}-1==d&&(d=s.length-1),u--,d++,u<0&&(u=0);let m=(d=d>=s.length?s.length-1:d)-u+1;if(m==s.length)return a=s,h=t,r.ref=a,n.ref=h,l.ref=u,void(o.ref=d);a=R.create(M,m,!0),R.copy(s,u,a,m),null!=t?(h=R.create(M,m,!0),R.copy(t,u,h,m)):h=null,r.ref=a,n.ref=h,l.ref=u,o.ref=d}renderMarkers(n,l,e){let o=l.area,a=this.series;if(0==e.length)return;let h=!a.marker.visible&&0<a.toolTips.length;if(null!=a.marker&&(a.marker.visible||h)){let r=0;for(let s of e){if(null!=s){let e=o.reverseHor?this.series.values[this.series.values.length-r-1]:this.series.values[r],t=(null==e&&a.showNulls&&(e=0),l.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),new M(s.x,s.y));if(i.x+=l.clientRectangle.x,i.y+=l.clientRectangle.y,t.contains(i.x,i.y)){let t=new P.d.StiMarkerGeom(this.series,r,e,s,a.marker,this.series.showShadow,n.options.zoom,h);if(null!=t){if(null!=a.core.interaction){let e=this.getInteraction(o,a,r);t.interaction=e}l.createChildGeoms(),l.childGeoms.push(t)}}}r++}}}renderLines(e,t,i){}renderAreas(e,t,i){}renderSeries(m,g,p,f){let w=this.series,c=[],e=p.area;if(null==f||0==f.length||null==this.series.chart)return;let y=e,x=this.series.yAxis==P.d.StiSeriesYAxis.LeftYAxis?y.axisCore.getDividerY():y.axisCore.getDividerRightY(),b=y.xAxis.core.getStartFromZero(),C=new $,A=new $,i=[],L=[],T=[],v=y.yAxis.info.dpi;this.series.yAxis==P.d.StiSeriesYAxis.RightYAxis&&(v=y.yRightAxis.info.dpi);for(let t=0;t<f.length;t++){let u=f[t],e=u.values.length,d=R.create(M,e,!0),c=R.create(M,e,!0),S=R.create(String,e,!0);for(let h=0;h<e;h++){let o=b?y.xAxis.info.stripPositions[h+1]:y.xAxis.info.stripPositions[h],a=y.reverseHor?u.values[u.values.length-h-1]:u.values[h];if(null!=a||u.showNulls){null==a&&u.showNulls&&(a=0);let e=0,t=0,i={ref:e},s={ref:t},r=(this.calculateTotalHeight(f,h,i,s),e=i.ref,t=s.ref,!w.core.isFullStacked||0==e&&0==t||null==a||(v=0<=a?x/e:(g.height-x)/t),-(a=y.reverseVert&&null!=a?-a:a)*v),n=0,l=(0<=a?null!=C.get(h)&&(n=C.get(h)):null!=A.get(h)&&(n=A.get(h)),r+=n,(0<=a?C:A).set(h,r),c[h]=new M(o,n+x),d[h]=new M(o,r+x),(b?y.xAxis.info.stripLines.getByIndex(h+1):y.xAxis.info.stripLines.getByIndex(h)).valueObject);S[h]=null==l?"":l[D.System.StiObject.stimulsoft]().toString()}else c[h]=null,d[h]=null,S[h]=null}if(0<d.length&&0<c.length){let e,t,i=null,s=null,r={ref:i},n={ref:s},l={ref:e},o={ref:t},a=(this.clipLinePoints(m,p,c,d,r,n,l,o),i=r.ref,s=n.ref,e=l.ref,t=o.ref,new P.d.StiSeriesPointsInfo);a.pointsStart=i,a.pointsEnd=s,a.pointsIds=S,u.core.renderAreas(m,p,a)}i.push(d),L.push(c),T.push(S)}let S=0,F=R.create(Number,y.axisCore.valuesCount),k=R.create(Number,y.axisCore.valuesCount);for(let e=0;e<y.axisCore.valuesCount;e++)F[e]=x,k[e]=x;for(let d of i){let e,t,i=null,s=null,r={ref:i},n={ref:s},l={ref:e},o={ref:t},a=(this.clipLinePoints(m,p,d,null,r,n,l,o),i=r.ref,s=n.ref,e=l.ref,t=o.ref,f[S]),h=new P.d.StiSeriesPointsInfo,u=(h.points=i,h.pointsFrom=L[S],h.pointsIds=T[S],a.core.renderLines(m,p,h),a.core.getSeriesLabels());if(null!=u&&u.visible)for(let n=e;n<=t;n++)if(n<a.values.length){let i=a.values[n],e=x,s=(0<(i=null==i&&w.showNulls?0:i)?(e=F[n],null!=d[n]&&(F[n]=d[n].y)):(e=k[n],null!=d[n]&&(k[n]=d[n].y)),i),r=(y.reverseVert&&null!=i&&(s=-s),d[n]);if(null!=r){let t=new M(r.x,e);if(0==u.step||n%u.step==0){let e=u.core.renderLabel(a,m,r,t,n,s,i,y.axisCore.getArgumentLabel(y.xAxis.info.stripLines.getByIndex(n),a),a.core.getTag(n),0,1,g);null!=e&&c.push(e)}}}S++}for(let e of c)p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(e.seriesLabels,p,e.clientRectangle.clone())}calculateTotalHeight(e,i,t,s){let r=this.series,n=0,l=0;if(r.core.isFullStacked)for(let t of e)if(i<t.values.length){let e=this.series.chart.area.reverseHor?t.values[t.values.length-i-1]:t.values[i];0<(e=null==e&&r.showNulls?0:e)?n+=e:l+=Math.abs(e)}t.ref=n,s.ref=l}correctPoint(e,t){if(e.y<0)return new M(e.x,0);if(e.y>t.height)return new M(e.x,t.height);return e}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return new V(f.dark(i.lineColor,20));return s}getSeriesBorderColor(e,t){let i=this.series,s=super.getSeriesBorderColor(e,t);if(null==s)return i.lineColor;return s}get isFullStacked(){return this.is2(P.d.StiFullStackedAreaSeriesCoreXF)||this.is2(P.d.StiFullStackedLineSeriesCoreXF)||this.is2(P.d.StiFullStackedSplineSeriesCoreXF)||this.is2(P.d.StiFullStackedSplineAreaSeriesCoreXF)}constructor(e){super(e)}},P.d.StiStackedLineSeriesCoreXF=class extends P.d.StiStackedBaseLineSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiStackedLineSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s)),this.renderMarkers(e,t,i.points)}get localizedName(){return d.get("Chart","StackedLine")}constructor(e){super(e)}},P.d.StiStackedAreaSeriesCoreXF=class extends P.d.StiStackedLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.pointsStart||i.pointsStart.length<=1)return;if(null==i.pointsEnd||i.pointsEnd.length<=1)return;let s=new P.d.StiStackedAreaSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s))}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}get localizedName(){return d.get("Chart","StackedArea")}constructor(e){super(e)}},P.d.StiFullStackedAreaSeriesCoreXF=class extends P.d.StiStackedAreaSeriesCoreXF{get localizedName(){return d.get("Chart","FullStackedArea")}constructor(e){super(e)}},P.d.StiStackedColumnSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(w,y,x,b){if(null==b||0==b.length||null==this.series.chart)return;let C=[],A=[],e=x.area,L=e,T=this.series,r=L.xAxis.core.getStartFromZero(),v=L.axisCore.getDividerY(),F=L.yAxis.info.dpi,k=(this.series.yAxis==P.d.StiSeriesYAxis.RightYAxis&&(F=L.yRightAxis.info.dpi),[]),s=0;for(let i=0;i<b.length;i++){let t=[];for(let e=0;e<b[i].values.length;e++)t.push(s),s++;k.push(t)}let B=s;for(let f=0;f<L.axisCore.valuesCount;f++){let l=0,c=0,e={ref:l},t={ref:c},i=(this.calculateTotalHeight(b,f,e,t),l=e.ref,c=t.ref,r?L.xAxis.info.stripPositions[f+1]:L.xAxis.info.stripPositions[f]),S=(i-=L.xAxis.info.step/2,L.xAxis.info.step-L.xAxis.info.step*(1-T.width)),m=i+(L.xAxis.info.step-S)/2,g=0,p=0;if(0==b.length)return;let s=b[0].showShadow;if(s=b[0].chart.isAnimation&&!b[0].chart.report.isDesigning?!1:s){for(let i=0;i<b.length;i++)if(f<b[i].values.length){let e=b[i],t=L.reverseHor?e.values[e.values.length-f-1]:e.values[f];null!=t&&(0<(t=L.reverseVert?-t:t)?g+=t:p+=t)}if(this.is(P.d.StiFullStackedColumnSeriesCoreXF)){let e=L.reverseVert?c:l,t=L.reverseVert?l:c;if(0<e&&0<t){let e=new E(m,-8,S,y.height+8),t=new P.d.StiStackedColumnSeriesShadowElementGeom(b[0],e,!1,!1);x.createChildGeoms(),x.childGeoms.push(t)}else if(0<e){let e=new E(m,-8,S,L.axisCore.getDividerY()+8),t=new P.d.StiStackedColumnSeriesShadowElementGeom(b[0],e,!1,!1);x.createChildGeoms(),x.childGeoms.push(t)}else if(0<t){let e=new E(m,L.axisCore.getDividerY()-8,S,y.height-L.axisCore.getDividerY()+8),t=new P.d.StiStackedColumnSeriesShadowElementGeom(b[0],e,!1,!1);x.createChildGeoms(),x.childGeoms.push(t)}}else{if(0<g){let e=new E(m,-g*F+v,S,g*F),t=new P.d.StiStackedColumnSeriesShadowElementGeom(b[0],e,!0,!1);x.createChildGeoms(),x.childGeoms.push(t)}if(p<0){let e=new E(m,v,S,-p*F),t=(e.y-=7,e.height+=7,new P.d.StiStackedColumnSeriesShadowElementGeom(b[0],e,!1,!0));x.createChildGeoms(),x.childGeoms.push(t)}}}g=0;for(let n=p=0;n<b.length;n++){let d=b[n];if(f<d.values.length){let o=k[n][f],a=L.reverseHor?d.values[d.values.length-f-1]:d.values[f],h=L.reverseHor?b[D.System.StiObject.stimulsoft]().toList().cast().sum(e=>e.values[d.values.length-f-1]):b[D.System.StiObject.stimulsoft]().toList().cast().sum(e=>e.values[f]),e=(!this.series.is(P.d.IStiFullStackedColumnSeries)||0==l&&0==c||null==a||(F=0<=a?L.axisCore.getDividerY()/l:(y.height-L.axisCore.getDividerY())/c),(a=L.reverseVert&&null!=a?-a:a)*F),t=-e+v,u=(0<a?t-=g:(t=p+v,e=-e),!T.showZeros||0!=a&&null!=a||(e=Math.max(w.options.zoom,1),L.reverseVert)||(t-=e),new E(m,t,S,e));u=this.correctRect(u,y);let s,i=(s=a<0?E.fromLTRB(u.left,u.top,u.right,u.top):E.fromLTRB(u.left,u.bottom,u.right,u.bottom),x.view.clientRectangle.clone()),r=(i.x=0,i.y=0,u.clone());if(r.x+=x.clientRectangle.x,r.y+=x.clientRectangle.y,r.right>i.x&&r.x<i.right||this.series.chart.area.xAxis.range.auto){let i=d.core.getSeriesBrush(o,B);if(d.allowApplyBrushNegative&&a<0&&(i=d.brushNegative),i=d.processSeriesBrushes(f,i),0!=u.width&&0<O.round2(u.height,2)&&null!=i){let e=d.core.getSeriesBorderColor(o,B),t=new P.d.StiStackedColumnSeriesElementGeom(x,a,f,i,e,d,u,s);if(null!=d.core.interaction){let e=this.getInteraction(L,d,f);t.interaction=e}A.push(t)}let l=d.core.getSeriesLabels();if(null!=l&&l.visible&&0<O.round2(u.height,2)){let s=new M(u.x+u.width/2,u.y),r=new M(u.x+u.width/2,u.bottom),n=d.values[f];if(L.reverseVert&&null!=n&&(n=-a),a<0&&(r.y=u.y,s.y=u.bottom),0==l.step||f%l.step==0){let e=a,t=(d[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).isTotalLabel&&(e=n=h),L.xAxis.startFromZero?f+1:f),i=l.core.renderLabel(d,w,s,r,f,e,n,L.axisCore.getArgumentLabel(L.xAxis.info.stripLines.getByIndex(t),d),d.core.getTag(f),o,B,y);null!=i&&C.push(i)}}}0<a?g+=e:p+=e,o++}}}for(let t=A.length-1;0<=t;t--){let e=A[t];x.createChildGeoms(),x.childGeoms.push(e)}for(let e of C)x.createChildGeoms(),x.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(e.seriesLabels,x,e.clientRectangle.clone())}calculateTotalHeight(e,i,t,s){let r=0,n=0;if(this.series.is(P.d.IStiFullStackedColumnSeries))for(let t of e)if(i<t.values.length){let e=this.series.chart.area.reverseHor?t.values[t.values.length-i-1]:t.values[i];0<e?r+=e:n+=Math.abs(e)}t.ref=r,s.ref=n}correctRect(t,i){if(t.y>i.height||t.bottom<0)return t.height=0,t;if(t.top<0){let e=-t.top;t.y+=e,t.height-=e}if(i.height<t.bottom){let e=t.bottom-i.height;t.height-=e}return t}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}getSeriesBorderColor(e,t){let i=this.series,s=super.getSeriesBorderColor(e,t);if(null==s)return i.borderColor;return s}get localizedName(){return d.get("Chart","StackedColumn")}constructor(e){super(e)}},P.d.StiFullStackedColumnSeriesCoreXF=class extends P.d.StiStackedColumnSeriesCoreXF{get localizedName(){return d.get("Chart","FullStackedColumn")}constructor(e){super(e)}},P.d.StiFullStackedLineSeriesCoreXF=class extends P.d.StiStackedLineSeriesCoreXF{get localizedName(){return d.get("Chart","FullStackedLine")}constructor(e){super(e)}},P.d.StiStackedSplineSeriesCoreXF=class extends P.d.StiStackedBaseLineSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiStackedSplineSeriesGeom(t,i,this.series);t.createChildGeoms(),t.childGeoms.push(s),this.renderMarkers(e,t,i.points)}get localizedName(){return d.get("Chart","StackedSpline")}constructor(e){super(e)}},P.d.StiStackedSplineAreaSeriesCoreXF=class extends P.d.StiStackedSplineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderAreas(e,t,i){if(null==i.pointsStart||i.pointsStart.length<=1)return;if(null==i.pointsEnd||i.pointsEnd.length<=1)return;let s=new P.d.StiStackedSplineAreaSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s))}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}get localizedName(){return d.get("Chart","StackedSplineArea")}constructor(e){super(e)}},P.d.StiFullStackedSplineAreaSeriesCoreXF=class extends P.d.StiStackedSplineAreaSeriesCoreXF{get localizedName(){return d.get("Chart","FullStackedSplineArea")}constructor(e){super(e)}},P.d.StiFullStackedSplineSeriesCoreXF=class extends P.d.StiStackedSplineSeriesCoreXF{get localizedName(){return d.get("Chart","FullStackedSpline")}constructor(e){super(e)}},D.Base.Context.StiCloseFigureSegmentGeom),Ht=(P.d.StiFunnelSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}isNotNullValues(e){for(let t of e)for(let e of t.values)if(null!=e)return!0;return!1}renderSeries(c,S,m,n){var r,l,g;if(null==n||0==n.length||null==this.series.chart)return void this.renderFunnelEmpty(m,S);let t=n[D.System.StiObject.stimulsoft]().toList().cast()[D.System.StiObject.stimulsoft]().toArray(),p=this.getAllValues(t),f=this.getAllTrueValues(t),w=0;for(let e of n)null!=e.values&&(w+=e.values.length);if(0==w)return void this.renderFunnelEmpty(m,S);let y=this.getSingleValueHeight(w,S),x=this.getSingleValueWidth(p,S),b=(this.labels=this.series.chart.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.IStiFunnelSeriesLabels),S.clone()),C=S.clone();for(let d of n){let e=d;if(null!=this.labels&&this.labels.visible){for(let s=0;s<e.values.length;s++)if(d.values.length>s){let t=null!=(r=e.values[s])?r:0,i=s==e.values.length-1?null!=t?t:0:null!=(l=e.values[s+1])?l:0;if(0==this.labels.step||s%this.labels.step==0){let e={ref:b};this.labels.core.renderLabel(d,c,s,t,i,this.getArgumentText(d,s),d.core.getTag(s),0,w,S,y,x,1,e),b=e.ref,C=b.width<C.width?b:C}}b=C.clone()}y=this.getSingleValueHeight(w,b),x=this.getSingleValueWidth(p,b);let o=0,a=0,h,u=(h=null!=this.labels&&this.labels.is(P.d.StiOutsideLeftFunnelLabels)?b.width/2+b.x:b.width/2,P.d.StiChartHelper.globalBeginTimeElement);for(let l of t){let e={ref:null},t={ref:null},i={ref:null},s=(this.checkNonZerovalue(n,e,t,i),e.ref),r=t.ref;if(0!=s)if(1==s){let e=l.brush,t=(l.allowApplyBrush&&(e=l.core.getSeriesBrush(r,l.values.length),e=l.processSeriesBrushes(r,e)),l.borderColor),i=(l.allowApplyBorderColor&&(t=l.core.getSeriesBorderColor(a,w)),this.renderFunnelElement(t,e,null!=(g=l.values[r])?g:0,0,a,r,l,m,b,y,x,new I(P.d.StiChartHelper.globalBeginTimeElement.ticks)));if(null!=i){if(null!=l.core.interaction){let e=this.getInteraction(m.area,l,r);i.interaction=e}m.createChildGeoms(),m.childGeoms.push(i)}}else for(let n=0;n<l.values.length;n++){let i=this.getCurrentValue(l,o,f);if(0==i&&!l.showZeros){o++;continue}let s=this.getNextCurrentValue(l,o,f),e=l.brush,t=(l.allowApplyBrush&&(e=l.core.getSeriesBrush(o,w),e=l.processSeriesBrushes(o,e)),l.borderColor),r=(l.allowApplyBorderColor&&(t=l.core.getSeriesBorderColor(a,w)),this.renderFunnelElement(t,e,null!=i?i:0,null!=s?s:0,a,n,l,m,b,y,x,new I(u.ticks/p.length*n)));if(null!=r){if(null!=d.core.interaction){let e=this.getInteraction(m.area,d,n);r.interaction=e}m.createChildGeoms(),m.childGeoms.push(r)}if(null!=this.labels&&this.labels.visible&&(0==this.labels.step||n%this.labels.step==0)){let e={ref:b},t=this.labels.core.renderLabel(l,c,a,null!=i?i:0,null!=s?s:0,this.getArgumentText(l,n),l.core.getTag(n),a,w,S,y,x,h,e);b=e.ref,null!=t&&(m.createChildGeoms(),m.childGeoms.push(t),t.clientRectangle=this.checkLabelsRect(this.labels,m,t.clientRectangle))}a++,o++}}}}checkNonZerovalue(e,t,i,s,r=!1){let n=0,l=0,o=0,a=0,h=null;for(let i of e){let t=r?i.valuesStart:i.values;for(let e of t)0==e||null==e||isNaN(e)||(n++,a=e,h=i,1==n&&(o=l)),l++}return t.ref=n,i.ref=o,s.ref=h,a}getSeriesBorderColor(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,s=i.getColorByIndex(e,t,this.seriesColors);return i.getColumnBorder(s)}getSeriesBrush(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,s=i.getColorByIndex(e,t,this.seriesColors),r=i.getColumnBrush(s);return r}getCurrentValue(e,t,i){var s;return null!=(s=i[t])?s:0}getNextCurrentValue(t,i,s){if(i!=s.length-1){let e=s[i+1];if(0==e&&!t.showZeros)while(0==e&&i<s.length-2)i++,e=s[i+1];return e}return s[i]}getAllValues(e){let i=new G;for(let t of e)for(let e of t.values){if(0==(null!=e?e:0)&&!t.showZeros)continue;i.push(null!=e?e:0)}return i[D.System.StiObject.stimulsoft]().toArray()}getAllTrueValues(e){let i=new G;for(let t of e)for(let e of t.values)i.push(null!=e?e:0);return i[D.System.StiObject.stimulsoft]().toArray()}getValues(t){let i=[];for(let e of t.values){if(!t.showZeros&&0==e)continue;i.push(e)}return i[D.System.StiObject.stimulsoft]().toArray()}getArgumentText(e,t){let i=e.arguments[D.System.StiObject.stimulsoft]().getKeys();if(e.arguments.length>t&&null!=e.arguments[D.System.StiObject.stimulsoft]().getByIndex(t,i))return e.arguments[D.System.StiObject.stimulsoft]().getByIndex(t,i).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}renderFunnelEmpty(r,n){let l,o=[3,2,1],a=.9*n.height/o.length,h=.9*n.width/o.length;for(let s=0;s<o.length;s++){let e=null!=(l=o[s])?l:0,t=s!=o.length-1?o[s+1]:o[s],i=this.measureFunnelElementCore(e,null!=t?t:0,s,n,a,h);r.createChildGeoms(),r.childGeoms.push(new P.d.StiFunnelEmptySeriesElementGeom(n,i))}}renderFunnelElement(e,t,i,s,r,n,l,o,a,h,u,d){let c=this.measureFunnelElementCore(i,s,r,a,h,u);return new P.d.StiFunnelSeriesElementGeom(o,i,n,l,a,t,e,c,d)}getSingleValueHeight(e,t){return.9*t.height/e}getSingleValueWidth(t,e){let i=Number.NEGATIVE_INFINITY;for(let e of t)i=i>(null!=e?e:0)?i:null!=e?e:0;return.9*e.width/i}measureFunnelElementCore(e,t,i,s,r,n){let l=new G,o=.05*s.height,a,h=(a=null!=this.labels&&this.labels.is(P.d.StiOutsideLeftFunnelLabels)?s.width/2+s.x:s.width/2,new M(a-e/2*n,r*i+o)),u=new M(a+e/2*n,r*i+o),d=new M(a+t/2*n,r*(i+1)+o),c=new M(a-t/2*n,r*(i+1)+o),S=[h,u,d,c,h];return l.push(new Pt(S)),l.push(new _t),l}get localizedName(){return d.get("Chart","Funnel")}constructor(e){super(e)}},P.d.StiFunnelWeightedSlicesSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}isNotNullValues(e){for(let t of e)for(let e of t.values)if(null!=e)return!0;return!1}renderSeries(a,h,u,d){if(null==d||0==d.length||null==this.series.chart)return void this.renderFunnelEmpty(u,h);let e=d[D.System.StiObject.stimulsoft]().toList().cast()[D.System.StiObject.stimulsoft]().toArray(),c=0;for(let e of d)null!=e.values&&(c+=e.values.length);if(0==c)return void this.renderFunnelEmpty(u,h);let S=new G,m=this.getAllValues(e),g=this.getAllTrueValues(e),p=.9*h.height/this.getSumValues(g),f=0,w=0,y,x=(y=null!=this.labels&&this.labels.is(P.d.StiOutsideLeftFunnelLabels)?h.width/2+h.x:h.width/2,P.d.StiChartHelper.globalBeginTimeElement);for(let o of d){let n=o,l=this.getValues(n),e=(this.labels=this.series.chart.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.StiFunnelSeriesLabels),{ref:null}),t={ref:null},i={ref:null},s=(this.checkNonZerovalue(d,e,t,i),e.ref),r=t.ref;if(0!=s)if(1==s){let e=n.brush,t=(n.allowApplyBrush&&(e=n.core.getSeriesBrush(r,n.values.length),e=n.processSeriesBrushes(r,e)),n.borderColor),i=(n.allowApplyBorderColor&&(t=n.core.getSeriesBorderColor(f,c)),this.renderFunnelElement(t,e,n.values[r],m,f,r,n,u,h,p,new I(P.d.StiChartHelper.globalBeginTimeElement.ticks)));if(null!=i){if(null!=n.core.interaction){let e=this.getInteraction(u.area,n,r);i.interaction=e}u.createChildGeoms(),u.childGeoms.push(i)}}else for(let r=0;r<l.length;r++){let s=l[r];if(!n.showZeros&&0==s){f++;continue}let e=n.brush,t=(n.allowApplyBrush&&(e=n.core.getSeriesBrush(f,c),e=n.processSeriesBrushes(f,e)),n.borderColor),i=(n.allowApplyBorderColor&&(t=n.core.getSeriesBorderColor(f,c)),this.renderFunnelElement(t,e,s,m,w,r,o,u,h,p,new I(x.ticks/o.values.length*r)));if(null!=i){if(null!=o.core.interaction){let e=this.getInteraction(u.area,o,r);i.interaction=e}u.createChildGeoms(),u.childGeoms.push(i)}if(null!=this.labels&&this.labels.visible){let i=f==g.length-1?s:g[r+1];if(0==this.labels.step||r%this.labels.step==0){let e={ref:h},t=this.labels.core.renderLabel(n,a,f,s,i,this.getArgumentText(n,r),n.core.getTag(r),f,c,h,p,0,y,e);h=e.ref,null!=t&&S.push(t)}}w++,f++}}for(let e of S)u.createChildGeoms(),u.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(this.labels,u,e.clientRectangle)}checkNonZerovalue(e,t,i,s,r=!1){let n=0,l=0,o=0,a=0,h=null;for(let i of e){let t=r?i.valuesStart:i.values;for(let e of t)0==e||null==e||isNaN(e)||(n++,a=e,h=i,1==n&&(o=l)),l++}return t.ref=n,i.ref=o,s.ref=h,a}getSeriesBorderColor(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,s=i.getColorByIndex(e,t,this.seriesColors);return i.getColumnBorder(s)}getSeriesBrush(e,t){if(null==this.series.chart||null==this.series.chart.area)return null;let i=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,s=i.getColorByIndex(e,t,this.seriesColors),r=i.getColumnBrush(s);return r}getAllValues(e){let i=new G;for(let t of e)for(let e of t.values){if(0==e&&!t.showZeros)continue;i.push(e)}return i[D.System.StiObject.stimulsoft]().toArray()}getAllTrueValues(e){let i=new G;for(let t of e)for(let e of t.values)i.push(e);return i[D.System.StiObject.stimulsoft]().toArray()}getValues(t){let i=[];for(let e of t.values){if(!t.showZeros&&0==e)continue;i.push(e)}return i[D.System.StiObject.stimulsoft]().toArray()}getArgumentText(e,t){let i=e.arguments[D.System.StiObject.stimulsoft]().getKeys();if(e.arguments.length>t&&null!=e.arguments[D.System.StiObject.stimulsoft]().getByIndex(t,i))return e.arguments[D.System.StiObject.stimulsoft]().getByIndex(t,i).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}renderFunnelEmpty(i,s){let r=[3,2,1],n=.9*s.height/this.getSumValues(r);for(let t=0;t<r.length;t++){let e=this.measureFunnelElementCore(t,s,n,r);i.createChildGeoms(),i.childGeoms.push(new P.d.StiFunnelEmptySeriesElementGeom(s,e[D.System.StiObject.stimulsoft]().toList()))}}getPathFunnelEmpty(e){let t=new G,i=.05*e.height,s=e.width/2,r=new M(s-.9*e.width/2,i),n=new M(s+.9*e.width/2,i),l=new M(s-.1*e.width/2,e.height+i-e.height/5),o=new M(s+.1*e.width/2,e.height+i-e.height/5),a=new M(s+.1*e.width/2,e.height+i),h=new M(s-.1*e.width/2,e.height+i),u=[r,n,o,a,h,l];return t.push(new Pt(u)),t.push(new _t),t}renderFunnelElement(e,t,i,s,r,n,l,o,a,h,u){let d=this.measureFunnelElementCore(r,a,h,s);return new P.d.StiFunnelSeriesElementGeom(o,i,n,l,a,t,e,d,u)}getSumValues(t){let i=0;for(let e of t)i+=Math.abs(e);return i}getSumLastValues(t,i){let s=0;for(let e=0;e<t;e++){if(e>=i.length)break;s+=Math.abs(i[e])}return s}measureFunnelElementCore(e,t,i,s){let r=[],n=.05*t.height,l;l=null!=this.labels&&this.labels.is(P.d.StiOutsideLeftFunnelLabels)?t.width/2+t.x:t.width/2;let o,a,h=new M,u=new M,d,c,S=!1,m=this.getSumLastValues(e,s),g=!1,p=t.height-i*m,f=(p<t.height/5&&(p=t.height/5,g=!0),.9*t.width*p/t.height);o=new M(l-f/2,i*m+n),a=new M(l+f/2,i*m+n),m=this.getSumLastValues(e+1,s),(p=t.height-i*m)<t.height/5&&(p=t.height/5,g||(f=.9*t.width*p/t.height,h=new M(l-f/2,t.height+n-p),u=new M(l+f/2,t.height+n-p),S=!0)),f=.9*t.width*p/t.height,d=new M(l+f/2,i*m+n),c=new M(l-f/2,i*m+n);let w;return w=S?[o,a,u,d,c,h,o]:[o,a,d,c,o],r.push(new Pt(w)),r.push(new _t),r}get localizedName(){return d.get("Chart","FunnelWeightedSlices")}constructor(e){super(e)}},P.d.StiGanttSeriesCoreXF=class extends P.d.StiClusteredBarSeriesCoreXF{renderSeries(y,x,b,e){let C,A=[];if(null==e||0==e.length||null==this.series.chart)return;let L=b.area,T=L.axisCore.getDividerX(),v=L.axisCore.getDividerY();for(let w of e){let e=w.values.length,t=(w.valuesEnd.length<e&&(e=w.valuesEnd.length),w.arguments.length),m=Math.min(e,t),g=t-1,p=0,f=w.arguments[D.System.StiObject.stimulsoft]().getKeys();while(p<m){let r=w.values[p],n=w.valuesEnd[p],e=(null==r&&(r=0),null==n&&(n=0),Math.abs(r-n)*L.xAxis.info.dpi),t=T,l=Math.min(r,n),i=(L.reverseHor?t-=l*L.xAxis.info.dpi+e:t+=l*L.xAxis.info.dpi,L.yAxis.info.stripLines.count-1);for(let t of L.yAxis.info.stripLines.list){let e=null!=(C=w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f))?C:"";if(null==e&&null==t.valueObject||null!=e&&null!=t.valueObject&&e.toString()==t.valueObject.toString())break;i--}L.reverseVert&&(i=L.yAxis.info.stripLines.count-1-i);let o=L.yAxis.info.step/2,a=v-o/2,s=(L.reverseVert?a+=L.yAxis.info.step*i:a-=L.yAxis.info.step*i,new E(t,a,e,o)),h=E.fromLTRB(s.left,s.top,s.left,s.bottom),u=w.core.getSeriesBrush(g,m),d=w.processSeriesBrushes(p,u),c=new P.d.StiGanttSeriesElementGeom(b,l,p,w,s,h,d);if(null!=w.core.interaction){let e=this.getInteraction(L,w,p);c.interaction=e}b.createChildGeoms(),b.childGeoms.push(c);let S=w.core.getSeriesLabels();if(null!=S&&S.visible)if(S.is(P.d.StiValueAxisLabels)){let i=new M(t,a+o/2),s=new M(t+e,a+o/2);if(0==S.step||p%S.step==0){if(n<r){let e=r;r=n,n=e}let e=S.core.renderLabel(w,y,s,s,p,n,n,w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),w.core.getTag(p),0,1,x),t=S.core.renderLabel(w,y,i,i,p,r,r,w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),w.core.getTag(p),0,1,x);null!=t&&(A.push(t),t.clientRectangle=this.checkLabelsRect(S,b,t.clientRectangle.clone())),null!=e&&(A.push(e),e.clientRectangle=this.checkLabelsRect(S,b,e.clientRectangle.clone()))}}else if(!S.is(P.d.StiNoneLabels)){let i,s,r=(s=S.is(P.d.StiCenterAxisLabels)?(i=new M(t,a+o/2),new M(t+e,a+o/2)):(i=new M(t+e/2,a),new M(t+e/2,a)),l);if(0==S.step||p%S.step==0){let e=w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f),t=(e=null==e?"":e,S.core.renderLabel(w,y,s,i,p,l,r,e.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),w.core.getTag(p),0,1,x));null!=t&&(A.push(t),t.clientRectangle=this.checkLabelsRect(S,b,t.clientRectangle.clone()))}}g-=1,p++}}for(let e of A)b.createChildGeoms(),b.childGeoms.push(e)}get localizedName(){return d.get("Chart","Gantt")}constructor(e){super(e)}},D.System.Collections.Dictionary);P.d.StiHeatmapSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}renderSeries(d,e,c,t){let S=P.d.StiChartHelper.globalDurationElement,m=P.d.StiChartHelper.globalBeginTimeElement,g=c.area,o=g.xAxis.info,a=g.yAxis.info,p=new Ht;for(let e=0;e<o.labelsCollection.length;e++){let l=o.labelsCollection[e];for(let n=0;n<a.labelsCollection.length;n++){let e=a.labelsCollection[n],t=l.position-o.step/2,i=e.position-a.step/2,s=new _(t,i,o.step,a.step),r=l.stripLine.valueObject[D.System.StiObject.stimulsoft]().toString()+` , `+e.stripLine.valueObject[D.System.StiObject.stimulsoft]().toString();p.containsKey(r)||p.add(r,s)}}let i=this.getAllValues();if(0==i.length)return;let f=i.min(),w=i.max(),y=new G;for(let e of t){let u=e;for(let h=0;h<u.values.length;h++){let o=u.values[h];if(h>=u.xValues.length||h>=u.yValues.length)break;let e=u.xValues[h],t=u.yValues[h],a=e+` , `+t;if(p.containsKey(a)){let s=p.get(a),r=o,e=this.getHeatmapColors(),t=P.d.StiHeatmapHelper.getColorFromRange(e,f,w,r),n=new V(t),l=this.series.core.getSeriesBorderColor(h,u.values.length);if(0!=l.a||this.series.chart.area.colorEach||(l=B.white),null!=this.series.chart&&null!=this.series.chart.style&&0<s.height){let e=new I(m.ticks/u.values.length*h),t=new H(S,e),i=new P.d.StiHeatmapSeriesElementGeom(c,r,h,n,l,u,s,t);null!=u.core.interaction&&(i.interaction=this.getInteraction(g,u,h)),c.createChildGeoms(),c.childGeoms.push(i)}let i=this.series.chart.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.StiCenterHeatmapLabels);if(null!=i&&i.visible){let e=i.core.renderLabel(this.series,d,h,r,this.getArgumentText(this.series,h),this.series.core.getTag(h),0,u.values.length,s,null);null!=e&&y.add(e)}}}}for(let e of y)c.createChildGeoms(),c.childGeoms.push(e);c.area.chart.seriesLabels.preventIntersection&&this.checkIntersectionLabels(c)}getArgumentText(e,t){let i=e,s=new be;return i.xValues.length>t&&null!=i.xValues[t]&&s.append(i.xValues[t]),i.yValues.length>t&&null!=i.yValues[t]&&(s.append(e.seriesLabels.valueTypeSeparator),s.append(i.yValues[t])),s.toString()}getAllValues(){let t=new G;for(let e of this.series.chart.series.list)t.addRange(e.values);let i=new G;for(let e of t)null==e||i.contains(e)||i.add(e);return i}getHeatmapColors(){let e=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29,t=null!=this.seriesColors?this.seriesColors:e.styleColors;return t}getSeriesBrush(e,t){return new V(B.transparent)}get localizedName(){return d.get("Chart","Heatmap")}constructor(e){super(e)}};{class vs{constructor(e,t,i){this.value=e,this.series=t,this.index=i}}P.d.DataPictorial=vs,P.d.StiPictorialSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.brush=e.core.getColumnBrush(t))}get localizedName(){return d.get("Chart","Pictorial")}getSingleSize(e){return new he(this.singleSizeConst.width*e.options.zoom,this.singleSizeConst.height*e.options.zoom)}showEmptyGeom(t){for(let e of t)if(0<e.values.length)return!1;return!0}renderSeries(e,u,d,t){let c=this.getSingleSize(e),i=Math.floor(u.width/c.width),s=Math.floor(u.height/c.height),r=i*c.width,n=s*c.height,l=u.x+(u.width-r)/2,o=u.y+(u.height-n)/2,S=new E(l,o,r,n),a=i*s;if(this.showEmptyGeom(t)&&0<t.length){let e=new P.d.StiPictorialEmptySeriesElementGeom(d,1,0,new V(B.lightGray),t[0],Ie.Circle,new G([S]),new G([S]),S,null);return d.createChildGeoms(),void d.childGeoms.push(e)}let m=this.series.chart.area,g=[];for(let e of t){let i=e[D.System.StiObject.stimulsoft]().as(P.d.StiPictorialSeries),s=0;for(let t of e.values){let e=null==t?0:m.roundValues?Math.round(t):t;g.push(new vs(Math.abs(e),i,s)),s++}}let h=0;for(let e of g)h+=e.value;let p=a/h,f=(1<p&&m.actual&&(p=1),new M(S.x,S.y)),w=0;for(let l=0;l<g.length;l++){let e=Math.abs(g[l].value);if(0==e)continue;let t=p*e,i=m.roundValues?this.roundPictirialValue(t,w):t,s=(w+=t-i,i*c.width*c.height),r=s/c.height,o=r,a=[],h=[];do{let e=0,t=f,i=S.right-f.x,s=(f=i>o?(e=o,new M(f.x+o,f.y)):(e=i,new M(S.x,f.y+c.height)),o-=e,(t.x-S.x)/c.width),r=(s-Math.floor(s))*c.width,n=new E(t.x-r,t.y,e+r,c.height),l=new E(t.x,t.y,e,c.height);a.push(n),h.push(l)}while(0<o&&f.y<S.bottom);let n=new P.d.StiPictorialSeriesElementGeom(d,e,g[l].index,this.getSeriesBrush(l,g.length),g[l].series,g[l].series.icon,a,h,u,null);if(null!=g[l].series.core.interaction){let e=this.getInteraction(m,g[l].series,l);n.interaction=e}d.createChildGeoms(),d.childGeoms.push(n)}}roundPictirialValue(e,t){return 0<t?Math.ceil(e):t<0?Math.floor(e):Math.round(e)}getSeriesBrush(e,t){let i=super.getSeriesBrush(e,t);if(null==i)return this.series.brush;return i}constructor(e){super(e),this.singleSizeConst=new he(25,25)}}}{let o=D.Base.Drawing.PointD;P.d.StiPictorialStackedSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness)}renderSeries(o,a,h,e){if(a.width<=0||a.height<=0)return;if(null==e||0==e.length||null==this.series.chart||null!=e&&!this.isNotNullValues(e))return h.createChildGeoms(),void h.childGeoms.push(new P.d.StiPictorialStackedEmptySeriesElementGeom(h,1,0,new V(B.fromArgb2(240,240,240)),e[0],Ie.Coffee,a,a,null));let u=e,t=this.getAllTrueValues(u),d=0,c=0;for(let e of u)null!=e.values&&(c+=e.values.length);let S=this.series.chart.seriesLabels,i=S.width*o.options.zoom,l=0,m=(0!=i?l=i:e.forEach(n=>{if(null!=S&&S.visible)for(let r=0;r<n.values.length;r++)if(n.values.length>r){let s=n.values[r];if(0==S.step||r%S.step==0){let e=S.core.getLabelText(n,s,this.getArgumentText(n,r),n.core.getTag(r),n.coreTitle,!1),t=N.changeFontSize(S.font,S.font.size*o.options.zoom),i=o.measureString(e,t);l=Math.max(l,Math.ceil(i.width))}}}),l*=1.1,S.is(P.d.StiOutsideLeftPictorialStackedLabels)?a=new _(a.x+l,a.y,a.width-l,a.height):S.is(P.d.StiOutsideRightPictorialStackedLabels)&&(a=new _(a.x,a.y,a.width-l,a.height)),e[0].icon),s=this.getRectangle(o,a,m),r=this.correctionMainPoint(s,m),g=(s=new _(s.x+r.x,s.y,s.width,s.height),a.clone()),p=4,f=((a=new _(a.x+r.x,a.y+r.y,a.width,a.height)).height>=a.width?S.is(P.d.StiOutsideLeftPictorialStackedLabels)?g=new _(a.x-l,s.y,l,s.height):S.is(P.d.StiOutsideRightPictorialStackedLabels)&&(g=new _(a.right-p,s.y,l,s.height)):S.is(P.d.StiOutsideLeftPictorialStackedLabels)?(g=new _(a.x-l,s.y,l,s.height),p=s.left-g.right-l-s.width*this.correctionAlfa):S.is(P.d.StiOutsideRightPictorialStackedLabels)&&(g=new _(s.right,s.y,l,s.height),p=a.right-s.right),s.height/this.getSumValues(t)*1.23),w=new G,y=a.x,x=s.y;for(let o=0;o<u.length;o++){let l=u[o];for(let n=0;n<l.values.length;n++){let e=l.values[n];if(0==e||null==e){d++;continue}let t=l.core.getSeriesBrush(d,c),i=(t=l.processSeriesBrushes(d,t),t=new V(ct.toColor(t)),f*Math.abs(e)),s=(o==u.length-1&&n==l.values.length-1&&(i=a.bottom-x),new _(y,x,a.width,i)),r=new P.d.StiPictorialStackedSeriesElementGeom(h,e,d,t,l,m,a,s,null);null!=r&&(null!=l.core.interaction&&(r.interaction=this.getInteraction(h.area,l,n)),h.createChildGeoms(),h.childGeoms.push(r)),x+=i,d++}}y=s.x,x=s.y;for(let e=d=0;e<u.length;e++){let l=u[e];for(let n=0;n<l.values.length;n++){let s=l.values[n];if(0==s||null==s){d++;continue}let r=f*Math.abs(s);if(null!=S&&S.visible&&(0==S.step||n%S.step==0)){let i=S.core[D.System.StiObject.stimulsoft]().as(P.d.StiPictorialStackedLabelsCoreXF);if(null!=i){let e=new _(g.x,x,g.width,r),t=i.renderLabel(l,o,d,s,this.getArgumentText(l,n),l.core.getTag(n),d,c,p,e);null!=t&&w.add(t)}}x+=r,d++}}for(let e of w)h.createChildGeoms(),h.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(S,h,e.clientRectangle)}isNotNullValues(e){for(let t of e)for(let e of t.values)if(null!=e)return!0;return!1}correctionMainPoint(e,t){let i=P.a.StiFontIconsHelper.getIconPadding(t),s=i[0],r=i[1],n=i[2],l=i[3];return new o((n-s)/100*e.width/2,(l-r)/100*e.height/2)}getArgumentText(e,t){if(e.arguments.length>t&&null!=e.arguments[t])return e.arguments[t].toString();return""}getRectangle(u,d,c){{let e=new N("Stimulsoft",1e3,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Point),t=.76*this.measureFontSize(u,d,e,c);if(t<=0)return _.empty;let i=new N("Stimulsoft",t,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Point),s=P.a.StiFontIconsHelper.getContent(c),r=u.measureRotatedString2(s,i,d,this.getStringFormatGeom(u),j.CenterCenter,0,d.width),n=P.a.StiFontIconsHelper.getIconPadding(c),l=n[0],o=n[1],a=n[2],h=n[3];return new _(d.x+r.x+l/100*r.width,d.y+r.y+o/100*r.height,r.width*(1-(l+a)/100),r.height*(1-(o+h)/100))}}getStringFormatGeom(e){let t=e.getDefaultStringFormat();return t.trimming=At.None,t.formatFlags|=Lt.MeasureTrailingSpaces|Lt.NoWrap,t.alignment=X.Center,t.lineAlignment=X.Center,t}measureFontSize(e,s,t,i){let r=P.a.StiFontIconsHelper.getContent(i),n=e.measureString(r,t),l=null;if(0==n.width||0==n.height)return 0;if(s.width>s.height){let e=s.width/n.width,t=s.height/n.height,i=t<e?t:e;(null==l||l>i)&&(l=i)}else{let e=s.width/n.width*n.width/n.height;(null==l||l>e)&&(l=e)}return 1e3*l}getSumValues(t){let i=0;for(let e of t)i+=Math.abs(e);return i}getAllTrueValues(e){let i=new G;for(let t of e)for(let e of t.values)i.push(e);return i[D.System.StiObject.stimulsoft]().toArray()}get localizedName(){return d.get("Chart","PictorialStacked")}constructor(e){super(e),this.correctionAlfa=.22}}}{class zt{get endAngle(){return(this.startAngle+this.sweepAngle)%360}drawLabels(i,s){let e=this.series.core.getPieSeriesLabels();if(null!=e&&!e.is(P.d.StiNoneLabels)&&e.visible){let t=e.core;if(null!=t){let e=t.renderLabel2(this.series,s,this);i.createChildGeoms(),i.childGeoms.push(e)}}}drawTopPieSliceGeom(e){let t=new P.d.StiPie3dMainSideSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,this.rectPieSlilce,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle);e.createChildGeoms(),e.childGeoms.push(t)}drawBottomPieSliceGeom(e){let t=new _(this.rectPieSlilce.x,this.rectPieSlilce.y+this.pieHeight,this.rectPieSlilce.width,this.rectPieSlilce.height),i=new P.d.StiPie3dMainSideSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,t,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle);e.createChildGeoms(),e.childGeoms.push(i)}drawSides(e){let t=new P.d.StiPie3dSidesSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,this.rectPieSlilce,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle,this.pieHeight,this.startSideExists,this.endSideExists);this.textPosition=t.getTextPosition(),e.createChildGeoms(),e.childGeoms.push(t)}split(e){if(this.startAngle==e||this.endAngle==e)return[this[D.System.StiObject.stimulsoft]().memberwiseClone()];let t=this.startAngle,i=(e-t+360)%360,s=this.getNewModified(t,i),r=(s.startSideExists=!0,s.endSideExists=!1,i=this.endAngle-e,this.getNewModified(e,i));return r.startSideExists=!1,r.endSideExists=!0,[s,r]}initTextPosition(e){let t=new P.d.StiPie3dSidesSeriesElementGeom(this,e,this.value,this.colorIndex,this.colorCount,this.series,this.rectPieSlilce,this.borderColor,this.seriesBrush,this.startAngle,this.sweepAngle,this.pieHeight,this.startSideExists,this.endSideExists);this.textPosition=t.getTextPosition()}getNewModified(e,t){let i=new zt(this.area,this.value,this.argumentText,this.tag,this.index,this.series,this.rectPieSlilce,this.pieHeight,e,t,this.seriesBrush,this.borderColor,this.colorIndex,this.colorCount);return i.textPosition=this.textPosition,i}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S){this.textPosition=new Et(0,0),this.startSideExists=!0,this.endSideExists=!0,this.value=t,this.argumentText=i,this.tag=s,this.index=r,this.colorIndex=c,this.colorCount=S,this.area=e,this.series=n,this.rectPieSlilce=l,this.pieHeight=o,this.startAngle=a,this.sweepAngle=h,this.seriesBrush=u,this.borderColor=d,null!=n.core.interaction&&(this.interaction=new Vt(e,n,c))}}P.d.StiPie3dSlice=zt}let zt=P.d.StiPie3dSlice,Yt=D.System.Drawing.Size;P.d.StiPie3dSeriesCoreXF=class extends P.d.StiPieSeriesCoreXF{renderSeries(e,t,i,s){this.initializePieSlices(i.area,t,s,e.options.zoom),null!=this.mPieSlices&&0!=this.mPieSlices.length||this.initializeEmptyPieSlices(i.area,t,s,e.options.zoom),this.drawBottoms(i),0<this.pieHeight&&this.drawSliceSides(i),this.drawTops(i),this.drawLabels(i,e)}drawLabels(i,s){if(null==this.mPieSlices)return;for(let t=0;t<this.mPieSlices.length;t++){let e=this.mPieSlices[t];e.drawLabels(i,s)}}drawTops(i){if(null==this.mPieSlices)return;for(let t=0;t<this.mPieSlices.length;t++){let e=this.mPieSlices[t];e.drawTopPieSliceGeom(i)}}drawSliceSides(r){if(null==this.mPieSlices)return;let n=this.mPieSlices[D.System.StiObject.stimulsoft]().toList();if(0==n.length)return;let t=null;if(90<this.mPieSlices[0].startAngle&&this.mPieSlices[0].startAngle<=270&&450<this.mPieSlices[0].startAngle+this.mPieSlices[0].sweepAngle){let e=(t=n[0]).split(0);n[0]=e[0],t.initTextPosition(r),0<Math.abs(e[1].sweepAngle)&&n.insert(1,e[1])}else if(270<this.mPieSlices[0].startAngle&&450<this.mPieSlices[0].startAngle+this.mPieSlices[0].sweepAngle||this.mPieSlices[0].startAngle<90&&270<this.mPieSlices[0].startAngle+this.mPieSlices[0].sweepAngle){let e=(t=n[0]).split(180);n[0]=e[1],t.initTextPosition(r),0<Math.abs(e[1].sweepAngle)&&n.add(e[0])}(t=n[0]).drawSides(r);let l=1,o=n.length-1;while(l<o){let e=n[o],t=e.startAngle-90,i=((180<t||t<0)&&(t=0),n[l]),s=(450-i.endAngle)%360;(s=180<s||s<0?0:s)>=t?(i.drawSides(r),++l):s<t&&(e.drawSides(r),--o)}(t=n[o]).drawSides(r)}drawBottoms(i){if(null==this.mPieSlices)return;for(let t=0;t<this.mPieSlices.length;t++){let e=this.mPieSlices[t];e.drawBottomPieSliceGeom(i)}}measureBoundingRect(t){let i=1.61,s=_.empty;if(t.width/t.height>i){let e=t.height*i;s=new _((t.width-e)/2,0,e,t.height)}else{let e=t.width/i;s=new _(0,(t.height-e)/2,t.width,e)}return s=new _(s.x+.025*s.width,s.y+.025*s.height,.95*s.width,.95*s.height)}initializePieSlices(u,e,t,d){let c=this.measureBoundingRect(e),S=new G,m=this.getGradPerValue(t),i=t[0],g=i.startAngle%360,p=this.getColorCount(t),f=(this.pieHeight=i.options3D.height*d,this.getLargestDisplacement(d)),w=this.getTopEllipseSize(c,d),y=0,x=-1;for(let h of t[D.System.StiObject.stimulsoft]().toList())for(let a=0;a<h.values.length;a++){let o=h.values[a];if(0!=o&&null!=o){let t=m*Math.abs(o),i=h.brush;if(h.allowApplyBrush&&(i=h.core.getSeriesBrush(y,p),i=h.processSeriesBrushes(a,i)),0<=h.options3D.opacity&&h.options3D.opacity<1){let e=ct.toColor(i);e=B.fromArgb(255*h.options3D.opacity,e.r,e.g,e.b),i=new V(e)}let e=h.borderColor,s=(h.allowApplyBorderColor&&(e=h.core.getSeriesBorderColor(y,p)),this.getLargestDisplacement(d)),r=this.getLargestDisplacement(d);if(0<s){let e=this.getSliceDisplacement(g+t/2,s,r);s=e.width,r=e.height}let n=new _(c.x+2*f+s,c.y+2*f+r,w.width,w.height),l=new zt(u,o,this.getArgumentText(h,a),h.core.getTag(a),a,h,n,this.pieHeight,g%360,t,i,e,y,p);-1<x||g<=270&&270<g+t||270<=g&&630<g+t?(++x,S.insert(x,l)):S.add(l),g+=t}y++,360<g&&(g-=360)}this.mPieSlices=S}initializeEmptyPieSlices(h,e,t,u){let d=this.measureBoundingRect(e),c=new G,i=new Nt,S=(i.isAnimation=!1,new P.d.StiPie3dSeries),s=(S.chart=i,[1,3]),m=360/4,g=0,p=(this.pieHeight=20*u,this.getLargestDisplacement(u)),f=this.getTopEllipseSize(d,u),w=-1;for(let a=0;a<s.length;a++){let o=s[a];if(0!=o&&null!=o){let t=m*Math.abs(o),e=new V(B.fromArgb3(50,B.lightGray)),i=B.lightGray,s=this.getLargestDisplacement(u),r=this.getLargestDisplacement(u);if(0<s){let e=this.getSliceDisplacement(g+t/2,s,r);s=e.width,r=e.height}let n=new _(d.x+2*p+s,d.y+2*p+r,f.width,f.height),l=new zt(h,o,"",null,a,S,n,this.pieHeight,g%360,t,e,i,0,0);-1<w||g<=270&&270<g+t||270<=g&&630<g+t?(++w,c.insert(w,l)):c.add(l),g+=t}360<g&&(g-=360)}this.mPieSlices=c}getTopEllipseSize(e,t){let i=this.getLargestDisplacement(t),s=e.width-4*i,r=e.height-4*i-this.pieHeight;return s<1&&(s=1),r<1&&(r=1),new Yt(s,r)}getSliceDisplacement(e,t,i){if(0==t)return Yt.empty;let s=t*Math.cos(e*Math.PI/180),r=i*Math.sin(e*Math.PI/180);return new Yt(s,r)}getLargestDisplacement(e){return this.series.options3D.distance*e}get localizedName(){return"3D "+d.get("Chart","Pie")}constructor(e){super(e)}},P.d.StiRadarSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&null!=i.marker&&(i.marker.brush=new V(f.light(t,100)),i.marker.borderColor=f.dark(t,100))}getPointsList(e,n,t){let i=[],l=n.area,o=l.core;for(let r of t){let s=[],e=(i.push(s),0);for(let i of o.points){let t=e<r.values.length?r.values[e]:null;if(null==(t=null==t&&r.showNulls?0:t))s.push(null);else{null!=t&&(t=(t-l.yAxis.info.minimum)*l.yAxis.info.dpi);let e=new M(o.centerPoint.x+t*i.x,o.centerPoint.y+t*i.y);e.x-=n.clientRectangle.x,e.y-=n.clientRectangle.y,s.push(e)}e++}}return i}renderSeries(l,e,o,t){if(null==t||0==t.length||null==this.series.chart)return;let a=this.getPointsList(this.series.values,o,t),h=this.getPointsList(this.series.valuesStart,o,t),u=0;for(let n of t){let e=a[u],t=(e.push(e[0]),n.arguments.map(e=>e)),i=((t=t.length<e.length-1?e.map((e,t)=>t.toString()):t).push(t[0]+"_e"),h[u]),s=(i.push(i[0]),new M(o.clientRectangle.width/2,o.clientRectangle.height/2)),r=new P.d.StiSeriesPointsInfo;r.pointsFrom=i.map(e=>null!=e?e:s),r.points=e.map(e=>null!=e?e:s),r.pointsIds=t.map(e=>e),this.renderAreas(l,n,r,o),this.renderLines(l,n,r,o),e.splice(e.length-1,1),this.renderPoints(l,n,e,o),e.splice(e.length-1,1),u++}}renderAreas(e,t,i,s){}renderLines(e,t,i,s){}renderPoints(n,l,e,o){let a=0;for(let r of e){if(null!=r){let i=a<l.values.length?l.values[a]:null,e=new P.d.StiRadarPointSeriesElementGeom(o,i,a,l.marker.brush,l,r,n.options.zoom),s=(null!=o&&(o.createChildGeoms(),o.childGeoms.push(e)),l.core.getSeriesLabels());if(null!=s&&s.visible&&null!=i){let t=r;if(0==s.step||a%s.step==0){let e=s.core.renderLabel(l,n,t,t,a,i,i,this.getArgument(l,a),l.core.getTag(a),0,1,o.clientRectangle);null!=e&&(o.createChildGeoms(),o.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(s,o,e.clientRectangle.clone()))}}}a++}}getArgument(t,i){let s,r,n=t.arguments[D.System.StiObject.stimulsoft]().getKeys();if(t.arguments.length>i){let e=null!=(r=null==(s=t.arguments[D.System.StiObject.stimulsoft]().getByIndex(i,n))?void 0:s.toString())?r:"";return e.replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}return""}getSeriesBrush(e,t){let i=super.getSeriesBrush(e,t);if(null==i)return new V(f.dark(B.white,20));return i}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return B.black;return i}constructor(e){super(e)}},P.d.StiRadarAreaSeriesCoreXF=class extends P.d.StiRadarSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t),i.lineColor=t)}get localizedName(){return d.get("Chart","RadarArea")}renderLines(e,t,i,s){let r=new P.d.StiLineSeriesGeom(s,i,t);null!=s&&(s.createChildGeoms(),s.childGeoms.push(r))}renderAreas(e,t,i,s){let r=new P.d.StiRadarAreaSeriesGeom(t,i);null!=s&&(s.createChildGeoms(),s.childGeoms.push(r))}constructor(e){super(e)}},P.d.StiRadarLineSeriesCoreXF=class extends P.d.StiRadarSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.lineColor=t)}get localizedName(){return d.get("Chart","RadarLine")}renderLines(e,t,i,s){let r=new P.d.StiLineSeriesGeom(s,i,t);null!=s&&(s.createChildGeoms(),s.childGeoms.push(r))}constructor(e){super(e)}},P.d.StiRadarPointSeriesCoreXF=class extends P.d.StiRadarSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series[D.System.StiObject.stimulsoft]().as(P.d.StiRadarPointSeries);i.allowApplyStyle&&!e.core.markerVisible&&(i.marker.visible=!0)}get localizedName(){return d.get("Chart","RadarPoint")}constructor(e){super(e)}},P.d.StiRangeBarSeriesCoreXF=class extends P.d.StiClusteredColumnSeriesCoreXF{renderSeries(y,x,b,C){let A,L,T=[];if(null==C||0==C.length||null==this.series.chart)return;let v=b.area,F=v.axisCore.getDividerX(),k=v.axisCore.getDividerY();for(let w of C){let e=w.values.length,t=(w.valuesEnd.length<e&&(e=w.valuesEnd.length),w.arguments.length),m=Math.min(e,t),g=v.reverseHor?m-1:0,p=0,f=w.arguments[D.System.StiObject.stimulsoft]().getKeys();while(p<m){let r=w.values[p],n=w.valuesEnd[p],e=(null==r&&(r=0),null==n&&(n=0),Math.abs(r-n)*v.yAxis.info.dpi),t=k,i=Math.max(r,n),s=(v.reverseVert?t+=Math.min(r,n)*v.yAxis.info.dpi:t-=i*v.yAxis.info.dpi,v.xAxis.info.stripLines.count-1);for(let e of v.xAxis.info.stripLines.list){if((null==(A=w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f))?void 0:A.toString())==(null==(L=e.valueObject)?void 0:L.toString()))break;s--}s=v.xAxis.info.stripLines.count-1-s;let l=(v.xAxis.info.step-v.xAxis.info.step*(1-w.width))/C.length,o=F-l/2,a=(o+=v.xAxis.info.step*s,new E(o,t,l,e)),h=E.fromLTRB(a.left,a.bottom,a.right,a.bottom),u=w.core.getSeriesBrush(g,m),d=w.processSeriesBrushes(g,u),c=new P.d.StiRangeBarElementGeom(b,i,p,w,d,a,h);if(null!=w.core.interaction){let e=this.getInteraction(v,w,p);c.interaction=e}b.createChildGeoms(),b.childGeoms.push(c);let S=w.core.getSeriesLabels();if(null!=S&&S.visible){let i=new M(o+l/2,t),s=new M(o+l/2,t+e);if(0==S.step||p%S.step==0){if(n<r){let e=r;r=n,n=e}let e=S.core.renderLabel(w,y,s,s,p,r,r,w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),w.core.getTag(p),0,1,x),t=S.core.renderLabel(w,y,i,i,p,n,n,w.arguments[D.System.StiObject.stimulsoft]().getByIndex(p,f).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator),w.core.getTag(p),0,1,x);null!=t&&(T.push(t),t.clientRectangle=this.checkLabelsRect(S,b,t.clientRectangle.clone())),null!=e&&(T.push(e),e.clientRectangle=this.checkLabelsRect(S,b,e.clientRectangle.clone()))}}g=v.reverseHor?g-1:g+1,p++}}for(let e of T)b.createChildGeoms(),b.childGeoms.push(e)}get localizedName(){return d.get("Chart","RangeBar")}constructor(e){super(e)}},P.d.StiRangeSeriesCoreXF=class extends P.d.StiLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderSeries(m,g,p,e){if(null==e||0==e.length||null==this.series.chart)return;let f=p.area,w=p.area,l=w.xAxis.core.getStartFromZero();for(let S of e){let r=Math.min(S.values.length,S.valuesEnd.length),h=R.create(M,r,!0),u=R.create(M,r,!0),n=R.create(String,r,!0);S.valuesEnd.length<r&&(r=S.valuesEnd.length);for(let s=0;s<r;s++){let e=f.reverseHor?S.values[r-s-1]:S.values[s],t=f.reverseHor?S.valuesEnd[r-s-1]:S.valuesEnd[s],i=(S.showZeros||0!=e||(e=null),S.showZeros||0!=t||(t=null),e==t?h[s]=u[s]=this.getYPoint(e,S,f,s):(h[s]=this.getYPoint(e,S,f,s),u[s]=this.getYPoint(t,S,f,s)),(l?w.xAxis.info.stripLines.getByIndex(s+1):w.xAxis.info.stripLines.getByIndex(s)).valueObject);n[s]=null==i?"":i[D.System.StiObject.stimulsoft]().toString()}let e=new P.d.StiSeriesPointsInfo,t=(e.points=h,e.pointsEnd=u,e.pointsIds=n,new P.d.StiSeriesPointsInfo),d=(t.points=u,t.pointsIds=n,t.additionalSeriesId="_e",this.renderAreas2(p,e,S),e.pointsZeroConnect=this.getPointsZeroConnect(S,S.values,w)[D.System.StiObject.stimulsoft]().toArray(),e.pointsNullConnect=this.getPointsNullConnect(S,S.values,w)[D.System.StiObject.stimulsoft]().toArray(),this.renderLines2(m,p,e,S.values,S),t.pointsZeroConnect=this.getPointsZeroConnect(S,S.valuesEnd,w)[D.System.StiObject.stimulsoft]().toArray(),t.pointsNullConnect=this.getPointsNullConnect(S,S.valuesEnd,w)[D.System.StiObject.stimulsoft]().toArray(),this.renderLines2(m,p,t,S.valuesEnd,S),0),c=S.core.getSeriesLabels();if(null!=c&&c.visible)for(let a=0;a<r;a++){let i=w.reverseHor?S.values[S.values.length-a-1]:S.values[a],s=w.reverseHor?S.valuesEnd[S.valuesEnd.length-a-1]:S.valuesEnd[a],r=(null==i&&S.showNulls&&(i=0),i=null==s&&S.showNulls?0:i),n=(f.reverseVert&&null!=i&&(r=-r),s),l=(f.reverseVert&&null!=s&&(n=-n),d=S.yAxis==P.d.StiSeriesYAxis.LeftYAxis?f.axisCore.getDividerY():f.axisCore.getDividerRightY(),h[a]),o=u[a];if(null!=l){let t=new M(l.x,d);if(0==c.step||a%c.step==0){let e=c.core.renderLabel(S,m,this.correctPoint(l,g,S.labelsOffset*m.options.zoom),this.correctPoint(t,g,S.labelsOffset*m.options.zoom),a,r,i,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(a),S),S.core.getTag(a),0,1,g);null!=e&&(p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(c,p,e.clientRectangle.clone()))}}if(null!=o){let t=new M(o.x,d);if(0==c.step||a%c.step==0){let e=c.core.renderLabel(S,m,this.correctPoint(o,g,S.labelsOffset*m.options.zoom),this.correctPoint(t,g,S.labelsOffset*m.options.zoom),a,n,s,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(a),S),S.core.getTag(a),0,1,g);null!=e&&(p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(c,p,e.clientRectangle.clone()))}}}}}renderLines2(t,i,s,e,r){if(null!=s.points&&1<s.points.length){let e=new P.d.StiLineSeriesGeom(i,s,r);i.createChildGeoms(),i.childGeoms.push(e),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,s.points))}this.renderMarkers2(t,i,s.points,e,r)}renderMarkers2(l,o,e,a,h){let u=o.area,d=h;if(0==e.length)return;let c=!d.marker.visible&&0<d.toolTips.length;if(null!=d.marker&&(d.marker.visible||c)){let r=0,n=Math.min(d.values.length,d.valuesEnd.length);for(let s of e){if(null!=s){let e=u.reverseHor?a[n-r-1]:a[r],t=(null==e&&d.showNulls&&(e=0),o.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),s);if(i.x+=o.clientRectangle.x,i.y+=o.clientRectangle.y,t.contains(i.x,i.y)){let t=new P.d.StiMarkerGeom(h,r,e,s,d.marker,d.showShadow,l.options.zoom,c);if(null!=t){if(null!=d.core.interaction){let e=this.getInteraction(u,d,r);t.interaction=e}o.createChildGeoms(),o.childGeoms.push(t)}}}r++}}}getYPoint(t,i,s,e){let r,n=s.xAxis.core.getStartFromZero()?s.xAxis.info.stripPositions[e+1]:s.xAxis.info.stripPositions[e];if(null!=t||i.showNulls){null==t&&i.showNulls&&(t=0),s.reverseVert&&null!=t&&(t=-t);let e=0;e=i.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-t*s.yAxis.info.dpi+s.axisCore.getDividerY():-t*s.yRightAxis.info.dpi+s.axisCore.getDividerRightY(),r=new M(n,e)}else r=null;return r}renderAreas2(l,o,a){if(null==o.points||o.points.length<=1)return;if(a.showNulls){let e=new P.d.StiRangeSeriesGeom(l,o,a);null!=e&&(l.createChildGeoms(),l.childGeoms.push(e))}else{let s=new G,r=new G,n=new G;for(let i=0;i<o.pointsIds.length;i++){let e=o.points[i],t=o.pointsEnd[i];if(null==e&&null!=t?s.add(t):s.add(e),null!=e&&null==t?r.add(e):r.add(t),null==e&&null==t||n.add(o.pointsIds[i]),null==e&&null==t||i==o.pointsIds.length-1){let e=new P.d.StiSeriesPointsInfo,t=(e.points=s[D.System.StiObject.stimulsoft]().toArray(),e.pointsEnd=r[D.System.StiObject.stimulsoft]().toArray(),e.pointsIds=n[D.System.StiObject.stimulsoft]().toArray(),new P.d.StiRangeSeriesGeom(l,e,a));null!=t&&(l.createChildGeoms(),l.childGeoms.push(t)),s.clear(),r.clear(),n.clear()}}}}get localizedName(){return d.get("Chart","Range")}constructor(e){super(e)}},P.d.StiSplineRangeSeriesCoreXF=class extends P.d.StiSplineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderSeries(m,g,p,e){if(null==e||0==e.length||null==this.series.chart)return;let f=p.area,w=p.area,n=w.xAxis.core.getStartFromZero();for(let S of e){let e=S.values.length,h=(S.valuesEnd.length<e&&(e=S.valuesEnd.length),R.create(M,e,!0)),u=R.create(M,e,!0),r=R.create(String,e,!0);for(let s=0;s<e;s++){let e=f.reverseHor?S.values[S.values.length-s-1]:S.values[s],t=f.reverseHor?S.valuesEnd[S.values.length-s-1]:S.valuesEnd[s],i=(h[s]=this.getYPoint(e,S,f,s),u[s]=this.getYPoint(t,S,f,s),(n?w.xAxis.info.stripLines.getByIndex(s+1):w.xAxis.info.stripLines.getByIndex(s)).valueObject);r[s]=null==i?"":i[D.System.StiObject.stimulsoft]().toString()}let t=new P.d.StiSeriesPointsInfo,i=(t.points=h,t.pointsEnd=u,t.pointsIds=r,new P.d.StiSeriesPointsInfo),d=(i.points=u,i.pointsIds=r,i.additionalSeriesId="_e",this.renderAreas2(p,t,S),t.pointsZeroConnect=this.getPointsZeroConnect(S,S.values,w)[D.System.StiObject.stimulsoft]().toArray(),t.pointsNullConnect=this.getPointsNullConnect(S,S.values,w)[D.System.StiObject.stimulsoft]().toArray(),this.renderLines(m,p,t),i.pointsZeroConnect=this.getPointsZeroConnect(S,S.valuesEnd,w)[D.System.StiObject.stimulsoft]().toArray(),i.pointsNullConnect=this.getPointsNullConnect(S,S.valuesEnd,w)[D.System.StiObject.stimulsoft]().toArray(),this.renderLines(m,p,i),0),c=S.core.getSeriesLabels();if(null!=c&&c.visible)for(let a=0;a<e;a++){let i=w.reverseHor?S.values[S.values.length-a-1]:S.values[a],s=w.reverseHor?S.valuesEnd[S.valuesEnd.length-a-1]:S.valuesEnd[a],r=(null==i&&S.showNulls&&(i=0),i=null==s&&S.showNulls?0:i),n=(f.reverseVert&&null!=i&&(r=-r),s),l=(f.reverseVert&&null!=s&&(n=-n),d=S.yAxis==P.d.StiSeriesYAxis.LeftYAxis?f.axisCore.getDividerY():f.axisCore.getDividerRightY(),h[a]),o=u[a];if(null!=l){let t=new M(l.x,d);if(0==c.step||a%c.step==0){let e=c.core.renderLabel(S,m,this.correctPoint(l,g,S.labelsOffset*m.options.zoom),this.correctPoint(t,g,S.labelsOffset*m.options.zoom),a,r,i,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(a),S),S.core.getTag(a),0,1,g);null!=e&&(p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(c,p,e.clientRectangle.clone()))}}if(null!=o){let t=new M(o.x,d);if(0==c.step||a%c.step==0){let e=c.core.renderLabel(S,m,this.correctPoint(o,g,S.labelsOffset*m.options.zoom),this.correctPoint(t,g,S.labelsOffset*m.options.zoom),a,n,s,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(a),S),S.core.getTag(a),0,1,g);null!=e&&(p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(c,p,e.clientRectangle.clone()))}}}}}getYPoint(t,i,s,e){let r,n=s.xAxis.core.getStartFromZero()?s.xAxis.info.stripPositions[e+1]:s.xAxis.info.stripPositions[e];if(null!=t||i.showNulls){null==t&&i.showNulls&&(t=0),s.reverseVert&&null!=t&&(t=-t);let e=0;e=i.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-t*s.yAxis.info.dpi+s.axisCore.getDividerY():-t*s.yRightAxis.info.dpi+s.axisCore.getDividerRightY(),r=new M(n,e)}else r=null;return r}renderAreas2(l,o,a){if(null==o.points||o.points.length<=1)return;if(a.showNulls){let e=new P.d.StiSplineRangeSeriesGeom(l,o,a);null!=e&&(l.createChildGeoms(),l.childGeoms.push(e))}else{let s=new G,r=new G,n=new G;for(let i=0;i<o.pointsIds.length;i++){let e=o.points[i],t=o.pointsEnd[i];if(null==e&&null!=t?s.add(t):s.add(e),null!=e&&null==t?r.add(e):r.add(t),null==e&&null==t||n.add(o.pointsIds[i]),null==e&&null==t||i==o.pointsIds.length-1){let e=new P.d.StiSeriesPointsInfo,t=(e.points=s[D.System.StiObject.stimulsoft]().toArray(),e.pointsEnd=r[D.System.StiObject.stimulsoft]().toArray(),e.pointsIds=n[D.System.StiObject.stimulsoft]().toArray(),new P.d.StiSplineRangeSeriesGeom(l,e,a));null!=t&&(l.createChildGeoms(),l.childGeoms.push(t)),s.clear(),r.clear(),n.clear()}}}}get localizedName(){return d.get("Chart","SplineRange")}constructor(e){super(e)}},P.d.StiSteppedRangeSeriesCoreXF=class extends P.d.StiSteppedLineSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getAreaBrush(t))}renderSeries(m,g,p,e){if(null==e||0==e.length||null==this.series.chart)return;let f=p.area,w=p.area,l=w.xAxis.core.getStartFromZero();for(let S of e){let r=Math.min(S.values.length,S.valuesEnd.length),h=R.create(M,r,!0),u=R.create(M,r,!0),n=R.create(String,r,!0);S.valuesEnd.length<r&&(r=S.valuesEnd.length);for(let s=0;s<r;s++){let e=f.reverseHor?S.values[r-s-1]:S.values[s],t=f.reverseHor?S.valuesEnd[r-s-1]:S.valuesEnd[s],i=(h[s]=this.getYPoint(e,S,f,s),u[s]=this.getYPoint(t,S,f,s),(l?w.xAxis.info.stripLines.getByIndex(s+1):w.xAxis.info.stripLines.getByIndex(s)).valueObject);n[s]=null==i?"":i[D.System.StiObject.stimulsoft]().toString()}let e=new P.d.StiSeriesPointsInfo,t=(e.points=h,e.pointsIds=n,e.pointsEnd=u,new P.d.StiSeriesPointsInfo),d=(t.points=u,t.pointsIds=n,t.additionalSeriesId="_e",this.renderAreas2(m,p,e,S),this.renderLines2(m,p,e,S.values,S),this.renderLines2(m,p,t,S.valuesEnd,S),0),c=S.core.getSeriesLabels();if(null!=c&&c.visible)for(let a=0;a<r;a++){let i=w.reverseHor?S.values[S.values.length-a-1]:S.values[a],s=w.reverseHor?S.valuesEnd[S.valuesEnd.length-a-1]:S.valuesEnd[a],r=(null==i&&S.showNulls&&(i=0),i=null==s&&S.showNulls?0:i),n=(f.reverseVert&&null!=i&&(r=-r),s),l=(f.reverseVert&&null!=s&&(n=-n),d=S.yAxis==P.d.StiSeriesYAxis.LeftYAxis?f.axisCore.getDividerY():f.axisCore.getDividerRightY(),h[a]),o=u[a];if(null!=l){let t=new M(l.x,d);if(0==c.step||a%c.step==0){let e=c.core.renderLabel(S,m,this.correctPoint(l,g,S.labelsOffset*m.options.zoom),this.correctPoint(t,g,S.labelsOffset*m.options.zoom),a,r,i,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(a),S),this.getTag(a),0,1,g);null!=e&&(p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(c,p,e.clientRectangle.clone()))}}if(null!=o){let t=new M(o.x,d);if(0==c.step||a%c.step==0){let e=c.core.renderLabel(S,m,this.correctPoint(o,g,S.labelsOffset*m.options.zoom),this.correctPoint(t,g,S.labelsOffset*m.options.zoom),a,n,s,f.axisCore.getArgumentLabel(f.xAxis.info.stripLines.getByIndex(a),S),this.getTag(a),0,1,g);null!=e&&(p.createChildGeoms(),p.childGeoms.push(e),e.clientRectangle=this.checkLabelsRect(c,p,e.clientRectangle.clone()))}}}}}renderAreas2(e,t,i,s){if(null==i.points||i.points.length<=1)return;if(null==i.pointsEnd||i.pointsEnd.length<=1)return;let r=new P.d.StiSteppedRangeSeriesGeom(t,i,s);null!=r&&(t.createChildGeoms(),t.childGeoms.push(r))}renderLines2(t,i,s,e,r){let n=r;if(1<s.points.length||n.pointAtCenter&&0<s.points.length){let e=new P.d.StiSteppedLineSeriesGeom(i,s,r);null!=e&&(i.createChildGeoms(),i.childGeoms.push(e)),null!=this.interaction&&(e.interactions=this.getInteractions(t,i,s.points))}this.renderMarkers2(t,i,s.points,e,r)}renderMarkers2(n,l,e,o,a){let h=l.area,u=a;if(0==e.length)return;let d=!u.marker.visible&&0<u.toolTips.length;if(null!=u.marker&&(u.marker.visible||d)){let r=0;for(let s of e){if(null!=s){let e=h.reverseHor?o[u.values.length-r-1]:o[r],t=(null==e&&u.showNulls&&(e=0),l.view.clientRectangle.clone()),i=(t.x=0,t.y=0,t.inflate(10,10),new M(s.x,s.y));if(i.x+=l.clientRectangle.x,i.y+=l.clientRectangle.y,t.contains(i.x,i.y)){let t=new P.d.StiMarkerGeom(a,r,e,s,u.marker,u.showShadow,n.options.zoom,d);if(null!=t){if(null!=u.core.interaction){let e=this.getInteraction(h,u,r);t.interaction=e}l.createChildGeoms(),l.childGeoms.push(t)}}}r++}}}getYPoint(t,i,s,e){let r,n=s.xAxis.info.stripPositions[D.System.StiObject.stimulsoft]().getKeys(),l=s.xAxis.core.getStartFromZero()?s.xAxis.info.stripPositions[D.System.StiObject.stimulsoft]().getByIndex(e+1,n):s.xAxis.info.stripPositions[D.System.StiObject.stimulsoft]().getByIndex(e,n);if(null!=t||i.showNulls){null==t&&i.showNulls&&(t=0),s.reverseVert&&null!=t&&(t=-t);let e=0;e=i.yAxis==P.d.StiSeriesYAxis.LeftYAxis?-t*s.yAxis.info.dpi+s.axisCore.getDividerY():-t*s.yRightAxis.info.dpi+s.axisCore.getDividerRightY(),r=new M(l,e)}else r=null;return r}get localizedName(){return d.get("Chart","SteppedRange")}constructor(e){super(e)}},P.d.StiScatterLineSeriesCoreXF=class extends P.d.StiScatterSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiLineSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s)),this.renderMarkers(e,t,i.points)}get localizedName(){return d.get("Chart","ScatterLine")}constructor(e){super(e)}},P.d.StiScatterSplineSeriesCoreXF=class extends P.d.StiScatterSeriesCoreXF{renderLines(e,t,i){if(null==i.points||i.points.length<=1)return;let s=new P.d.StiScatterSplineSeriesGeom(t,i,this.series);null!=s&&(t.createChildGeoms(),t.childGeoms.push(s)),this.renderMarkers(e,t,i.points)}get localizedName(){return d.get("Chart","ScatterSpline")}constructor(e){super(e)}};{class Fs extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(p,f,w,y){if(null==y||0==y.length||null==this.series.chart)return;let x=[],b=[],C=[],A=w.area,i=this.series,r=A.xAxis.core.getStartFromZero(),L=A.axisCore.getDividerY(),T=A.yAxis.info.dpi,v=(this.series.yAxis==P.d.StiSeriesYAxis.RightYAxis&&(T=A.yRightAxis.info.dpi),new G),s=0;for(let i=0;i<y.length;i++)for(let t=0;t<y[i].values.length;t++){let e;v.length>t?e=v[t]:(e=new Array(y.length),v.add(e)),e[i]=s,s++}let F=s;for(let g=0;g<A.axisCore.valuesCount;g++){let e=r?A.xAxis.info.stripPositions[g+1]:A.xAxis.info.stripPositions[g],l=(e-=A.xAxis.info.step/2,A.xAxis.info.step-A.xAxis.info.step*(1-i.width)),c=e+(A.xAxis.info.step-l)/2,S=0,m=0;if(0==y.length)return;let t=y[0].showShadow;if(t=y[0].chart.isAnimation&&!y[0].chart.report.isDesigning?!1:t){for(let i=0;i<y.length;i++)if(g<y[i].values.length){let e=y[i],t=A.reverseHor?e.values[e.values.length-g-1]:e.values[g];null!=t&&(0<(t=A.reverseVert?-t:t)?S+=t:m+=t)}if(0<S){let e=new E(c,-S*T+L,l,S*T),t=new P.d.StiStackedColumnSeriesShadowElementGeom(y[0],e,!0,!1);w.createChildGeoms(),w.childGeoms.push(t)}if(m<0){let e=new E(c,L,l,-m*T),t=(e.y-=7,e.height+=7,new P.d.StiStackedColumnSeriesShadowElementGeom(y[0],e,!1,!0));w.createChildGeoms(),w.childGeoms.push(t)}}S=0,m=0;let s=new G;for(let i=0;i<y.length;i++){let t=y[i];if(g<t.values.length){let e=A.reverseHor?t.values[t.values.length-g-1]:t.values[g];s.add({key:i,value:e})}else s.add({key:i,value:0})}for(let e of s=s.orderBy(e=>e.value)){let u=e.value;if(null==u)continue;let n=e.key,d=y[n];if(g<d.values.length){let o=v[g][n],a=A.reverseHor?y[D.System.StiObject.stimulsoft]().toList().cast().sum(e=>Fs.getValueFromArray(e.values,d.values.length-g-1)):y[D.System.StiObject.stimulsoft]().toList().cast().sum(e=>Fs.getValueFromArray(e.values,g)),e=(u=A.reverseVert&&null!=u?-u:u)*T,t=-e+L,h=(0<u?t-=S:(t=m+L,e=-e),new E(c,t,l,e)),r=(h=this.correctRect(h,f),u<0?new E(h.left,h.top,h.right,h.top):new E(h.left,h.bottom,h.right,h.bottom)),i=w.view.clientRectangle.clone(),s=(i.x=0,i.y=0,h.clone());if(s.x+=w.clientRectangle.x,s.y+=w.clientRectangle.y,s.right>i.x&&s.x<i.right||this.series.chart.area.xAxis.range.auto){let s=d.core.getSeriesBrush(o,F);if(s=d.processSeriesBrushes(g,s),0!=h.width&&0<O.round2(h.height,2)&&null!=s){let t=d.core.getSeriesBorderColor(o,F),e=new P.d.StiStackedColumnSeriesElementGeom(w,u,g,s,t,d,h,r),i=(null!=d.core.interaction&&(e.interaction=this.getInteraction(A,d,g)),b.push(e),C[n]);if(null!=i)i.rectangles.add(h);else{let e=ct.toColor(s).changeAlpha(150);(i=new P.d.StiRibbonSeriesMetadata(new V(e),t)).rectangles.add(h),C[n]=i}}let l=d.core.getSeriesLabels();if(null!=l&&l.visible&&(0<O.round2(h.height,2)||l.showNulls)){let s=new M(h.x+h.width/2,h.y),r=new M(h.x+h.width/2,h.bottom),n=A.reverseHor?d.values[d.values.length-g-1]:d.values[g];if(A.reverseVert&&null!=n&&(n=-u),u<0&&(r.y=h.y,s.y=h.bottom),0==l.step||g%l.step==0){let e=u,t=(d.isTotalLabel&&(e=n=a),A.xAxis.startFromZero?g+1:g),i=l.core.renderLabel(d,p,s,r,g,e,n,A.axisCore.getArgumentLabel(A.xAxis.info.stripLines.getByIndex(t),d),d.core.getTag(g),o,F,f);null!=i&&x.push(i)}}}0<u?S+=e:m+=e}}}for(let s=0;s<C.length;s++){let i=C[s];if(i){let e=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks+P.d.StiChartHelper.globalBeginTimeElement.ticks/(s+1)*s),t=new P.d.StiRibbonSeriesGeom(w,i,y[s],e);w.createChildGeoms(),w.childGeoms.push(t)}}for(let t=b.length-1;0<=t;t--){let e=b[t];w.createChildGeoms(),w.childGeoms.push(e)}for(let e of x)w.createChildGeoms(),w.childGeoms.push(e),e.ClientRectangle=this.checkLabelsRect(e.SeriesLabels,w,e.ClientRectangle)}static getValueFromArray(e,t){if(null==e||t<0||t>=e.length)return 0;return e[t]}correctRect(t,i){if(t.y>i.height||t.bottom<0)return t.height=0,t;if(t.top<0){let e=-t.top;t.y+=e,t.height-=e}if(i.height<t.bottom){let e=t.bottom-i.height;t.height-=e}return t}getSeriesBrush(e,t){let i=this.series,s=super.getSeriesBrush(e,t);if(null==s)return i.brush;return s}getSeriesBorderColor(e,t){let i=this.series,s=super.getSeriesBorderColor(e,t);if(null==s)return i.borderColor;return s}get localizedName(){return d.get("Chart","Ribbon")}constructor(e){super(e)}}P.d.StiRibbonSeriesCoreXF=Fs}let Wt=D.System.Data.DataTable,Jt=D.System.Data.DataColumn;P.d.StiSunburstSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.borderThickness=e.core.seriesBorderThickness)}renderSeries(r,s,n,i){let e,l,o=this.getDataTable(i);if(o.rows.count<1){let e=this.getRadius(r,s),t=this.getPointCenter(s),i=new _(t.x-e,t.y-e,2*e,2*e);return n.createChildGeoms(),void n.childGeoms.push(new P.d.StiSunburstEmptySeriesElementGeom(i))}let a=o.columns.count-1;for(let t=0;t<o.rows.count;t++){for(let e=0;e<i.length;e++)0<i.length&&i[e].arguments.length>t?o.rows.getByIndex(t).setValue(e+1,i[e].arguments[t]):o.rows.getByIndex(t).setValue(e+1,null);0<i.length&&i[0].values.length>t?o.rows.getByIndex(t).setValue(a,i[0].values[t]):o.rows.getByIndex(t).setValue(a,null)}let h=new Ht;for(let i of o.rows.list){let t=null!=(l=null==(e=i.gett(1))?void 0:e.toString())?l:"";if(h.contains(t)){let e=h.get(t);e.loadDataRow(i.itemArray)}else{let e=o.clone();e.loadDataRow(i.itemArray),h.add(t,e)}}let u=this.getRadius(r,s),d=this.getPointCenter(s),c=this.getGradPerValue(o);if(isNaN(c)||Number.POSITIVE_INFINITY==c||Number.NEGATIVE_INFINITY==c)return;let S=0,m=0,g=new G;for(let s of h.values){let e=this.getSumColumn(s,"Value"),t=c*e,i={ref:g};this.renderComputeSeries(r,n,s,d,u,S,c,m,h.count,i),g=i.ref,S+=t,m++}for(let e of g)null!=e&&(n.createChildGeoms(),n.childGeoms.push(e))}renderComputeSeries(n,l,o,a,e,h,u,d,c,S){let m=1,g=e/(o.columns.count-1);for(let r=1;r<o.columns.count-1;r++){let s=new Ht;for(let e of o.rows.list){let t=e.gett(r),i=(null==t&&(t=""),Ct.tryToNullableNumber(e.gett(o.columns.count-1)));if(s.contains(t)&&null!=i){let e=Ct.tryToNullableNumber(s.get(t));s.set(t,Math.abs(e)+Math.abs(i))}else if(k.isNullOrEmpty(t.toString())){let e="*StiGuid:"+Ce.newGuid();s.set(e,i)}else s.set(t,i)}let e=s.keys.toArray(),t=s.values.toArray(),i=(this.renderLevelSeries(n,l,e,t,a,g*m,g*(m+1),h,u,d,c,m),this.renderLevelSeriesLebels(n,e,t,a,g*m,g*(m+1),h,u,m));S.ref.addRange(i),m++}}renderLevelSeries(e,r,n,t,l,o,a,h,u,d,c,S){let m=this.series.core.getSeriesBorderColor(d,c),g=this.series.core.getSeriesBrush(d,c),p=t,f=(0==m.a&&(m=B.white),P.d.StiChartHelper.globalBeginTimeElement);for(let s=0;s<p.length;s++){let t=p[s],e=n[s],i=u*Math.abs(t);if(!k.isNullOrEmpty(e.toString())&&!e.toString()[D.System.StiObject.stimulsoft]().startsWith("*StiGuid:")){let e=this.renderSunburstElement(l,o,a,m,g,h,i,t,S,d,s,r,new I(f.ticks/(c+p.length)*(s+d)));null!=e&&(r.createChildGeoms(),r.childGeoms.push(e))}h+=i}}renderLevelSeriesLebels(a,e,t,h,u,d,c,S,i){let m=new G;for(let o=0;o<t.length;o++){let r=t[o],n=e[o],l=S*Math.abs(r);if(!k.isNullOrEmpty(n.toString())&&!n.toString()[D.System.StiObject.stimulsoft]().startsWith("*StiGuid:")){let e=null,t=i-1<this.series.chart.series.count?this.series.chart.series.getByIndex(i-1):this.series;if(t.showSeriesLabels==P.d.StiShowSeriesLabels.FromChart&&(e=this.series.chart.seriesLabels),t.showSeriesLabels==P.d.StiShowSeriesLabels.FromSeries&&(e=t.seriesLabels),null!=this.series.chart&&null!=e&&e.visible){let s=e.as(P.d.IStiPieSeriesLabels);if(null!=s&&s.visible&&(0==s.step||o%s.step==0)){let e,t={ref:e},i=s.core.renderLabel(this.series,a,h,u,d,c+l/2,o,Math.abs(r),r,n,this.getTag(o),!1,0,1,S,t,!1,0);e=t.ref,m.push(i)}}}c+=l}return m}renderSunburstElement(e,t,i,s,r,n,l,o,a,h,u,d,c){if(0==l||null==l)return null;let S=new _(e.x-t,e.y-t,2*t,2*t),m=new _(e.x-i,e.y-i,2*i,2*i);if(S.width<=0&&S.height<=0)return null;let g=new G,p=(g.push(new Mt(S,n,l)),g.push(new L(this.getPoint(e,t,n+l),this.getPoint(e,i,n+l))),g.push(new Mt(m,n+l,-l)),g.push(new L(this.getPoint(e,i,n),this.getPoint(e,t,n))),new P.d.StiSunburstSeriesElementGeom(d,o,a,h,u,this.series,S,m,g,s,r,n,n+l,t,i,c));return p}getPoint(e,t,i){let s=Math.PI*i/180;return new Et(e.x+Math.cos(s)*t,e.y+Math.sin(s)*t)}getDataTable(e){let i=new Wt,t=new Jt("Id",Number);i.columns.add(t);for(let t=0;t<e.length;t++){let e=new Jt("Argument-"+t.toString(),String);i.columns.add(e)}let s=new Jt("Value",Number),r=(i.columns.add(s),this.getCountRow(e));for(let e=0;e<r;e++){let e=i.newRow();i.rows.add(e)}return i}getCountRow(t){let i=0;for(let e of t)i=Math.max(i,e.arguments.length);return i}getGradPerValue(e){let t=this.getSumColumn(e,"Value");return 360/t}getRadius(e,t){return.95*Math.min(t.width/2,t.height/2)}getPointCenter(e){return new Et(e.width/2,e.height/2)}getSumColumn(e,i){let s=0;for(let t of e.rows.toList()){let e=t.gett(i);null!=e&&!isNaN(e)||(e=0),s+=Math.abs(e)}return s}get localizedName(){return d.get("Chart","Sunburst")}constructor(e){super(e)}},P.d.StiTreemapSeriesCoreXF=class extends P.d.StiSeriesCoreXF{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.brush=e.core.getColumnBrush(t),i.borderColor=e.core.getColumnBorder(t),i.borderThickness=e.core.seriesBorderThickness,i.cornerRadius=e.core.seriesCornerRadius)}renderSeries(o,e,a,t){let h=P.d.StiChartHelper.globalDurationElement,u=P.d.StiChartHelper.globalBeginTimeElement,d=[];for(let e of this.series.values)d.push(Ct.tryToNumber(e));e.inflate(-1,-1);let i=this.series.chart.area.core.normalizeDataForArea(d,e.width*e.height),c=this.series.chart.area.core.squarify(i,[],e,[]),S=0;for(let e of t){if(e==this.series)break;S+=e.values.length}let m=0;for(let e of t)m+=e.values.length;for(let l=0;l<c.length;l++){if(0==d[l]||null==d[l])continue;let e=this.series.core.getSeriesBrush(S,m),t=(e=this.series.processSeriesBrushes(S,e),this.series.core.getSeriesBorderColor(S,m)),i=(0!=t.a||this.series.chart.area.colorEach||(t=B.white),new I(u.ticks/c.length*(l+2))),s=new H(h,i),r=new P.d.StiTreemapSeriesElementGeom(a,Ct.tryToNumber(this.series.values[l]),l,e,t,this.series,c[l],s);if(null!=this.series.core.interaction){let e=this.getInteraction(a.area,this.series,l);r.interaction=e}a.createChildGeoms(),a.childGeoms.push(r);let n=this.series.chart.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.StiCenterTreemapLabels);if(null!=n&&n.visible){let e=n.core.renderLabel(this.series,o,l,Ct.tryToNumber(this.series.values[l]),this.getArgumentText(this.series,l),this.series.core.getTag(l),S,m,c[l],null);null!=e&&(a.createChildGeoms(),a.childGeoms.push(e))}S++}}getArgumentText(e,t){if(e.arguments.length>t&&null!=e.arguments[t])return e.arguments[t].toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return""}getSeriesBrush(e,t){let i=super.getSeriesBrush(e,t);if(null==i)return this.series.brush;return i}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return this.series.borderColor;return i}get localizedName(){return d.get("Chart","Treemap")}constructor(e){super(e)}};{class ks{implements(){return ks.implementsStiSeriesLabelsCoreXF||(ks.implementsStiSeriesLabelsCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiSeriesLabelsCoreXF]),ks.implementsStiSeriesLabelsCoreXF}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.seriesLabels.allowApplyStyle&&(this.seriesLabels.labelColor=e.core.seriesLabelsColor,this.seriesLabels.borderColor=e.core.seriesLabelsBorderColor,this.seriesLabels.brush=e.core.seriesLabelsBrush,this.seriesLabels.font=e.core.seriesLabelsFont)}get position(){return null}get seriesLabelsType(){return null}get localizedName(){return null}processSeriesColors(h,e,u){let d=e;if(null==this.seriesLabels)return d;for(let a of this.seriesLabels.chart.seriesLabelsConditions.list){if(null==u.values||u.values.length<=h)continue;let e=u.values[h],t=null,i=(u.is(P.d.IStiRangeSeries)&&h<u.valuesEnd.length&&(t=u.valuesEnd[h]),null),s=(null!=u.arguments&&h<u.arguments.length&&(i=u.arguments[h]),null),r=null,n=null,l=null,o=(u.is(P.d.IStiFinancialSeries)&&(h<u.valuesOpen.length&&(s=u.valuesOpen[h]),h<u.valuesClose.length&&(r=u.valuesClose[h]),h<u.valuesLow.length&&(n=u.valuesLow[h]),h<u.valuesHigh.length)&&(l=u.valuesHigh[h]),P.d.StiChartHelper.getFilterData(null,a,null));if(P.d.StiChartHelper.getFilterResult(a,i,e,t,s,r,n,l,o))return d=this.seriesLabels.chart.style.core.getColumnBrush(a.color),this.seriesLabels.chart.area.is(P.d.IStiClusteredBarArea)&&(d.is(Ae)&&(d.angle+=90),d.is(Le))&&(d.angle+=90),d}return d}getSeriesLabelColor(e,t,i){let s=e.core.getSeriesBorderColor(t,i);return s=s.equals(B.transparent)?ct.toColor(e.core.getSeriesBrush(t,i)):s}getBorderColor(e,t,i){if(this.seriesLabels.useSeriesColor)return this.getSeriesLabelColor(e,t,i);return this.seriesLabels.borderColor}getLabelColor(e,t,i){if(this.seriesLabels.useSeriesColor)return this.getSeriesLabelColor(e,t,i);return this.seriesLabels.labelColor}recalcValue(e,t){return e}getLabelText(e,t,i,s,r,n=!1){return this.getLabelText2(e,t,i,s,r,0,n)}getLabelText2(t,i,s,e,r,n,l){let o="",a=this.seriesLabels.valueType;switch(a=l?this.seriesLabels.legendValueType:a){case P.d.StiSeriesLabelsValueType.Argument:o=this.getArgument(t,s);break;case P.d.StiSeriesLabelsValueType.Value:o=this.getFormattedValue(t,i);break;case P.d.StiSeriesLabelsValueType.SeriesTitle:o=r;break;case P.d.StiSeriesLabelsValueType.Tag:o=e;break;case P.d.StiSeriesLabelsValueType.Weight:o=n.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);break;case P.d.StiSeriesLabelsValueType.ValueArgument:{let e=this.getArgument(t,s);o=k.isNullOrEmpty(e)?this.getFormattedValue(t,i):k.format("{0} {1} {2}",this.getFormattedValue(t,i),this.seriesLabels.valueTypeSeparator,e);break}case P.d.StiSeriesLabelsValueType.ArgumentValue:{let e=this.getFormattedValue(t,i);o=k.isNullOrEmpty(e)?this.getArgument(t,s):k.format("{0} {1} {2}",this.getArgument(t,s),this.seriesLabels.valueTypeSeparator,e);break}case P.d.StiSeriesLabelsValueType.SeriesTitleArgument:{let e=this.getArgument(t,s);o=k.isNullOrEmpty(e)?r:k.format("{0} {1} {2}",r,this.seriesLabels.valueTypeSeparator,e);break}case P.d.StiSeriesLabelsValueType.SeriesTitleValue:{let e=this.getFormattedValue(t,i);o=k.isNullOrEmpty(e)?r:k.format("{0} {1} {2}",r,this.seriesLabels.valueTypeSeparator,e);break}}if(l)return o;return k.format("{0}{1}{2}",this.seriesLabels.textBefore,o,this.seriesLabels.textAfter)}getArgument(t,i){let s=i;if(t.core.isDateTimeArguments){let e=y.fromString(i,!1);null!=e&&(s=this.getFormatted(t,e.toOADate(),!0))}return s}getFormatted(n,l,o){var a,h;try{this.storedCulture=we.currentCulture;let e=null==(h=null==(a=this.seriesLabels.chart)?void 0:a.report)?void 0:h.getParsedCulture(),t=(k.isNullOrEmpty(e)||(we.currentCulture=new we(e)),l),i=(o&&(t=y.fromOADate(l)),this.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.StiPieSeriesLabels)),s=this.seriesLabels[D.System.StiObject.stimulsoft]().as(P.d.StiAxisSeriesLabels);if(!(null==this.seriesLabels.formatService||null!=i&&i.showInPercent||null!=s&&s.showInPercent))return this.seriesLabels.formatService.format(t);let r=null;if(null!=(r=null!=(r=null!=n?n.format:r)&&0!=r.trim().length?r:this.seriesLabels.format)&&0!=r.trim().length){if(r[D.System.StiObject.stimulsoft]().startsWith("P")&&null!=this.seriesLabels.chart&&!P.d.StiChartOptions.oldChartPercentMode){let e=0,t;try{1<r.length&&(e=r[D.System.StiObject.stimulsoft]().remove(0,1)[D.System.StiObject.stimulsoft]().toNumber()),t=this.recalcValue(l,e)}catch(e){D.System.StiError.showError(e,!1),t=this.recalcValue(l,2)}return k.format("{0:N"+e.toString()+"}{1}",t,"%")}{let e=k.format("{0:"+r+"}",t);if(!o&&e==r)return t.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);return e}}k.isNullOrEmpty(e)||(we.currentCulture=this.storedCulture)}catch(e){D.System.StiError.showError(e,!1)}return this.recalcValue(l,2).toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getFormattedValue(e,t){if(null==t)return"";return this.getFormatted(e,t,e.core.isDateTimeValues)}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=At.None,this.seriesLabels.wordWrap||(t.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap),t}constructor(e){this.seriesLabels=e}}P.d.StiSeriesLabelsCoreXF=ks}P.d.StiNoneLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{get seriesLabelsType(){return P.d.StiSeriesLabelsType.All}get position(){return P.d.StiSeriesLabelsPosition.None}get localizedName(){return d.get("Chart","LabelsNone")}constructor(e){super(e)}},P.d.StiAxisSeriesLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c=null){return null}renderLabel2(e,t,i,s,r,n,l,o,a,h,u,d,c,S=null){return null}recalcValue(e,s){if(this.seriesLabels.showInPercent&&this.seriesLabels.chart.area.is(P.d.StiFullStackedColumnArea)&&null!=this.currentIndex){let t=this.seriesLabels.chart.area.core.getSeries(),i=0;for(let e of t)this.currentIndex<e.values.length&&(i+=e.values[this.currentIndex]);if(0!=i)return O.round2(100*e/i,s)}return e}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Axis}constructor(e){super(e),this.currentIndex=null}},P.d.StiCenterAxisLabelsCoreXF=class extends P.d.StiAxisSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c=null){return this.currentIndex=r,this.renderLabel2(e,t,i,s,r,n,l,o,a,0,h,u,d,c)}renderLabel2(e,t,i,s,r,n,l,o,a,h,u,d,c,S=null){if(null==n&&!this.seriesLabels.showNulls)return null;if(0==n&&!this.seriesLabels.showZeros)return null;null==n&&(n=0);let m=this.getLabelText2(e,l=null==l?0:l,o,a,e.coreTitle,h,!1),g=this.getLabelColor(e,u,d),p=this.getBorderColor(e,u,d),f=this.getStringFormatGeom(t),w=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),y=e.core.getSeriesBorderColor(u,d),x=e.core.getSeriesBrush(u,d),b=this.processSeriesColors(r,this.seriesLabels.brush,e),C=this.getLabelRect(t,i,s,n,m,!0,w,f),A=null!=S?S[D.System.StiObject.stimulsoft]().as(Xt):null;return null!=A&&(A.labelRect=this.getLabelRect(t,A.pointFrom,s,A.valueFrom,A.valueFrom.toString(),!0,w,f)),new P.d.StiCenterAxisLabelsGeom(this.seriesLabels,e,r,n,C,m,g,p,x,b,y,w,S)}getLabelRect(e,t,i,s,r,n,l,o){return this.seriesLabels.chart.area.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical?e.measureRotatedString3(r,l,new M(t.x,(t.y+i.y)/2),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M((t.x+i.x)/2,t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}get position(){return P.d.StiSeriesLabelsPosition.CenterAxis}get localizedName(){return d.get("Chart","LabelsCenter")}constructor(e){super(e)}},P.d.StiInsideBaseAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get localizedName(){return d.get("Chart","LabelsInsideBase")}get position(){return P.d.StiSeriesLabelsPosition.InsideBaseAxis}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureString(r,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical?0<s?e.measureRotatedString3(r,l,new M(t.x,i.y-(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x,i.y+(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):0<s?e.measureRotatedString3(r,l,new M(i.x-(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(i.x+(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},P.d.StiInsideEndAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get position(){return P.d.StiSeriesLabelsPosition.InsideEndAxis}get localizedName(){return d.get("Chart","LabelsInsideEnd")}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureString(r,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical?0<s?e.measureRotatedString3(r,l,new M(t.x,t.y+(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x,t.y-(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):0<s?e.measureRotatedString3(r,l,new M(t.x+(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x-(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},P.d.StiLeftAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get localizedName(){return d.get("PropertyMain","Left")}get position(){return P.d.StiSeriesLabelsPosition.Left}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureString(r,l);return 0<this.seriesLabels.width?a.width=this.seriesLabels.width*e.options.zoom:a.width+=2*e.options.zoom,this.seriesLabels.chart.area.reverseHor?e.measureRotatedString3(r,l,new M(t.x+a.width,t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x-a.width,t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},P.d.StiOutsideAxisLabelsCoreXF=class extends P.d.StiAxisSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d){let c=this.seriesLabels;if(null==n&&!c.showNulls)return null;if(0==n&&!c.showZeros)return null;null==n&&(n=0);let S=this.getLabelText(e,l=null==l?0:l,o,a,e.coreTitle),m=90,g=(this.seriesLabels.chart.area.is(P.d.IStiStackedBarArea)?(n<=0&&(m=-m),m+=90):n<0&&(m=-m),m*=Math.PI/180,new M(i.x+c.lineLength*Math.cos(m)*t.options.zoom,i.y-c.lineLength*Math.sin(m)*t.options.zoom)),p=N.changeFontSize(c.font,c.font.size*t.options.zoom),f=this.getStringFormatGeom(t),w=t.measureString2(S,p,this.seriesLabels.width*t.options.zoom,f),y=new E(g.x-w.width/2,g.y-w.height/2,w.width+1,w.height+1),x=this.getLabelColor(e,h,u),b=this.getBorderColor(e,h,u),C=e.core.getSeriesBorderColor(h,u),A=e.core.getSeriesBrush(h,u);return A=this.processSeriesColors(r,A,e),new P.d.StiOutsideAxisLabelsGeom(this.seriesLabels,e,r,n,y,S,x,b,A,C,p,g,i,null)}get position(){return P.d.StiSeriesLabelsPosition.OutsideAxis}get localizedName(){return d.get("Chart","LabelsOutside")}constructor(e){super(e)}},P.d.StiOutsideBaseAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get localizedName(){return d.get("Chart","LabelsOutsideBase")}get position(){return P.d.StiSeriesLabelsPosition.OutsideBaseAxis}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureString(r,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical?0<s?e.measureRotatedString3(r,l,new M(t.x,i.y+(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x,i.y-(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):0<s?e.measureRotatedString3(r,l,new M(i.x+(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(i.x-(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},P.d.StiOutsideEndAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get localizedName(){return d.get("Chart","LabelsOutsideEnd")}get position(){return P.d.StiSeriesLabelsPosition.OutsideEndAxis}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureString(r,l),h=2;return this.seriesLabels.chart.area.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical?0<=s?e.measureRotatedString3(r,l,new M(t.x,t.y-(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x,t.y+(Math.abs(a.height*Math.cos(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.sin(this.seriesLabels.angle*Math.PI/180)))),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):0<s?e.measureRotatedString3(r,l,new M(t.x-(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x+(Math.abs(a.height*Math.sin(this.seriesLabels.angle*Math.PI/180))+Math.abs((a.width/2+h)*Math.cos(this.seriesLabels.angle*Math.PI/180))),t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},P.d.StiRightAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get localizedName(){return d.get("PropertyMain","Right")}get position(){return P.d.StiSeriesLabelsPosition.Right}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureString(r,l);return 0<this.seriesLabels.width?a.width=this.seriesLabels.width*e.options.zoom:a.width+=2*e.options.zoom,this.seriesLabels.chart.area.reverseHor?e.measureRotatedString3(r,l,new M(t.x-a.width,t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom)):e.measureRotatedString3(r,l,new M(t.x+a.width,t.y),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}constructor(e){super(e)}},P.d.StiValueAxisLabelsCoreXF=class extends P.d.StiCenterAxisLabelsCoreXF{get localizedName(){return d.get("PropertyMain","Value")}get position(){return P.d.StiSeriesLabelsPosition.Value}getLabelRect(e,t,i,s,r,n,l,o){let a=e.measureRotatedString3(r,l,new M(0,0),o,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom));return new E(t.x-a.width/2,t.y-a.height/2,a.width,a.height)}constructor(e){super(e)}},P.d.StiFunnelSeriesLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c,S){return null}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Funnel}constructor(e){super(e)}},P.d.StiCenterFunnelLabelsCoreXF=class extends P.d.StiFunnelSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c,S){let m=h.clone(),g=this.getLabelText(e,s,n,l,e.coreTitle),p=new V(this.getLabelColor(e,o,a)),f=this.getBorderColor(e,o,a),w=this.getStringFormatGeom(t),y=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),x=e.core.getSeriesBorderColor(o,a),b=e.core.getSeriesBrush(o,a),C,A=(C=e.is(P.d.StiFunnelWeightedSlicesSeries)?new M(h.width/2,.05*h.height+u*this.getSumLastValues(e,i)+u*s/2):new M(h.width/2,u*i+u/2+.05*h.height),t.measureRotatedString3(g,y,C,w,j.CenterCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom)));return S.ref=m,new P.d.StiCenterFunnelLabelsGeom(this.seriesLabels,e,i,s,A,g,b,p,f,x,A,null)}getSumLastValues(t,i){let s=new G;for(let e of t.chart.series.list){let t=e[D.System.StiObject.stimulsoft]().as(P.d.IStiFunnelSeries);for(let e of t.values){if(!t.showZeros&&0==e)continue;s.push(e)}}let r=0;for(let e=0;e<i;e++){if(e>=s.length)break;r+=Math.abs(s[e])}return r}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Funnel}get position(){return P.d.StiSeriesLabelsPosition.CenterFunnel}get localizedName(){return d.get("Chart","LabelsCenter")}constructor(e){super(e)}},P.d.StiOutsideLeftFunnelLabelsCoreXF=class extends P.d.StiFunnelSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c,S){let m=h.clone(),g=this.getLabelText(e,s,n,l,e.coreTitle),p=new V(this.getLabelColor(e,o,a)),f=this.getBorderColor(e,o,a),w=this.getStringFormatGeom(t),y=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),x=e.core.getSeriesBorderColor(o,a),b=e.core.getSeriesBrush(o,a),C=t.measureRotatedString3(g,y,new M(0,0),w,j.CenterCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom)),A=(m.width-=C.width,m.x+=C.width,new M(c-(s+r)*d/4,u*i+u/2+.05*h.height)),L=new M(.05*h.width+C.width,u*i+u/2+.05*h.height),T=t.measureRotatedString3(g,y,L,w,j.RightCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom));return S.ref=m,new P.d.StiOutsideFunnelLabelsGeom(this.seriesLabels,e,i,s,T,g,b,p,f,x,T,A,L)}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Funnel}get position(){return P.d.StiSeriesLabelsPosition.OutsideLeftFunnel}get localizedName(){return d.get("PropertyMain","Left")}constructor(e){super(e)}},P.d.StiOutsideRightFunnelLabelsCoreXF=class extends P.d.StiFunnelSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c,S){let m=h.clone(),g=this.getLabelText(e,s,n,l,e.coreTitle),p=new V(this.getLabelColor(e,o,a)),f=this.getBorderColor(e,o,a),w=this.getStringFormatGeom(t),y=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),x=e.core.getSeriesBorderColor(o,a),b=e.core.getSeriesBrush(o,a),C=t.measureRotatedString3(g,y,new M(0,0),w,j.CenterCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom)),A=(m.width-=C.width+5,new M(c+(s+r)*d/4,u*i+u/2+.05*h.height)),L=new M(.95*h.width-C.width,u*i+u/2+.05*h.height),T=t.measureRotatedString3(g,y,L,w,j.LeftCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom));return S.ref=m,new P.d.StiOutsideFunnelLabelsGeom(this.seriesLabels,e,i,s,T,g,b,p,f,x,T,A,L)}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Funnel}get position(){return P.d.StiSeriesLabelsPosition.OutsideRightFunnel}get localizedName(){return d.get("PropertyMain","Right")}constructor(e){super(e)}},P.d.StiCenterHeatmapLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h=null){let u=this.getLabelText(e,s,r,n,e.coreTitle),d=this.getLabelColor(e,l,o),c=this.getBorderColor(e,l,o),S=this.getStringFormatGeom(t),m=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),g=e.core.getSeriesBorderColor(l,o),p=e.core.getSeriesBrush(l,o),f=this.processSeriesColors(i,this.seriesLabels.brush,e),w=this.getLabelRect(t,a,s,u,!0,m,S);return new P.d.StiCenterTreemapLabelsGeom(this.seriesLabels,e,i,s,w,u,d,c,p,f,g,m,h)}getLabelRect(e,t,i,s,r,n,l){return e.measureRotatedString3(s,n,new M(t.x+t.width/2,t.y+t.height/2),l,j.CenterCenter,0,this.seriesLabels.width*e.options.zoom)}get position(){return P.d.StiSeriesLabelsPosition.CenterHeatmap}get localizedName(){return d.get("Chart","LabelsCenter")}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Heatmap}constructor(e){super(e)}},P.d.StiPictorialStackedLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h){return null}get seriesLabelsType(){return P.d.StiSeriesLabelsType.PictorialStacked}constructor(e){super(e)}},P.d.StiCenterPictorialStackedLabelsCoreXF=class extends P.d.StiPictorialStackedLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h){let u=this.getLabelText(e,s,r,n,e.coreTitle),d=new V(this.getLabelColor(e,l,o)),c=this.getBorderColor(e,l,o),S=this.getStringFormatGeom(t),m=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),g=e.core.getSeriesBorderColor(l,o),p=e.core.getSeriesBrush(l,o),f=(null!=p&&(p=new V(ct.toColor(p))),new M(h.x+h.width/2,h.y+h.height/2)),w=t.measureRotatedString3(u,m,f,S,j.CenterCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom));return new P.d.StiCenterFunnelLabelsGeom(this.seriesLabels,e,i,s,w,u,p,d,c,g,w,null)}get seriesLabelsType(){return P.d.StiSeriesLabelsType.PictorialStacked}get position(){return P.d.StiSeriesLabelsPosition.OutsideLeftPictorialStacked}get localizedName(){return d.get("Chart","LabelsCenter")}constructor(e){super(e)}},P.d.StiOutsideLeftPictorialStackedLabelsCoreXF=class extends P.d.StiPictorialStackedLabelsCoreXF{applyStyle(e){super.applyStyle(e),this.seriesLabels.allowApplyStyle&&(this.seriesLabels.lineColor=e.core.seriesLabelsLineColor)}renderLabel(e,t,i,s,r,n,l,o,a,h){let u=this.getLabelText(e,s,r,n,e.coreTitle),d=new V(this.getLabelColor(e,l,o)),c=this.getBorderColor(e,l,o),S=this.getStringFormatGeom(t),m=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),g=e.core.getSeriesBorderColor(l,o),p=e.core.getSeriesBrush(l,o),f=(null!=p&&(p=new V(ct.toColor(p))),new M(h.right,h.y+h.height/2)),w=this.seriesLabels.lineColor,y=t.measureRotatedString3(u,m,f,S,j.RightCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom)),x=new E(h.right,h.y,a,h.height);return new P.d.StiOutsidePictorialStackedLabelGeom(this.seriesLabels,e,i,s,h,u,p,d,w,c,g,y,x,null)}get seriesLabelsType(){return P.d.StiSeriesLabelsType.PictorialStacked}get position(){return P.d.StiSeriesLabelsPosition.CenterPictorialStacked}get localizedName(){return d.get("PropertyMain","Left")}constructor(e){super(e)}},P.d.StiOutsideRightPictorialStackedLabelsCoreXF=class extends P.d.StiPictorialStackedLabelsCoreXF{applyStyle(e){super.applyStyle(e),this.seriesLabels.allowApplyStyle&&(this.seriesLabels.lineColor=e.core.seriesLabelsLineColor)}renderLabel(e,t,i,s,r,n,l,o,a,h){let u=this.getLabelText(e,s,r,n,e.coreTitle),d=new V(this.getLabelColor(e,l,o)),c=this.getBorderColor(e,l,o),S=this.getStringFormatGeom(t),m=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),g=e.core.getSeriesBorderColor(l,o),p=e.core.getSeriesBrush(l,o),f=(null!=p&&(p=new V(ct.toColor(p))),new M(h.x+a,h.y+h.height/2)),w=this.seriesLabels.lineColor,y=t.measureRotatedString3(u,m,f,S,j.LeftCenter,0,O.trunc(this.seriesLabels.width*t.options.zoom)),x=new E(h.x+.3*a,h.y,.7*a,h.height);return new P.d.StiOutsidePictorialStackedLabelGeom(this.seriesLabels,e,i,s,h,u,p,d,w,c,g,y,x,null)}get seriesLabelsType(){return P.d.StiSeriesLabelsType.PictorialStacked}get position(){return P.d.StiSeriesLabelsPosition.OutsideRightPictorialStacked}get localizedName(){return d.get("PropertyMain","Right")}constructor(e){super(e)}},P.d.StiCenterPie3dLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{get seriesLabelsType(){return P.d.StiSeriesLabelsType.Pie}get position(){return P.d.StiSeriesLabelsPosition.CenterPie3d}get localizedName(){return"3D "+d.get("Chart","LabelsCenter")}renderLabel2(e,t,i){let s=this.getLabelText(e,i.value,i.argumentText,i.tag,e.coreTitle),r=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),n=this.getStringFormatGeom(t),l=this.getLabelRect(t,i.textPosition,s,r,n),o=l.clone(),a=(o.x=-o.width/2,o.y=-o.height/2,this.getBorderColor(e,i.colorIndex,i.colorCount)),h=e.core.getSeriesBorderColor(i.colorIndex,i.colorCount),u=e.core.getSeriesBrush(i.colorIndex,i.colorCount),d=new V(this.getLabelColor(e,i.colorIndex,i.colorCount)),c=(u=this.processSeriesColors(i.index,u,e),this.processSeriesColors(i.index,this.seriesLabels.brush,e));return new P.d.StiCenterPieLabelsGeom(this.seriesLabels,e,i.index,i.value,o,s,u,d,c,a,h,j.CenterCenter,l,this.seriesLabels.angle,null)}getLabelRect(e,t,i,s,r){return e.measureRotatedString3(i,s,t,r,j.CenterCenter,0,this.seriesLabels.width*e.options.zoom)}recalcValue(e,i){if(this.seriesLabels.showInPercent){let t=this.seriesLabels.chart.area.core.getSeries();if(0<t.length){let e=[];t[D.System.StiObject.stimulsoft]().copyTo(e),0<e.length&&e[0].is(P.d.StiPieSeries)&&(this.percentPerValue=e[0].core.getPercentPerValue(e))}return O.round2(e*this.percentPerValue,i)}return e}constructor(e){super(e),this.percentPerValue=0}},P.d.StiPieSeriesLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g,p,f){return null}recalcValue(e,i){if(this.seriesLabels.showInPercent){let t=this.seriesLabels.chart.area.core.getSeries();if(0<t.length){let e=[];t[D.System.StiObject.stimulsoft]().copyTo(e),0<e.length&&e[0].is(P.d.StiPieSeries)&&(this.percentPerValue=e[0].core.getPercentPerValue(e))}return O.round2(e*this.percentPerValue,i)}return e}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Pie}constructor(e){super(e),this.percentPerValue=0}},P.d.StiCenterPieLabelsCoreXF=class extends P.d.StiPieSeriesLabelsCoreXF{renderLabel(s,r,n,l,e,t,o,a,i,h,u,d,c,S,m,g,p,f){let w=E.empty;if(g.ref=w,this.percentPerValue=m,null==i&&!this.seriesLabels.showNulls)return null;if(0==i&&!this.seriesLabels.showZeros)return null;if(null==a&&(a=0),null==i&&(i=0),isNaN(l)||isNaN(e))return null;let y="",x=(y=p?this.getFormattedValue(s,i):this.getLabelText(s,i,h,u,s.coreTitle),Math.PI*t/180),b=this.getLabelPoint(n,(l-e)/1.75+e,x),C=(p||(this.is(P.d.StiOutsidePieLabelsCoreXF)&&(b=this.getLabelPoint(n,l+this.seriesLabels.lineLength*r.options.zoom,x)),this.is(P.d.StiInsideEndPieLabelsCoreXF)&&(b=this.getLabelPoint(n,(l-e)/1.2+e,x))),N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*r.options.zoom)),A=this.getStringFormatGeom(r),L=this.getLabelRect(r,b,y,C,A),T=this.seriesLabels.angle,v=j.CenterCenter,F=L.clone();if(F.x=-F.width/2,F.y=-F.height/2,this.seriesLabels.autoRotate&&(0<(T=t)&&T<90||270<T?(this.seriesLabels.is(P.d.IStiOutsidePieLabels)&&(v=j.LeftCenter),F.x=0):(this.seriesLabels.is(P.d.IStiOutsidePieLabels)&&(v=j.RightCenter),T+=180,F.x=-F.width)),this.is(P.d.StiOutsidePieLabelsCoreXF)?this.seriesLabels.autoRotate||(337.5<t||t<22.5?(F.x=0,F.y=-F.height/2,v=j.LeftCenter):22.5<=t&&t<67.5?(F.x=0,F.y=0,v=j.LeftTop):67.5<=t&&t<112.5?(F.x=-F.width/2,F.y=0,v=j.CenterTop):112.5<=t&&t<157.5?(F.x=-F.width,F.y=0,v=j.RightTop):157.5<=t&&t<202.5?(F.x=-F.width,F.y=-F.height/2,v=j.RightCenter):202.5<=t&&t<247.5?(F.x=-F.width,F.y=-F.height,v=j.RightBottom):247.5<=t&&t<292.5?(F.x=-F.width/2,F.y=-F.height,v=j.CenterBottom):292.5<=t&&(F.x=0,F.y=-F.height,v=j.LeftBottom)):(F.x=-F.width/2,F.y=-F.height/2),d)return w=r.measureRotatedString2(y,C,L,A,v,T),g.ref=w,null;let k=this.getBorderColor(s,c,S),B=s.core.getSeriesBorderColor(c,S),I=s.core.getSeriesBrush(c,S),D=new V(this.getLabelColor(s,c,S)),O=(I=this.processSeriesColors(o,I,s),this.processSeriesColors(o,this.seriesLabels.brush,s));if(w=E.empty,this.seriesLabels.is(P.d.IStiOutsidePieLabels)){let e=this.as(P.d.StiOutsidePieLabelsCoreXF),t=e.getLineColor(s,c,S),i=(b=this.getLabelPoint(n,l+e.seriesLabels.lineLength*r.options.zoom,x),this.getLabelPoint(n,l,x));return g.ref=w,new P.d.StiOutsidePieLabelsGeom(this.seriesLabels,s,o,a,F,y,I,D,O,k,B,v,L,T,t,b,i)}return g.ref=w,new P.d.StiCenterPieLabelsGeom(this.seriesLabels,s,o,a,F,y,I,D,O,k,B,v,L,T,null)}getLabelPoint(e,t,i){return new M(e.x+Math.cos(i)*t,e.y+Math.sin(i)*t)}getLabelRect(e,t,i,s,r){return e.measureRotatedString3(i,s,t,r,j.CenterCenter,0,O.trunc(this.seriesLabels.width*e.options.zoom))}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Pie}get position(){return P.d.StiSeriesLabelsPosition.CenterPie}get localizedName(){return d.get("Chart","LabelsCenter")}constructor(e){super(e)}},P.d.StiInsideEndPieLabelsCoreXF=class extends P.d.StiCenterPieLabelsCoreXF{get localizedName(){return d.get("Chart","LabelsInsideEnd")}get position(){return P.d.StiSeriesLabelsPosition.InsideEndPie}constructor(e){super(e)}},P.d.StiOutsidePieLabelsCoreXF=class extends P.d.StiCenterPieLabelsCoreXF{applyStyle(e){super.applyStyle(e),this.seriesLabels.allowApplyStyle&&(this.seriesLabels.lineColor=e.core.seriesLabelsLineColor)}get position(){return P.d.StiSeriesLabelsPosition.OutsidePie}get localizedName(){return d.get("Chart","LabelsOutside")}getLineColor(e,t,i){if(this.seriesLabels.useSeriesColor)return this.getSeriesLabelColor(e,t,i);return this.seriesLabels.lineColor}constructor(e){super(e)}},P.d.StiTwoColumnsPieLabelsCoreXF=class extends P.d.StiOutsidePieLabelsCoreXF{renderLabel(l,e,o,t,i,s,a,h,r,n,u,d,c,S,m,g,p,f){this.percentPerValue=m;let w=E.empty;if(null==r&&!this.seriesLabels.showNulls)return null;if(0==r&&!this.seriesLabels.showZeros)return null;if(null==h&&(h=0),null==r&&(r=0),isNaN(t)||isNaN(i))return null;if(p)return g.ref=w,super.renderLabel(l,e,o,t,i,s,a,h,r,this.getFormattedValue(l,r),u,d,c,S,m,g,p,f);let y=this.getLabelText(l,r,n,u,l.coreTitle),x=Math.PI*s/180,b=this.getLabelPoint(o,t,x),C=this.getLabelPoint(o,t+this.seriesLabels.lineLength*e.options.zoom,x),A=0,L=(A=b.x>C.x?-1:1,new M(o.x+t*A+this.seriesLabels.lineLength*A+10*A,C.y)),T=(this.seriesLabels.preventIntersection&&(L.y=b.y),L.y+=f*Math.min(e.options.zoom,1),N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*e.options.zoom)),v=this.seriesLabels.core.getStringFormatGeom(e),F=(v.alignment=X.Center,v.lineAlignment=X.Center,this.getLabelRect(e,L,y,T,v)),k=E.empty;if(k=A<0?new E(L.x-F.width,L.y-F.height/2,F.width,F.height):new E(L.x,L.y-F.height/2,F.width,F.height),d)return w=k,g.ref=w,null;{w=E.empty;let e=this.getBorderColor(l,c,S),t=l.core.getSeriesBorderColor(c,S),i=l.core.getSeriesBrush(c,S),s=(i=this.processSeriesColors(a,i,l),new V(this.getLabelColor(l,c,S))),r=this.getLineColor(l,c,S),n=this.processSeriesColors(a,this.seriesLabels.brush,l);return g.ref=w,new P.d.StiTwoColumnsPieLabelsGeom(this.seriesLabels,l,a,h,k,y,i,s,n,e,t,k,r,C,L,b,o,null)}}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Pie|P.d.StiSeriesLabelsType.Doughnut}get position(){return P.d.StiSeriesLabelsPosition.TwoColumnsPie}get localizedName(){return d.get("Chart","LabelsTwoColumns")}constructor(e){super(e)}},P.d.StiCenterTreemapLabelsCoreXF=class extends P.d.StiSeriesLabelsCoreXF{renderLabel(e,t,i,s,r,n,l,o,a,h=null){let u=this.getLabelText(e,s,r,n,e.coreTitle),d=this.getLabelColor(e,l,o),c=this.getBorderColor(e,l,o),S=this.getStringFormatGeom(t),m=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*t.options.zoom),g=e.core.getSeriesBorderColor(l,o),p=e.core.getSeriesBrush(l,o),f=this.processSeriesColors(i,this.seriesLabels.brush,e),w=this.getLabelRect(t,a,s,u,!0,m,S);return new P.d.StiCenterTreemapLabelsGeom(this.seriesLabels,e,i,s,w,u,d,c,p,f,g,m,h)}getLabelRect(e,t,i,s,r,n,l){return e.measureRotatedString3(s,n,new M(t.x+t.width/2,t.y+t.height/2),l,j.CenterCenter,0,this.seriesLabels.width*e.options.zoom)}get position(){return P.d.StiSeriesLabelsPosition.CenterTreemap}get localizedName(){return d.get("Chart","LabelsCenter")}get seriesLabelsType(){return P.d.StiSeriesLabelsType.Treemap}constructor(e){super(e)}};{class Bs{implements(){return Bs.implementsStiStripsCoreXF||(Bs.implementsStiStripsCoreXF=[P.d.IStiApplyStyle,r,P.d.IStiStripsCoreXF]),Bs.implementsStiStripsCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.strips.allowApplyStyle&&(this.strips.titleColor=e.core.styleColors[e.core.styleColors.length-1],this.strips.stripBrush=new V(B.fromArgb3(150,e.core.styleColors[e.core.styleColors.length-1])))}renderXStrips(e,t,i){let s=this.strips.chart.area;if(null==s)return;let r=this.calculateXValue(this.strips.minValue,s,i),n=this.calculateXValue(this.strips.maxValue,s,i);if(r>n){let e=r;r=n,n=e}let l=new E(r,0,n-r,i.height),o=new P.d.StiStripsXGeom(this.strips,l);t.createChildGeoms(),t.childGeoms.push(o)}calculateXValue(e,l,o){let a;try{a=e[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1),a=0}let h=0;if(l.xAxis.logarithmicScale&&0<l.xAxis.info.stripLines.count){let e=l.xAxis.info.stripLines.count,t=l.reverseHor?e-1:0,i=l.reverseHor?0:e-1,s=l.xAxis.info.stripLines.getByIndex(t).value,r=l.xAxis.info.stripLines.getByIndex(i).value,n=Math.abs(o.width/(O.log10(r)-O.log10(s)));h=Math.abs(O.log10(a)*n-O.log10(l.xAxis.info.stripLines.getByIndex(t).value)*n)}else h=l.axisCore.getDividerX()+a*l.xAxis.info.dpi;return h}renderYStrips(e,t,i){let s=this.strips.chart.area;if(null==s)return;let r=this.calculateYValue(this.strips.minValue,s,i),n=this.calculateYValue(this.strips.maxValue,s,i);if(r>n){let e=r;r=n,n=e}let l=new E(0,r,i.width,n-r),o=new P.d.StiStripsYGeom(this.strips,l);t.createChildGeoms(),t.childGeoms.push(o)}calculateYValue(e,l,o){let a;try{a=e[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1),a=0}let h=0;if(l.yAxis.logarithmicScale){let e=l.yAxis.info.stripLines.count,t=0,i=e-1,s=l.yAxis.info.stripLines.getByIndex(t).value,r=l.yAxis.info.stripLines.getByIndex(i).value,n=Math.abs(o.height/(O.log10(r)-O.log10(s)));h=Math.abs(O.log10(l.yAxis.info.stripLines.getByIndex(t).value)*n-O.log10(a)*n)}else h=this.strips.orientation==P.d.StiStrips_StiOrientation.Horizontal?l.axisCore.getDividerY()-a*l.yAxis.info.dpi:l.axisCore.getDividerRightY()-a*l.yRightAxis.info.dpi;return h}render(e,t,i){if(!this.strips.visible)return;this.strips.orientation==P.d.StiStrips_StiOrientation.Vertical&&this.renderXStrips(e,t,i),this.strips.orientation!=P.d.StiStrips_StiOrientation.Horizontal&&this.strips.orientation!=P.d.StiStrips_StiOrientation.HorizontalRight||this.renderYStrips(e,t,i)}constructor(e){this.strips=e}}P.d.StiStripsCoreXF=Bs}let Zt=D.Base.Drawing.StiSimpleBorder;{class Is{constructor(){this._markerVisible=!0}implements(){return Is.implementsStiStyleCoreXF||(Is.implementsStiStyleCoreXF=[P.d.IStiStyleCoreXF]),Is.implementsStiStyleCoreXF}get localizedName(){return null}get styleId(){return P.d.StiChartStyleId.StiStyle01}get chartBrush(){return new V(f.light(this.basicStyleColor,100))}get chartAreaBrush(){return new Ae(f.light(this.basicStyleColor,80),f.light(this.basicStyleColor,40),90)}get chartAreaBorderColor(){return f.dark(this.basicStyleColor,150)}get chartAreaBorderThickness(){return 1}get chartAreaShowShadow(){return!1}get seriesLabelsBrush(){return new V(this.basicStyleColor)}get seriesLabelsColor(){return f.dark(this.basicStyleColor,150)}get seriesLabelsBorderColor(){return f.dark(this.basicStyleColor,150)}get seriesLabelsLineColor(){return f.dark(this.basicStyleColor,150)}get seriesLabelsFont(){return new S("Arial",7)}get toolTipBrush(){return new V(B.fromArgb(180,50,50,50))}get toolTipTextBrush(){return new V(B.white)}get toolTipCornerRadius(){return new Be(8)}get toolTipBorder(){return new Zt}get trendLineColor(){return f.dark(this.basicStyleColor,150)}get trendLineShowShadow(){return!1}get legendBrush(){return new Ae(f.light(this.basicStyleColor,80),f.light(this.basicStyleColor,20),90)}get legendLabelsColor(){return f.dark(this.basicStyleColor,150)}get legendBorderColor(){return f.dark(this.basicStyleColor,150)}get legendTitleColor(){return f.dark(this.basicStyleColor,150)}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",8)}get axisTitleColor(){return f.dark(this.basicStyleColor,150)}get axisLineColor(){return f.dark(this.basicStyleColor,150)}get axisLabelsColor(){return f.dark(this.basicStyleColor,150)}get interlacingHorBrush(){return new V(B.fromArgb3(10,f.dark(this.basicStyleColor,100)))}get interlacingVertBrush(){return new V(B.fromArgb3(10,f.dark(this.basicStyleColor,100)))}get gridLinesHorColor(){return B.fromArgb3(100,f.dark(this.basicStyleColor,150))}get gridLinesVertColor(){return B.fromArgb3(100,f.dark(this.basicStyleColor,150))}get seriesLighting(){return!0}get seriesShowShadow(){return!1}get seriesShowBorder(){return!0}get seriesBorderColor(){return B.transparent}get seriesBorderThickness(){return 1}get seriesCornerRadius(){return new Be}get markerVisible(){return this._markerVisible}set markerVisible(e){this._markerVisible=e}get firstStyleColor(){return this.styleColors[0]}get lastStyleColor(){return this.styleColors[this.styleColors.length-1]}get styleColors(){return null}get basicStyleColor(){return null}fillColumn(e,t,i,s){e.fillRectangle2(i,t.x,t.y,t.width,t.height,s)}fillCicledColumn(e,t,i,s,r,n){e.fillCicledRectangle(s,t,i,r,n)}getAreaBrush(e){return new V(B.fromArgb3(200,e))}getColumnBrush(e){return new Ae(e,f.dark(e,50),0)}getColumnBorder(e){if(!this.seriesShowBorder)return B.transparent;if(!this.seriesBorderColor.equals(B.transparent))return this.seriesBorderColor;return f.dark(e,100)}getColors(e,t){let l=R.create(B,e),o=null!=t?t:this.styleColors,a=0,h=0;for(let n=0;n<e;n++){if(0==o.length||o.length<a)l[n]=B.fromArgb(255,112,173,71);else if(0!=h){let e=o[a],t=Math.min(e.a+h,255),i=Math.min(e.r+h,255),s=Math.min(e.g+h,255),r=Math.min(e.b+h,255);l[n]=B.fromArgb(t,i,s,r)}else l[n]=o[a];++a==o.length&&(a=0,h=50)}return l}getColorByIndex(e,t,i){return this.getColors(t,i)[e]}getColorBySeries(e,t){return this.getColors(e.chart.series.count,t)[e.chart.series.indexOf(e)]}}P.d.StiStyleCoreXF=Is}P.d.StiStyleCoreXF01=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,194,117,53),B.fromArgb(255,231,140,65),B.fromArgb(255,248,170,121),B.fromArgb(255,250,203,180),B.fromArgb(255,253,230,220)]}get localizedName(){return d.get("Chart","Style")+"01"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.wheat}get styleId(){return P.d.StiChartStyleId.StiStyle01}getColumnBrush(e){return new Le(f.dark(e,50),e,0)}},P.d.StiCustomStyleCoreXF=class extends P.d.StiStyleCoreXF01{get localizedName(){return"CustomStyle"}get chartBrush(){if(null!=this.reportStyle)return this.reportStyle.brush;return this._base.chartBrush}get chartAreaBrush(){if(null!=this.reportStyle)return this.reportStyle.chartAreaBrush;return this._base.chartAreaBrush}get chartAreaBorderColor(){if(null!=this.reportStyle)return this.reportStyle.chartAreaBorderColor;return this._base.chartAreaBorderColor}get chartAreaBorderThickness(){if(null!=this.reportStyle)return this.reportStyle.chartAreaBorderThickness;return this._base.chartAreaBorderThickness}get chartAreaShowShadow(){if(null!=this.reportStyle)return this.reportStyle.chartAreaShowShadow;return this._base.chartAreaShowShadow}get toolTipBrush(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipBrush}get toolTipTextBrush(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipTextBrush}get toolTipCornerRadius(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipCornerRadius}get toolTipBorder(){return(null!=this.reportStyle?this.reportStyle:this._base).toolTipBorder}get seriesLighting(){if(null!=this.reportStyle)return this.reportStyle.seriesLighting;return this._base.seriesLighting}get seriesShowShadow(){if(null!=this.reportStyle)return this.reportStyle.seriesShowShadow;return this._base.seriesShowShadow}get seriesShowBorder(){if(null!=this.reportStyle)return this.reportStyle.seriesShowBorder;return this._base.seriesShowBorder}get seriesBorderColor(){if(null!=this.reportStyle)return this.reportStyle.seriesBorderColor;return this._base.seriesBorderColor}get seriesLabelsBrush(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsBrush;return this._base.seriesLabelsBrush}get seriesLabelsColor(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsColor;return this._base.seriesLabelsColor}get seriesLabelsBorderColor(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsBorderColor;return this._base.seriesLabelsBorderColor}get seriesLabelsLineColor(){if(null!=this.reportStyle)return this.reportStyle.seriesLabelsLineColor;return this._base.seriesLabelsLineColor}get seriesBorderThickness(){if(null!=this.reportStyle)return this.reportStyle.seriesBorderThickness;return this._base.seriesBorderThickness}get seriesCornerRadius(){if(null!=this.reportStyle)return this.reportStyle.seriesCornerRadius;return this._base.seriesCornerRadius}get trendLineColor(){if(null!=this.reportStyle)return this.reportStyle.trendLineColor;return this._base.trendLineColor}get trendLineShowShadow(){if(null!=this.reportStyle)return this.reportStyle.trendLineShowShadow;return this._base.trendLineShowShadow}get legendBrush(){if(null!=this.reportStyle)return this.reportStyle.legendBrush;return this._base.legendBrush}get legendLabelsColor(){if(null!=this.reportStyle)return this.reportStyle.legendLabelsColor;return this._base.legendLabelsColor}get legendBorderColor(){if(null!=this.reportStyle)return this.reportStyle.legendBorderColor;return this._base.legendBorderColor}get legendTitleColor(){if(null!=this.reportStyle)return this.reportStyle.legendTitleColor;return this._base.legendTitleColor}get markerVisible(){if(null!=this.reportStyle)return this.reportStyle.markerVisible;return this._base.markerVisible}set markerVisible(e){}get axisTitleColor(){if(null!=this.reportStyle)return this.reportStyle.axisTitleColor;return this._base.axisTitleColor}get axisLineColor(){if(null!=this.reportStyle)return this.reportStyle.axisLineColor;return this._base.axisLineColor}get axisLabelsColor(){if(null!=this.reportStyle)return this.reportStyle.axisLabelsColor;return this._base.axisLabelsColor}get interlacingHorBrush(){if(null!=this.reportStyle)return this.reportStyle.interlacingHorBrush;return this._base.interlacingHorBrush}get interlacingVertBrush(){if(null!=this.reportStyle)return this.reportStyle.interlacingVertBrush;return this._base.interlacingVertBrush}get gridLinesHorColor(){if(null!=this.reportStyle)return this.reportStyle.gridLinesHorColor;return this._base.gridLinesHorColor}get gridLinesVertColor(){if(null!=this.reportStyle)return this.reportStyle.gridLinesVertColor;return this._base.gridLinesVertColor}get styleColors(){if(null!=this.reportStyle)return this.reportStyle.styleColors;return this._base.styleColors}get basicStyleColor(){if(null!=this.reportStyle)return this.reportStyle.basicStyleColor;return this._base.basicStyleColor}get reportStyle(){let e=null==this.reportStyleName?this.chart.customStyleName:this.reportStyleName;if(null==this.chart||null==this.chart.report||null==e||0==e.length)return null;let t=this.chart.report.styles.getByName(e);if(null!=t&&t.is(P.a.Styles.StiChartStyle))return t;return null}get customStyle(){return this._customStyle}getColumnBrush(e){if(null!=this.reportStyle)switch(this.reportStyle.brushType){case P.a.StiBrushType.Glare:return new Le(f.dark(e,50),e,0);case P.a.StiBrushType.Gradient0:return new Ae(f.dark(e,50),e,0);case P.a.StiBrushType.Gradient90:return new Ae(f.dark(e,50),e,90);case P.a.StiBrushType.Gradient180:return new Ae(f.dark(e,50),e,180);case P.a.StiBrushType.Gradient270:return new Ae(f.dark(e,50),e,270);case P.a.StiBrushType.Gradient45:return new Ae(f.dark(e,50),e,45);case P.a.StiBrushType.Solid:return new V(e)}return new V(e)}constructor(e){super(),this._base=new P.d.StiStyleCoreXF01,this.reportChartStyle=null,this.reportStyleName=null,this._customStyle=e}},P.d.StiStyleCoreXF02=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,128,145,165),B.fromArgb(255,171,123,122),B.fromArgb(255,155,167,129),B.fromArgb(255,144,133,157),B.fromArgb(255,121,161,173),B.fromArgb(255,189,152,122),B.fromArgb(255,139,164,194),B.fromArgb(255,202,132,130),B.fromArgb(255,179,198,141),B.fromArgb(255,162,146,182)]}get localizedName(){return d.get("Chart","Style")+"02"}get basicStyleColor(){return B.whiteSmoke}get styleColors(){return this._styleColor}get styleId(){return P.d.StiChartStyleId.StiStyle02}getColumnBrush(e){return new Le(e,f.light(e,50),0)}},P.d.StiStyleCoreXF03=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,150,61,59),B.fromArgb(255,179,74,71),B.fromArgb(255,201,126,125),B.fromArgb(255,221,182,181),B.fromArgb(255,238,221,221)]}get localizedName(){return d.get("Chart","Style")+"03"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.whiteSmoke}get styleId(){return P.d.StiChartStyleId.StiStyle03}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF04=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,72,57,90),B.fromArgb(255,109,87,137),B.fromArgb(255,146,123,173),B.fromArgb(255,181,166,200)]}get localizedName(){return d.get("Chart","Style")+"04"}get basicStyleColor(){return B.fromArgb(255,181,166,200)}get styleColors(){return this._styleColor}get styleId(){return P.d.StiChartStyleId.StiStyle04}},P.d.StiStyleCoreXF05=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,224,169,61),B.fromArgb(255,180,181,0),B.fromArgb(255,14,152,13),B.fromArgb(255,170,72,36),B.fromArgb(255,133,221,77),B.fromArgb(255,230,199,69),B.fromArgb(255,219,100,52),B.fromArgb(255,131,190,47)]}get localizedName(){return d.get("Chart","Style")+"05"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.lemonChiffon}get styleId(){return P.d.StiChartStyleId.StiStyle05}},P.d.StiStyleCoreXF06=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,206,185,102),B.fromArgb(255,156,176,132),B.fromArgb(255,107,177,201),B.fromArgb(255,101,133,207),B.fromArgb(255,126,107,201),B.fromArgb(255,163,121,187)]}get localizedName(){return d.get("Chart","Style")+"06"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(255,202,198,206)}get styleId(){return P.d.StiChartStyleId.StiStyle06}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF07=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,217,251,168),B.fromArgb(255,200,181,231),B.fromArgb(255,158,232,255),B.fromArgb(255,255,189,134),B.fromArgb(255,163,195,254)]}get localizedName(){return d.get("Chart","Style")+"07"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.white}get styleId(){return P.d.StiChartStyleId.StiStyle07}getColumnBrush(e){return new Ae(f.dark(e,50),f.light(e,50),-90)}},P.d.StiStyleCoreXF08=class extends P.d.StiStyleCoreXF03{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,60,100,148),B.fromArgb(255,73,120,177),B.fromArgb(255,126,155,200),B.fromArgb(255,182,195,220),B.fromArgb(255,221,227,238)]}get localizedName(){return d.get("Chart","Style")+"08"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(238,182,195,220)}get styleId(){return P.d.StiChartStyleId.StiStyle08}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF09=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,79,129,189),B.fromArgb(255,192,80,77),B.fromArgb(255,155,187,89),B.fromArgb(255,128,100,162),B.fromArgb(255,75,172,198),B.fromArgb(255,247,150,70)]}get localizedName(){return d.get("Chart","Style")+"09"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(238,238,236,225)}get styleId(){return P.d.StiChartStyleId.StiStyle09}},P.d.StiStyleCoreXF10=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,121,181,176),B.fromArgb(255,180,188,76),B.fromArgb(255,183,120,81),B.fromArgb(255,119,106,91),B.fromArgb(255,182,173,118),B.fromArgb(255,149,174,177)]}get localizedName(){return d.get("Chart","Style")+"10"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(255,209,225,227)}get styleId(){return P.d.StiChartStyleId.StiStyle10}},P.d.StiStyleCoreXF11=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,204,77,92),B.fromArgb(255,255,111,97),B.fromArgb(255,255,149,62),B.fromArgb(255,248,189,82)]}get localizedName(){return d.get("Chart","Style")+"11"}get styleColors(){return this._styleColor}get basicStyleColor(){return f.dark(B.navajoWhite,30)}get styleId(){return P.d.StiChartStyleId.StiStyle11}},P.d.StiStyleCoreXF12=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.goldenrod,B.khaki]}get localizedName(){return d.get("Chart","Style")+"12"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.moccasin}get styleId(){return P.d.StiChartStyleId.StiStyle12}},P.d.StiStyleCoreXF13=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,151,158,168),B.fromArgb(255,189,174,137),B.fromArgb(255,205,176,5),B.fromArgb(255,170,166,194),B.fromArgb(255,132,191,210),B.fromArgb(255,139,159,115)]}get localizedName(){return d.get("Chart","Style")+"13"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(255,212,210,208)}get styleId(){return P.d.StiChartStyleId.StiStyle13}},P.d.StiStyleCoreXF14=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,240,162,46),B.fromArgb(255,165,100,78),B.fromArgb(255,181,139,128),B.fromArgb(255,195,152,109),B.fromArgb(255,161,149,116),B.fromArgb(255,193,117,41)]}get localizedName(){return d.get("Chart","Style")+"14"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(255,251,238,201)}get styleId(){return P.d.StiChartStyleId.StiStyle14}},P.d.StiStyleCoreXF15=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,15,111,198),B.fromArgb(255,0,157,217),B.fromArgb(255,11,208,217),B.fromArgb(255,16,207,155),B.fromArgb(255,124,202,98),B.fromArgb(255,165,194,73)]}get localizedName(){return d.get("Chart","Style")+"15"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(255,219,245,249)}get styleId(){return P.d.StiChartStyleId.StiStyle15}},P.d.StiStyleCoreXF16=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,255,128,0),B.black,B.silver,B.red]}get localizedName(){return d.get("Chart","Style")+"16"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.white}get styleId(){return P.d.StiChartStyleId.StiStyle16}},P.d.StiStyleCoreXF17=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.white,B.black]}get localizedName(){return d.get("Chart","Style")+"17"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.white}get styleId(){return P.d.StiChartStyleId.StiStyle17}};let qt=D.Base.Drawing.StiHatchBrush,$t=D.System.Drawing.Drawing2D.HatchStyle,Kt=(P.d.StiStyleCoreXF18=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.white,B.black,B.silver,B.red,B.green,B.blue]}get localizedName(){return d.get("Chart","Style")+"18"}fillColumn(e,t,i,s){let r=$t.Cross,n=i,l=(B.white.equals(n.color)?r=$t.BackwardDiagonal:B.black.equals(n.color)?r=$t.DottedGrid:B.silver.equals(n.color)?r=$t.Horizontal:B.red.equals(n.color)?r=$t.Percent25:B.green.equals(n.color)?r=$t.OutlinedDiamond:B.blue.equals(n.color)&&(r=$t.ForwardDiagonal),new qt(r,B.black,B.white));e.fillRectangle2(l,t.x,t.y,t.width,t.height,s)}getColumnBrush(e){let t=$t.Cross;return e.equals(B.white)?t=$t.BackwardDiagonal:e.equals(B.black)?t=$t.DottedGrid:e.equals(B.silver)?t=$t.Horizontal:e.equals(B.red)?t=$t.Percent25:e.equals(B.green)?t=$t.OutlinedDiamond:e.equals(B.blue)&&(t=$t.ForwardDiagonal),new qt(t,B.black,B.white)}get styleColors(){return this._styleColor}get basicStyleColor(){return B.white}get styleId(){return P.d.StiChartStyleId.StiStyle18}},P.d.StiStyleCoreXF19=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,242,234,221),B.fromArgb(255,240,237,232),B.fromArgb(255,232,221,203),B.fromArgb(255,225,201,173),B.fromArgb(255,216,180,140)]}get localizedName(){return d.get("Chart","Style")+"19"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb(255,242,234,221)}get interlacingHorBrush(){return new V(B.fromArgb(128,240,237,232))}get interlacingVertBrush(){return new V(B.fromArgb(128,240,237,232))}get chartAreaBrush(){return new V(B.fromArgb(128,240,237,232))}get chartBrush(){return new V(B.white)}get styleId(){return P.d.StiChartStyleId.StiStyle19}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF20=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb(255,217,187,148),B.fromArgb(255,245,190,119),B.fromArgb(255,230,189,127),B.fromArgb(255,220,217,212),B.fromArgb(255,237,229,216),B.fromArgb(255,246,233,212)]}get localizedName(){return d.get("Chart","Style")+"20"}get styleColors(){return this._styleColor}get basicStyleColor(){return B.bisque}get axisLineColor(){return f.dark(this.basicStyleColor,50)}get chartAreaBorderColor(){return f.dark(this.basicStyleColor,50)}get styleId(){return P.d.StiChartStyleId.StiStyle20}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF21=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb2(35,159,217),B.fromArgb2(178,178,178)]}get localizedName(){return d.get("Chart","Style")+"21"}get chartBrush(){return new V(f.light(this.basicStyleColor,100))}get chartAreaBrush(){return new V(this.basicStyleColor)}get chartAreaBorderColor(){return B.fromArgb2(106,106,106)}get seriesLabelsBrush(){return new V(f.light(this.basicStyleColor,100))}get seriesLabelsColor(){return B.fromArgb2(106,106,106)}get seriesLabelsBorderColor(){return B.fromArgb2(255,255,255)}get legendBrush(){return new V(f.light(this.basicStyleColor,100))}get legendLabelsColor(){return B.fromArgb2(106,106,106)}get axisTitleColor(){return B.fromArgb2(106,106,106)}get axisLineColor(){return B.fromArgb2(106,106,106)}get axisLabelsColor(){return B.fromArgb2(106,106,106)}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb2(102,102,102)}get styleId(){return P.d.StiChartStyleId.StiStyle21}getColumnBrush(e){return new V(e)}getColumnBorder(e){return f.light(e,255)}},D.Base.Drawing.StiBorderSides),u=D.Base.Drawing.StiColor,c=(P.d.StiStyleCoreXF22=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[B.fromArgb2(91,155,213),B.fromArgb2(237,125,49),B.fromArgb2(159,159,159),B.fromArgb2(255,192,0),B.fromArgb2(68,114,196),B.fromArgb2(112,173,71)]}get localizedName(){return d.get("Chart","Style")+"22"}get chartBrush(){return new V(f.light(this.basicStyleColor,100))}get chartAreaBrush(){return new V(this.basicStyleColor)}get chartAreaBorderColor(){return B.fromArgb2(171,172,173)}get seriesLabelsBrush(){return new V(f.light(this.basicStyleColor,100))}get seriesLabelsColor(){return B.fromArgb2(90,90,90)}get seriesLabelsBorderColor(){return B.fromArgb2(140,140,140)}get legendBrush(){return new V(f.light(this.basicStyleColor,100))}get legendLabelsColor(){return B.fromArgb2(140,140,140)}get axisTitleColor(){return B.fromArgb2(140,140,140)}get axisLineColor(){return B.fromArgb2(140,140,140)}get axisLabelsColor(){return B.fromArgb2(140,140,140)}get styleColors(){return this._styleColor}get basicStyleColor(){return B.fromArgb2(255,255,255)}get toolTipBrush(){return new V(B.white)}get toolTipTextBrush(){return new V(B.dimGray)}get toolTipBorder(){return new Zt(Kt.All,u.get("#8c8c8c"),1,p.Solid)}get styleId(){return P.d.StiChartStyleId.StiStyle22}getColumnBrush(e){return new V(e)}getColumnBorder(e){return f.light(e,255)}},P.d.StiStyleCoreXF23=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[B.fromArgb2(91,155,213),B.fromArgb2(159,159,159),B.fromArgb2(68,114,196),B.fromArgb2(37,94,145),B.fromArgb2(99,99,99),B.fromArgb2(38,68,120)]}get localizedName(){return d.get("Chart","Style")+"23"}get styleColors(){return this._styleColor}get styleId(){return P.d.StiChartStyleId.StiStyle23}},P.d.StiStyleCoreXF24=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[B.fromArgb2(237,125,49),B.fromArgb2(255,192,0),B.fromArgb2(112,173,71),B.fromArgb2(158,72,14),B.fromArgb2(153,115,0),B.fromArgb2(67,104,43)]}get localizedName(){return d.get("Chart","Style")+"24"}get styleColors(){return this._styleColor}get styleId(){return P.d.StiChartStyleId.StiStyle24}get chartAreaBorderColor(){return B.transparent}get legendBorderColor(){return B.transparent}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}},D.System.Drawing.ColorTranslator),Qt=(P.d.StiStyleCoreXF25=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#70ad47"),c.fromHtml("#4472c4"),c.fromHtml("#ffc000"),c.fromHtml("#43682b"),c.fromHtml("#fd6a37"),c.fromHtml("#997300")]}get localizedName(){return d.get("Chart","Style")+"25"}get styleColors(){return this._styleColor}get styleId(){return P.d.StiChartStyleId.StiStyle25}get chartAreaBorderColor(){return B.transparent}get legendShowShadow(){return!1}get legendBorderColor(){return B.transparent}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return c.fromHtml("#33475b")}get seriesLabelsFont(){return new S("Arial",10)}get seriesLighting(){return!1}get seriesShowShadow(){return!1}},P.d.StiStyleCoreXF26=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#2ec6c8"),c.fromHtml("#b5a1dd"),c.fromHtml("#5ab0ee"),c.fromHtml("#f4984e"),c.fromHtml("#d77a80"),c.fromHtml("#d04456")]}get localizedName(){return d.get("Chart","Style")+"26"}get styleColors(){return this._styleColor}get chartAreaBorderColor(){return B.transparent}get chartAreaBrush(){return new V(c.fromHtml("#ffffff"))}get legendShowShadow(){return!1}get legendBorderColor(){return B.transparent}get seriesLabelsColor(){return c.fromHtml("#33475B")}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsFont(){return new S("Arial",10)}get seriesLighting(){return!1}get seriesShowShadow(){return!1}get markerVisible(){return!1}set markerVisible(e){}get styleId(){return P.d.StiChartStyleId.StiStyle26}getColumnBorder(e){return B.transparent}},P.d.StiStyleCoreXF27=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#0bac45"),c.fromHtml("#585257"),c.fromHtml("#ec334d"),c.fromHtml("#a1ae94"),c.fromHtml("#ed7d31"),c.fromHtml("#5ab0ee")]}get localizedName(){return d.get("Chart","Style")+"27"}get styleColors(){return this._styleColor}get chartBrush(){return new V(c.fromHtml("#33475b"))}get chartAreaBrush(){return new V(c.fromHtml("#33475b"))}get chartAreaBorderColor(){return B.transparent}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return B.white}get seriesLabelsFont(){return new S("Arial",10)}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return B.white}get legendBorderColor(){return B.transparent}get legendTitleColor(){return B.white}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",9)}get seriesLighting(){return!1}getColumnBorder(e){return B.transparent}get toolTipBrush(){return new V(B.fromArgb(180,50,50,50))}get toolTipTextBrush(){return new V(B.white)}get toolTipBorder(){return new Zt(Kt.All,B.white,1,p.Solid)}get styleId(){return P.d.StiChartStyleId.StiStyle27}},P.d.StiStyleCoreXF28=class extends P.d.StiStyleCoreXF26{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#165d9e"),c.fromHtml("#577eb6"),c.fromHtml("#569436"),c.fromHtml("#225056"),c.fromHtml("#d4dae0")]}get localizedName(){return d.get("Chart","Style")+"28"}get chartBrush(){return new V(c.fromHtml("#0a325a"))}get chartAreaBrush(){return new V(c.fromHtml("#0a325a"))}get chartAreaBorderColor(){return B.transparent}get axisTitleColor(){return f.dark(this.basicStyleColor,50)}get axisLineColor(){return f.dark(this.basicStyleColor,50)}get axisLabelsColor(){return f.dark(this.basicStyleColor,50)}get legendBrush(){return new V(B.transparent)}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get legendBorderColor(){return B.transparent}get legendTitleColor(){return B.white}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",9)}get toolTipBrush(){return new V(B.fromArgb(150,6,32,59))}get toolTipTextBrush(){return new V(B.white)}get toolTipBorder(){return new Zt(Kt.All,B.white,1,p.Solid)}get styleId(){return P.d.StiChartStyleId.StiStyle28}},P.d.StiStyleCoreXF29=class extends P.d.StiStyleCoreXF26{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#3498db"),c.fromHtml("#ef717a"),c.fromHtml("#6dcbb3"),c.fromHtml("#f28161"),c.fromHtml("#fccd1b")]}get localizedName(){return d.get("Chart","Style")+"29"}get styleColors(){return this._styleColor}get styleId(){return P.d.StiChartStyleId.StiStyle29}get chartAreaBorderColor(){return B.transparent}get legendShowShadow(){return!1}get legendBorderColor(){return B.transparent}get seriesLabelsColor(){return c.fromHtml("#323a45")}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}},P.d.StiStyleCoreXF30=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#db7b46"),c.fromHtml("#d3d3d5"),c.fromHtml("#6b6e75"),c.fromHtml("#4a4c55")]}get localizedName(){return d.get("Chart","Style")+"30"}get styleColors(){return this._styleColor}get chartBrush(){return new V(c.fromHtml("#595b65"))}get chartAreaBrush(){return new V(c.fromHtml("#595b65"))}get chartAreaBorderColor(){return B.transparent}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return B.white}get seriesLabelsFont(){return new S("Arial",10)}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return B.white}get legendTitleColor(){return B.white}get legendShowShadow(){return!1}get legendBorderColor(){return B.transparent}get legendFont(){return new S("Arial",8)}get seriesLighting(){return!1}getColumnBorder(e){return B.transparent}get styleId(){return P.d.StiChartStyleId.StiStyle30}},P.d.StiStyleCoreXF31=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[c.fromHtml("#fefef9"),c.fromHtml("#a8d7e2"),c.fromHtml("#5ea8bf"),c.fromHtml("#2b7f9e"),c.fromHtml("#1c4458")]}get localizedName(){return d.get("Chart","Style")+"31"}get styleColors(){return this._styleColor}get chartBrush(){return new V(c.fromHtml("#235e6d"))}get chartAreaBrush(){return new V(c.fromHtml("#235e6d"))}get chartAreaBorderColor(){return B.transparent}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return B.white}get seriesLabelsFont(){return new S("Arial",10)}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return B.white}get legendTitleColor(){return B.white}get legendShowShadow(){return!1}get legendBorderColor(){return B.transparent}get legendFont(){return new S("Arial",9)}get toolTipBrush(){return new V(B.fromArgb(150,30,74,97))}get toolTipTextBrush(){return new V(B.white)}get toolTipBorder(){return new Zt(Kt.All,B.white,1,p.Solid)}get seriesLighting(){return!1}getColumnBorder(e){return B.transparent}get styleId(){return P.d.StiChartStyleId.StiStyle31}},P.d.StiStyleCoreXF32=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[u.get("3a5263"),u.get("90a1ab"),u.get("c9d5dc")]}get localizedName(){return d.get("Chart","Style")+"32"}get styleColors(){return this._styleColor}get basicStyleColor(){return u.get("e9f4fc")}get chartBrush(){return new V(u.get("6d7e8b"))}get chartAreaBrush(){return new V(u.get("6d7e8b"))}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return u.get("e9f4fc")}get legendBorderColor(){return B.transparent}get legendTitleColor(){return u.get("e9f4fc")}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",9)}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return u.get("e9f4fc")}get seriesLabelsLineColor(){return u.get("e9f4fc")}get seriesLabelsFont(){return new S("Arial",10)}get axisTitleColor(){return u.get("e9f4fc")}get axisLineColor(){return u.get("e9f4fc")}get axisLabelsColor(){return u.get("e9f4fc")}get gridLinesHorColor(){return u.get("e9f4fc")}get gridLinesVertColor(){return u.get("e9f4fc")}get toolTipBrush(){return new V(B.fromArgb(150,67,84,94))}get seriesLighting(){return!1}get styleId(){return P.d.StiChartStyleId.StiStyle32}getColumnBorder(e){return B.transparent}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF33=class extends P.d.StiStyleCoreXF{constructor(){super(...arguments),this._styleColor=[u.get("40568d"),u.get("4569bb"),u.get("e47334"),u.get("9d9c9c"),u.get("f8b92d"),u.get("5e93cc"),u.get("6ea548")]}get localizedName(){return d.get("Chart","Style")+"33"}get styleColors(){return this._styleColor}get basicStyleColor(){return u.get("e9f4fc")}get chartBrush(){return new V(u.get("f2f5fc"))}get chartAreaBrush(){return new V(u.get("f2f5fc"))}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return u.get("e9f4fc")}get legendBorderColor(){return B.transparent}get legendTitleColor(){return u.get("e9f4fc")}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",9)}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return u.get("e9f4fc")}get seriesLabelsLineColor(){return u.get("e9f4fc")}get seriesLabelsFont(){return new S("Arial",10)}get axisTitleColor(){return u.get("e9f4fc")}get axisLineColor(){return u.get("e9f4fc")}get axisLabelsColor(){return u.get("e9f4fc")}get gridLinesHorColor(){return u.get("e9f4fc")}get gridLinesVertColor(){return u.get("e9f4fc")}get seriesLighting(){return!1}get styleId(){return P.d.StiChartStyleId.StiStyle33}getColumnBorder(e){return B.transparent}getColumnBrush(e){return new V(e)}},P.d.StiStyleCoreXF34=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[u.get("144b45"),u.get("ecb92f"),u.get("d66153"),u.get("25775b"),u.get("319491"),u.get("f7f7f7"),u.get("dd7c21")]}get localizedName(){return d.get("Chart","Style")+"34"}get styleColors(){return this._styleColor}get chartBrush(){return new V(u.get("3f745e"))}get chartAreaBrush(){return new V(u.get("3f745e"))}get chartAreaBorderColor(){return B.transparent}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return B.white}get legendBorderColor(){return B.transparent}get legendTitleColor(){return B.white}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",9)}get toolTipBrush(){return new V(B.fromArgb(150,20,75,69))}get toolTipTextBrush(){return new V(B.white)}get toolTipBorder(){return new Zt(Kt.None,B.white,1,p.Solid)}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb(119,255,255,255))}get seriesLabelsColor(){return B.white}get seriesLabelsFont(){return new S("Arial",10)}get seriesLighting(){return!1}get styleId(){return P.d.StiChartStyleId.StiStyle34}getColumnBorder(e){return B.transparent}},P.d.StiStyleCoreXF35=class extends P.d.StiStyleCoreXF22{constructor(){super(...arguments),this._styleColor=[u.get("#794d26"),u.get("#c7986a"),u.get("#c4b49a"),u.get("#894d29"),u.get("#422515"),u.get("#564438"),u.get("#876c57"),u.get("#d8814b"),u.get("#532525"),u.get("#59413f")]}get localizedName(){return d.get("Chart","Style")+"35"}get styleColors(){return this._styleColor}get chartBrush(){return new V(u.get("#fefefe"))}get chartAreaBrush(){return new V(u.get("#fefefe"))}get chartAreaBorderColor(){return B.transparent}get legendBrush(){return new V(B.transparent)}get legendLabelsColor(){return u.get("#222222")}get legendBorderColor(){return B.transparent}get legendTitleColor(){return B.white}get legendShowShadow(){return!1}get legendFont(){return new S("Arial",9)}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(u.get("#5a4941"))}get seriesLabelsColor(){return u.get("#fefefe")}get seriesLabelsFont(){return new S("Arial",10)}get toolTipBrush(){return new V(B.fromArgb(150,66,37,21))}get toolTipTextBrush(){return new V(B.white)}get toolTipBorder(){return new Zt(Kt.None,B.white,1,p.Solid)}get seriesLighting(){return!1}get styleId(){return P.d.StiChartStyleId.StiStyle35}getColumnBorder(e){return B.transparent}},P.a.Dashboard.Styles.StiGrayStyleColors),Ut=(P.d.StiStyleCoreXF36=class extends P.d.StiStyleCoreXF26{get localizedName(){return d.get("Chart","Style")+"36"}get styleColors(){return Qt.seriesColors}get chartAreaBorderColor(){return B.transparent}get legendBorderColor(){return B.transparent}get legendShowShadow(){return!1}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(B.fromArgb3(119,Qt.backColor))}get seriesLabelsColor(){return Qt.cellForeColor}get seriesLabelsFont(){return new S("Arial",10)}get seriesLighting(){return!1}get seriesShowShadow(){return!1}get styleId(){return P.d.StiChartStyleId.StiStyle36}getColumnBorder(e){return B.transparent}},P.a.Dashboard.Styles.StiWhiteBlackStyleColors),ei=D.Base.Drawing.StiLinearGradientBrush;P.d.StiStyleCoreXF37=class extends P.d.StiStyleCoreXF26{get localizedName(){return d.get("Chart","Style")+"37"}getAreaBrush(e){return new ei([f.changeAlpha(.25,e),B.white,B.white],[0,.5,1],90)}get styleId(){return P.d.StiChartStyleId.StiStyle37}get styleColors(){return Ut.seriesColors}get chartAreaBorderColor(){return B.transparent}get legendShowShadow(){return!1}get legendBorderColor(){return B.transparent}get axisTitleColor(){return Ut.foreColor}get axisLineColor(){return Ut.foreColor}get axisLabelsColor(){return Ut.foreColor}get seriesLabelsBorderColor(){return B.transparent}get seriesLabelsBrush(){return new V(Ut.foreColor)}get seriesLabelsColor(){return c.fromHtml("#f7fbff")}get seriesLabelsFont(){return new S("Arial",10)}get seriesLighting(){return!1}get seriesShowShadow(){return!1}};{class Ds{implements(){return Ds.implementsStiChartTableCoreXF||(Ds.implementsStiChartTableCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiChartTableCoreXF]),Ds.implementsStiChartTableCoreXF}applyStyle(e){this.chartTable.allowApplyStyle&&(this.chartTable.gridLineColor=e.core.legendBorderColor,this.chartTable.textColor=e.core.legendLabelsColor)}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}showTable(){if((this.chartTable.chart.area.is2(P.d.IStiClusteredColumnArea)||this.chartTable.chart.area.is2(P.d.IStiStackedColumnArea))&&!this.chartTable.chart.area.is2(P.d.IStiCandlestickArea)&&!this.chartTable.chart.area.is2(P.d.IStiRangeArea)&&!this.chartTable.chart.area.is2(P.d.IStiScatterArea)&&!this.chartTable.chart.area.is2(P.d.IStiStockArea)&&this.chartTable.visible)return!0;return!1}getHeightTable(e,t){let i=N.changeFontSize(this.chartTable.dataCells.font,this.chartTable.dataCells.font.size*e.options.zoom),s=e.measureString("HeightText",i);return s.height*this.chartTable.chart.series.count+this.getHeightHeaderTable(e,t)}getHeightHeaderTable(r,e){let n=0,t=this.chartTable.chart.area,l=t.xAxis.startFromZero,o=this.getArguments(),a=N.changeFontSize(this.chartTable.header.font,this.chartTable.header.font.size*r.options.zoom),h=r.getGenericStringFormat(),i=(h.trimming=At.None,this.chartTable.header.wordWrap||(h.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap),h.alignment=X.Center,h.lineAlignment=X.Center,t.xAxis.startFromZero?o.length+1:o.length-1),u=(e-this.getWidthCellLegend(r))/i;for(let s=0;s<o.length;s++){let e=0,t=(0!=s&&s!=o.length-1||(e=l?u/2:-u/2),this.chartTable.header.wordWrap?O.trunc(u+e):0),i=r.measureRotatedString3(o[s],a,new M(0,0),h,j.CenterCenter,0,t).height;n=Math.max(n,i)}return n}getWidthCellLegend(t){let i=N.changeFontSize(this.chartTable.dataCells.font,this.chartTable.dataCells.font.size*t.options.zoom),s=t.getGenericStringFormat(),r=(s.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap,s.alignment=X.Center,s.lineAlignment=X.Center,0),n=new E;for(let e of this.chartTable.chart.series.list)n=t.measureRotatedString4(e.coreTitle,i,new M(0,0),s,j.CenterCenter,0),r=Math.max(n.width,r);return this.chartTable.markerVisible&&(r+=n.height),Math.ceil(r)}render(e,t){return new P.d.StiChartTableGeom(t,this.getTableValues(),this.getWidthCellLegend(e),this.getHeightHeaderTable(e,t.width),this.chartTable)}getMaxCountValues(t){let i=0;for(let e of t.list)i=Math.max(i,e.values.length);return i}getArguments(){let s=this.chartTable.chart.series,r=[],e=this.getMaxCountValues(s);for(let i=0;i<e;i++){let e=s.getByIndex(0).arguments.length>i?s.getByIndex(0).arguments[i]:(i+1).toString(),t=this.getLabelText(e,s.getByIndex(0));r.push(t)}return r}getLabelText(i,e){var t;null==i&&(i=""),this.storedCulture=we.currentCulture;let s=null==(t=this.chartTable.chart.report)?void 0:t.getParsedCulture();try{k.isNullOrEmpty(s)||(we.currentCulture=we.cultures[s]);let t="";if(null!=(t=null!=(t=null!=e?e.format:t)&&0!=t.trim().length?t:this.chartTable.header.format)&&0!=t.trim().length){if("string"==typeof i){let e=i.toString(),t=e[D.System.StiObject.stimulsoft]().toNumber();if(0<e.length&&!isNaN(t))i=t;else{let e=y.fromString(i.toString(),!1);null!=e&&(i=e)}}else if(null==i)return"";if(!P.d.StiChartOptions.oldChartPercentMode&&t[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return 1<t.length&&(e=t[D.System.StiObject.stimulsoft]().remove(0,1)[D.System.StiObject.stimulsoft]().toNumber()),k.format("{0:N"+e.toString()+"}{1}{2}",i,"%",this.chartTable.header.textAfter)}return k.format("{0:"+t+"}{1}",i,this.chartTable.header.textAfter)}return k.format("{0}{1}",i,this.chartTable.header.textAfter)}catch(e){D.System.StiError.showError(e,!1)}finally{k.isNullOrEmpty(s)||(we.currentCulture=this.storedCulture)}return i.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}getTableValues(){let e=this.chartTable.chart.series,t=this.getArguments(),l=R.create2(String,e.count+1,t.length+1);for(let e=0;e<t.length;e++)l[0][e+1]=t[e];let o=this.chartTable.chart.area,a=1;for(let n of e.list){l[a][0]=n.coreTitle;let r=1;for(let e=0;e<n.values.length;e++){let i=o.reverseHor?n.values[n.values.length-e-1]:n.values[e],s=this.chartTable.chart.table.format;if(null==s&&0==s.trim().length||null==i)l[a][r]=i.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator);else if(s[D.System.StiObject.stimulsoft]().startsWith("P")&&!P.d.StiChartOptions.oldChartPercentMode){let e=0,t;try{1<s.length&&(e=s[D.System.StiObject.stimulsoft]().remove(0,1)[D.System.StiObject.stimulsoft]().toNumber()),t=n.seriesLabels.core.recalcValue(i,e)}catch(e){D.System.StiError.showError(e,!1),t=n.seriesLabels.core.recalcValue(i,2)}l[a][r]=k.format("{0:N"+e.toString()+"}{1}",t,"%")}else{let e=i;n.core.isDateTimeValues&&(e=y.fromOADate(i)),l[a][r]=k.format("{0:"+s+"}",e)}r++}a++}return l}constructor(e){this.chartTable=e}}P.d.StiChartTableCoreXF=Ds}{class Os{implements(){return Os.implementsStiTrendLineCoreXF||(Os.implementsStiTrendLineCoreXF=[r,P.d.IStiTrendLineCoreXF]),Os.implementsStiTrendLineCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}get localizedName(){return null}renderTrendLine(e,t,i){}sum(t){let i=0;for(let e of t)i+=e;return i}sumSqr(t){let i=0;for(let e of t)i+=e*e;return i}sumProductions(t,i){let s=0;for(let e=0;e<t.length;e++)s+=t[e]*i[e];return s}sumProductionsXLogY(t,i){let s=0;for(let e=0;e<t.length;e++)s+=t[e]*Math.log(i[e]);return s}sumLn(t){let i=0;for(let e of t)i+=Math.log(e);return i}constructor(e){this.trendLine=e}}P.d.StiTrendLineCoreXF=Os}P.d.StiTrendLineExponentialCoreXF=class extends P.d.StiTrendLineCoreXF{get localizedName(){return d.get("PropertyMain","Exponential")}renderTrendLine(m,g,p){if(0<g.length){let t=R.create(Number,g.length),i=R.create(Number,g.length),s=g[0].x,r=g[0].x;for(let e=0;e<g.length;e++)t[e]=g[e].x,i[e]=p-g[e].y,s<g[e].x&&(s=g[e].x),r>g[e].x&&(r=g[e].x);let e=g.length,n=this.sum(t),l=this.sumSqr(t),o=this.sumProductionsXLogY(t,i),a=this.sumLn(i),h=(e*o-n*a)/(e*l-n*n),u=(l*a-n*o)/(e*l-n*n),d=Math.exp(u),c=R.create(M,31,!0);for(let i=0;i<31;i++){let e=r+(s-r)/30*i,t=d*Math.exp(h*e);c[i]=new M(e,p-t)}let S=new P.d.StiTrendCurveGeom(c,this.trendLine);m.createChildGeoms(),m.childGeoms.push(S)}}constructor(e){super(e)}},P.d.StiTrendLineLinearCoreXF=class extends P.d.StiTrendLineCoreXF{get localizedName(){return d.get("PropertyMain","Linear")}renderTrendLine(S,m,e){if(0<m.length){let t=R.create(Number,m.length),i=R.create(Number,m.length),s=m[0].x,r=m[0].x;for(let e=0;e<m.length;e++)t[e]=m[e].x,i[e]=m[e].y,s<t[e]&&(s=t[e]),r>t[e]&&(r=t[e]);let e=m.length,n=this.sum(t),l=this.sum(i),o=this.sumSqr(t),a=this.sumProductions(t,i),h=n*n-o*e,u=(l*n-a*e)/h,d=(n*a-o*l)/h,c=new P.d.StiTrendLineGeom(new M(r,u*r+d),new M(s,u*s+d),this.trendLine);S.createChildGeoms(),S.childGeoms.push(c)}}constructor(e){super(e)}},P.d.StiTrendLineLogarithmicCoreXF=class extends P.d.StiTrendLineCoreXF{get localizedName(){return d.get("PropertyMain","Logarithmic")}renderTrendLine(m,g,e){if(0<g.length){let t=R.create(Number,g.length),i=R.create(Number,g.length),s=g[0].x,r=g[0].x;for(let e=0;e<g.length;e++)t[e]=Math.log(g[e].x),i[e]=g[e].y,s<g[e].x&&(s=g[e].x),r>g[e].x&&(r=g[e].x);let e=g.length,n=this.sum(t),l=this.sum(i),o=this.sumSqr(t),a=this.sumProductions(t,i),h=n*n-o*e,u=(l*n-a*e)/h,d=(n*a-o*l)/h,c=R.create(M,31,!0);for(let i=0;i<31;i++){let e=r+(s-r)/30*i,t=u*Math.log(e)+d;c[i]=new M(e,t)}let S=new P.d.StiTrendCurveGeom(c,this.trendLine);m.createChildGeoms(),m.childGeoms.push(S)}}constructor(e){super(e)}},P.d.StiTrendLineNoneCoreXF=class extends P.d.StiTrendLineCoreXF{get localizedName(){return d.get("Chart","LabelsNone")}constructor(e){super(e)}};let ti=D.Base.Context.StiGeom,ii=D.Base.Context.StiGeomType;{class Ps extends ti{implements(){return Ps.implementsStiCellGeom||(Ps.implementsStiCellGeom=super.implements().concat([P.d.IStiCellGeom])),Ps.implementsStiCellGeom}get invisible(){return!1}dispose(){null!=this.childGeoms&&(this.childGeoms[D.System.StiObject.stimulsoft]().clear(),this.childGeoms=null)}contains(e,t){if(this.invisible)return!1;return this.clientRectangle.contains(e,t)}getGeomAt(s,r,n){let l=r-s.clientRectangle.x,o=n-s.clientRectangle.y;if(null!=s.childGeoms){let e=s,i=null;for(let t of s.childGeoms)if(null!=e&&e.isChildVisibleInView(t)||null==e)if(t.is(P.d.StiAxisAreaGeom)){if(!t.view.contains(r,n))continue;let e=this.getGeomAt(t,l,o);null!=e&&(i=e)}else{let e=this.getGeomAt(t,l,o);if(null!=e&&(i=e).is(P.d.StiMarkerGeom))return i}if(null!=i)return i}if(s.contains(r,n))return s;return null}getSeriesGeoms(){let i=[];if(null==this.childGeoms)return i;for(let e of this.childGeoms){(e.is(P.d.StiSeriesGeom)||e.is(P.d.StiSeriesElementGeom))&&i.push(e);let t=e.getSeriesGeoms();for(let e of t)i.push(e)}return i}getSeriesElementGeoms(){let i=[];if(null==this.childGeoms)return i;for(let e of this.childGeoms)if(null!=e){e.is(se)&&i.push(e);let t=e.getSeriesElementGeoms();for(let e of t)i.push(e)}return i}getRect(i){let s=E.empty;if(null==this.childGeoms)return s;for(let t of this.childGeoms){if(t==i)return s.x+=t.clientRectangle.x,s.y+=t.clientRectangle.y,s.size=t.clientRectangle.size,s;let e=t.getRect(i);if(!e.isEmpty)return s.x+=t.clientRectangle.x,s.y+=t.clientRectangle.y,s.x+=e.x,s.y+=e.y,s.size=e.size,s}return s}createChildGeoms(){null==this.childGeoms&&(this.childGeoms=[])}draw(e){}drawGeom(e){this.draw(e),this.drawChildGeoms(e)}drawChildGeoms(t){if(null!=this.childGeoms){t.pushTranslateTransform(this.clientRectangle.x,this.clientRectangle.y);for(let e of this.childGeoms)this.allowChildDrawing(e)&&e.drawGeom(t);t.popTransform()}}allowChildDrawing(e){return null!=e}constructor(e){super(),this.type=ii.None,this.childGeoms=null,this.clientRectangle=E.empty,this.clientRectangle=e.clone()}}P.d.StiCellGeom=Ps}P.d.StiChartGeom=class extends P.d.StiCellGeom{draw(e){}constructor(e){super(e)}},P.d.StiNullableDrawing=class{static drawLines(e,t,i,s=null){this.drawLines2(e,t,null,i,s)}static drawLines2(t,i,e,s,r=null){let n=[];for(let e of s)null!=e?n.push(e):(1<n.length&&(null!=r?t.drawAnimationLines(i,n[D.System.StiObject.stimulsoft]().toArray(),r):t.drawLines(i,n[D.System.StiObject.stimulsoft]().toArray())),n[D.System.StiObject.stimulsoft]().clear());1<n.length&&(null!=r?t.drawAnimationLines(i,n[D.System.StiObject.stimulsoft]().toArray(),r):t.drawLines(i,n[D.System.StiObject.stimulsoft]().toArray()))}static drawCurve(t,i,s,r,n=null){let l=[];for(let e of s)null!=e?l.push(e):(1<l.length&&(null!=n?t.drawAnimationCurve(i,l[D.System.StiObject.stimulsoft]().toArray(),r,n):t.drawCurve(i,l[D.System.StiObject.stimulsoft]().toArray(),r)),l[D.System.StiObject.stimulsoft]().clear());1<l.length&&(null!=n?t.drawAnimationCurve(i,l[D.System.StiObject.stimulsoft]().toArray(),r,n):t.drawCurve(i,l[D.System.StiObject.stimulsoft]().toArray(),r))}static getPointsList(t){let i=[],s=[];for(let e of t)null!=e?s.push(e):(1<s.length&&i.push(s[D.System.StiObject.stimulsoft]().toArray()),s[D.System.StiObject.stimulsoft]().clear());return 1<s.length&&i.push(s[D.System.StiObject.stimulsoft]().toArray()),i}static getNullablePointsList(t){let i=[],s=[];for(let e of t)null!=e?s.push(e):(1<s.length&&i.push(s[D.System.StiObject.stimulsoft]().toArray()),s[D.System.StiObject.stimulsoft]().clear());return 1<=s.length&&i.push(s[D.System.StiObject.stimulsoft]().toArray()),i}static getPointsList2(e,i,t,s){let r=[],n=[],l=[],o=[],a=0;for(let t of e){let e=i[a];null!=t&&null!=e?(l.push(t),o.push(e)):(1<l.length&&(r.push(l[D.System.StiObject.stimulsoft]().toArray()),n.push(o[D.System.StiObject.stimulsoft]().toArray())),l[D.System.StiObject.stimulsoft]().clear(),o[D.System.StiObject.stimulsoft]().clear()),a++}1<l.length&&(r.push(l[D.System.StiObject.stimulsoft]().toArray()),n.push(o[D.System.StiObject.stimulsoft]().toArray())),t.ref=r,s.ref=n}},P.d.StiAreaGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone();if(t.isEmpty)return;0<t.width&&0<t.height&&e.fillRectangle(this.area.brush,t,null)}constructor(e,t){super(t),this.area=e}};{class Rs{constructor(e,t,i,s){this.x1=e,this.y1=t,this.x2=i,this.y2=s}}P.d.StiLineF=Rs,P.d.StiAxisAreaGeom=class extends P.d.StiAreaGeom{drawInterlacingHor(s,r){r.x=0,r.width=this.view.clientRectangle.width;let n=this.area;if(!n.interlacingHor.visible)return;let i=[],t=n.yAxis.info.stripPositions.length,l=R.create(Number,t);for(let e=0;e<t;e++)l[t-1-e]=n.yAxis.info.stripPositions[e];let o=0,a=!0,h=0;for(let t of l){if(h++,a){o=t,i.push(t),a=!1;continue}let e=o-t;if(e<this.minWidth&&h!=l.length)continue;o=t,i.push(t)}let e=R.create(Number,i.length),u=(i[D.System.StiObject.stimulsoft]().copyTo(e),0),d=!0;for(let i of e){let t=e[u+1];if(d){let e=new E(r.x,r.y+t,r.width,i-t);0<=e.bottom&&e.y<this.view.clientRectangle.height&&s.fillRectangle(n.interlacingHor.interlacedBrush,e,null)}if(d=!d,++u==e.length-1)break}}drawInterlacingVer(s,r){r.y=0,r.height=this.view.clientRectangle.height;let n=this.area;if(!n.interlacingVert.visible)return;let e=0,l=0,i=(n.reverseHor&&(l=1),[]),o=n.xAxis.info.stripPositions,a=0,h=!0,u=0;for(let t of o){if(u++,h){a=t,i.push(t),h=!1;continue}let e=t-a;if(e<this.minWidth&&u!=o.length)continue;a=t,i.push(t)}let d=R.create(Number,i.length);i[D.System.StiObject.stimulsoft]().copyTo(d);for(let i of d){let t=d[e+1];if(0<(1&l)){let e=new E(i+r.x,r.y,t-i,r.height);0<=e.right&&e.x<this.view.clientRectangle.width&&s.fillRectangle(n.interlacingVert.interlacedBrush,e,null)}if(l++,++e==d.length-1)break}}getGridLinesHorMajor(i,s,e){let r=new G,t=(i.x=0,i.width=this.view.clientRectangle.width,this.area),n=(e?t.yAxis:t.yRightAxis).info.stripPositions,l=n.length,o=R.create(Number,l);for(let e=0;e<l;e++)o[l-e-1]=n[e];let a=(n=o)[0];for(let t of n){let e=a-t;if(e<this.minWidth&&0<e)continue;if(a=t,s.visible&&s.style!=p.None){let e=t+i.y;0<=e&&e<=this.clientRectangle.height&&r.add(new Rs(i.x,e,i.right,e))}}return r}getGridLinesHorMinor(l,t,e){let o=new G,a=(l.x=0,l.width=this.view.clientRectangle.width,this.area),h=(e?a.yAxis:a.yRightAxis).info.stripPositions,i=h.length,s=R.create(Number,i);for(let e=0;e<i;e++)s[i-e-1]=h[e];let r=(h=s)[0],u=0;for(let n of h){let e=r-n;if(e<this.minWidth&&0<e)continue;if(r=n,t.minorVisible&&t.minorStyle!=p.None&&u!=h.length-1){let e=h[u+1];if(n-e<this.minWidth)continue;let i=(0==t.minorCount?a.yAxis.ticks:t).minorCount,s=n,r=(e-n)/(i+1);for(let t=1;t<=i;t++){let e=(s=n+r*t)+l.y;0<=e&&e<=this.clientRectangle.height&&o.add(new Rs(l.x,e,l.right,e))}}u++}return o}getGridLinesVerMajor(i,s,e){let r=new G,t=(i.y=0,i.height=this.view.clientRectangle.height,this.area),n=(e?t.xAxis:t.xTopAxis).info.stripPositions,l=0;for(let t of n){let e=t-l;if(e<this.minWidth&&0<e)continue;if(l=t,s.visible&&s.style!=p.None){let e=t+i.x;0<=e&&e<=this.clientRectangle.width&&r.add(new Rs(e,i.y,e,i.bottom))}}return r}getGridLinesVerMinor(l,t,e){let o=new G,a=(l.y=0,l.height=this.view.clientRectangle.height,this.area),h=(e?a.xAxis:a.xTopAxis).info.stripPositions,i=0,u=0;for(let n of h){let e=n-i;if(e<this.minWidth&&0<e)continue;if(i=n,t.minorVisible&&t.minorStyle!=p.None&&u!=h.length-1){let e=h[u+1];if(e-n<this.minWidth)continue;let i=(0==t.minorCount?a.yAxis.ticks:t).minorCount,s=n,r=(e-n)/(i+1);for(let t=1;t<=i;t++){let e=(s=n+r*t)+l.x;0<=e&&e<=this.clientRectangle.width&&o.add(new Rs(e,l.y,e,l.bottom))}}u++}return o}allowChildDrawing(e){return null!=e&&this.isChildVisibleInView(e)}isChildVisibleInView(e){let t=this.view.clientRectangle.clone(),i=(t.x=0,t.y=0,e.clientRectangle.clone());return i.x-=this.area.core.scrollDistanceX,i.y-=this.area.core.scrollDistanceY,null!=e&&t.intersectsWith(i)}draw(o){super.draw(o);let a=this.area,h=this.clientRectangle.clone();if(h.isEmpty)return;let e=a.axisCore.getSeries();if(0<e.length&&(this.drawInterlacingHor(o,h),this.drawInterlacingVer(o,h)),0<e.length){let e=this.getGridLinesHorMajor(h,a.gridLinesHor,!0),t=this.getGridLinesHorMinor(h,a.gridLinesHor,!0),i=this.getGridLinesHorMajor(h,a.gridLinesHorRight,!0),s=this.getGridLinesHorMinor(h,a.gridLinesHorRight,!0),r=this.getGridLinesVerMajor(h,a.gridLinesVert,!0),n=this.getGridLinesVerMinor(h,a.gridLinesVert,!0),l=new A(a.gridLinesHor.minorColor,1);l.penStyle=a.gridLinesHor.minorStyle,this.drawLines(o,t,l),(l=new A(a.gridLinesHorRight.minorColor,1)).penStyle=a.gridLinesHorRight.minorStyle,this.drawLines(o,s,l),(l=new A(a.gridLinesVert.minorColor,1)).penStyle=a.gridLinesVert.minorStyle,this.drawLines(o,n,l),(l=new A(a.gridLinesHor.color,1)).penStyle=a.gridLinesHor.style,this.drawLines(o,e,l),(l=new A(a.gridLinesHorRight.color,1)).penStyle=a.gridLinesHorRight.style,this.drawLines(o,i,l),(l=new A(a.gridLinesVert.color,1)).penStyle=a.gridLinesVert.style,this.drawLines(o,r,l)}}drawLines(t,i,s){for(let e of i)t.drawLine(s,e.x1,e.y1,e.x2,e.y2)}constructor(e,t,i){super(t,i),this.minWidth=6,this.view=e}}}let si=D.Base.Drawing.StiShadowSides;P.d.StiAxisAreaViewGeom=class extends P.d.StiAreaGeom{draw(e){let t=this.clientRectangle.clone();if(t.isEmpty)return;0<t.width&&0<t.height&&this.area.showShadow&&e.drawCachedShadow(t,si.All,e.options.isPrinting),super.draw(e)}drawGeom(e){super.drawGeom(e),this.drawBorder(e)}drawChildGeoms(s){if(null!=this.childGeoms){let i=this.clientRectangle.clone();i.x=0,i.y=0,s.pushTranslateTransform(this.clientRectangle.x,this.clientRectangle.y);for(let t of this.childGeoms){let e=t.is(P.d.StiAxisAreaGeom)||t.is(P.d.StiXAxisGeom)&&t.isCenterAxis||t.is(P.d.StiYAxisGeom)&&t.isCenterAxis;e&&s.pushClip(i),this.allowChildDrawing(t)&&t.drawGeom(s),e&&s.popClip()}s.popTransform()}}drawBorder(e){let t=this.clientRectangle.clone();if(t.isEmpty)return;let i=new A(this.area.borderColor,this.area.borderThickness);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}constructor(e,t){super(e,t)}},P.d.StiPieAreaGeom=class extends P.d.StiAreaGeom{draw(t){let i=this.clientRectangle.clone();if(0<i.width&&0<i.height){this.area.showShadow&&t.drawCachedShadow(i,si.All,t.options.isPrinting),t.fillRectangle2(this.area.brush,i.x,i.y,i.width,i.height,null);let e=new A(this.area.borderColor,this.area.borderThickness);t.drawRectangle2(e,i.x,i.y,i.width,i.height)}}constructor(e,t){super(e,t)}},P.d.StiDoughnutAreaGeom=class extends P.d.StiPieAreaGeom{constructor(e,t){super(e,t)}};{class Ms extends P.d.StiCellGeom{draw(l){let o=this.clientRectangle.clone();if(o.isEmpty)return;if(0<o.width&&0<o.height){let e=_.empty,t=_.empty,i=!k.isNullOrEmpty(this.valueText),s=!k.isNullOrEmpty(this.titleText),r=i&&s,n=(r?(e=new _(o.x,o.y,o.width,o.height/2),t=new _(o.x,e.bottom,o.width,o.height/2)):i?e=o:s&&(t=o),new S("Arial",1));e!=_.empty&&this.drawText(l,this.valueText,this.indicator.value.getColor(),e,n),t!=_.empty&&this.drawText(l,this.titleText,this.indicator.title.getColor(),t,n)}}drawText(e,t,i,s,r){if(k.isNullOrEmpty(t))return;let n=Ms.getFontSize(e,s,t,r),l=N.create(r),o=(l.fontSize=n,e.getGenericStringFormat());e.drawRotatedString5(t,l,i,s,o,j.CenterCenter,0,!0)}static getFontSize(e,t,i,s){let r=N.create(s),n=e.measureString(i,r);if(0==n.width||0==n.height)return 0;let l=t.width/n.width,o=t.height/n.height,a=o<l?o:l;return a}constructor(e,t,i,s){super(e),this.valueText=t,this.titleText=i,this.indicator=s}}P.d.StiDoughnutAreaIndicatorGeom=Ms}P.d.StiPictorialAreaGeom=class extends P.d.StiAreaGeom{draw(e){let t=this.clientRectangle.clone();if(t.isEmpty)return;0<t.width&&0<t.height&&this.area.showShadow&&e.drawCachedShadow(t,si.All,e.options.isPrinting),super.draw(e)}drawGeom(e){super.drawGeom(e),this.drawBorder(e)}drawBorder(e){let t=this.clientRectangle.clone();if(t.isEmpty)return;let i=new A(this.area.borderColor,this.area.borderThickness);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}constructor(e,t){super(e,t)}},P.d.StiRadarAreaGeom=class extends P.d.StiAreaGeom{drawHor(a,e,t){let h=this.clientRectangle.clone(),u=this.area;if(null==u.yAxis.info.stripPositions)return;let d=u.core,c=0;for(let o of u.yAxis.info.stripPositions){if(0!=o){let s=new E(d.centerPoint.x-o,d.centerPoint.y-o,2*o,2*o);if(u.radarStyle==P.d.StiRadarStyle.Circle){if(e&&u.interlacingHor.visible&&c!=u.yAxis.info.stripPositions.length-1&&0==(1&c)){let e=[],t=u.yAxis.info.stripPositions[c+1],i=new E(d.centerPoint.x-t,d.centerPoint.y-t,2*t,2*t);e.push(new Mt(s,0,360)),e.push(new Mt(i,0,360)),a.fillPath(u.interlacingHor.interlacedBrush,e,h,null)}if(t&&u.gridLinesHor.visible){let e;c==u.yAxis.info.stripPositions.length-1?e=new A(u.borderColor,u.borderThickness):(e=new A(u.gridLinesHor.color)).penStyle=u.gridLinesHor.style,a.drawEllipse2(e,s)}}else{if(e&&u.interlacingHor.visible&&c!=u.yAxis.info.stripPositions.length-1&&1==(1&c)){let r=[],n=0;for(let s of d.points){let e,t=(e=n==d.points.length-1?d.points[0]:d.points[n+1],new M(d.centerPoint.x+o*s.x,d.centerPoint.y+o*s.y)),i=new M(d.centerPoint.x+o*e.x,d.centerPoint.y+o*e.y);r.push(new L(t.x,t.y,i.x,i.y)),n++}let l=u.yAxis.info.stripPositions[c+1];n=0;for(let s of d.points){let e,t=(e=n==d.points.length-1?d.points[0]:d.points[n+1],new M(d.centerPoint.x+l*s.x,d.centerPoint.y+l*s.y)),i=new M(d.centerPoint.x+l*e.x,d.centerPoint.y+l*e.y);r.push(new L(t.x,t.y,i.x,i.y)),n++}a.fillPath(u.interlacingHor.interlacedBrush,r,h,null)}if(t&&u.gridLinesHor.visible){let s=0;for(let i of d.points){let e;e=s==d.points.length-1?d.points[0]:d.points[s+1];let t;c==u.yAxis.info.stripPositions.length-1?t=new A(u.borderColor,u.borderThickness):(t=new A(u.gridLinesHor.color)).penStyle=u.gridLinesHor.style,a.drawLine(t,d.centerPoint.x+o*i.x,d.centerPoint.y+o*i.y,d.centerPoint.x+o*e.x,d.centerPoint.y+o*e.y),s++}}}}c++}}drawVert(r,t,n){let l=this.clientRectangle.clone(),o=this.area,a=o.core,h=0,u=360/a.points.length,d=0;for(let e of a.points){let i=a.centerPoint,s=new M(i.x+l.width/2*e.x,i.y+l.width/2*e.y);if(t&&o.interlacingVert.visible){let t=h<a.points.length-1?new M(i.x+l.width/2*a.points[h+1].x,i.y+l.height/2*a.points[h+1].y):new M(i.x+l.width/2*a.points[0].x,i.y+l.height/2*a.points[0].y);if(1==(1&h)){let e=[];o.radarStyle==P.d.StiRadarStyle.Circle?(e.push(new L(i.x,i.y,s.x,s.y)),e.push(new Mt(l,d-90,u))):(e.push(new L(i.x,i.y,s.x,s.y)),e.push(new L(s.x,s.y,t.x,t.y))),e.push(new L(t.x,t.y,i.x,i.y)),r.fillPath(o.interlacingVert.interlacedBrush,e,l,null)}}if(n&&o.gridLinesVert.visible){let e=new A(o.gridLinesVert.color);e.penStyle=o.gridLinesVert.style,r.drawLine(e,i.x,i.y,s.x,s.y)}d+=u,h++}}drawBackground(e){let t=this.clientRectangle.clone(),n=this.area;if(null==n.yAxis.info.stripPositions)return;let l=n.core,o=3,a=new V(B.fromArgb(50,0,0,0));if(n.radarStyle==P.d.StiRadarStyle.Circle)!this.area.showShadow||n.brush.is(bt)||ct.isTransparent(n.brush)||(e.pushTranslateTransform(o,o),e.fillEllipse2(a,t,null),e.popTransform()),e.fillEllipse2(n.brush,t,null);else{let i=n.yAxis.info.stripPositions[n.yAxis.info.stripPositions.length-1],s=[],r=0;for(let t of l.points){let e=r==l.points.length-1?l.points[0]:l.points[r+1];s.push(new L(l.centerPoint.x+i*t.x,l.centerPoint.y+i*t.y,l.centerPoint.x+i*e.x,l.centerPoint.y+i*e.y)),r++}!this.area.showShadow||n.brush.is(bt)||ct.isTransparent(n.brush)||(e.pushTranslateTransform(o,o),e.fillPath(a,s,t,null),e.popTransform()),e.fillPath(n.brush,s,t,null)}}draw(e){let t=this.clientRectangle.clone();0<t.width&&0<t.height&&(e.pushSmoothingModeToAntiAlias(),this.drawBackground(e),this.drawVert(e,!0,!1),this.drawHor(e,!0,!1),this.drawVert(e,!1,!0),this.drawHor(e,!1,!0),e.popSmoothingMode())}constructor(e,t,i){super(e,t),this.valuesCount=i}},P.d.StiSunburstAreaGeom=class extends P.d.StiPieAreaGeom{constructor(e,t){super(e,t)}},P.d.StiTreemapAreaGeom=class extends P.d.StiAreaGeom{draw(t){let i=this.clientRectangle.clone();if(0<i.width&&0<i.height){this.area.showShadow&&t.drawCachedShadow(i,si.All,t.options.isPrinting),t.fillRectangle2(this.area.brush,i.x,i.y,i.width,i.height,null);let e=new A(this.area.borderColor,this.area.borderThickness);t.drawRectangle2(e,i.x,i.y,i.width,i.height)}}constructor(e,t){super(e,t)}},P.d.StiAxisLabelGeom=class extends P.d.StiCellGeom{draw(e){let t=this.axis.core.getStringFormatGeom(e,this.wordWrap),i=this.axis.core.getFontGeom(e),s=new V(this.axis.labels.color);e.drawRotatedString9(this.text,i,s,this.textPoint,t,this.rotationMode,this.angle,this.axis.labels.antialiasing,O.trunc(this.width*e.options.zoom))}constructor(e,t,i,s,r,n,l,o,a){super(t),this.axis=e,this.text=s,this.stripLine=r,this.textPoint=i,this.angle=n,this.rotationMode=o,this.width=l,this.wordWrap=a}},P.d.StiAxisTitleGeom=class extends P.d.StiCellGeom{draw(e){let t=new V(this.axis.title.color),i=e.getDefaultStringFormat();e.drawRotatedString5(this.axis.title.text,this.font,t,this.clientRectangle,i,j.CenterCenter,this.angle,this.axis.title.antialiasing)}constructor(e,t,i,s,r){super(t),this.angle=0,this.axis=e,this.angle=i,this.font=r}},P.d.StiXAxisGeom=class extends P.d.StiCellGeom{drawArrow(r,t){let n=r.options.zoom,l=new A(this.axis.lineColor,this.axis.lineWidth),e=new A(this.axis.lineColor),o=new V(this.axis.lineColor),i=0,a=(this.axis.core.isBottomSide&&(i=t.y),this.axis.core.isTopSide&&(i=t.bottom),M.empty);switch(a=this.axis.area.reverseHor?new M(t.x,i):new M(t.right,i),this.axis.arrowStyle){case P.d.StiArrowStyle.Triangle:{r.drawLine(l,a.x,a.y,a.x+this.axis.core.arrowHeight*n,a.y),r.pushSmoothingModeToAntiAlias();let e=[];e.push(new L(a.x+this.axis.core.arrowHeight*n,a.y-this.axis.core.arrowWidth*n,a.x+4*this.axis.core.arrowHeight*n,a.y)),e.push(new L(a.x+4*this.axis.core.arrowHeight*n,a.y,a.x+this.axis.core.arrowHeight*n,a.y+this.axis.core.arrowWidth*n)),r.fillPath(o,e,t,null),r.popSmoothingMode();break}case P.d.StiArrowStyle.Lines:r.drawLine(l,a.x,a.y,a.x+4*this.axis.core.arrowHeight*n,a.y),r.pushSmoothingModeToAntiAlias(),r.drawLine(e,a.x+this.axis.core.arrowHeight*n,a.y-this.axis.core.arrowWidth*n,a.x+4*this.axis.core.arrowHeight*n,a.y),r.drawLine(e,a.x+4*this.axis.core.arrowHeight*n,a.y,a.x+this.axis.core.arrowHeight*n,a.y+this.axis.core.arrowWidth*n),r.popSmoothingMode();break;case P.d.StiArrowStyle.Circle:{let e=this.axis.core.arrowHeight*n,t=(r.drawLine(l,a.x,a.y,a.x+2*e,a.y),new M(a.x+2*e,a.y-e/2)),i=(r.pushSmoothingModeToAntiAlias(),new E(t.x,t.y,e,e));r.drawEllipse2(l,i),r.popSmoothingMode();break}case P.d.StiArrowStyle.Arc:case P.d.StiArrowStyle.ArcAndCircle:{let i=this.axis.core.arrowHeight*n,s=(r.drawLine(l,a.x,a.y,a.x+2*i,a.y),r.pushSmoothingModeToAntiAlias(),[]);if(this.axis.area.reverseHor){let e=new M(a.x+3*i,a.y+i/2),t=new E(e.x,e.y,Math.abs(i),Math.abs(i));this.axis.arrowStyle==P.d.StiArrowStyle.ArcAndCircle&&(t.x-=n,t.inflate(1,1)),s.push(new Mt(t,270,180))}else{let e=new M(a.x+2*i,a.y-i/2),t=new E(e.x,e.y,Math.abs(i),Math.abs(i));this.axis.arrowStyle==P.d.StiArrowStyle.ArcAndCircle&&(t.x+=n,t.inflate(1,1)),s.push(new Mt(t,90,180))}if(r.drawPath(l,s,Ot.getBoundsState),this.axis.arrowStyle==P.d.StiArrowStyle.ArcAndCircle){let e=this.axis.core.arrowHeight*n,t=new M(a.x+2*e+n,a.y-e/2),i=new E(t.x,t.y,e,e);this.axis.area.reverseHor?(i.inflate(.5*n,.5*n),i.x-=3*n):(i.inflate(-.5*n,-.5*n),i.x+=n),r.fillEllipse2(o,i,null)}r.popSmoothingMode();break}}}drawAxisLine(e,t){let i=0,s=(this.axis.core.isTopSide&&(i=t.bottom),this.axis.core.isBottomSide&&(i=t.top),new A(this.axis.lineColor,this.axis.lineWidth));s.penStyle=this.axis.lineStyle,!this.isCenterAxis||this.axis.showXAxis!=P.d.StiShowXAxis.Both&&this.axis.showXAxis!=P.d.StiShowXAxis.Center?this.isCenterAxis||this.axis.showXAxis!=P.d.StiShowXAxis.Both&&this.axis.showXAxis!=P.d.StiShowXAxis.Bottom||e.drawLine(s,t.x,i,t.right,i):this.axis.area.reverseVert?e.drawLine(s,t.x,i,t.right,i):e.drawLine(s,t.x,i+t.height,t.right,i+t.height)}drawMinorTicks(s,r,n,e,l,t){let i=e-n,o=i/(t.minorCount+1),a=t.minorLength*s.options.zoom;for(let i=1;i<=t.minorCount;i++){let e=n+o*i,t=this.axis.core.isTopSide||this.isCenterAxis?l-a:l+a;this.axis.area.reverseVert&&this.isCenterAxis&&(t=l+a),s.drawLine(r,e,l,e,t)}}drawTicks(l,e,s,o){if(!s.visible)return;let t=s.length*l.options.zoom,a=this.axis.core.isTopSide||this.isCenterAxis?e.bottom:e.top,h=this.axis.core.isTopSide||this.isCenterAxis?a-t:a+t,u=(this.isCenterAxis&&this.axis.area.reverseVert&&(h=a+t),this.axis.info.ticksCollection);if(this.isArgumentDateTime(u)&&this.axis.area.xAxis.dateTimeStep.step!=P.d.StiTimeDateStep.None){let e,i,s=!0,r="",n=0;for(let t=0;t<u.length;t++){if(s&&(n=u[t].position,s=!1),!(null!=u[t].stripLine.valueObject&&u[t].stripLine.valueObject instanceof y))continue;if(e=u[t].stripLine.valueObject,i=t<u.length-2?u[t+1].stripLine.valueObject:e,!e.ticks||!i.ticks)continue;switch(this.axis.area.xAxis.dateTimeStep.step){case P.d.StiTimeDateStep.Day:e.toString("yyyyMMMMdd")==i.toString("yyyyMMMMdd")&&t!=u.length-2||(r=e.toString("dd"));break;case P.d.StiTimeDateStep.Hour:e.toString("yyyyMMMMddHH")==i.toString("yyyyMMMMddHH")&&t!=u.length-2||(r=e.toString("HH"));break;case P.d.StiTimeDateStep.Minute:e.toString("yyyyMMMMddhhmm")==i.toString("yyyyMMMMddhhmm")&&t!=u.length-2||(r=e.toString("mm"));break;case P.d.StiTimeDateStep.Month:e.toString("yyyyMMMM")==i.toString("yyyyMMMM")&&t!=u.length-2||(r=e.toString("MMMM"));break;case P.d.StiTimeDateStep.Second:e.toString("yyyyMMMMddHHmmss")==i.toString("yyyyMMMMddHHmmss")&&t!=u.length-2||(r=e.toString("ss"));break;case P.d.StiTimeDateStep.Year:e.toString("yyyy")==i.toString("yyyy")&&t!=u.length-2||(r=e.toString("yyyy"));break}if(""!=r){let e=0;e=t==u.length-2?u[t+1].position:u[t].position+(u[t+1].position-u[t].position)/2,l.drawRectangle2(o,n,a,e-n,h),r="",n=e}}}else{let i=0;for(let e of this.axis.info.ticksCollection){let t=e.position;if(l.drawLine(o,t,a,t,h),s.minorVisible&&i!=this.axis.info.ticksCollection.length-1){let e=this.axis.info.ticksCollection[i+1].position;this.drawMinorTicks(l,o,t,e,a,s)}i++}}}isArgumentDateTime(t){for(let e of t)if(null!=e.stripLine.valueObject&&e.stripLine.valueObject instanceof y)return!0;return!1}drawAxis(e,t){let i=new A(this.axis.lineColor,this.axis.lineWidth);i.penStyle=this.axis.lineStyle,(!this.isCenterAxis||this.axis.showXAxis!=P.d.StiShowXAxis.Both&&this.axis.showXAxis!=P.d.StiShowXAxis.Center)&&(this.isCenterAxis||(this.axis.core.isTopSide&&this.drawTicks(e,t,this.axis.ticks,i),!this.axis.core.isBottomSide)||this.axis.showXAxis!=P.d.StiShowXAxis.Both&&this.axis.showXAxis!=P.d.StiShowXAxis.Bottom)||this.drawTicks(e,t,this.axis.ticks,i),this.drawAxisLine(e,t)}getViewclipRect(){let e=this.view.clientRectangle.clone();return e.x=this.axis.area.core.scrollDistanceX,e.y=0,e.inflate(1,1),this.isCenterAxis&&e.inflate(0,2),e}allowChildDrawing(e){let t=e;if(null==t)return!0;if(null==this.view)return!0;let i=this.getViewclipRect(),s=t.clientRectangle;return!(s.right<i.x||s.x>i.right)}draw(t){let e=this.clientRectangle.clone();if(e.width<=0||e.height<=0)return;if(null!=this.view){let e=this.getViewclipRect();t.pushClip(e)}this.drawAxis(t,e),null!=this.view&&t.popClip()}constructor(e,t,i){super(t),this.isCenterAxis=!1,this.axis=e,this.isCenterAxis=i}},P.d.StiXAxisViewGeom=class extends P.d.StiXAxisGeom{drawChildGeoms(t){let i=this.clientRectangle.clone();if(this.isCenterAxis&&(i.y+=this.axis.area.core.getDividerY()-this.axis.area.core.scrollDistanceY),null!=this.childGeoms)for(let e of this.childGeoms)this.allowChildDrawing(e)&&(e.is(P.d.StiHorzScrollBarGeom)||t.pushTranslateTransform(-this.axis.area.core.scrollDistanceX,0),t.pushTranslateTransform(i.x,i.y),e.drawGeom(t),t.popTransform(),e.is(P.d.StiHorzScrollBarGeom)||t.popTransform());this.draw(t)}draw(e){let t=this.clientRectangle.clone();if(this.isCenterAxis&&(t.y+=this.axis.area.core.getDividerY()-this.axis.area.core.scrollDistanceY),t.width<=0||t.height<=0)return;this.axis.arrowStyle==P.d.StiArrowStyle.None||this.isCenterAxis||this.drawArrow(e,t)}constructor(e,t,i){super(e,t,i)}},P.d.StiYAxisGeom=class extends P.d.StiCellGeom{drawArrow(r,e){let n=r.options.zoom,l=new A(this.axis.lineColor),o=new V(this.axis.lineColor),t=new A(this.axis.lineColor),a=(this.axis.visible||this.drawAxisLine(r,e),M.empty);switch(a=this.axis.area.reverseVert?new M(e.right,e.bottom):new M(e.right,e.y),this.axis.core.isRightSide&&(a.x=e.x),this.axis.arrowStyle){case P.d.StiArrowStyle.Triangle:{r.drawLine(l,a.x,a.y,a.x,a.y-this.axis.core.arrowHeight*n),r.pushSmoothingModeToAntiAlias();let e=[];e.push(new L(a.x-this.axis.core.arrowWidth*n,a.y-this.axis.core.arrowHeight*n,a.x+this.axis.core.arrowWidth*n,a.y-this.axis.core.arrowHeight*n)),e.push(new L(a.x+this.axis.core.arrowWidth*n,a.y-this.axis.core.arrowHeight*n,a.x,a.y-4*this.axis.core.arrowHeight*n)),r.fillPath(o,e,Ot.getBoundsState,null),r.popSmoothingMode();break}case P.d.StiArrowStyle.Lines:r.drawLine(l,a.x,a.y,a.x,a.y-4*this.axis.core.arrowHeight*n),r.pushSmoothingModeToAntiAlias(),r.drawLine(t,a.x-this.axis.core.arrowWidth*n,a.y-this.axis.core.arrowHeight*n,a.x,a.y-4*this.axis.core.arrowHeight*n),r.drawLine(t,a.x+this.axis.core.arrowWidth*n,a.y-this.axis.core.arrowHeight*n,a.x,a.y-4*this.axis.core.arrowHeight*n),r.popSmoothingMode();break;case P.d.StiArrowStyle.Circle:{r.drawLine(l,a.x,a.y,a.x,a.y-this.axis.core.arrowHeight*n*2);let e=this.axis.core.arrowHeight*n,t=new M(a.x-e/2,a.y-3*e),i=(r.pushSmoothingModeToAntiAlias(),new E(t.x,t.y,this.axis.core.arrowHeight*n,this.axis.core.arrowHeight*n));r.drawEllipse2(l,i),r.popSmoothingMode();break}case P.d.StiArrowStyle.Arc:case P.d.StiArrowStyle.ArcAndCircle:{let i=this.axis.core.arrowHeight*n,s=(r.drawLine(l,a.x,a.y,a.x,a.y-2*i),r.pushSmoothingModeToAntiAlias(),[]);if(this.axis.area.reverseVert){let e=new M(a.x+i/2,a.y-2*i),t=new E(e.x,e.y,Math.abs(i),Math.abs(i));this.axis.arrowStyle==P.d.StiArrowStyle.ArcAndCircle&&(t.y+=n,t.inflate(1,1)),s.push(new Mt(t,180,180))}else{let e=new M(a.x-i/2,a.y-3*i),t=new E(e.x,e.y,i,i);this.axis.arrowStyle==P.d.StiArrowStyle.ArcAndCircle&&(t.y-=n,t.inflate(1,1)),s.push(new Mt(t,0,180))}if(r.drawPath(l,s,Ot.getBoundsState),this.axis.arrowStyle==P.d.StiArrowStyle.ArcAndCircle){let e=this.axis.core.arrowHeight*n,t=new M(a.x-e/2,a.y-3*e-n),i=new E(t.x,t.y,e,e);this.axis.area.reverseVert?(i.inflate(.5*n,.5*n),i.y+=3*n):(i.inflate(-.5*n,-.5*n),i.y-=n),r.fillEllipse2(o,i,null)}r.popSmoothingMode();break}}}drawAxisLine(e,t){let i=t.right,s=(this.axis.core.isRightSide&&(i=t.left),this.isCenterAxis&&this.axis.area.reverseHor&&(i=t.right),new A(this.axis.lineColor,this.axis.lineWidth));s.penStyle=this.axis.lineStyle,(!this.isCenterAxis||this.axis.showYAxis!=P.d.StiShowYAxis.Both&&this.axis.showYAxis!=P.d.StiShowYAxis.Center)&&(this.isCenterAxis||this.axis.showYAxis!=P.d.StiShowYAxis.Both&&this.axis.showYAxis!=P.d.StiShowYAxis.Left)||e.drawLine(s,i,t.y,i,t.bottom)}drawMinorTicks(s,r,n,l,e,t){let i=e-l,o=i/(t.minorCount+1),a=t.minorLength*s.options.zoom;for(let i=1;i<=t.minorCount;i++){let e=l+o*i,t=this.axis.core.isLeftSide||this.isCenterAxis?n-a:n+a;this.axis.area.reverseHor&&this.isCenterAxis&&(t=n+a),s.drawLine(r,n,e,t,e)}}drawTicks(i,e,s,r){if(!s.visible)return;let t=s.length*i.options.zoom,n=this.axis.core.isLeftSide?e.right:e.left,l=this.axis.core.isLeftSide?n-t:n+t,o=(this.isCenterAxis&&this.axis.area.reverseHor&&(n=e.right,l=e.right+t),0);for(let e of this.axis.info.ticksCollection){let t=e.position;if(i.drawLine(r,n,t,l,t),s.minorVisible&&o!=this.axis.info.ticksCollection.length-1){let e=this.axis.info.ticksCollection[o+1].position;this.drawMinorTicks(i,r,n,t,e,s)}o++}}drawAxis(e,t){let i=new A(this.axis.lineColor,this.axis.lineWidth);i.penStyle=this.axis.lineStyle,!this.isCenterAxis||this.axis.showYAxis!=P.d.StiShowYAxis.Both&&this.axis.showYAxis!=P.d.StiShowYAxis.Center?this.isCenterAxis||(!this.axis.core.isLeftSide||this.axis.showYAxis!=P.d.StiShowYAxis.Both&&this.axis.showYAxis!=P.d.StiShowYAxis.Left||this.drawTicks(e,t,this.axis.area.yAxis.ticks,i),this.axis.core.isRightSide&&this.drawTicks(e,t,this.axis.area.yRightAxis.ticks,i)):this.drawTicks(e,t,this.axis.ticks,i),this.drawAxisLine(e,t)}getViewclipRect(){let e=this.view.clientRectangle.clone();return e.x=0,e.y=this.axis.area.core.scrollDistanceY,e.inflate(1,1),this.isCenterAxis&&e.inflate(2,0),e}allowChildDrawing(e){let t=e;if(null==t)return!0;if(null==this.view)return!0;let i=this.getViewclipRect(),s=t.clientRectangle;return!(s.bottom<i.y||s.y>i.bottom)}draw(t){let e=this.clientRectangle.clone();if(e.width<=0||e.height<=0)return;if(null!=this.view){let e=this.getViewclipRect();t.pushClip(e)}this.drawAxis(t,e),null!=this.view&&t.popClip()}constructor(e,t,i){super(t),this.isCenterAxis=!1,this.axis=e,this.isCenterAxis=i}},P.d.StiYAxisViewGeom=class extends P.d.StiYAxisGeom{drawChildGeoms(t){let i=this.clientRectangle.clone();if(this.isCenterAxis&&(i.x+=this.axis.area.core.getDividerX()-this.axis.area.core.scrollDistanceX),null!=this.childGeoms)for(let e of this.childGeoms)this.allowChildDrawing(e)&&(e.is(P.d.StiVertScrollBarGeom)||t.pushTranslateTransform(0,-this.axis.area.core.scrollDistanceY),t.pushTranslateTransform(i.x,i.y),e.drawGeom(t),t.popTransform(),e.is(P.d.StiVertScrollBarGeom)||t.popTransform())}draw(e){let t=this.clientRectangle.clone();if(this.isCenterAxis&&(t.x+=this.axis.area.core.getDividerX()-this.axis.area.core.scrollDistanceX),t.width<=0||t.height<=0)return;this.axis.arrowStyle==P.d.StiArrowStyle.None||this.isCenterAxis||this.drawArrow(e,t)}constructor(e,t,i){super(e,t,i)}},P.d.StiDownButtonGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=B.white,s=(i=this.axis.lineColor,t.width/3),r=t.height/4,n=new M(t.x+t.width/2,t.y+t.height/2),l=(e.pushSmoothingModeToAntiAlias(),[]);l.push(new L(n.x-s,n.y-r,n.x,n.y+r)),l.push(new L(n.x,n.y+r,n.x+s,n.y-r)),e.fillPath(i,l,t,null),e.popSmoothingMode()}constructor(e,t){super(t),this.axis=e}},P.d.StiHorzScrollBarGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=new A(this.axis.lineColor);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}constructor(e,t){super(t),this.axis=e}},P.d.StiHorzTrackBarGeom=class extends P.d.StiCellGeom{draw(t){let i=this.clientRectangle.clone(),e=new A(this.axis.lineColor),s=new A(B.white);if(t.fillRectangle2(this.axis.lineColor,i.x,i.y,i.width,i.height,null),t.drawRectangle2(e,i.x,i.y,i.width,i.height),10<i.width&&4<i.height){let e=i.x+i.width/2;t.drawLine(s,e-2,i.y+2,e-2,i.bottom-2),t.drawLine(s,e,i.y+2,e,i.bottom-2),t.drawLine(s,e+2,i.y+2,e+2,i.bottom-2)}}constructor(e,t,i){super(t),this.axis=e,this.scrollBar=i}},P.d.StiLeftButtonGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=B.white,s=(i=this.axis.lineColor,t.width/4),r=t.height/3,n=new M(t.x+t.width/2,t.y+t.height/2),l=(e.pushSmoothingModeToAntiAlias(),[]);l.push(new L(n.x+s,n.y-r,n.x-s,n.y)),l.push(new L(n.x-s,n.y,n.x+s,n.y+r)),e.fillPath(i,l,t,null),e.popSmoothingMode()}constructor(e,t){super(t),this.axis=e}},P.d.StiRightButtonGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=B.white,s=(i=this.axis.lineColor,t.width/4),r=t.height/3,n=new M(t.x+t.width/2,t.y+t.height/2),l=(e.pushSmoothingModeToAntiAlias(),[]);l.push(new L(n.x-s,n.y-r,n.x+s,n.y)),l.push(new L(n.x+s,n.y,n.x-s,n.y+r)),e.fillPath(i,l,t,null),e.popSmoothingMode()}constructor(e,t){super(t),this.axis=e}},P.d.StiUpButtonGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=B.white,s=(i=this.axis.lineColor,t.width/3),r=t.height/4,n=new M(t.x+t.width/2,t.y+t.height/2),l=(e.pushSmoothingModeToAntiAlias(),[]);l.push(new L(n.x-s,n.y+r,n.x,n.y-r)),l.push(new L(n.x,n.y-r,n.x+s,n.y+r)),e.fillPath(i,l,t,null),e.popSmoothingMode()}constructor(e,t){super(t),this.axis=e}},P.d.StiVertScrollBarGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=new A(this.axis.lineColor);e.drawRectangle2(i,t.x,t.y,t.width,t.height)}constructor(e,t){super(t),this.axis=e}},P.d.StiVertTrackBarGeom=class extends P.d.StiCellGeom{draw(t){let i=this.clientRectangle.clone(),e=new A(this.axis.lineColor),s=new A(B.white);if(t.fillRectangle2(this.axis.lineColor,i.x,i.y,i.width,i.height,null),t.drawRectangle2(e,i.x,i.y,i.width,i.height),10<i.height&&4<i.width){let e=i.y+i.height/2;t.drawLine(s,i.x+2,e-2,i.right-2,e-2),t.drawLine(s,i.x+2,e,i.right-2,e),t.drawLine(s,i.x+2,e+2,i.right-2,e+2)}}constructor(e,t,i){super(t),this.axis=e,this.scrollBar=i}},P.d.StiChartTitleGeom=class extends P.d.StiCellGeom{draw(s){if(this.title.visible){let e=this.title.dock,t=(this.title.dock==P.d.StiChartTitleDock.Bottom&&(e=0),N.changeFontSize(this.title.font,this.title.font.size*s.options.zoom)),i=s.getDefaultStringFormat();i.alignment=this.title.alignment,i.trimming=At.None,i.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap|Lt.NoClip,s.drawRotatedString8(this.title.text,t,this.title.brush,this.clientRectangle,i,j.CenterCenter,e,this.title.antialiasing)}}constructor(e,t){super(t),this.title=e}},P.d.StiConstantLinesVerticalGeom=class extends P.d.StiCellGeom{draw(s){let e=this.clientRectangle.clone(),t=new A(this.line.lineColor,this.line.lineWidth);if(t.penStyle=this.line.lineStyle,s.drawLine(t,e.left,e.top,e.left,e.bottom),this.line.titleVisible){let e=new V(this.line.lineColor),t=N.changeFontSize(this.line.font,this.line.font.size*s.options.zoom),i=s.getGenericStringFormat();s.drawRotatedString9(this.line.text,t,e,this.point,i,this.mode,90,this.line.antialiasing,0)}}constructor(e,t,i,s){super(t),this.line=e,this.point=i,this.mode=s}},P.d.StiConstantLinesYGeom=class extends P.d.StiCellGeom{draw(s){let e=this.clientRectangle.clone(),t=new A(this.line.lineColor,this.line.lineWidth);if(t.penStyle=this.line.lineStyle,s.drawLine(t,e.left,e.top,e.left+e.width,e.top),this.line.titleVisible){let e=new V(this.line.lineColor),t=N.changeFontSize(this.line.font,this.line.font.size*s.options.zoom),i=s.getGenericStringFormat();s.drawRotatedString9(this.line.text,t,e,this.point,i,this.mode,0,this.line.antialiasing,0)}}constructor(e,t,i,s){super(t),this.line=e,this.point=i,this.mode=s}},P.d.StiLegendGeom=class extends P.d.StiCellGeom{dispose(){super.dispose(),this.seriesItems[D.System.StiObject.stimulsoft]().clear(),this.seriesItems=null}draw(t){if(!this.legend.visible||0==this.seriesItems.length)return;let i=this.clientRectangle.clone();if(null!=this.legendTitleGeom&&(i.y+=this.legendTitleGeom.clientRectangle.height,i.height-=this.legendTitleGeom.clientRectangle.height),0<i.width&&0<i.height){if(this.legend.showShadow)if(this.legend.chart.isAnimation){let e=new H(new I(0),new I(0));t.drawShadowRect(i,6,null,e)}else t.drawCachedShadow(i,si.All,t.options.isPrinting);t.fillRectangle2(this.legend.brush,i.x,i.y,i.width,i.height,null);let e=new A(this.legend.borderColor);t.drawRectangle2(e,i.x,i.y,i.width,i.height)}}constructor(e,t,i){super(t),this.legend=e,this.seriesItems=i}},P.d.StiLegendItemGeom=class extends P.d.StiCellGeom{draw(i){let s=this.clientRectangle.clone();if(this.legend.markerVisible){let e=new E(this.clientRectangle.x,this.clientRectangle.y+(this.clientRectangle.height-this.legend.markerSize.height*i.options.zoom)/2,this.legend.markerSize.width*i.options.zoom,this.legend.markerSize.height*i.options.zoom),t=(this.legend.markerAlignment==P.d.StiMarkerAlignment.Right&&(e.x=this.clientRectangle.right-e.width),P.d.StiMarkerLegendFactory.createMarker(this.item.series));t.draw(i,this.item.series,e,this.colorIndex,this.legendItemsCount,this.legendItemIndex),this.legend.markerAlignment==P.d.StiMarkerAlignment.Left&&(s.x+=this.legend.markerSize.width*i.options.zoom),s.width-=this.legend.markerSize.width*i.options.zoom}this.legend.markerAlignment!=P.d.StiMarkerAlignment.Right&&(s.x+=2),s.width+=4;let e=new V(this.legend.labelsColor),t=N.changeFontSize(this.legend.font,this.legend.font.size*i.options.zoom),r=i.getDefaultStringFormat();r.alignment=X.Near,r.lineAlignment=X.Center,r.formatFlags=0,this.legend.markerAlignment==P.d.StiMarkerAlignment.Right&&(r.formatFlags=Lt.NoWrap),i.drawRotatedString6(this.item.getText(i,t),t,e,s,r,j.LeftTop,0,!0,0,!1)}constructor(e,t,i,s,r,n){super(i),this.legend=e,this.item=t,this.colorIndex=s,this.legendItemsCount=r,this.legendItemIndex=n}},P.d.StiLegendTitleGeom=class extends P.d.StiCellGeom{draw(e){let t=new V(this.legend.titleColor),i=N.changeFontSize(this.legend.titleFont,this.legend.titleFont.size*e.options.zoom),s=e.getDefaultStringFormat();s.alignment=X.Center,s.lineAlignment=X.Center,s.formatFlags=0,e.drawRotatedString5(this.legend.title,i,t,this.clientRectangle,s,j.CenterCenter,0,!0)}constructor(e,t){super(t),this.legend=e}},P.d.StiHeatmapLegendGeom=class extends P.d.StiCellGeom{draw(e){if(!this.legend.visible)return}constructor(e,t){super(t),this.legend=e}},P.d.StiHeatmapLegendItemGeom=class extends P.d.StiCellGeom{draw(e){let t=this.legend.markerSize.width*e.options.zoom,i=new E(this.clientRectangle.x,this.clientRectangle.y,t,this.clientRectangle.height),s=new E(i.right,this.clientRectangle.y,this.clientRectangle.width-i.width,this.clientRectangle.height),r=(s.x+=2,s.width+=4,new V(this.legend.labelsColor)),n=N.changeFontSize(this.legend.font,this.legend.font.size*e.options.zoom),l=e.getDefaultStringFormat(),o=new Dt(i.right,i.top),a=new Dt(i.right,i.bottom);null!=this.startItemCore&&e.drawRotatedString9(this.startItemCore.getText(e,n),n,r,o,l,j.LeftCenter,0,!0,0),null!=this.endItemCore&&e.drawRotatedString9(this.endItemCore.getText(e,n),n,r,a,l,j.LeftCenter,0,!0,0)}constructor(e,t,i,s){super(t),this.legend=e,this.startItemCore=i,this.endItemCore=s}},P.d.StiHeatmapLegendMarkerGeom=class extends P.d.StiCellGeom{draw(e){this.drawMarker(e)}drawMarker(e){let t=this.legend.markerSize.width*e.options.zoom,i=P.d.StiHeatmapHelper.getLinearGradientPoints(this.colors.length),s=new ei(this.colors,i,90);e.fillRectangle2(s,this.clientRectangle.x,this.clientRectangle.y,t,this.clientRectangle.height,null)}constructor(e,t,i){super(i),this.legend=e,this.colors=t}};{class Gs{implements(){return Gs.implementsStiLegendAreaMarker||(Gs.implementsStiLegendAreaMarker=[P.d.IStiLegendMarker]),Gs.implementsStiLegendAreaMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiAreaSeries),o=l.lineColor,a=l.brush,h=P.d.StiLegendMarkerHelper.getAreaMarkerPath(i),u=new A(o),d=(e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),P.d.StiLegendMarkerHelper.getAreaMarkerLinePoints(i));e.drawLines(u,d),e.popSmoothingMode()}}P.d.StiLegendAreaMarker=Gs}{class Vs{implements(){return Vs.implementsStiLegendCandelstickMarker||(Vs.implementsStiLegendCandelstickMarker=[P.d.IStiLegendMarker]),Vs.implementsStiLegendCandelstickMarker}draw(e,t,i,s,r,n){let l=t,o=l.brush,a=l.borderColor,h=new A(a),u=(e.pushSmoothingModeToAntiAlias(),new M(i.left+i.width/4,i.top+i.height/4)),d=i.width/2,c=i.height/2;e.fillRectangle2(o,u.x,u.y,d,c,null),e.drawRectangle2(h,u.x,u.y,d,c),e.drawLine(h,i.x+i.width/2,i.y,i.x+i.width/2,i.top+i.height/4),e.drawLine(h,i.x+i.width/2,i.bottom,i.x+i.width/2,i.bottom-i.height/4),e.popSmoothingMode()}}P.d.StiLegendCandelstickMarker=Vs}{class Es{implements(){return Es.implementsStiLegendColumnMarker||(Es.implementsStiLegendColumnMarker=[P.d.IStiLegendMarker]),Es.implementsStiLegendColumnMarker}draw(e,t,i,s,r,n){let l=t.legendColor,o=null!=l?new V(l):t.core.getSeriesBrush(s,r),a=new A(t.core.getSeriesBorderColor(s,r));null!=t.chart&&null!=t.chart.style&&t.chart.style.core.fillColumn(e,i,o,null),e.drawRectangle2(a,i.x,i.y,i.width,i.height)}}P.d.StiLegendColumnMarker=Es}{class Xs{implements(){return Xs.implementsStiLegendDoughnutMarker||(Xs.implementsStiLegendDoughnutMarker=[P.d.IStiLegendMarker]),Xs.implementsStiLegendDoughnutMarker}draw(e,t,i,s,r,n){let l=t,o=l.brush,a=(l.allowApplyBrush&&(o=l.core.getSeriesBrush(s,r),o=l.processSeriesBrushes(n,o)),l.borderColor),h=(l.allowApplyBorderColor&&(a=l.core.getSeriesBorderColor(s,r)),[]),u=new A(a);e.pushSmoothingModeToAntiAlias(),h.push(new Mt(new E(i.x-i.width,i.y,2*i.width,2*i.height),270,90)),h.push(new L(i.right,i.bottom,i.x+i.width/2,i.bottom)),h.push(new Mt(new E(i.x-i.width/2,i.bottom-i.height/2,i.width,i.height),360,-90)),h.push(new L(i.x,i.y+i.height/2,i.x,i.y)),e.fillPath(o,h,i,null),e.drawPath(u,h,i),e.popSmoothingMode()}}P.d.StiLegendDoughnutMarker=Xs}let ri=P.d.IStiFontIconsSeries;P.d.StiLegendFontIconMarker=class{draw(r,n,l,o,a,e){try{let e=n.as(ri),t=e.icon,i=n.legendColor,s=null!=i?new V(i):n.core.getSeriesBrush(o,a);P.a.StiFontIconsHelper.drawDirectionIcons(r,s,l,new Gt(l.height,l.height),t,null,null,!0)}catch(e){}}};{class Ns{implements(){return Ns.implementsStiLegendFunnelMarker||(Ns.implementsStiLegendFunnelMarker=[P.d.IStiLegendMarker]),Ns.implementsStiLegendFunnelMarker}draw(e,t,i,s,r,n){let l=t,o=l.brush,a=(l.allowApplyBrush&&(o=l.core.getSeriesBrush(s,r),o=l.processSeriesBrushes(s,o)),l.borderColor),h=(l.allowApplyBorderColor&&(a=l.core.getSeriesBorderColor(s,r)),[]),u=new A(a),d=(e.pushSmoothingModeToAntiAlias(),[new M(i.x,i.y),new M(i.right,i.y),new M(i.x+3*i.width/4,i.top+i.height/2),new M(i.x+3*i.width/4,i.bottom),new M(i.x+1*i.width/4,i.bottom),new M(i.x+1*i.width/4,i.top+i.height/2)]);h.push(new Pt(d)),h.push(new _t),e.fillPath(o,h,i,null),e.drawPath(u,h,null),e.popSmoothingMode()}}P.d.StiLegendFunnelMarker=Ns}{class js{implements(){return js.implementsStiLegendLineMarker||(js.implementsStiLegendLineMarker=[P.d.IStiLegendMarker]),js.implementsStiLegendLineMarker}draw(t,e,i,s,r,n){let l=B.transparent,o=!1,a=!1,h=null,u=e[D.System.StiObject.stimulsoft]().as(P.d.IStiRadarSeries),d=(null!=u&&(l=ct.toColor(u.marker.brush),h=u.marker.icon,a=!0),e[D.System.StiObject.stimulsoft]().as(P.d.IStiRadarLineSeries)),c=(null!=d&&(l=d.lineColor,a=d.marker.visible,h=d.marker.icon,o=!0),e[D.System.StiObject.stimulsoft]().as(P.d.IStiBaseLineSeries)),S=(null!=c&&(l=c.lineColor,a=c.marker.visible,h=c.marker.icon,o=!0),e[D.System.StiObject.stimulsoft]().as(P.d.IStiStackedBaseLineSeries)),m=(null!=S&&(l=S.lineColor,a=S.marker.visible,h=S.marker.icon,o=!0),e[D.System.StiObject.stimulsoft]().as(P.d.IStiScatterSeries)),g=(null!=m&&(l=ct.toColor(m.marker.brush),h=m.marker.icon,a=!0,o=!1),e[D.System.StiObject.stimulsoft]().as(P.d.IStiScatterLineSeries)),p=(null!=g&&(l=g.lineColor,a=g.marker.visible,h=g.marker.icon,o=!0),e[D.System.StiObject.stimulsoft]().as(P.d.IStiBubbleSeries));if(null!=p){let e=p.brush;p.allowApplyStyle&&(e=p.core.getSeriesBrush(s,r),e=p.processSeriesBrushes(s,e)),l=ct.toColor(e),a=!0,o=!1}if(null!=h)P.a.StiFontIconsHelper.drawDirectionIcons(t,new V(l),i,new Gt(i.height,i.height),h,null,null,!1);else{if(o){let e=new A(l);t.drawRectangle(e,i),t.drawLine(e,i.x,i.y+i.height/2,i.right,i.y+i.height/2)}a&&(o&&(i=new _(i.x+i.width/4,i.y+i.height/4,i.width/2,i.height/2)),t.pushSmoothingModeToAntiAlias(),t.fillEllipse2(new V(l),i,null),t.popSmoothingMode())}}}P.d.StiLegendLineMarker=js}let ni=D.Base.Context.StiCurveSegmentGeom;{class _s{static getSteppedMarkerPath(e){let t=[];return t.push(new L(e.x,e.y,e.x+e.width,e.y)),t.push(new L(e.x+e.width,e.y,e.x+e.width,e.y+e.height)),t.push(new L(e.x+e.width,e.y+e.height,e.x,e.y+e.height)),t.push(new L(e.x,e.y+e.height,e.x,e.y)),t}static getAreaMarkerPath(e){let t=e.width/5,i=e.height/5,s=[];return s.push(new L(e.x,e.y+3.5*i,e.x,e.y+3.5*i)),s.push(new L(e.x,e.y+3.5*i,e.x+2*t,e.y+.5*i)),s.push(new L(e.x+2*t,e.y+.5*i,e.x+4*t,e.y+2.5*i)),s.push(new L(e.x+4*t,e.y+2.5*i,e.x+5*t,e.y+1.5*i)),s.push(new L(e.x+5*t,e.y+1.5*i,e.x+5*t,e.y+5*i)),s.push(new L(e.x+5*t,e.y+5*i,e.x,e.y+5*i)),s.push(new L(e.x,e.y+5*i,e.x,e.y+3*i)),s}static getAreaMarkerLinePoints(e){let t=e.width/5,i=e.height/5,s=[];return s.push(new M(e.x,e.y+3.5*i)),s.push(new M(e.x+2*t,e.y+.5*i)),s.push(new M(e.x+4*t,e.y+2.5*i)),s.push(new M(e.x+5*t,e.y+1.5*i)),s}static getSplineAreaMarkerPath(e){let t=e.width/5,i=e.height/5,s=[],r=(s.push(new L(e.x,e.y+5*i,e.x,e.y+3.5*i)),_s.getSplineAreaMarkerLinePoints(e));return s.push(new ni(r,.55)),s.push(new L(e.x+5*t,e.y+1.5*i,e.x+5*t,e.y+5*i)),s.push(new L(e.x+5*t,e.y+5*i,e.x,e.y+5*i)),s}static getSplineAreaMarkerLinePoints(e){let t=e.width/5,i=e.height/5,s=[];return s.push(new M(e.x,e.y+3.5*i)),s.push(new M(e.x+2*t,e.y+.5*i)),s.push(new M(e.x+4*t,e.y+2.5*i)),s.push(new M(e.x+5*t,e.y+1.5*i)),s}}P.d.StiLegendMarkerHelper=_s}{class Hs{implements(){return Hs.implementsStiLegendPictorialMarker||(Hs.implementsStiLegendPictorialMarker=[P.d.IStiLegendMarker]),Hs.implementsStiLegendPictorialMarker}draw(e,t,i,s,r,n){let l=t.core.getSeriesBrush(s,r);e.pushSmoothingModeToAntiAlias(),e.fillEllipse2(l,i,null),e.popSmoothingMode()}}P.d.StiLegendPictorialMarker=Hs}{class zs{implements(){return zs.implementsStiLegendPieMarker||(zs.implementsStiLegendPieMarker=[P.d.IStiLegendMarker]),zs.implementsStiLegendPieMarker}draw(e,t,i,s,r,n){let l=t,o=l.brush,a=(l.allowApplyBrush&&(o=l.core.getSeriesBrush(s,r),o=l.processSeriesBrushes(s,o)),l.borderColor),h=(l.allowApplyBorderColor&&(a=t.core.getSeriesBorderColor(s,r)),[]),u=new A(a);e.pushSmoothingModeToAntiAlias(),h.push(new Mt(new E(i.x-i.width,i.y,2*i.width,2*i.height),270,90)),h.push(new L(i.right,i.bottom,i.x,i.bottom)),h.push(new L(i.x,i.bottom,i.x,i.y)),e.fillPath(o,h,i,null),e.drawPath(u,h,null),e.popSmoothingMode()}}P.d.StiLegendPieMarker=zs}{class Ys{implements(){return Ys.implementsStiLegendRangeMarker||(Ys.implementsStiLegendRangeMarker=[P.d.IStiLegendMarker]),Ys.implementsStiLegendRangeMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiRangeSeries),o=l.lineColor,a=l.brush,h=[],u=i.width/5,d=i.height/5,c=(h.push(new L(i.x,i.y+3*d,i.x,i.y+3*d)),h.push(new L(i.x,i.y+3*d,i.x+2*u,i.y)),h.push(new L(i.x+2*u,i.y,i.x+4*u,i.y+2*d)),h.push(new L(i.x+4*u,i.y+2*d,i.x+5*u,i.y+1*d)),h.push(new L(i.x+5*u,i.y+1*d,i.x+5*u,i.y+3*d)),h.push(new L(i.x+5*u,i.y+3*d,i.x+4*u,i.y+4*d)),h.push(new L(i.x+4*u,i.y+4*d,i.x+2*u,i.y+3*d)),h.push(new L(i.x+2*u,i.y+3*d,i.x,i.y+5*d)),h.push(new L(i.x,i.y+5*d,i.x,i.y+3*d)),new A(o));e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),e.drawPath(c,h,i),e.popSmoothingMode()}}P.d.StiLegendRangeMarker=Ys}{class Ws{implements(){return Ws.implementsStiLegendSplineAreaMarker||(Ws.implementsStiLegendSplineAreaMarker=[P.d.IStiLegendMarker]),Ws.implementsStiLegendSplineAreaMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiSplineAreaSeries),o=l.lineColor,a=l.brush,h=P.d.StiLegendMarkerHelper.getSplineAreaMarkerPath(i),u=new A(o),d=P.d.StiLegendMarkerHelper.getSplineAreaMarkerLinePoints(i);e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),e.drawLines(u,d),e.popSmoothingMode()}}P.d.StiLegendSplineAreaMarker=Ws}{class Js{implements(){return Js.implementsStiLegendSplineRangeMarker||(Js.implementsStiLegendSplineRangeMarker=[P.d.IStiLegendMarker]),Js.implementsStiLegendSplineRangeMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiSplineRangeSeries),o=l.lineColor,a=l.brush,h=[],u=i.width/5,d=i.height/5,c=(h.push(new L(i.x,i.y+5*d,i.x,i.y+3*d)),[]),S=(c.push(new M(i.x,i.y+3*d)),c.push(new M(i.x+2*u,i.y)),c.push(new M(i.x+4*u,i.y+2*d)),c.push(new M(i.x+5*u,i.y+1*d)),h.push(new ni(c,l.tension)),h.push(new L(i.x+5*u,i.y+1*d,i.x+5*u,i.y+3*d)),[]),m=(S.push(new M(i.x+5*u,i.y+3*d)),S.push(new M(i.x+4*u,i.y+4*d)),S.push(new M(i.x+2*u,i.y+4*d)),S.push(new M(i.x,i.y+5*d)),h.push(new ni(S,l.tension)),new A(o));e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),e.drawCurve(m,c,l.tension),e.drawCurve(m,S,l.tension),e.popSmoothingMode()}}P.d.StiLegendSplineRangeMarker=Js}{class Zs{implements(){return Zs.implementsStiLegendStackedAreaMarker||(Zs.implementsStiLegendStackedAreaMarker=[P.d.IStiLegendMarker]),Zs.implementsStiLegendStackedAreaMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiStackedAreaSeries),o=l.lineColor,a=l.brush,h=P.d.StiLegendMarkerHelper.getAreaMarkerPath(i),u=new A(o),d=(e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),P.d.StiLegendMarkerHelper.getAreaMarkerLinePoints(i));e.drawLines(u,d),e.popSmoothingMode()}}P.d.StiLegendStackedAreaMarker=Zs}{class qs{implements(){return qs.implementsStiLegendStackedSplineAreaMarker||(qs.implementsStiLegendStackedSplineAreaMarker=[P.d.IStiLegendMarker]),qs.implementsStiLegendStackedSplineAreaMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiStackedSplineAreaSeries),o=l.lineColor,a=l.brush,h=P.d.StiLegendMarkerHelper.getSplineAreaMarkerPath(i),u=new A(o),d=P.d.StiLegendMarkerHelper.getSplineAreaMarkerLinePoints(i);e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),e.drawLines(u,d),e.popSmoothingMode()}}P.d.StiLegendStackedSplineAreaMarker=qs}{class $s{implements(){return $s.implementsStiLegendSteppedAreaMarker||($s.implementsStiLegendSteppedAreaMarker=[P.d.IStiLegendMarker]),$s.implementsStiLegendSteppedAreaMarker}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiSteppedAreaSeries),o=l.lineColor,a=l.brush,h=P.d.StiLegendMarkerHelper.getSteppedMarkerPath(i),u=new A(o);e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),e.drawPath(u,h,i),e.popSmoothingMode()}}P.d.StiLegendSteppedAreaMarker=$s}{class Ks{implements(){return Ks.implementsStiSteppedRangeSeries||(Ks.implementsStiSteppedRangeSeries=[P.d.IStiLegendMarker]),Ks.implementsStiSteppedRangeSeries}draw(e,t,i,s,r,n){let l=t[D.System.StiObject.stimulsoft]().as(P.d.StiSteppedRangeSeries),o=l.lineColor,a=l.brush,h=P.d.StiLegendMarkerHelper.getSteppedMarkerPath(i),u=new A(o);e.pushSmoothingModeToAntiAlias(),e.fillPath(a,h,i,null),e.drawPath(u,h,i),e.popSmoothingMode()}}P.d.StiLegendSteppedRangeMarker=Ks}{class Qs{implements(){return Qs.implementsStiLegendStockMarker||(Qs.implementsStiLegendStockMarker=[P.d.IStiLegendMarker]),Qs.implementsStiLegendStockMarker}draw(e,t,i,s,r,n){let l=t,o=l.lineColor,a=new A(o);e.pushSmoothingModeToAntiAlias(),e.drawLine(a,i.left+i.width/4,i.top+i.height/4,i.left+i.width/2,i.top+i.height/4),e.drawLine(a,i.left+i.width/2,i.top,i.left+i.width/2,i.bottom),e.drawLine(a,i.left+i.width/2,i.bottom-i.height/4,i.right-i.width/4,i.bottom-i.height/4),e.popSmoothingMode()}}P.d.StiLegendStockMarker=Qs}P.d.StiMarkerLegendFactory=class{static createMarker(e){if(e.is(P.d.IStiFontIconsSeries)&&null!=e.icon)return new P.d.StiLegendFontIconMarker;if(e.is(P.d.IStiDoughnutSeries))return new P.d.StiLegendDoughnutMarker;if(e.is(P.d.IStiPieSeries))return new P.d.StiLegendPieMarker;if(e.is(P.d.StiAreaSeries))return new P.d.StiLegendAreaMarker;if(e.is(P.d.StiStackedAreaSeries))return new P.d.StiLegendStackedAreaMarker;if(e.is(P.d.StiSplineAreaSeries))return new P.d.StiLegendSplineAreaMarker;if(e.is(P.d.StiStackedSplineAreaSeries))return new P.d.StiLegendStackedSplineAreaMarker;if(e.is(P.d.StiSteppedAreaSeries))return new P.d.StiLegendSteppedAreaMarker;if(e.is(P.d.StiRangeSeries))return new P.d.StiLegendRangeMarker;if(e.is(P.d.StiSplineRangeSeries))return new P.d.StiLegendSplineRangeMarker;if(e.is(P.d.StiSteppedRangeSeries))return new P.d.StiLegendSteppedRangeMarker;if(e.is(P.d.IStiBaseLineSeries)||e.is(P.d.IStiStackedBaseLineSeries)||e.is(P.d.IStiRadarSeries))return new P.d.StiLegendLineMarker;if(e.is(P.d.IStiFunnelSeries))return new P.d.StiLegendFunnelMarker;if(e.is(P.d.IStiStockSeries))return new P.d.StiLegendStockMarker;if(e.is(P.d.IStiCandlestickSeries))return new P.d.StiLegendCandelstickMarker;if(e.is(P.d.IStiPictorialSeries))return new P.d.StiLegendPictorialMarker;if(e.is(P.d.IStiClusteredColumnSeries3D))return new P.d.StiLegendColumnMarker3D;if(e.is(P.d.IStiLineSeries3D))return new P.d.StiLegendLineMarker3D;return new P.d.StiLegendColumnMarker}};let li=D.Base.Context.StiInteractionDataGeom;{class Us extends P.d.StiCellGeom{implements(){return Us.implementsStiMarkerGeom||(Us.implementsStiMarkerGeom=super.implements().concat([se])),Us.implementsStiMarkerGeom}getValueIndex(){let e=this.index;return this.series.is(P.d.IStiClusteredBarSeries)||this.series.is(P.d.IStiStackedBarSeries)||this.series.is(P.d.IStiFullStackedBarSeries)?this.series.chart.area.is(P.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(P.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getHyperlink(){return this.getHyperlink2(this.getValueIndex())}getHyperlink2(e){return null!=this.series.hyperlinks&&e<this.series.hyperlinks.length?this.series.hyperlinks[e]:null}getToolTip(){return this.getToolTip2(this.getValueIndex())}getToolTip2(e){let t=null;if(null!=this.series.toolTips&&e<this.series.toolTips.length&&(t=this.series.toolTips[e]),!k.isNullOrEmpty(t)&&t[D.System.StiObject.stimulsoft]().contains('"StiColor":"#ffffff"')){let e=ct.toColor(this.series.processSeriesBrushes(this.index,this.marker.brush));t=t.replace('"StiColor":"#ffffff"',k.format('"StiColor":"{0}"',D.System.Drawing.ColorTranslator.toHtml2(e,!1)))}return t}contains(e,t){if(this.invisible)return!1;return this.getMouseOverRect().contains(e,t)}getMouseOverRect(){let e=this.clientRectangle.clone();return e.inflate(e.width/2,e.height/2),e}draw(e){e.pushSmoothingModeToAntiAlias();let t=e.options.zoom,i=this.series.chart,s=this.marker.clone(),r=this.series.processSeriesMarkerVisible(this.index)||this.marker.visible,n=(this.isTooltipMode&&!r||(s.brush=this.series.processSeriesBrushes(this.index,this.marker.brush),s.angle=this.series.processSeriesMarkerAngle(this.index,this.marker.angle),s.type=this.series.processSeriesMarkerType(this.index,this.marker.type),s.visible=r),this.isTooltipMode&&!r&&(s.brush=null,s.borderColor=B.transparent),null);i.isAnimation&&((n=new li).componentName=i.name,n.componentIndex=i.page.components.indexOf(i).toString(),n.pageGuid=this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownEnabled?this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownPageGuid:"",n.pageIndex=i.page.report.renderedPages.indexOf(i.page).toString(),n.elementIndex=this.elementIndex.toString(),n.interactionData=this.interaction),this.marker.core.draw(e,s,this.point,t,this.showShadow,!1,this.isTooltipMode,i.isAnimation,this.getToolTip(),this,n),e.popSmoothingMode()}constructor(e,t,i,s,r,n,l,o){super(P.d.StiMarkerCoreXF.getMarkerRect(s,r.size,l)),this.showShadow=!1,this.isTooltipMode=!1,this.series=e,this.index=t,this.value=i,this.point=s,this.marker=r,this.showShadow=n,this.isTooltipMode=o}}P.d.StiMarkerGeom=Us}P.d.StiRadarAxisGeom=class extends P.d.StiCellGeom{drawAxisLine(e,t){let i=t.right,s=new A(this.axis.lineColor,this.axis.lineWidth);s.penStyle=this.axis.lineStyle,e.drawLine(s,i,t.y,i,t.bottom)}drawMinorTicks(s,r,n,l,e,t){let i=e-l,o=i/(t.minorCount+1),a=t.minorLength*s.options.zoom;for(let i=1;i<=t.minorCount;i++){let e=l+o*i,t=n-a;s.drawLine(r,n,e,t,e)}}drawTicks(i,e,s,r){if(!s.visible)return;let t=s.length*i.options.zoom,n=e.right,l=n-t,o=0;for(let e of this.axis.info.ticksCollection){let t=e.position;if(i.drawLine(r,n,t,l,t),s.minorVisible&&o!=this.axis.info.ticksCollection.length-1){let e=this.axis.info.ticksCollection[o+1].position;this.drawMinorTicks(i,r,n,t,e,s)}o++}}drawAxis(e,t){let i=new A(this.axis.lineColor,this.axis.lineWidth);i.penStyle=this.axis.lineStyle,this.drawTicks(e,t,this.axis.area.yAxis.ticks,i),this.drawAxisLine(e,t)}draw(e){let t=this.clientRectangle.clone();if(t.width<=0||t.height<=0)return;this.drawAxis(e,t)}constructor(e,t){super(t),this.axis=e}},P.d.StiXRadarAxisLabelGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle.clone(),i=new A(this.borderColor),s=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom),r=e.getGenericStringFormat(),n=(r.trimming=At.None,this.axis.labels.wordWrap||(r.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap),this.axis.labels.antialiasing&&e.pushSmoothingModeToAntiAlias(),O.round2(this.labelRect.x+this.labelRect.width/2,0)),l=O.round2(this.labelRect.y+this.labelRect.height/2,0),o=(e.pushTranslateTransform(n,l),e.pushRotateTransform(this.angle),t.isEmpty||(e.fillRectangle(this.axis.labels.brush,t,null),this.axis.labels.drawBorder&&e.drawRectangle2(i,t.x,t.y,t.width,t.height)),e.popTransform(),e.popTransform(),this.axis.labels.antialiasing&&e.popSmoothingMode(),j.CenterBottom),a=this.angle;90<=this.angle&&this.angle<=270&&(a=this.angle+180,o=j.CenterTop),this.axis.labels.rotationLabels||(0<this.angle&&this.angle<180?o=j.LeftCenter:this.angle<360&&180<this.angle?o=j.RightCenter:0==this.angle?o=j.CenterBottom:180==this.angle&&(o=j.CenterTop),a=0),e.drawRotatedString9(this.text,s,this.labelBrush,this.point,r,o,a,this.axis.labels.antialiasing,O.trunc(this.axis.labels.width*e.options.zoom))}constructor(e,t,i,s,r,n,l,o){super(n),this.axis=e,this.labelRect=l,this.text=t,this.angle=r,this.point=o,this.labelBrush=i,this.borderColor=s}},P.d.StiYRadarAxisLabelGeom=class extends P.d.StiCellGeom{draw(e){let t=this.axis.yCore.getStringFormatGeom(e),i=this.axis.yCore.getFontGeom(e),s=new V(this.axis.labels.color);e.drawRotatedString9(this.text,i,s,this.textPoint,t,this.rotationMode,this.angle,this.axis.labels.antialiasing,O.trunc(this.axis.labels.width*e.options.zoom))}constructor(e,t,i,s,r,n,l){super(t),this.axis=e,this.text=s,this.stripLine=r,this.textPoint=i,this.angle=n,this.rotationMode=l}};{class er{static getMouseOverColor(){return B.fromArgb3(100,B.white)}static getLineMouseOverColor(){return B.fromArgb3(100,B.red)}}er.mouseOverLineDistance=8,er.mouseOverSplineDistance=15,P.d.StiMouseOverHelper=er}let oi=D.Base.Drawing.StiCornerRadiusHelper,ai=P.d.IStiSeriesBorderThickness;{class tr extends P.d.StiCellGeom{implements(){return tr.implementsStiSeriesElementGeom||(tr.implementsStiSeriesElementGeom=super.implements().concat([se])),tr.implementsStiSeriesElementGeom}getValueIndex(){let e=this.index;return this.series.is(P.d.IStiClusteredBarSeries)||this.series.is(P.d.IStiStackedBarSeries)||this.series.is(P.d.IStiFullStackedBarSeries)?this.series.chart.area.is(P.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(P.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getHyperlink(){return this.getHyperlink2(this.getValueIndex())}getHyperlink2(e){return null!=this.series.hyperlinks&&e<this.series.hyperlinks.length?this.series.hyperlinks[e]:null}getToolTip(){if(this.series.chart.isDesigning)return null;let e=this.getValueIndex();return this.getToolTip2(e)}getToolTip2(e){let i=null;if(null!=this.series.toolTips&&e<this.series.toolTips.length&&(i=this.series.toolTips[e]),!k.isNullOrEmpty(i)&&i[D.System.StiObject.stimulsoft]().contains('"StiColor":"#ffffff"')){let t=this.seriesBrush||(null!=this.series?this.series["brush"]:null);if(null!=t){let e=D.Base.Drawing.StiBrush.toColor(t);i=i.replace('"StiColor":"#ffffff"',k.format('"StiColor":"{0}"',D.System.Drawing.ColorTranslator.toHtml2(e,!1)))}}return i}get interaction(){return this._interaction}set interaction(e){this._interaction=e}draw(e){}getInteractionData(){let e=this.series.chart;if(e.isDesigning)return null;let t=new li;return t.componentName=e.name,t.componentIndex=null!=e.page?e.page.components.indexOf(e).toString():"",t.pageGuid=this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownEnabled?this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownPageGuid:"",t.pageIndex=null!=e.page?e.page.report.renderedPages.indexOf(e.page).toString():"",t.elementIndex=this.elementIndex.toString(),t.interactionData=this.interaction,t}getSeriesBorderThickness(e){let t=this.series.as(ai);if(null!=t)return t.borderThickness;return 1}getCornerRadius(){let t=this.series.as(ke);if(null!=t&&null!=t.cornerRadius&&!t.cornerRadius.isEmpty){let e=t.cornerRadius.clone();return 0<=this.value?e:oi.flipVertical(e)}return new Be}constructor(e,t,i,s,r,n){super(r),this.seriesBrush=n,this.areaGeom=e,this.series=s,this.value=t,this.index=i}}P.d.StiSeriesElementGeom=tr}P.d.StiSeriesGeom=class extends P.d.StiCellGeom{draw(e){}constructor(e,t,i){super(i),this.areaGeom=e,this.series=t}},P.d.StiBoxAndWhiskerSeriesElementGeom=class extends P.d.StiCellGeom{draw(s){let e=this.series.chart,t=this.areaGeom.area,r=new A(this.borderColor,this.getSeriesBorderThickness(s.options.zoom)),i=t.xAxis.info.dpi/2,n=i/3,l=n/6;if(s.pushSmoothingModeToAntiAlias(),e.isAnimation){let t=new H(P.d.StiChartHelper.globalBeginTimeElement,this.beginTime);if(s.drawAnimationLines(r,[new Et(this.positionX-n/2,this.maximum),new Et(this.positionX+n/2,this.maximum)],t),s.drawAnimationLines(r,[new Et(this.positionX-n/2,this.minimum),new Et(this.positionX+n/2,this.minimum)],t),s.drawAnimationLines(r,[new Et(this.positionX,this.maximum),new Et(this.positionX,this.thirdQuartile)],t),s.drawAnimationLines(r,[new Et(this.positionX,this.firstQuartile),new Et(this.positionX,this.minimum)],t),s.drawAnimationRectangle(this.brush,r,new _(this.positionX-i/2,this.thirdQuartile,i,this.firstQuartile-this.thirdQuartile),null,t,null,null),s.drawAnimationLines(r,[new Et(this.positionX-i/2,this.median),new Et(this.positionX+i/2,this.median)],t),null!=this.values){let i=1;for(let t of this.values){let e=new H(P.d.StiChartHelper.globalBeginTimeElement,new I(this.beginTime.ticks+P.d.StiChartHelper.globalBeginTimeElement.ticks/this.values.length*i));s.fillDrawAnimationEllipse(null,r,this.positionX-l/2,t-l/2,l,l,null,null,e,null),i++}}if(null!=this.mean){let e=this.mean;s.drawAnimationLines(r,[new Et(this.positionX-l,e-l),new Et(this.positionX+l,e+l)],t),s.drawAnimationLines(r,[new Et(this.positionX+l,e-l),new Et(this.positionX-l,e+l)],t)}}else{if(s.drawLine(r,this.positionX-n/2,this.maximum,this.positionX+n/2,this.maximum),s.drawLine(r,this.positionX-n/2,this.minimum,this.positionX+n/2,this.minimum),s.drawLine(r,this.positionX,this.maximum,this.positionX,this.thirdQuartile),s.drawLine(r,this.positionX,this.firstQuartile,this.positionX,this.minimum),s.fillRectangle2(this.brush,this.positionX-i/2,this.thirdQuartile,i,this.firstQuartile-this.thirdQuartile,null),s.drawRectangle2(r,this.positionX-i/2,this.thirdQuartile,i,this.firstQuartile-this.thirdQuartile),s.drawLine(r,this.positionX-i/2,this.median,this.positionX+i/2,this.median),null!=this.values)for(let e of this.values)s.drawEllipse2(r,new _(this.positionX-l/2,e-l/2,l,l));if(null!=this.mean){let e=this.mean;s.drawLine(r,this.positionX-l,e-l,this.positionX+l,e+l),s.drawLine(r,this.positionX+l,e-l,this.positionX-l,e+l)}}s.popSmoothingMode()}getSeriesBorderThickness(e){let t=this.series.as(ai);if(null!=t)return t.borderThickness*e;return 1}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S){super(u),this.series=t,this.areaGeom=e,this.positionX=i,this.minimum=s,this.maximum=r,this.firstQuartile=n,this.thirdQuartile=l,this.median=o,this.mean=h,this.values=a,this.brush=d,this.borderColor=c,this.beginTime=S}},P.d.StiBubbleSeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;let i=new M(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),s=Math.abs(i.x-e),r=Math.abs(i.y-t),n=Math.sqrt(s*s+r*r);return n<=this.clientRectangle.width/2}draw(s){let r=this.clientRectangle.clone(),t=new A(this.seriesBorderColor,this.getSeriesBorderThickness(s.options.zoom)),e=this.series.chart,i=this.series.processSeriesBrushes(this.index,this.seriesBrush),n=this.series.as(P.d.IStiFontIconsSeries);if(null!=n&&null!=n.icon)return void P.a.StiFontIconsHelper.drawDirectionIcons(s,i,r,new Yt(r.height,r.height),n.icon,this.getToolTip(),this.getInteractionData(),!1);if(e.isAnimation){let e=new Rt(0,0,0,0,0,0,P.d.StiChartHelper.globalDurationElement,this.beginTime);s.fillDrawAnimationEllipse(i,t,r.x,r.y,r.width,r.height,this.getToolTip(),this,e,this.getInteractionData())}else{if(this.series.showShadow){let e=new V(B.fromArgb3(100,B.black)),t=s.createShadowGraphics(),i=r.clone();i.x=0,i.y=0,i.x+=4*s.options.zoom,i.y+=4*s.options.zoom,t.fillEllipse2(e,i,this.getInteractionData()),s.drawShadow(t,r,0)}s.fillEllipse2(i,r,this.getInteractionData()),s.pushSmoothingModeToAntiAlias(),s.drawEllipse2(t,r),s.popSmoothingMode()}}constructor(e,t,i,s,r,n,l,o){super(e,t,i,n,l,s),this.seriesBrush=s,this.seriesBorderColor=r,this.beginTime=o}};let hi=P.a.Painters.StiContextRoundedRectangleCreator,ui=D.Base.Context.Animation.StiColumnAnimation,di=(P.d.StiClusteredBarSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(r){let i=this.series.chart,n=this.clientRectangle.clone(),l=oi.rotation90(this.getCornerRadius()),s=(l=oi.flipHorizontal(l),this.series.as(P.d.IStiFontIconsSeries));if(null!=s&&null!=s.icon){let e=i.area.as(P.d.IStiRoundValuesArea),t=null==e?void 0:e.roundValues;return void P.a.StiFontIconsHelper.drawDirectionIcons(r,this.seriesBrush,n,new Yt(n.height,n.height),s.icon,this.getToolTip(),this.getInteractionData(),!1,t)}null==l||l.isEmpty||r.pushSmoothingModeToAntiAlias();let t=this.getAnimation();if(null!=t){let s=this.clientRectangle.clone(),e=new A(this.seriesBorderColor,this.getSeriesBorderThickness(r.options.zoom));if(this.series.showShadow){let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new H(P.d.StiChartHelper.globalDurationElement,new I(t.ticks+P.d.StiChartHelper.globalDurationElement.ticks));r.drawShadowRect(s,5,l,i)}r.drawAnimationCicledBar(this.seriesBrush,e,n,l,this.value,this.getToolTip(),this,t,this.getInteractionData())}else{let t=this.clientRectangle.clone();if(this.series.showShadow&&4<t.width&&4<t.height){let e=t.clone();this.value<0?(e.y--,r.drawCachedShadow(e,si.Left|si.Bottom,r.options.isPrinting,e,l)):0<this.value&&r.drawCachedShadow(new E(e.x-8,e.y,e.width+8,e.height),si.Top|si.Right|si.Edge|si.Bottom,r.options.isPrinting,e,l)}let e=new A(this.seriesBorderColor,this.getSeriesBorderThickness(r.options.zoom)),i=(this.series.chart.style.core.fillCicledColumn(r,t,l,this.seriesBrush,this.getInteractionData(),this.getToolTip()),this.getBorderPath(n,l));r.drawPath(e,i,n)}null==l||l.isEmpty||r.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return 0<this.value?hi.createWithoutRightSide(e,t,1):hi.createWithoutLeftSide(e,t,1);let i=new G;return 0<this.value?(i.add(new L(e.right,e.y,e.x,e.y)),i.add(new L(e.x,e.y,e.x,e.bottom)),i.add(new L(e.x,e.bottom,e.right,e.bottom))):(i.add(new L(e.x,e.y,e.right,e.y)),i.add(new L(e.right,e.y,e.right,e.bottom)),i.add(new L(e.right,e.bottom,e.x,e.bottom))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new ui(this.columnRectStart,this.clientRectangle,P.d.StiChartHelper.globalDurationElement,t),s=e.yAxis.core.getStartFromZero(),r=(s?e.yAxis.info.stripLines.getByIndex(this.index+1):e.yAxis.info.stripLines.getByIndex(this.index)).valueObject;return r=null==r?"":r[D.System.StiObject.stimulsoft]().toString(),i.id=`series_${this.series.chart.series.indexOf(this.series)}_`+r,ui.isAnimationChangingValues(this.series,i.id)&&i.applyPreviousAnimation(this.series.chart.previousAnimations),i}constructor(e,t,i,s,r,n,l,o,a){super(e,i,s,l,a,r),this.seriesBorderColor=n,this.valueStart=t,this.columnRectStart=o}},D.Base.Context.Animation.StiTranslationAnimation),g=D.Base.Context.Animation.StiPointsAnimation;{class ir extends P.d.StiSeriesGeom{get allowMouseOver(){return this.series.interaction.drillDownEnabled&&this.series.interaction.allowSeries}static getClientRectangle(t,e){if(null==t||0==t.length)return E.empty;let i=M.empty,s=M.empty;for(let e of t){if(null==e)continue;i==M.empty?(i=e,s=e):(i.x=Math.min(i.x,e.x),i.y=Math.min(i.y,e.y),s.x=Math.max(s.x,e.x),s.y=Math.max(s.y,e.y))}return new E(i.x-e/2,i.y-e/2,s.x-i.x+e,s.y-i.y+e)}draw(e){}getAnimation(e=this.points){if(!this.series.chart.isAnimation)return null;if(null==this.pointsFrom||null==this.pointsIds)return null;let t=[],i=[],s=[];for(let e=0;e<this.pointsFrom.length;e++)null!=this.pointsFrom[e]&&null!=this.points[e]&&null!=this.pointsIds[e]&&(t.push(this.pointsFrom[e]),i.push(this.points[e]),s.push(this.pointsIds[e]));return this.getAnimation2(t,i,s)}getAnimationConnect(e=this.points){if(!this.series.chart.isAnimation)return null;if(null==this.pointsFrom||null==this.pointsIds)return null;let s=[],r=[],n=[],l=0;for(let i of e)if(null!=i&&!r[D.System.StiObject.stimulsoft]().toList().exists(e=>e.equals(i))){let e=this.pointsFrom[l],t=(null==e&&(e=i),this.pointsIds[l]);k.isNullOrEmpty(t)&&(t=l.toString()+"_"),s.push(e),r.push(i),n.push(t),l++}return this.getAnimation2(s,r,n)}getAnimation2(e,t,i){if(!this.series.chart.isAnimation)return null;if(0==e.length)return null;let s=null,r=null;if(this.series.chart.isAnimationChangingValues&&null!=e&&null!=e[0]&&null!=i&&((r=new g(e,t,i,P.d.StiChartHelper.globalDurationElement,I.zero)).id=`series_`+this.series.chart.series.indexOf(this.series)+this.additionalSeriesId,g.isAnimationChangingValues(this.series,i,r.id))&&(r.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),s=r),null==s){let e=new di(M.empty,M.empty,P.d.StiChartHelper.globalDurationElement,I.zero);e.anotherAnimation=r,e.id=`series_`+this.series.chart.series.indexOf(this.series)+this.additionalSeriesId,s=e}return s}constructor(e,t,i){super(e,i,ir.getClientRectangle(t.points,i.is(P.d.StiBaseLineSeries)?i.lineWidth:0)),this.points=t.points.map(e=>e),null!=t.pointsFrom&&null!=t.pointsFrom[0]||(t.pointsFrom=t.points.map(e=>e)),this.pointsFrom=t.pointsFrom.map(e=>e),this.pointsIds=t.pointsIds.map(e=>e),this.additionalSeriesId=t.additionalSeriesId}}P.d.StiBaseLineSeriesGeom=ir}P.d.StiLineSeriesGeom=class extends P.d.StiBaseLineSeriesGeom{contains(r,n){if(this.invisible)return!1;for(let s=0;s<this.points.length-1;s++){let e=this.points[s],t=this.points[s+1];if(null==e||null==t)continue;let i=P.d.StiPointHelper.isLineContainsPoint(e,t,P.d.StiMouseOverHelper.mouseOverLineDistance,new M(r,n));if(i)return!0}return!1}draw(h){let e=p.Solid,t=1,u=B.black,i=!0,s=null,d=!0,c=this.getAnimation(),r=this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiBaseLineSeries),n=(null!=r&&(e=r.lineStyle,t=r.lineWidth,u=r.lineColor,i=r.showShadow,s=r.lineMarker,d=r.lighting),this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiRadarLineSeries)),l=(null!=n&&(e=n.lineStyle,t=n.lineWidth,u=n.lineColor,i=n.showShadow,d=n.lighting),this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiRadarAreaSeries)),S=(null!=l&&(e=l.lineStyle,t=l.lineWidth,u=l.lineColor,i=l.showShadow,d=l.lighting),h.pushSmoothingModeToAntiAlias(),e),m=t*h.options.zoom,g=new A(u,m);if(g.penStyle=S,i){let e=new A(B.fromArgb(50,0,0,0),m+.5*h.options.zoom);if(e.penStyle=S,h.pushTranslateTransform(m,m),P.d.StiNullableDrawing.drawLines(h,e,this.points,c),null!=s&&s.visible){let e=new V(B.fromArgb(50,0,0,0));s.core.drawLines(h,this.points,h.options.zoom,e,null,s.type,s.step,s.size,s.angle)}h.popTransform()}if(null!=this.pointsZeroConnect){let e=new A(u,m),t=(e.penStyle=p.Dash,this.getAnimationConnect(this.pointsZeroConnect));P.d.StiNullableDrawing.drawLines(h,e,this.pointsZeroConnect,t)}if(null!=this.pointsNullConnect){let e=new A(u,m),t=(e.penStyle=p.Dash,this.getAnimationConnect(this.pointsNullConnect));P.d.StiNullableDrawing.drawLines(h,e,this.pointsNullConnect,t)}if((this.series.is(P.d.StiLineSeries)||this.series.is(P.d.StiScatterLineSeries))&&this.series.allowApplyColorNegative){let n=this.series.lineColorNegative,e=new A(n,m),t=(e.penStyle=S,this.series.chart.area),l=t.axisCore.getDividerY(),o=[],a=[];for(let r=0;r<this.points.length;r++){let t=this.points[r],s=r!=this.points.length-1?this.points[r+1]:null;if(null==t)continue;if(t.y>l){if(o.push(t),null==s||s.y<l||s.y==l&&r+2<this.points.length&&this.points[r+2].y<=l){if(null!=s){let e=this.getPointCross(t,this.points[r+1],l);o.push(e),s.y==l&&r+2<this.points.length&&this.points[r+2].y<=l&&o.push(this.points[r+2]),a.push(e)}let i=null;if(null!=c&&(i=new H(c.duration,new I(c.duration.ticks+c.beginTime.ticks))),P.d.StiNullableDrawing.drawLines(h,e,o,i),m>=2*h.options.zoom&&d){let e=.5*h.options.zoom,t=(h.pushTranslateTransform(-e,-e),new A(f.light(n,70),m));t.penStyle=S,P.d.StiNullableDrawing.drawLines(h,t,o,i),h.popTransform()}o[D.System.StiObject.stimulsoft]().clear()}}else if(a.push(t),null==s||s.y>l){if(null!=s){let e=this.getPointCross(t,this.points[r+1],l);o.push(e),a.push(s)}let i=this.getAnimationConnect(a);if(P.d.StiNullableDrawing.drawLines(h,g,a,i),m>=2*h.options.zoom&&d){let e=.5*h.options.zoom,t=(h.pushTranslateTransform(-e,-e),new A(f.light(u,70),m));t.penStyle=S,P.d.StiNullableDrawing.drawLines(h,t,a,i),h.popTransform()}a[D.System.StiObject.stimulsoft]().clear()}}}else if(P.d.StiNullableDrawing.drawLines(h,g,this.points,c),m>=2*h.options.zoom&&d){let e=.5*h.options.zoom,t=(h.pushTranslateTransform(-e,-e),new A(f.light(u,70),m));t.penStyle=S,P.d.StiNullableDrawing.drawLines(h,t,this.points,c),h.popTransform()}if(null!=s&&s.visible){let e=new A(s.borderColor);s.core.drawLines(h,this.points,h.options.zoom,s.brush,e,s.type,s.step,s.size,s.angle)}h.popSmoothingMode()}getPointCross(e,t,i){let s=e.y,r=e.x,n=t.y,l=t.x,o=Math.tan(Math.atan((l-r)/(s-n)))*(s-i)+r;return new M(o,i)}constructor(e,t,i){super(e,t,i),this.pointsNullConnect=t.pointsNullConnect,this.pointsZeroConnect=t.pointsZeroConnect}},P.d.StiAreaSeriesGeom=class extends P.d.StiLineSeriesGeom{contains(l,o){let e=this.series.chart.area,a=e.axisCore.getDividerY();if(this.invisible)return!1;for(let n=0;n<this.points.length-1;n++){let e=this.points[n],t=this.points[n+1];if(null==e||null==t)continue;let i=new M(t.x,a),s=new M(e.x,a),r=P.d.StiPointHelper.isPointInPolygon(new M(l,o),[e,s,i,t]);if(r)return!0}return!1}draw(a){let h=this.series,u=this.series.chart.area,d=u.axisCore.getDividerY(),t=P.d.StiNullableDrawing.getPointsList(this.points),c=null!=this.pointsFrom?P.d.StiNullableDrawing.getPointsList(this.pointsFrom):null,S=this.series.chart;if(S.isAnimation)for(let o=0;o<t.length;o++){let i=t[o],s=[],r=new L(i[0].x,d,i[0].x,i[0].y),n=new Pt(i),l=new L(i[i.length-1].x,i[i.length-1].y,i[i.length-1].x,d);if(s.push(r),s.push(n),s.push(l),g.isAnimationChangingValues(this.series,this.pointsIds)){let e=c[o],t=new g(e,i,this.pointsIds,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);if(t.id=`series_`+this.series.chart.series.indexOf(this.series),t.applyPreviousAnimation(this.series.chart.previousAnimations,S.sortAnimation),r.animation=new g([new M(t.pointsFrom[0].x,d),t.pointsFrom[0]],null,null,t.duration,t.beginTime),n.animation=t,l.animation=new g([t.pointsFrom[t.pointsFrom.length-1],new M(t.pointsFrom[t.pointsFrom.length-1].x,d)],null,null,t.duration,t.beginTime),r.animation.beginTimeCorrect=t.beginTimeCorrect,l.animation.beginTimeCorrect=t.beginTimeCorrect,a.animations.push(t),a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,null,null),h.allowApplyBrushNegative&&null!=h.brushNegative){let e=u.axisCore.scrollRangeX*u.axisCore.scrollDpiX,t=u.axisCore.scrollRangeY*u.axisCore.scrollDpiY-d,i=new E(0,d,e,t);a.pushClip(i),a.fillDrawAnimationPath(h.brushNegative,null,s,Ot.getBoundsState,null,null,null),a.popClip()}}else if(null!=h.brush){let e=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,e,null)}}else for(let e of t){let s=[];if(s.push(new L(e[0].x,d,e[0].x,e[0].y)),s.push(new Pt(e)),s.push(new L(e[e.length-1].x,e[e.length-1].y,e[e.length-1].x,d)),null!=h.brush&&a.fillPath(h.brush,s,Ot.getBoundsState,null),h.allowApplyBrushNegative&&null!=h.brushNegative){let e=u.axisCore.scrollRangeX*u.axisCore.scrollDpiX,t=u.axisCore.scrollRangeY*u.axisCore.scrollDpiY-d,i=new E(0,d,e,t);a.pushClip(i),a.fillPath(h.brushNegative,s,Ot.getBoundsState,null),a.popClip()}}}constructor(e,t,i){super(e,t,i)}};let ci=P.d.IStiRoundValuesArea,Si=(P.d.StiClusteredColumnSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(s){let i=this.series.chart,r=this.clientRectangle.clone(),n=this.getCornerRadius(),l=this.series.as(P.d.IStiFontIconsSeries);if(null!=l&&null!=l.icon){let e=i.area.as(ci),t=null==e?void 0:e.roundValues;return void P.a.StiFontIconsHelper.drawDirectionIcons(s,this.seriesBrush,r,new Yt(r.width,r.width),l.icon,this.getToolTip(),this.getInteractionData(),!0,t)}null==n||n.isEmpty||s.pushSmoothingModeToAntiAlias();let t=this.getAnimation();if(null!=t){let e=new A(this.seriesBorderColor,this.getSeriesBorderThickness(s.options.zoom));if(this.series.showShadow&&1<r.width){let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new H(P.d.StiChartHelper.globalDurationElement,new I(t.ticks+P.d.StiChartHelper.globalDurationElement.ticks));s.drawShadowRect(r,5,n,i)}s.drawAnimationCicledColumn(this.seriesBrush,e,r,n,this.value,this.getToolTip(),this,t,this.getInteractionData())}else{let e=this.clientRectangle.clone(),t=(this.series.showShadow&&4<e.width&&4<e.height&&(0<this.value?s.drawCachedShadow(e,si.Top|si.Right,s.options.isPrinting,e,n):this.value<0&&s.drawCachedShadow(new E(e.x,e.y-8,e.width,e.height+8),si.Right|si.Edge|si.Bottom|si.Left,s.options.isPrinting,e,n)),new A(this.seriesBorderColor,this.getSeriesBorderThickness(s.options.zoom)));if(this.series.chart.style.core.fillCicledColumn(s,r,n,this.seriesBrush,this.getInteractionData(),this.getToolTip()),this.series.is(P.d.StiWaterfallSeries))s.drawCicledRectangle(t,r,n);else{let e=this.getBorderPath(r,n);s.drawPath(t,e,r)}}null==n||n.isEmpty||s.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return this.value<0?hi.createWithoutTopSide(e,t,1):hi.createWithoutBottomSide(e,t,1);let i=new G;return 0<this.value?(i.add(new L(e.x,e.bottom,e.x,e.y)),i.add(new L(e.x,e.y,e.right,e.y)),i.add(new L(e.right,e.y,e.right,e.bottom))):(i.add(new L(e.x,e.y,e.x,e.bottom)),i.add(new L(e.x,e.bottom,e.right,e.bottom)),i.add(new L(e.right,e.bottom,e.right,e.y))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new ui(this.columnRectStart,this.clientRectangle,P.d.StiChartHelper.globalDurationElement,t),s=e.xAxis.core.getStartFromZero(),r=(s?e.xAxis.info.stripLines.getByIndex(this.index+1):e.xAxis.info.stripLines.getByIndex(this.index)).valueObject;return r=null==r?"":r[D.System.StiObject.stimulsoft]().toString(),i.id=`series_${this.series.chart.series.indexOf(this.series)}_`+r,ui.isAnimationChangingValues(this.series,i.id)&&i.applyPreviousAnimation(this.series.chart.previousAnimations),i}constructor(e,t,i,s,r,n,l,o){super(e,t,i,n,l,s),this.seriesBrush=s,this.seriesBorderColor=r,this.columnRectStart=o}},P.d.StiSplineSeriesGeom=class extends P.d.StiBaseLineSeriesGeom{contains(r,n){if(this.invisible)return!1;for(let s=0;s<this.points.length-1;s++){let e=this.points[s],t=this.points[s+1];if(null==e||null==t)continue;let i=P.d.StiPointHelper.isLineContainsPoint(e,t,P.d.StiMouseOverHelper.mouseOverSplineDistance,new M(r,n));if(i)return!0}return!1}draw(l){let e=p.Solid,t=1,i=B.black,s=!0,o=!0,a=1,h=this.getAnimation(),u=this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiSplineSeries),r=(null!=u&&(e=u.lineStyle,t=u.lineWidth,i=u.lineColor,s=u.showShadow,o=u.lighting,a=u.tension),this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiRadarLineSeries)),n=(null!=r&&(e=r.lineStyle,t=r.lineWidth,i=r.lineColor,s=r.showShadow,o=r.lighting),this.series[D.System.StiObject.stimulsoft]().as(P.d.IStiRadarAreaSeries)),d=(null!=n&&(e=n.lineStyle,t=n.lineWidth,i=n.lineColor,s=n.showShadow,o=n.lighting),l.pushSmoothingModeToAntiAlias(),e),c=t*l.options.zoom,S=new A(i,c);if(S.penStyle=d,s){let e=new A(B.fromArgb(50,0,0,0),c+.5*l.options.zoom);e.penStyle=d,l.pushTranslateTransform(c,c),P.d.StiNullableDrawing.drawCurve(l,e,this.points,a,h),l.popTransform()}if(null!=this.pointsZeroConnect){let e=new A(i,c),t=(e.penStyle=p.Dash,this.getAnimationConnect(this.pointsZeroConnect));P.d.StiNullableDrawing.drawCurve(l,e,this.pointsZeroConnect,a,t)}if(null!=this.pointsNullConnect){let e=new A(i,c),t=(e.penStyle=p.Dash,this.getAnimationConnect(this.pointsNullConnect));P.d.StiNullableDrawing.drawCurve(l,e,this.pointsNullConnect,a,t)}if(P.d.StiNullableDrawing.drawCurve(l,S,this.points,a,h),2<=c&&o){let e=.5*l.options.zoom,t=(l.pushTranslateTransform(-e,-e),new A(f.light(i,70),c));t.penStyle=d,P.d.StiNullableDrawing.drawCurve(l,t,this.points,a,h),l.popTransform()}if(null!=u&&u.allowApplyColorNegative){let e=new A(u.lineColorNegative,c),t=(e.penStyle=d,this.series.chart.area),i=t.axisCore.getDividerY(),s=t.axisCore.scrollRangeX*t.axisCore.scrollDpiX,r=t.axisCore.scrollRangeY*t.axisCore.scrollDpiY-i,n=new E(0,i,s,r);if(l.pushClip(n),P.d.StiNullableDrawing.drawCurve(l,e,this.points,a,h),2<=c&&o){let e=.5*l.options.zoom,t=(l.pushTranslateTransform(-e,-e),new A(f.light(u.lineColorNegative,70),c));t.penStyle=d,P.d.StiNullableDrawing.drawCurve(l,t,this.points,a,h),l.popTransform()}l.popClip()}l.popSmoothingMode()}constructor(e,t,i){super(e,t,i),this.pointsNullConnect=t.pointsNullConnect,this.pointsZeroConnect=t.pointsZeroConnect}},P.d.StiSplineAreaSeriesGeom=class extends P.d.StiSplineSeriesGeom{contains(l,o){let e=this.series.chart.area,a=e.axisCore.getDividerY();if(this.invisible)return!1;for(let n=0;n<this.points.length-1;n++){let e=this.points[n],t=this.points[n+1];if(null==e||null==t)continue;let i=new M(t.x,a),s=new M(e.x,a),r=P.d.StiPointHelper.isPointInPolygon(new M(l,o),[e,s,i,t]);if(r)return!0}return!1}draw(a){let h=this.series,u=this.series.chart,d=this.series.chart.area,c=d.axisCore.getDividerY(),t=P.d.StiNullableDrawing.getPointsList(this.points),S=null!=this.pointsFrom?P.d.StiNullableDrawing.getPointsList(this.pointsFrom):null;if(u.isAnimation)for(let o=0;o<t.length;o++){let i=t[o],s=[],r=new L(new M(i[0].x,c),i[0]),n=new ni(i,h.tension),l=new L(i[i.length-1],new M(i[i.length-1].x,c));if(s.push(r),s.push(n),s.push(l),g.isAnimationChangingValues(this.series,this.pointsIds)){let e=S[o],t=new g(e,i,this.pointsIds,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);if(t.id=`series_`+this.series.chart.series.indexOf(this.series),t.applyPreviousAnimation(this.series.chart.previousAnimations,u.sortAnimation),r.animation=new g([new M(t.pointsFrom[0].x,c),t.pointsFrom[0]],null,null,t.duration,t.beginTime),n.animation=t,l.animation=new g([t.pointsFrom[t.pointsFrom.length-1],new M(t.pointsFrom[t.pointsFrom.length-1].x,c)],null,null,t.duration,t.beginTime),r.animation.beginTimeCorrect=t.beginTimeCorrect,l.animation.beginTimeCorrect=t.beginTimeCorrect,a.animations.push(t),a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,null,null),h.allowApplyBrushNegative&&null!=h.brushNegative){let e=d.axisCore.scrollRangeX*d.axisCore.scrollDpiX,t=d.axisCore.scrollRangeY*d.axisCore.scrollDpiY-c,i=new E(0,c,e,t);a.pushClip(i),a.fillDrawAnimationPath(h.brushNegative,null,s,Ot.getBoundsState,null,null,null),a.popClip()}}else{let e=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,e,null)}o++}else for(let e of t){let s=[];if(s.push(new L(e[0].x,c,e[0].x,e[0].y)),s.push(new ni(e,h.tension)),s.push(new L(e[e.length-1].x,e[e.length-1].y,e[e.length-1].x,c)),null!=h.brush)if(u.isAnimation){let e=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,e,null)}else a.fillPath(h.brush,s,Ot.getBoundsState,null);if(h.allowApplyBrushNegative&&null!=h.brushNegative){let e=d.axisCore.scrollRangeX*d.axisCore.scrollDpiX,t=d.axisCore.scrollRangeY*d.axisCore.scrollDpiY-c,i=new E(0,c,e,t);if(a.pushClip(i),u.isAnimation){let e=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,e,null)}else a.fillPath(h.brushNegative,s,Ot.getBoundsState,null);a.popClip()}}}constructor(e,t,i){super(e,t,i)}},P.d.StiSteppedLineSeriesGeom=class extends P.d.StiBaseLineSeriesGeom{getSteppedPoints(s){let r=this.series,n=[],l=r.chart.area.xAxis.info.dpi/2;for(let i=0;i<s.length-1;i++){let e=s[i],t=s[i+1];null!=e&&null!=t?(r.pointAtCenter&&(e=new M(e.x-l,e.y),t=new M(t.x-l,t.y)),n.push(e),n.push(new M(t.x,e.y))):(n.push(null),n.push(null))}let e=s[s.length-1];return null!=e?(r.pointAtCenter&&(e=new M(e.x-l,e.y),n.push(e),e=new M(e.x+2*l,e.y)),n.push(e)):n.push(null),n[D.System.StiObject.stimulsoft]().toArray()}getSteppedPointsIds(s){let r=[];for(let i=0;i<s.length-1;i++){let e=s[i]+"_l",t=s[i+1]+"_h";r.push(e),r.push(t)}let e=s[s.length-1]+"_l";return r.push(e),r}contains(s,r){if(this.invisible)return!1;let n=this.getSteppedPoints(this.points),l=0;for(let i of n){if(this.points.length<=l+1)continue;let e=n[l+1];if(null==i||null==e)continue;let t=E.empty;if(e.x>i.x?(t=new E(i.x,i.y,e.x-i.x,1)).inflate(0,5):(t=e.y>i.y?new E(i.x,i.y,1,e.y-i.y):new E(e.x,e.y,1,i.y-e.y)).inflate(5,0),t.contains(s,r))return!0;if(++l==n.length-1)break}return!1}draw(h){let u=this.series,d=(h.pushSmoothingModeToAntiAlias(),u.lineStyle),c=u.lineWidth*h.options.zoom,S=new A(u.lineColor,c),r=(S.penStyle=d,P.d.StiNullableDrawing.getNullablePointsList(this.points));for(let s of r){let l=this.getSteppedPoints(s),e=this.getSteppedPoints(this.pointsFrom),t=this.getSteppedPointsIds(this.pointsIds),o=this.getAnimation2(e,l,t);if(u.showShadow){let e=new A(B.fromArgb(50,0,0,0),c+.5*h.options.zoom);if(e.penStyle=d,h.pushTranslateTransform(c,c),P.d.StiNullableDrawing.drawLines(h,e,l,o),u.lineMarker.visible){let e=new V(B.fromArgb(50,0,0,0));u.lineMarker.core.drawLines(h,l,h.options.zoom,e,null,u.lineMarker.type,u.lineMarker.step,u.lineMarker.size,u.lineMarker.angle)}h.popTransform()}let i=this.series.chart.area,a=i.axisCore.getDividerY();if(u.allowApplyColorNegative){let s=new A(u.lineColorNegative,c),r=(s.penStyle=d,[]),n=[];for(let i=0;i<l.length;i++){let e=l[i],t=i!=l.length-1?l[i+1]:null;if(e.y>a){if(r.push(e),null==t||t.y<=a){this.intersectionAxis(e,t,r,n,a);let i=R.create(M,r.length,!0);if(r[D.System.StiObject.stimulsoft]().copyTo(i),P.d.StiNullableDrawing.drawLines(h,s,i,o),2<=c&&u.lighting){let e=.5*h.options.zoom,t=(h.pushTranslateTransform(-e,-e),new A(f.light(u.lineColorNegative,70),c));t.penStyle=d,P.d.StiNullableDrawing.drawLines(h,t,i,o),h.popTransform()}r[D.System.StiObject.stimulsoft]().clear()}}else if(n.push(e),null==t||t.y>a){this.intersectionAxis(e,t,n,r,a);let i=R.create(M,n.length,!0);if(n[D.System.StiObject.stimulsoft]().copyTo(i),P.d.StiNullableDrawing.drawLines(h,S,i,o),2<=c&&u.lighting){let e=.5*h.options.zoom,t=(h.pushTranslateTransform(-e,-e),new A(f.light(u.lineColor,70),c));t.penStyle=d,P.d.StiNullableDrawing.drawLines(h,t,i,o),h.popTransform()}n[D.System.StiObject.stimulsoft]().clear()}}}else{if(1==r.length){let e=null!=this.pointsFrom?this.getSteppedPoints(this.pointsFrom):null;P.d.StiNullableDrawing.drawLines2(h,S,e,l,o)}else P.d.StiNullableDrawing.drawLines(h,S,l,o);if(2<=c&&u.lighting){let e=.5*h.options.zoom,t=(h.pushTranslateTransform(-e,-e),new A(f.light(u.lineColor,70),1));t.penStyle=d,P.d.StiNullableDrawing.drawLines(h,t,l,o),h.popTransform()}}if(u.lineMarker.visible){let e=new A(u.lineMarker.borderColor);u.lineMarker.core.drawLines(h,l,h.options.zoom,u.lineMarker.brush,e,u.lineMarker.type,u.lineMarker.step,u.lineMarker.size,u.lineMarker.angle)}}h.popSmoothingMode()}intersectionAxis(t,e,i,s,r){if(null!=e){let e=new M(t.x,r);i.push(e),s.push(e)}}constructor(e,t,i){super(e,t,i)}},P.d.StiSteppedAreaSeriesGeom=class extends P.d.StiSteppedLineSeriesGeom{draw(a){let h=this.series,u=this.series.chart.area,d=u.axisCore.getDividerY(),c=P.d.StiNullableDrawing.getNullablePointsList(this.points),S=null!=this.pointsFrom?P.d.StiNullableDrawing.getNullablePointsList(this.pointsFrom):null;if(this.series.chart.isAnimation)for(let e=0;e<c.length;e++){let t=this.getSteppedPoints(c[e]),s=[],i=new L(new M(t[0].x,d),t[0]),r=new Pt(t),n=new L(t[t.length-1],new M(t[t.length-1].x,d)),l=(s.push(i),s.push(r),s.push(n),this.getSteppedPoints(S[e])),o=this.getSteppedPointsIds(this.pointsIds);if(g.isAnimationChangingValues(this.series,o)){let e=new g(l,t,o,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);if(e.id=`series_`+this.series.chart.series.indexOf(this.series),e.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),i.animation=new g([new M(e.pointsFrom[0].x,d),e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,n.animation=new g([e.pointsFrom[e.pointsFrom.length-1],new M(e.pointsFrom[e.pointsFrom.length-1].x,d)],null,null,e.duration,e.beginTime),i.animation.beginTimeCorrect=e.beginTimeCorrect,n.animation.beginTimeCorrect=e.beginTimeCorrect,a.animations.add(e),a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,null,null),h.allowApplyBrushNegative&&null!=h.brushNegative){let e=u.axisCore.scrollRangeX*u.axisCore.scrollDpiX,t=u.axisCore.scrollRangeY*u.axisCore.scrollDpiY-d,i=new E(0,d,e,t);a.pushClip(i),a.fillDrawAnimationPath(h.brushNegative,null,s,Ot.getBoundsState,null,null,null),a.popClip()}}else if(null!=h.brush){let e=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement);a.fillDrawAnimationPath(h.brush,null,s,Ot.getBoundsState,null,e,null)}e++}else for(let t of c){let e=this.getSteppedPoints(t),s=[];if(s.push(new L(e[0].x,d,e[0].x,e[0].y)),s.push(new Pt(e)),s.push(new L(e[e.length-1].x,e[e.length-1].y,e[e.length-1].x,d)),null!=h.brush&&a.fillPath(h.brush,s,Ot.getBoundsState,null),h.allowApplyBrushNegative&&null!=h.brushNegative){let e=u.axisCore.scrollRangeX*u.axisCore.scrollDpiX,t=u.axisCore.scrollRangeY*u.axisCore.scrollDpiY-d,i=new E(0,d,e,t);a.pushClip(i),a.fillPath(h.brushNegative,s,Ot.getBoundsState,null),a.popClip()}}}constructor(e,t,i){super(e,t,i)}},P.d.StiWaterfallLineGeom=class extends P.d.StiCellGeom{draw(t){if(this.animation){let e=new di(Et.empty,Et.empty,nt.globalDurationElement,I.zero);t.drawAnimationLines(this.pen,[this.pointStart,this.pointEnd],e)}else t.drawLine(this.pen,this.pointStart.x,this.pointStart.y,this.pointEnd.x,this.pointEnd.y)}constructor(e,t,i,s,r){super(s),this.pen=i,this.pointStart=e,this.pointEnd=t,this.animation=r}},P.d.StiDoughnutEmptySeriesElementGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle,i=new A(B.lightGray),s=new G;s.add(new Mt(t,0,360)),s.add(new L(t.right,t.y+t.height/2,t.x+3*t.width/4,t.y+t.height/2)),s.add(new Mt(new _(t.x+t.width/4,t.y+t.height/4,t.width/2,t.height/2),0,360)),s.add(new L(t.x+3*t.width/4,t.y+t.height/2,t.right,t.y+t.height/2)),e.pushSmoothingModeToAntiAlias(),e.fillPath(B.fromArgb(50,B.lightGray.r,B.lightGray.g,B.lightGray.b),s,t,null),e.drawPath(i,s,t),
e.drawLine(i,t.x+t.width/2,t.y+3*t.height/4,t.x+t.width/2,t.bottom),e.popSmoothingMode()}constructor(e){super(e)}},D.Base.Context.StiPenAlignment),mi=D.Base.Context.Animation.StiPieSegmentAnimation,gi=(P.d.StiDoughnutSeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;let i=new M(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),s=e-i.x,r=t-i.y,n=Math.sqrt(s*s+r*r);if(n<this.radiusTo||n>this.radiusFrom)return!1;let l=180*Math.atan2(r,s)/Math.PI;return l<0&&(l+=360),l>=this.startAngle&&l<=this.endAngle}draw(t){let i=this.clientRectangle.clone(),e=new A(this.borderColor,this.getSeriesBorderThickness(t.options.zoom)),s=(e.alignment=Si.Inset,this.series.as(P.d.IStiFontIconsSeries));if(null!=s&&null!=s.icon){let e=30;return t.pushClipPath(this.path),P.a.StiFontIconsHelper.drawFillIcons(t,this.seriesBrush,i,new Yt(e,e),s.icon,this.getToolTip()),void t.popClip()}let r=this.getAnimation();null!=r?(t.drawAnimationPathElement(this.brush,e,this.path,i,this.getToolTip(),this,r,this.getInteractionData()),null!=this.pathLight&&t.drawAnimationPathElement(this.brushLight,null,this.pathLight,i,this.getToolTip(),null,r,this.getInteractionData()),null!=this.pathDark&&t.drawAnimationPathElement(this.brushDark,null,this.pathDark,i,this.getToolTip(),null,r,this.getInteractionData())):(t.pushSmoothingModeToAntiAlias(),null!=this.path&&t.fillPath(this.brush,this.path,i,this.getInteractionData()),null!=this.pathLight&&t.fillPath(this.brushLight,this.pathLight,i,null),null!=this.pathDark&&t.fillPath(this.brushDark,this.pathDark,i,null),t.drawPath(e,this.path,Ot.getBoundsState),t.popSmoothingMode())}getAnimation(){if(!this.series.chart.isAnimation)return null;let l=P.d.StiChartHelper.globalDurationElement,i=P.d.StiChartHelper.globalBeginTimeElement,o=null,a=null;if(this.series.chart.isAnimationChangingValues){let i=this.startAngle,s=this.endAngle,r=this.clientRectangle,n=this.clientRectangle;if(4==this.path.length&&this.path[0].is(Mt)&&this.path[2].is(Mt)){let e=this.path[0],t=this.path[2];i=e.startAngle,s=e.startAngle+e.sweepAngle,r=e.rect,n=t.rect}(a=new mi(this.clientRectangle,r,this.clientRectangleDt,n,this.startAngle,this.endAngle,i,s,l,I.zero)).id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,mi.isAnimationChangingValues(this.series,a.id)&&(a.applyPreviousAnimation(this.series.chart.previousAnimations),o=a)}if(null==o){let e=new I(i.ticks/this.series.values.length*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=I.fromMilliseconds(300)),new H(l,e));t.anotherAnimation=a,t.id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,o=t}return o}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g,p,f){super(e,t,i,s,r,u),this.clientRectangleDt=n,this.path=l,this.pathLight=o,this.pathDark=a,this.borderColor=h,this.brush=u,this.brushLight=d,this.brushDark=c,this.startAngle=S,this.endAngle=m,this.radiusFrom=g,this.radiusTo=p,this.beginTime=f}},P.d.StiFinancialSeriesElementGeom=class extends P.d.StiCellGeom{draw(e){}constructor(e,t,i,s,r,n,l,o,a){super(i),this.areaGeom=e,this.series=t,this.open=s,this.close=r,this.high=n,this.low=l,this.positionX=o,this.index=a}},P.d.StiCandlestickSeriesElementGeom=class extends P.d.StiFinancialSeriesElementGeom{draw(u){let e=this.areaGeom.area,r=this.series,d=r.borderWidth*u.options.zoom,c=e.xAxis.info.dpi/2,S=this.open,m=this.close,g=this.high,p=this.low,f=this.positionX,w=new A(this.borderColor,d),t=(m==S&&--S,this.series.chart);if(t.isAnimation){let e=P.d.StiChartHelper.globalDurationElement,t=[new M(f,g),new M(f,S)],i=[new M(f,m),new M(f,p)],s=[],n=f-c/2,l=S,o=n+c,a=l+m-S,h=(s.push(new L(n,l,o,l)),s.push(new L(o,l,o,a)),s.push(new L(o,a,n,a)),s.push(new L(n,a,n,l)),s.push(new _t),new H(e,this.beginTime));if(r.showShadow){let e=d+.5*u.options.zoom,t=new A(B.fromArgb(50,0,0,0),e),i=[new M(f+e/2,g+e/2),new M(f+e/2,S+e/2)],s=[new M(f+e/2,m+e/2),new M(f+e/2,p+e/2)],r=(u.drawAnimationLines(t,i,h),u.drawAnimationLines(t,s,h),[]);r.push(new L(n+e/2,l+e/2,o+e/2,l+e/2)),r.push(new L(o+e/2,l+e/2,o+e/2,a+e/2)),r.push(new L(o+e/2,a+e/2,n+e/2,a+e/2)),r.push(new L(n+e/2,a+e/2,n+e/2,l+e/2)),r.push(new _t),u.fillDrawAnimationPath(null,t,r,new E(n+e/2,l+e/2,c,m-S),null,h,null)}u.drawAnimationLines(w,t,h),u.drawAnimationLines(w,i,h),u.fillDrawAnimationPath(this.brush,w,s,new E(n,l,c,m-S),this,h,null)}else{if(r.showShadow){let e=d+.5*u.options.zoom,t=new A(B.fromArgb(50,0,0,0),e);u.pushTranslateTransform(d,d),u.drawLine(t,f,m+e/2,f,p+e/2),u.drawLine(t,f,g,f,S-e/2),u.drawRectangle2(t,f-c/2,S,c,m-S),u.popTransform()}u.drawLine(w,f,g,f,S),u.drawLine(w,f,m,f,p),u.fillRectangle2(this.brush,f-c/2,S,c,m-S,null),u.drawRectangle2(w,f-c/2,S,c,m-S)}}constructor(e,t,i,s,r,n,l,o,a,h,u,d){super(e,t,i,s,r,n,l,o,a),this.brush=h,this.borderColor=u,this.beginTime=d}},P.d.StiStockSeriesElementGeom=class extends P.d.StiFinancialSeriesElementGeom{draw(l){let e=this.areaGeom.area,o=this.series,a=o.lineWidth*l.options.zoom,h=e.xAxis.info.dpi/3,s=new A(this.color,a),t=(s.penStyle=o.lineStyle,this.series.chart);if(t.isAnimation){let n=new H(P.d.StiChartHelper.globalDurationElement,this.beginTime);if(o.showShadow){let e=a+.5*l.options.zoom,t=new A(B.fromArgb(50,0,0,0),e),i=(t.penStyle=o.lineStyle,[new M(this.positionX,this.high),new M(this.positionX,this.low)]),s=[new M(this.positionX-h,this.open),new M(this.positionX-e/2,this.open)],r=[new M(this.positionX+h,this.close),new M(this.positionX+e/2,this.close)];l.drawAnimationLines(t,i,n),l.drawAnimationLines(t,s,n),l.drawAnimationLines(t,r,n)}let e=[new M(this.positionX,this.high),new M(this.positionX,this.low)],t=[new M(this.positionX-h,this.open),new M(this.positionX,this.open)],i=[new M(this.positionX+h,this.close),new M(this.positionX,this.close)];l.drawAnimationLines(s,e,n),l.drawAnimationLines(s,t,n),l.drawAnimationLines(s,i,n)}else{if(o.showShadow){let e=a+.5*l.options.zoom,t=new A(B.fromArgb(50,0,0,0),e);t.penStyle=o.lineStyle,l.pushTranslateTransform(a,a),l.drawLine(t,this.positionX,this.high,this.positionX,this.low),l.drawLine(t,this.positionX-h,this.open,this.positionX-e/2,this.open),l.drawLine(t,this.positionX+h,this.close,this.positionX+e/2,this.close),l.popTransform()}l.drawLine(s,this.positionX,this.high,this.positionX,this.low),l.drawLine(s,this.positionX-h,this.open,this.positionX,this.open),l.drawLine(s,this.positionX+h,this.close,this.positionX,this.close)}}constructor(e,t,i,s,r,n,l,o,a,h,u){super(e,t,i,s,r,n,l,o,a),this.color=h,this.beginTime=u}},P.d.StiFunnelEmptySeriesElementGeom=class extends P.d.StiCellGeom{draw(e){e.pushSmoothingModeToAntiAlias(),e.fillPath(B.fromArgb3(50,B.lightGray),this.path,this.clientRectangle,null),e.drawPath(new A(B.gray),this.path,this.clientRectangle),e.popSmoothingMode()}constructor(e,t){super(e),this.path=t}},P.d.StiFunnelSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(t){let i=this.clientRectangle.clone(),s=new A(f.dark(this.borderColor,10),this.getSeriesBorderThickness(t.options.zoom)),e=(s.alignment=Si.Inset,this.series.chart),r=this.series.as(P.d.IStiFontIconsSeries);if(null!=r&&null!=r.icon){let e=30;return t.pushClipPath(this.path),P.a.StiFontIconsHelper.drawFillIcons(t,this.seriesBrush,i,new Yt(e,e),r.icon,this.getToolTip()),void t.popClip()}if(e.isAnimation){let e=new H(I.fromSeconds(1),this.beginTime);this.series.showShadow&&(t.pushTranslateTransform(4,4),t.drawAnimationPathElement(new V(B.fromArgb(50,100,100,100)),null,this.path,i,null,this,e,null),t.popTransform()),t.drawAnimationPathElement(this.brush,null,this.path,i,this.getToolTip(),this,e,this.getInteractionData()),B.transparent.equals(this.borderColor)||t.drawAnimationPathElement(null,s,this.path,i,null,this,e,null)}else t.pushSmoothingModeToAntiAlias(),this.series.showShadow&&(t.pushTranslateTransform(4,4),t.fillPath(B.fromArgb(50,100,100,100),this.path,i,null),t.popTransform()),t.fillPath(this.brush,this.path,i,this.getInteractionData()),B.transparent.equals(this.borderColor)||t.drawPath(s,this.path,null),t.popSmoothingMode()}constructor(e,t,i,s,r,n,l,o,a){super(e,t,i,s,r,n),this.path=o,this.borderColor=l,this.brush=n,this.beginTime=a}},P.d.StiGanttSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(s){let t=this.series,r=this.clientRectangle.clone(),i=this.series.chart,n=oi.rotation90(this.getCornerRadius()),l=(n=oi.flipHorizontal(n),this.series.as(P.d.IStiFontIconsSeries));if(null!=l&&null!=l.icon){let e=i.area.as(P.d.IStiRoundValuesArea),t=null==e?void 0:e.roundValues;return void P.a.StiFontIconsHelper.drawDirectionIcons(s,this.seriesBrush,r,new Yt(r.height,r.height),l.icon,this.getToolTip(),this.getInteractionData(),!1,t)}null==n||n.isEmpty||s.pushSmoothingModeToAntiAlias();let o=this.getAnimation();if(null!=o){if(this.series.showShadow){let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new H(P.d.StiChartHelper.globalDurationElement,new I(t.ticks+P.d.StiChartHelper.globalDurationElement.ticks));s.drawShadowRect(r,5,n,i)}let e=new A(t.borderColor,this.getSeriesBorderThickness(s.options.zoom));s.drawAnimationCicledBar(this.seriesBrush,e,r,n,this.value,this.getToolTip(),this,o,this.getInteractionData())}else{t.showShadow&&4<r.width&&4<r.height&&s.drawCachedShadow(r,si.All,s.options.isPrinting,r,n),s.fillCicledRectangle(this.seriesBrush,r,n,this.getInteractionData(),this.getToolTip());let e=new A(t.borderColor,this.getSeriesBorderThickness(s.options.zoom));s.drawCicledRectangle(e,r,n)}null==n||n.isEmpty||s.popSmoothingMode()}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new ui(this.rectFrom,this.clientRectangle,P.d.StiChartHelper.globalDurationElement,t),s=e.yAxis.core.getStartFromZero(),r=null;return s&&e.yAxis.info.stripLines.count>this.index+1?r=e.yAxis.info.stripLines.getByIndex(this.index+1).valueObject:e.yAxis.info.stripLines.count>this.index&&(r=e.yAxis.info.stripLines.getByIndex(this.index).valueObject),r=null==r?"":r[D.System.StiObject.stimulsoft]().toString(),i.id=`series_${this.series.chart.series.indexOf(this.series)}_`+r,ui.isAnimationChangingValues(this.series,i.id)&&i.applyPreviousAnimation(this.series.chart.previousAnimations),i}constructor(e,t,i,s,r,n,l){super(e,t,i,s,r,l),this.rectFrom=n}},P.d.StiHeatmapSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(t){let i=this.clientRectangle.clone(),e=this.getCornerRadius(),s=this.series.as(P.d.IStiFontIconsSeries);if(null!=s&&null!=s.icon){let e=30;return t.pushClip(i),P.a.StiFontIconsHelper.drawFillIcons(t,this.seriesBrush,i,new Yt(e,e),s.icon,this.getToolTip()),void t.popClip()}let r=new A(this.seriesBorderColor,this.getSeriesBorderThickness(t.options.zoom));null==e||e.isEmpty||t.pushSmoothingModeToAntiAlias();try{this.series.chart.isAnimation&&null!=this.animation?t.drawAnimationCicledRectangle(this.seriesBrush,r,i,e,this,this.animation,this.getInteractionData(),this.getToolTip()):(super.draw(t),this.series.chart.style.core.fillCicledColumn(t,i,e,this.seriesBrush,this.getInteractionData(),this.getToolTip()),t.drawCicledRectangle(r,i,e))}finally{null==e||e.isEmpty||t.popSmoothingMode()}}constructor(e,t,i,s,r,n,l,o){super(e,t,i,n,l,s),this.seriesBorderColor=r,this.animation=o}},P.d.StiPictorialEmptySeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;let i=new Dt(e,t);for(let t=0;t<this.drawRectangles.length;t++){let e=this.drawRectangles[t];if(e.contains(i.x,i.y))return!0}return!1}draw(n){let l=this.series.core.getSingleSize(n),o=(super.draw(n),new N("Stimulsoft",14*n.options.zoom,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Pixel));for(let r=0;r<this.drawRectangles.length;r++){let t=this.drawRectangles[r],e=this.clipRectangles[r],i=!0,s=new Dt(t.x,t.y);n.pushClip(e);while(i){let e=new _(s.x+n.options.zoom,s.y+n.options.zoom,l.width,l.height);n.drawString3(P.a.StiFontIconsHelper.getContent(this.icon),o,this.seriesBrush,e,this.getStringFormatGeom(n),this.getToolTip()),(s=new Dt(s.x+l.width,s.y)).x+l.width>t.right&&s.y+l.height>t.bottom?i=!1:s.x+l.width>t.right&&(s=new Dt(t.x,s.y+l.height))}n.popClip()}}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=At.None,t.formatFlags|=Lt.MeasureTrailingSpaces|Lt.NoWrap,t.alignment=X.Center,t.lineAlignment=X.Center,t}constructor(e,t,i,s,r,n,l,o,a,h){super(e,t,i,r,a,s),this.icon=n,this.drawRectangles=l,this.clipRectangles=o,this.animation=h}},P.a.StiFontIconsHelper),pi=(P.d.StiPictorialSeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(i,s){if(this.invisible)return!1;for(let t=0;t<this.drawRectangles.length;t++){let e=this.drawRectangles[t];if(e.contains(i,s))return!0}return!1}draw(h){let u=this.series.core.getSingleSize(h),d=(super.draw(h),new N("Stimulsoft",15*h.options.zoom,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Pixel)),c=h.options.zoom;for(let i=0;i<this.drawRectangles.length;i++){let e=this.drawRectangles[i],t=this.clipRectangles[i],o=!0,a=new M(e.x,e.y);this.series.showShadow&&(t.width+=c,t.height+=c),h.pushClip(t);while(o){let i=new E(a.x+h.options.zoom,a.y+h.options.zoom,u.width,u.height),s=gi.getContent(this.icon),r=this.getStringFormatGeom(h),n=this.getToolTip(),l=this.getInteractionData();if(this.series.showShadow){let e=new V(B.fromArgb(50,0,0,0)),t=i.clone().offset(c,c);h.drawString3(s,d,e,t,r,n,l)}h.drawString3(s,d,this.seriesBrush,i,r,n,l),(a=new M(a.x+u.width,a.y)).x>=e.right&&(o=!1)}h.popClip()}}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=At.None,t.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap,t.alignment=X.Center,t.lineAlignment=X.Center,t}constructor(e,t,i,s,r,n,l,o,a,h){super(e,t,i,r,a,s),this.icon=n,this.drawRectangles=l,this.clipRectangles=o,this.seriesBrush=s,this.animation=h}},P.d.StiPictorialStackedEmptySeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;return this.clipRectangle.contains(e,t)}draw(e){if(super.draw(e),this.clipRectangle.width<=0||this.clipRectangle.height<=0)return;e.pushClip(this.clipRectangle);let t=this.getFontGeom(e);if(t.fontSize<=0)return;e.drawAnimationRectangle(B.transparent,null,this.clipRectangle,null,null,this.getInteractionData(),this.getToolTip()),e.drawRotatedString5(P.a.StiFontIconsHelper.getContent(this.icon),t,this.seriesBrush,this.clientRectangle,this.getStringFormatGeom(e),j.CenterCenter,0,!0),e.popClip()}getFontGeom(e){let t=new N("Stimulsoft",1e3,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Point),i=this.measureFontSize(e,this.clientRectangle,t);return new N("Stimulsoft",i,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Point)}measureFontSize(e,s,t){let r=null,i=P.a.StiFontIconsHelper.getContent(this.icon),n=e.measureString(i,t);if(0==n.width||0==n.height)return 0;if(s.width>s.height){let e=s.width/n.width,t=s.height/n.height,i=t<e?t:e;(null==r||r>i)&&(r=i)}else{let e=s.width/n.width*n.width/n.height;(null==r||r>e)&&(r=e)}return 1e3*r}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=At.None,t.formatFlags|=Lt.MeasureTrailingSpaces|Lt.NoWrap,t.alignment=X.Center,t.lineAlignment=X.Center,t}constructor(e,t,i,s,r,n,l,o,a){super(e,t,i,r,l,s),this.icon=n,this.clipRectangle=o,this.animation=a}},P.d.StiPictorialStackedSeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;return this.clipRectangle.contains(e,t)}draw(e){if(super.draw(e),this.clipRectangle.width<=0||this.clipRectangle.height<=0)return;e.pushClip(this.clipRectangle);let t=this.getFontGeom(e);if(t.fontSize<=0)return;e.drawAnimationRectangle(B.transparent,null,this.clipRectangle,null,null,this.getInteractionData(),this.getToolTip()),e.drawRotatedString5(gi.getContent(this.icon),t,this.seriesBrush,this.clientRectangle,this.getStringFormatGeom(e),j.CenterCenter,0,!0),e.popClip()}getFontGeom(e){let t=new N("Stimulsoft",1e3,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Point),i=.83*this.measureFontSize(e,this.clientRectangle,t,this.icon);return new N("Stimulsoft",i,D.System.Drawing.FontStyle.Regular,D.System.Drawing.GraphicsUnit.Point)}measureFontSize(e,s,t,i){let r=gi.getContent(i),n=e.measureString(r,t),l=null;if(0==n.width||0==n.height)return 0;if(s.width>s.height){let e=s.width/n.width,t=s.height/n.height,i=t<e?t:e;(null==l||l>i)&&(l=i)}else{let e=s.width/n.width*n.width/n.height;(null==l||l>e)&&(l=e)}return 1e3*l}getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=At.None,t.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap,t.alignment=X.Center,t.lineAlignment=X.Center,t}constructor(e,t,i,s,r,n,l,o,a){super(e,t,i,r,l,s),this.icon=n,this.clipRectangle=o,this.animation=a}},P.d.StiPie3dMainSideSeriesElementGeom=class extends P.d.StiSeriesElementGeom{get interaction(){return this.pie3DSlice.interaction}draw(e){let t=new G,i=(t.add(new jt(new _(this.clientRectangle.x,this.clientRectangle.y,this.clientRectangle.width,this.clientRectangle.height),this.startAngle,this.sweepAngle,this.realStartAngle,this.realSweepAngle,null)),e.pushSmoothingModeToAntiAlias(),this.getAnimation());null!=i?e.drawAnimationPathElement(this.seriesBrush,new A(this.borderColor,1),t,this.clientRectangle,this.getToolTip(),this,i,this.getInteractionData()):(e.fillPath(this.seriesBrush,t,this.clientRectangle,null),e.drawPath(new A(this.borderColor,1),t,this.clientRectangle)),e.popSmoothingMode()}getAnimation(){if(!this.series.chart.isAnimation)return null;let i=P.d.StiChartHelper.globalDurationElement,s=P.d.StiChartHelper.globalBeginTimeElement,r=null,n=null;if(null==r){let e=new I(s.ticks/this.count*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=I.fromMilliseconds(300)),new H(i,e));t.anotherAnimation=n,t.id="series_"+this.series.chart.series.indexOf(this.series)+"_"+this.index,r=t}return r}constructor(e,t,i,s,r,n,l,o,a,h,u){super(t,i,s,n,l,a),this.pie3DSlice=e,this.count=r,this.borderColor=o,this.realStartAngle=h,this.realSweepAngle=u,this.startAngle=P.d.StiPie3dHelper.transformAngle(this.clientRectangle,h),this.sweepAngle=u,this.sweepAngle=u,this.sweepAngle%180!=0&&(this.sweepAngle=P.d.StiPie3dHelper.transformAngle(this.clientRectangle,h+u)-this.startAngle),this.sweepAngle<0&&(this.sweepAngle+=360)}},P.d.StiPie3dSidesSeriesElementGeom=class extends P.d.StiSeriesElementGeom{get StartAngle(){return this.m_startAngle}get EndAngle(){return(this.m_startAngle+this.m_sweepAngle)%360}get Interaction(){return this.pie3DSlice.interaction}draw(e){e.pushSmoothingModeToAntiAlias(),this.drawHiddenPeriphery(e),90<this.StartAngle&&this.StartAngle<270?(this.drawEndSide(e),this.drawStartSide(e)):(this.drawStartSide(e),this.drawEndSide(e)),this.drawVisiblePeriphery(e),e.popSmoothingMode()}drawStartSide(e){null!=this.m_startSide&&(90<this.StartAngle&&this.StartAngle<270?this.m_startSide.draw(e,this.pen,this.m_brushStartSide):this.m_startSide.draw(e,this.pen,this.m_brushSurface))}drawEndSide(e){null!=this.m_endSide&&(90<this.EndAngle&&this.EndAngle<270?this.m_endSide.draw(e,this.pen,this.m_brushSurface):this.m_endSide.draw(e,this.pen,this.m_brushEndSide))}drawVisiblePeriphery(t){let i=this.getVisiblePeripherySurfaceBounds();for(let e of i)this.drawCylinderSurfaceSection(t,this.pen,this.m_brushPeripherySurface,e)}drawHiddenPeriphery(t){let i=this.getHiddenPeripherySurfaceBounds();for(let e of i)this.drawCylinderSurfaceSection(t,this.pen,this.m_brushSurface,e)}getHiddenPeripherySurfaceBounds(){let l=new G;if(!(0==this.m_sweepAngle||0<=this.m_startAngle&&this.m_startAngle+this.m_sweepAngle<=180)&&180<this.m_startAngle+this.m_sweepAngle){let e=this.m_startAngle,t=new Dt(this.m_pointStart.x,this.m_pointStart.y),i=this.m_startAngle+this.m_sweepAngle,s=new Dt(this.m_pointEnd.x,this.m_pointEnd.y),r=this.startnAngle,n=this.startnAngle+this.sweepAngle;e<180&&(e=r=180,t.x=this.m_boundingRectangle.left,t.y=this.m_center.y),360<i&&(i=n=360,s.x=this.m_boundingRectangle.right,s.y=this.m_center.y),l.add(new P.d.StiPie3dPeripherySurfaceBounds(e,i,t,s,r,n)),this.m_startAngle<360&&540<this.m_startAngle+this.m_sweepAngle&&(e=180,t=new Dt(this.m_boundingRectangle.left,this.m_center.y),i=this.EndAngle,s=new Dt(this.m_pointEnd.x,this.m_pointEnd.y),l.add(new P.d.StiPie3dPeripherySurfaceBounds(e,i,t,s,r,n)))}return l}getVisiblePeripherySurfaceBounds(){let l=new G;if(!(0==this.m_sweepAngle||180<=this.m_startAngle&&this.m_startAngle+this.m_sweepAngle<=360)){if(this.StartAngle<180){let e=this.m_startAngle,t=new Dt(this.m_pointStart.x,this.m_pointStart.y),i=this.EndAngle,s=new Dt(this.m_pointEnd.x,this.m_pointEnd.y),r=this.startnAngle,n=this.startnAngle+this.sweepAngle;180<this.m_startAngle+this.m_sweepAngle&&(i=n=180,s.x=this.m_boundingRectangle.x,s.y=this.m_center.y),l.add(new P.d.StiPie3dPeripherySurfaceBounds(e,i,t,s,r,n))}if(360<this.m_startAngle+this.m_sweepAngle){let e=0,t=new Dt(this.m_boundingRectangle.right,this.m_center.y),i=this.EndAngle,s=new Dt(this.m_pointEnd.x,this.m_pointEnd.y),r=this.startnAngle,n=this.startnAngle+this.sweepAngle;180<i&&(i=n=180,s.x=this.m_boundingRectangle.left,s.y=this.m_center.y),l.add(new P.d.StiPie3dPeripherySurfaceBounds(e,i,t,s,r,n))}}return l}drawCylinderSurfaceSection(e,t,i,s){let r=this.createPathForCylinderSurfaceSection(s),n=e.getPathBounds(r),l=this.getAnimation();null!=l?e.drawAnimationPathElement(i,t,r,n,this.getToolTip(),this,l,this.getInteractionData()):(e.fillPath(i,r,n,null),e.drawPath(t,r,n))}getTextPosition(){if(180<=this.sweepAngle)return this.peripheralPoint(this.m_center.x,this.m_center.y,this.m_boundingRectangle.width/3,this.m_boundingRectangle.height/3,this.getActualAngle(this.StartAngle)+this.sweepAngle/2);let e=(this.m_pointStart.x+this.m_pointEnd.x)/2,t=(this.m_pointStart.y+this.m_pointEnd.y)/2,i=180*Math.atan2(t-this.m_center.y,e-this.m_center.x)/Math.PI;return this.peripheralPoint(this.m_center.x,this.m_center.y,this.m_boundingRectangle.width/3,this.m_boundingRectangle.height/3,this.getActualAngle(i))}getActualAngle(e){let t=this.m_boundingRectangle.height*Math.cos(e*Math.PI/180),i=this.m_boundingRectangle.width*Math.sin(e*Math.PI/180),s=180*Math.atan2(i,t)/Math.PI;if(s<0)return s+360;return s}createPathForCylinderSurfaceSection(e){let t=e.startAngle,i=e.endAngle,s=e.startPoint,r=e.endPoint,n=e.realStartAngle,l=e.realEndAngle,o=e.realEndAngle-e.realStartAngle,a=new G,h=(a.add(new Mt(this.m_boundingRectangle,t,i-t,n,o)),a.add(new L(r.x,r.y,r.x,r.y+this.m_sliceHeight)),new _(this.m_boundingRectangle.x,this.m_boundingRectangle.y+this.m_sliceHeight,this.m_boundingRectangle.width,this.m_boundingRectangle.height));return a.add(new Mt(h,i,t-i,l,n-l)),a.add(new L(s.x,s.y+this.m_sliceHeight,s.x,s.y)),a}initializePieSlice(e,t,i,s,r,n){this.m_boundingRectangle=new _(e,t,i,s),this.m_sliceHeight=r;let l=this.startnAngle,o=(this.m_startAngle=this.transformAngle(this.startnAngle),this.m_sweepAngle=this.sweepAngle,this.m_sweepAngle%180!=0&&(this.m_sweepAngle=this.transformAngle(l+this.sweepAngle)-this.m_startAngle),this.m_sweepAngle<0&&(this.m_sweepAngle+=360),this.createSurfaceBrushes(n),e+i/2),a=t+s/2;this.m_center=new Dt(o,a),this.m_centerBelow=new Dt(o,a+r),this.m_pointStart=this.peripheralPoint(o,a,i/2,s/2,l),this.m_pointStartBelow=new Dt(this.m_pointStart.x,this.m_pointStart.y+r),this.m_pointEnd=this.peripheralPoint(o,a,i/2,s/2,l+this.sweepAngle),this.m_pointEndBelow=new Dt(this.m_pointEnd.x,this.m_pointEnd.y+r),this.initializeSides(this.startSideExists,this.endSideExists)}initializeSides(e,t){let i=this.getAnimation();this.m_startSide=e?new P.d.StiPie3dQuadrilateral(this.m_boundingRectangle,this.m_center,this.m_pointStart,this.m_pointStartBelow,this.m_centerBelow,180!=this.m_sweepAngle,i):P.d.StiPie3dQuadrilateral.empty(),this.m_endSide=t?new P.d.StiPie3dQuadrilateral(this.m_boundingRectangle,this.m_center,this.m_pointEnd,this.m_pointEndBelow,this.m_centerBelow,180!=this.m_sweepAngle,i):P.d.StiPie3dQuadrilateral.empty()}createSurfaceBrushes(e){let t=ct.toColor(this.seriesBrush);switch(this.m_brushSurface=new V(t),e){case P.d.StiPie3dLightingStyle.No:this.m_brushStartSide=this.m_brushEndSide=this.m_brushPeripherySurface=new V(t);break;case P.d.StiPie3dLightingStyle.Solid:this.m_brushStartSide=this.m_brushEndSide=this.m_brushPeripherySurface=ct.light(this.seriesBrush,30);break;case P.d.StiPie3dLightingStyle.Gradient:{let e=this.m_startAngle-180-this.s_shadowAngle;e<0&&(e+=360),this.m_brushStartSide=this.createBrushForSide(t,e),(e=this.m_startAngle+this.m_sweepAngle-this.s_shadowAngle)<0&&(e+=360),this.m_brushEndSide=this.createBrushForSide(t,e),this.m_brushPeripherySurface=this.createBrushForPeriphery(t);break}}}createBrushForSide(e,t){return new V(P.d.StiPie3dHelper.createColorWithCorrectedLightness(e,-P.d.StiPie3dHelper.brightnessEnhancementFactor1*(1-.8*Math.cos(t*Math.PI/180))))}createBrushForPeriphery(e){return new Le(e,P.d.StiPie3dHelper.createColorWithCorrectedLightness(e,-P.d.StiPie3dHelper.brightnessEnhancementFactor1),90,.1,1)}static createColorWithCorrectedLightness(e,t){if(0==t)return e;let i=e.r,s=e.g,r=e.b;return t<0?(t=1+t,i*=t,s*=t,r*=t):(i=(255-i)*t+i,s=(255-s)*t+s,r=(255-r)*t+r),B.fromArgb(e.a,i,s,r)}peripheralPoint(e,t,i,s,r){let n=r*Math.PI/180;return new Dt(e+i*Math.cos(n),t+s*Math.sin(n))}transformAngle(e){let t=this.m_boundingRectangle.width*Math.cos(e*Math.PI/180),i=this.m_boundingRectangle.height*Math.sin(e*Math.PI/180),s=180*Math.atan2(i,t)/Math.PI;if(s<0)return s+360;return s}getAnimation(){if(!this.series.chart.isAnimation)return null;let i=P.d.StiChartHelper.globalDurationElement,s=P.d.StiChartHelper.globalBeginTimeElement,r=null,n=null;if(null==r){let e=new I(s.ticks/this.count*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=I.fromMilliseconds(300)),new H(i,e));t.anotherAnimation=n,t.id="series_"+this.series.chart.series.indexOf(this.series)+"_"+this.index,r=t}return r}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S){super(t,i,s,n,l,a),this.s_shadowAngle=20,this.pie3DSlice=e,this.count=r,this.startnAngle=h,this.pen=new A(o),this.sweepAngle=u,this.startSideExists=c,this.endSideExists=S,this.initializePieSlice(l.x,l.y,l.width,l.height,d,n.options3D.lighting)}},P.d.StiPieEmptySeriesElementGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle,i=new A(B.lightGray);e.pushSmoothingModeToAntiAlias(),e.fillEllipse2(B.fromArgb3(50,B.lightGray),t,null),e.drawEllipse2(i,t),e.drawLine(i,t.x+t.width/2,t.y+t.height/2,t.right,t.y+t.height/2),e.drawLine(i,t.x+t.width/2,t.y+t.height/2,t.x+t.width/2,t.bottom),e.popSmoothingMode()}constructor(e){super(e)}},P.d.StiPieSeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;let i=new M(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),s=e-i.x,r=t-i.y,n=Math.sqrt(s*s+r*r);if(n>=this.radius)return!1;let l=180*Math.atan2(r,s)/Math.PI;return l<0&&(l+=360),l>=this.startAngle&&l<=this.endAngle}draw(t){let i=this.clientRectangle.clone(),e=B.transparent.equals(this.borderColor)?this.borderColor:f.dark(this.borderColor,10),s=new A(e,this.getSeriesBorderThickness(t.options.zoom)),r=(s.alignment=Si.Inset,this.series.as(P.d.IStiFontIconsSeries));if(null!=r&&null!=r.icon){let e=30;return t.pushClipPath(this.path),P.a.StiFontIconsHelper.drawFillIcons(t,this.seriesBrush,i,new Yt(e,e),r.icon,this.getToolTip()),void t.popClip()}t.pushSmoothingModeToAntiAlias();let n=this.getAnimation();if(null!=n){if(t.drawAnimationPathElement(this.brush,s,this.path,i,this.getToolTip(),this,n,this.getInteractionData()),null!=this.pathLight){let e=new V(B.fromArgb3(30,B.black));t.drawAnimationPathElement(e,null,this.pathLight,i,this.getToolTip(),null,n,this.getInteractionData())}}else{if(t.fillPath(this.brush,this.path,i,this.getInteractionData()),null!=this.pathLight){let e=new V(B.fromArgb3(30,B.black));t.fillPath(e,this.pathLight,i,this.getInteractionData())}B.transparent.equals(this.borderColor)||t.drawPath(s,this.path,null)}t.popSmoothingMode()}getAnimation(){if(!this.series.chart.isAnimation)return null;let r=P.d.StiChartHelper.globalDurationElement,i=P.d.StiChartHelper.globalBeginTimeElement,n=null,l=null;if(this.series.chart.isAnimationChangingValues){let t=this.startAngle,i=this.endAngle,s=this.clientRectangle;if(this.path[0].is(jt)){let e=this.path[0];t=e.startAngle,i=e.startAngle+e.sweepAngle,s=e.rect}(l=new mi(this.clientRectangle,s,E.empty,E.empty,this.startAngle,this.endAngle,t,i,r,I.zero)).id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,mi.isAnimationChangingValues(this.series,l.id)&&(l.applyPreviousAnimation(this.series.chart.previousAnimations),n=l)}if(null==n){let e=new I(i.ticks/this.count*this.index),t=(0<this.series.chart.previousAnimations.length&&(e=I.fromMilliseconds(300)),new H(r,e));t.anotherAnimation=l,t.id=`series_${this.series.chart.series.indexOf(this.series)}_`+this.index,n=t}return n}constructor(e,t,i,s,r,n,l,o,a,h,u,d){super(e,t,i,s,r,a),this.path=n,this.pathLight=l,this.borderColor=o,this.brush=a,this.startAngle=h,this.endAngle=u,this.radius=d}},P.d.StiPieSeriesFullElementGeom=class extends P.d.StiSeriesElementGeom{draw(s){let e=this.series.chart,r=this.clientRectangle.clone(),n=new A(this.borderColor,this.getSeriesBorderThickness(s.options.zoom));if(e.isAnimation){let e=P.d.StiChartHelper.globalDurationElement,t=P.d.StiChartHelper.globalBeginTimeElement,i=new H(e,t);s.fillDrawAnimationEllipse(this.brush,n,r.x,r.y,r.width,r.height,this.getToolTip(),this,i,this.getInteractionData())}else s.fillEllipse2(this.brush,r,null),s.drawEllipse2(n,r)}constructor(e,t,i,s,r,n,l){super(e,t,i,s,r,n),this.brush=n,this.borderColor=l}},P.d.StiPieSeriesShadowElementGeom=class extends P.d.StiCellGeom{get invisible(){return!0}draw(t){let i=this.clientRectangle.clone();if(this.isAnimation){let e=new H(this.duration,this.beginTime);t.drawShadowRect2(i,i.height/2,i.width/2,O.trunc(this.radius),null,e)}else t.drawShadow(this.shadowContext,i,this.radius)}constructor(e,t,i,s,r,n){super(t),this.series=e,this.shadowContext=s,this.radius=i,this.duration=r,this.beginTime=n,this.isAnimation=e.chart.isAnimation}},P.d.StiRadarAreaSeriesGeom=class extends P.d.StiCellGeom{contains(n,l){if(this.invisible)return!1;let e=this.series.chart.area,o=e.core;for(let r=0;r<this.points.length;r++){let e=this.points[r],t=r==this.points.length-1?this.points[0]:this.points[r+1],i=o.centerPoint;if(null==e||null==t)continue;let s=P.d.StiPointHelper.isPointInTriangle(new M(n,l),e,i,t);if(s)return!0}return!1}draw(i){let r=this.series;if(null==r.brush)return;let n=[];if(this.series.chart.isAnimation){let e=null,t=null;g.isAnimationChangingValues(this.series,this.pointsIds)?((t=new g(this.pointsFrom,this.points,this.pointsIds,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement)).id=`series_`+this.series.chart.series.indexOf(this.series),t.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),i.animations.push(t)):e=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement),n.push(new Pt(this.points,t)),i.fillDrawAnimationPath(r.brush,null,n,Ot.getBoundsState,null,e,null)}else{let s=0;for(let i of this.points){let e=i,t=s<this.points.length-1?this.points[s+1]:this.points[0];n.push(new L(e.x,e.y,t.x,t.y)),s++}i.pushSmoothingModeToAntiAlias(),i.fillPath(r.brush,n,E.empty,null),i.popSmoothingMode()}}constructor(e,t){super(E.empty),this.series=e,this.pointsFrom=t.pointsFrom,this.points=t.points,this.pointsIds=t.pointsIds}},P.d.StiRadarPointSeriesElementGeom=class extends P.d.StiSeriesElementGeom{getValueIndex(){let e=this.index;return this.series.is(P.d.IStiClusteredBarSeries)||this.series.is(P.d.IStiStackedBarSeries)||this.series.is(P.d.IStiFullStackedBarSeries)?this.series.chart.area.is(P.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(P.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}contains(e,t){if(this.invisible)return!1;return this.getMouseOverRect().contains(e,t)}getMouseOverRect(){let e=this.clientRectangle.clone();return e.inflate(e.width/2,e.height/2),e}draw(s){let r=this.series,n=!r.marker.visible&&0<r.toolTips.length;if(null!=r.marker&&r.marker.visible){s.pushSmoothingModeToAntiAlias();let e=s.options.zoom,t=this.series.chart,i=null;t.isAnimation&&((i=new li).componentName=t.name,i.componentIndex=t.page.components.indexOf(t).toString(),i.pageGuid=this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownEnabled?this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownPageGuid:"",i.pageIndex=t.page.report.renderedPages.indexOf(t.page).toString(),i.elementIndex=this.elementIndex.toString(),i.interactionData=this.interaction),r.marker.core.draw(s,r.marker,this.point,e,r.showShadow,!1,n,t.isAnimation,this.getToolTip(),this,i),s.popSmoothingMode()}}constructor(e,t,i,s,r,n,l){super(e,t,i,r,P.d.StiMarkerCoreXF.getMarkerRect(n,r.marker.size,l),s),this.point=n}},P.d.StiRangeBarElementGeom=class extends P.d.StiSeriesElementGeom{draw(s){let e=this.series,r=this.clientRectangle.clone(),n=this.getCornerRadius(),t=new A(e.borderColor,this.getSeriesBorderThickness(s.options.zoom)),i=(null==n||n.isEmpty||s.pushSmoothingModeToAntiAlias(),this.getAnimation());if(null!=i){if(this.series.showShadow){let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new H(P.d.StiChartHelper.globalDurationElement,new I(t.ticks+P.d.StiChartHelper.globalDurationElement.ticks));s.drawShadowRect(r,5,n,i)}s.drawAnimationCicledColumn(this.seriesBrush,t,r,n,this.value,this.getToolTip(),this,i,this.getInteractionData())}else e.showShadow&&4<r.width&&4<r.height&&s.drawCachedShadow(r,si.All,s.options.isPrinting,r,n),s.fillCicledRectangle(this.seriesBrush,r,n,this.getInteractionData(),this.getToolTip()),s.drawCicledRectangle(t,r,n);null==n||n.isEmpty||s.popSmoothingMode()}getAnimation(){var t;if(!this.series.chart.isAnimation)return null;let e=this.series,i=this.areaGeom.area,s=this.series.values.length,r=(e.valuesEnd.length<s&&(s=e.valuesEnd.length),e.arguments.length),n=Math.min(s,r),l=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/n*this.index),o=i.xAxis.info.stripLines.length-1;for(let e of i.xAxis.info.stripLines.list){if(this.series.arguments[this.index][D.System.StiObject.stimulsoft]().toString()==(null==(t=e.valueObject)?void 0:t.toString()))break;o--}o=i.xAxis.info.stripLines.length-1-o;let a=new ui(this.rectFrom,this.clientRectangle,P.d.StiChartHelper.globalDurationElement,l),h=i.xAxis.info.stripLines.getByIndex(i.reverseVert?i.xAxis.info.stripLines.length-1-o:o).valueObject;return h=null==h?"":h[D.System.StiObject.stimulsoft]().toString(),a.id=`series_${this.series.chart.series.indexOf(this.series)}_`+h,ui.isAnimationChangingValues(this.series,a.id)&&a.applyPreviousAnimation(this.series.chart.previousAnimations),a}constructor(e,t,i,s,r,n,l){super(e,t,i,s,n,r),this.rectFrom=l}},P.d.StiRangeSeriesGeom=class extends P.d.StiLineSeriesGeom{draw(a){let h=this.series,e=P.d.StiNullableDrawing.getPointsList(this.points),t=P.d.StiNullableDrawing.getPointsList(this.pointsEnd);if(e.length<1||t.length<1)return;let u=e[0],d=t[0],c=Math.min(u.length,d.length),S=[],m=[],g=[],p=[];for(let o=0;o<c;o++){let e=u[o],t=d[o],i=this.pointsIds[o],s=this.pointsIds[o]+"_e",r=null,n=null,l=(o!=c-1&&(r=u[o+1],n=d[o+1]),null);null==r&&!this.intersection(e,t,r,n)||(l=this.getPointCross2(e,t,r,n)),S.push(e),m.push(t),g.push(i),p.push(s),null!=l?(S.push(l),m.push(l),g.push(i+"_c"),p.push(i+"_c_e"),this.fillPath(a,this.getBrush(h,e,t),S.map(e=>e),m.map(e=>e),g.map(e=>e),p.map(e=>e)),S[D.System.StiObject.stimulsoft]().clear(),m[D.System.StiObject.stimulsoft]().clear(),g[D.System.StiObject.stimulsoft]().clear(),p[D.System.StiObject.stimulsoft]().clear(),S.push(l),m.push(l),g.push(i+"_c"),p.push(i+"_c_e")):null==r&&this.fillPath(a,this.getBrush(h,e,t),S.map(e=>e),m.map(e=>e),g.map(e=>e),p.map(e=>e))}}isPointsEqual(t,i){if(t.length==i.length){for(let e=0;e<t.length;e++)if(!t[e].equals(i[e]))return!1;return!0}return!1}getBrush(e,t,i){let s=e.brush;return s=e.allowApplyBrushNegative?t.y<i.y?e.brushNegative:e.brush:s}fillPath(s,e,r,n,l,o){if(this.isPointsEqual(r[D.System.StiObject.stimulsoft]().toList(),n[D.System.StiObject.stimulsoft]().toList()))return;let t=[],i=n.map(e=>e).reverse(),a=new L(i[i.length-1],r[0]),h=new Pt(r),u=new L(r[r.length-1],i[0]),d=new Pt(i);if(t.push(a),t.push(h),t.push(u),t.push(d),this.series.chart.isAnimation){let i=null;if(this.series.chart.isAnimationChangingValues){let e=new g(r,r,l,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new g(n,n,o,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_e`,s.animations.push(e),s.animations.push(t),g.isAnimationChangingValues(this.series,l,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.reverse(),a.animation=new g([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),u.animation=new g([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),a.animation.beginTimeCorrect=e.beginTimeCorrect,u.animation.beginTimeCorrect=e.beginTimeCorrect,h.animation=e,d.animation=t):i=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement)}s.fillDrawAnimationPath(e,null,t,Ot.getBoundsState,null,i,null)}else s.fillPath(e,t,Ot.getBoundsState,null)}intersection(e,t,i,s){if(null==i)return!1;return e.y>t.y&&i.y<s.y||e.y<t.y&&i.y>s.y||i.y==s.y}getPointCross2(e,t,i,s){if(i==s)return i;let r=e.x,n=e.y,l=i.x,o=i.y,a=t.x,h=t.y,u=s.x,d=s.y,c=-((r*o-l*n)*(u-a)-(a*d-u*h)*(l-r))/((n-o)*(u-a)-(h-d)*(l-r)),S=((h-d)*-c-(a*d-u*h))/(u-a);return r<c&&c<l?new M(c,S):null}constructor(e,t,i){super(e,t,i),this.pointsEnd=t.pointsEnd}},P.d.StiSplineRangeSeriesGeom=class extends P.d.StiSplineSeriesGeom{draw(e){let t=P.d.StiNullableDrawing.getPointsList(this.points),i=P.d.StiNullableDrawing.getPointsList(this.pointsEnd);if(t.length<1||i.length<1)return;let s=t[0],r=i[0],n=this.pointsIds.map(e=>e+"_e");this.fillPath(e,s,r,this.pointsIds,n)}fillPath(s,r,n,l,o){let e=this.series,t=e.brush,a=[],i=n.map(e=>e).reverse(),h=new L(i[i.length-1],r[0]),u=new ni(r,e.tension),d=new L(r[r.length-1],i[0]),c=new ni(i,e.tension);if(a.push(h),a.push(u),a.push(d),a.push(c),this.series.chart.isAnimation){let i=null;if(this.series.chart.isAnimationChangingValues){let e=new g(r,r,l,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new g(n,n,o,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_e`,s.animations.push(e),s.animations.push(t),g.isAnimationChangingValues(this.series,l,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.reverse(),h.animation=new g([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),d.animation=new g([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),h.animation.beginTimeCorrect=e.beginTimeCorrect,d.animation.beginTimeCorrect=e.beginTimeCorrect,u.animation=e,c.animation=t):i=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement)}s.fillDrawAnimationPath(t,null,a,Ot.getBoundsState,null,i,null)}else s.fillPath(t,a,Ot.getBoundsState,null)}constructor(e,t,i){super(e,t,i),this.pointsEnd=t.pointsEnd}},P.d.StiSteppedRangeSeriesGeom=class extends P.d.StiSteppedLineSeriesGeom{draw(o){let a=this.series,e=P.d.StiNullableDrawing.getPointsList(this.getSteppedPoints(this.points)),t=P.d.StiNullableDrawing.getPointsList(this.getSteppedPoints(this.pointsEnd)),h=this.getSteppedPointsIds(this.pointsIds);if(e.length<1||t.length<1)return;let u=e[0],d=t[0],c=Math.min(u.length,d.length),S=[],m=[],g=[],p=[];for(let l=0;l<c;l++){let e=u[l],t=d[l],i=h[l],s=h[l]+"_e",r=null,n=null;l!=c-1&&(r=u[l+1],n=d[l+1]),g.push(e),p.push(t),S.push(i),m.push(s),this.intersection(e,t,r,n)?(g.push(r),p.push(n),S.push(i+"_c"),m.push(i+"_c_e"),this.fillPath(o,this.getBrush(a,e,t),g.map(e=>e),p.map(e=>e),S.map(e=>e),m.map(e=>e)),g[D.System.StiObject.stimulsoft]().clear(),p[D.System.StiObject.stimulsoft]().clear(),S[D.System.StiObject.stimulsoft]().clear(),m[D.System.StiObject.stimulsoft]().clear(),g.push(r),p.push(n),S.push(i+"_c"),m.push(i+"_c_e")):null==r&&this.fillPath(o,this.getBrush(a,e,t),g.map(e=>e),p.map(e=>e),S.map(e=>e),m.map(e=>e))}}getBrush(e,t,i){let s=e.brush;return s=e.allowApplyBrushNegative?t.y<i.y?e.brushNegative:e.brush:s}fillPath(s,e,r,n,l,o){let t=[],i=n.map(e=>e).reverse(),a=new L(i[i.length-1],r[0]),h=new Pt(r),u=new L(r[r.length-1],i[0]),d=new Pt(i);if(t.push(a),t.push(h),t.push(u),t.push(d),this.series.chart.isAnimation){let i=null;if(this.series.chart.isAnimationChangingValues){let e=new g(r,r,l,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new g(n,n,o,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_e`,s.animations.push(e),s.animations.push(t),g.isAnimationChangingValues(this.series,l,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.reverse(),a.animation=new g([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),u.animation=new g([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),a.animation.beginTimeCorrect=e.beginTimeCorrect,u.animation.beginTimeCorrect=e.beginTimeCorrect,h.animation=e,d.animation=t):i=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement)}s.fillDrawAnimationPath(e,null,t,Ot.getBoundsState,null,i,null)}else s.fillPath(e,t,Ot.getBoundsState,null)}intersection(e,t,i,s){if(null==i)return!1;return e.y>t.y&&i.y<s.y||e.y<t.y&&i.y>s.y||i.y==s.y}constructor(e,t,i){super(e,t,i),this.pointsEnd=t.pointsEnd}},P.d.StiScatterSplineSeriesGeom=class extends P.d.StiBaseLineSeriesGeom{contains(r,n){if(this.invisible)return!1;for(let s=0;s<this.points.length-1;s++){let e=this.points[s],t=this.points[s+1];if(null==e||null==t)continue;let i=P.d.StiPointHelper.isLineContainsPoint(e,t,P.d.StiMouseOverHelper.mouseOverLineDistance,new M(r,n));if(i)return!0}return!1}draw(i){let s=this.series,r=(i.pushSmoothingModeToAntiAlias(),s.lineStyle),t=s.lineWidth*i.options.zoom,n=this.getAnimation(),e=new A(s.lineColor,s.lineWidth);if(e.penStyle=r,s.showShadow){let e=new A(B.fromArgb(50,0,0,0),t+.5*i.options.zoom);e.penStyle=r,i.pushTranslateTransform(t,t),P.d.StiNullableDrawing.drawCurve(i,e,this.points,s.tension,n),i.popTransform()}if(P.d.StiNullableDrawing.drawCurve(i,e,this.points,s.tension,n),2<=t&&s.lighting){let e=.5*i.options.zoom,t=(i.pushTranslateTransform(-e,-e),new A(f.light(s.lineColor,70),1));t.penStyle=r,P.d.StiNullableDrawing.drawCurve(i,t,this.points,s.tension,n),i.popTransform()}i.popSmoothingMode()}constructor(e,t,i){super(e,t,i)}},P.d.StiStackedBarSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(s){let i=this.clientRectangle.clone(),t=new A(this.seriesBorderColor,this.getSeriesBorderThickness(s.options.zoom)),r=oi.rotation90(this.getCornerRadius()),n=(r=oi.flipHorizontal(r),this.series.chart),l=this.series.as(P.d.IStiFontIconsSeries);if(null!=l&&null!=l.icon){let e=n.area.as(P.d.IStiRoundValuesArea),t=null==e?void 0:e.roundValues;return void P.a.StiFontIconsHelper.drawDirectionIcons(s,this.seriesBrush,i,new Yt(i.height,i.height),l.icon,this.getToolTip(),this.getInteractionData(),!1,t)}null==r||r.isEmpty||s.pushSmoothingModeToAntiAlias();let e=this.getAnimation();if(null!=e){if(this.series.showShadow){let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new H(P.d.StiChartHelper.globalDurationElement,new I(t.ticks+P.d.StiChartHelper.globalDurationElement.ticks));s.drawShadowRect(this.clientRectangle,5,r,i)}s.drawAnimationCicledBar(this.seriesBrush,t,i,r,this.value,this.getToolTip(),this,e,this.getInteractionData())}else{this.series.chart.style.core.fillCicledColumn(s,i,r,this.seriesBrush,this.getInteractionData(),this.getToolTip());let e=this.getBorderPath(i,r);s.drawPath(t,e,i)}null==r||r.isEmpty||s.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return 0<this.value?hi.createWithoutRightSide(e,t,1):hi.createWithoutLeftSide(e,t,1);let i=new G;return 0<this.value?(i.add(new L(e.right,e.y,e.x,e.y)),i.add(new L(e.x,e.y,e.x,e.bottom)),i.add(new L(e.x,e.bottom,e.right,e.bottom))):(i.add(new L(e.x,e.y,e.right,e.y)),i.add(new L(e.right,e.y,e.right,e.bottom)),i.add(new L(e.right,e.bottom,e.x,e.bottom))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new ui(this.columnRectStart,this.clientRectangle,P.d.StiChartHelper.globalDurationElement,t),s=e.yAxis.core.getStartFromZero(),r=(s?e.yAxis.info.stripLines.getByIndex(this.index+1):e.yAxis.info.stripLines.getByIndex(this.index)).valueObject;return r=null==r?"":r[D.System.StiObject.stimulsoft]().toString(),i.id=`series_${this.series.chart.series.indexOf(this.series)}_`+r,ui.isAnimationChangingValues(this.series,i.id)&&i.applyPreviousAnimation(this.series.chart.previousAnimations),i}constructor(e,t,i,s,r,n,l,o){super(e,t,i,n,l,s),this.seriesBorderColor=r,this.columnRectStart=o}},P.d.StiStackedBarSeriesShadowElementGeom=class extends P.d.StiCellGeom{get invisible(){return!0}draw(e){let t=this.clientRectangle.clone();this.series.is(P.d.IStiFullStackedBarSeries)?e.drawCachedShadow(t,si.Bottom,e.options.isPrinting):(this.isLeftShadow&&e.drawCachedShadow(t,si.Bottom|si.Left,e.options.isPrinting),this.isRightShadow&&e.drawCachedShadow(t,si.Top|si.Right|si.Edge|si.Bottom,e.options.isPrinting))}constructor(e,t,i,s){super(t),this.isLeftShadow=!1,this.isRightShadow=!1,this.series=e,this.isLeftShadow=i,this.isRightShadow=s}},D.Base.Context.StiBezierSegmentGeom);{class sr extends P.d.StiSeriesGeom{static getClientRectangle(t){let i=_.empty;for(let e of t)i=_.union(i,e);return i}draw(t){let l=new G,o=3;for(let e=0;e<this.metadata.rectangles.length;e++){let r=this.metadata.rectangles[e],n=e==this.metadata.rectangles.length-1?_.empty:this.metadata.rectangles[e+1];if(l.add(new L(r.x,r.y,r.right,r.y)),e==this.metadata.rectangles.length-1)l.add(new L(r.right,r.y,r.right,r.bottom));else{let e=new Dt(r.right,r.y),t=new Dt(n.x-(n.x-r.right)/o,r.y),i=new Dt(r.right+(n.x-r.right)/o,n.y),s=new Dt(n.x,n.y);l.add(new pi(e,t,i,s))}}for(let e=this.metadata.rectangles.length-1;0<=e;e--){let r=this.metadata.rectangles[e],n=0==e?_.empty:this.metadata.rectangles[e-1];if(l.add(new L(r.right,r.bottom,r.x,r.bottom)),0==e)l.add(new L(r.x,r.bottom,r.x,r.y));else{let e=new Dt(r.x,r.bottom),t=new Dt(n.right+(r.x-n.right)/o,r.bottom),i=new Dt(r.x-(r.x-n.right)/o,n.bottom),s=new Dt(n.right,n.bottom);l.add(new pi(e,t,i,s))}}l.add(new _t);let e=this.series.chart;if(t.pushSmoothingModeToAntiAlias(),e.isAnimation){let e=new H(I.fromSeconds(1),this.beginTime);t.fillDrawAnimationPath(this.metadata.brush,null,l,this.clientRectangle,null,e,null)}else t.fillPath(this.metadata.brush,l,this.clientRectangle,null);t.popSmoothingMode()}constructor(e,t,i,s){super(e,i,sr.getClientRectangle(t.rectangles)),this.metadata=t,this.beginTime=s}}P.d.StiRibbonSeriesGeom=sr}{class rr extends P.d.StiSeriesGeom{contains(l,o){if(this.invisible)return!1;for(let n=0;n<this.startPoints.length-1;n++){let e=this.startPoints[n],t=this.startPoints[n+1],i=this.endPoints[n],s=this.endPoints[n+1];if(null==e||null==i||null==s||null==t)continue;let r=P.d.StiPointHelper.isPointInPolygon(new M(l,o),[e,t,s,i]);if(r)return!0}return!1}static getClientRectangle(t,i){if(null==t||0==t.length||null==i||0==i.length)return E.empty;let s=M.empty,r=M.empty;for(let e of t){if(null==e)continue;s==M.empty?(s=e,r=e):(s.x=Math.min(s.x,e.x),s.y=Math.min(s.y,e.y),r.x=Math.max(r.x,e.x),r.y=Math.max(r.y,e.y))}for(let e of i){if(null==e)continue;s==M.empty?(s=e,r=e):(s.x=Math.min(s.x,e.x),s.y=Math.min(s.y,e.y),r.x=Math.max(r.x,e.x),r.y=Math.max(r.y,e.y))}return new E(s.x,s.y,r.x-s.x,r.y-s.y)}draw(u){let d=this.series,c=d.chart.isAnimation,e,t,i={ref:e},s={ref:t},S=(P.d.StiNullableDrawing.getPointsList2(this.startPoints,this.endPoints,i,s),t=s.ref,0);for(let h of e=i.ref){let i=t[S],e=h.map(e=>e).reverse(),n=[],s=new L(h[0],i[0]),r=new Pt(i),l=new L(i[i.length-1],h[h.length-1]),o=new Pt(e),a=(n.push(s),n.push(r),n.push(l),n.push(o),null);if(c&&d.chart.isAnimationChangingValues){let e=new g(i,i,this.pointsIds,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new g(h,h,this.pointsIds,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_r`,u.animations.push(e),u.animations.push(t),g.isAnimationChangingValues(this.series,this.pointsIds,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.reverse(),s.animation=new g([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),r.animation=e,l.animation=new g([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),s.animation.beginTimeCorrect=e.beginTimeCorrect,l.animation.beginTimeCorrect=e.beginTimeCorrect,o.animation=t):a=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement)}if(null!=d.brush&&(c?u.fillDrawAnimationPath(d.brush,null,n,Ot.getBoundsState,null,a,null):u.fillPath(d.brush,n,Ot.getBoundsState,null)),d.allowApplyBrushNegative&&null!=d.brushNegative){let e=this.series.chart.area,t=e.axisCore.getDividerY(),i=e.axisCore.scrollRangeX*e.axisCore.scrollDpiX,s=e.axisCore.scrollRangeY*e.axisCore.scrollDpiY-t,r=new E(0,t,i,s);u.pushClip(r),c?u.fillDrawAnimationPath(d.brushNegative,null,n,Ot.getBoundsState,null,a,null):u.fillPath(d.brushNegative,n,Ot.getBoundsState,null),u.popClip()}S++}}constructor(e,t,i){super(e,i,rr.getClientRectangle(t.pointsStart,t.pointsEnd)),this.startPoints=t.pointsStart,this.endPoints=t.pointsEnd,this.pointsIds=t.pointsIds}}P.d.StiStackedAreaSeriesGeom=rr}{class nr extends P.d.StiSeriesGeom{static getClientRectangle(t){if(null==t||0==t.length)return E.empty;let i=M.empty,s=M.empty;for(let e of t){if(null==e)continue;i==M.empty?(i=e,s=e):(i.x=Math.min(i.x,e.x),i.y=Math.min(i.y,e.y),s.x=Math.max(s.x,e.x),s.y=Math.max(s.y,e.y))}return new E(i.x,i.y,s.x-i.x,s.y-i.y)}draw(e){}constructor(e,t,i){super(e,i,nr.getClientRectangle(t)),this.points=t}}P.d.StiStackedBaseLineSeriesGeom=nr}P.d.StiStackedColumnSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(s){let r=this.clientRectangle.clone(),e=new A(this.seriesBorderColor,this.getSeriesBorderThickness(s.options.zoom)),i=this.series.chart,n=this.getCornerRadius(),l=this.series.as(P.d.IStiFontIconsSeries);if(null!=l&&null!=l.icon){let e=i.area.as(P.d.IStiRoundValuesArea),t=null==e?void 0:e.roundValues;return void P.a.StiFontIconsHelper.drawDirectionIcons(s,this.seriesBrush,r,new Yt(r.width,r.width),l.icon,this.getToolTip(),this.getInteractionData(),!0,t)}null==n||n.isEmpty||s.pushSmoothingModeToAntiAlias();let t=this.getAnimation();if(null!=t){if(this.series.showShadow){let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new H(P.d.StiChartHelper.globalDurationElement,new I(t.ticks+P.d.StiChartHelper.globalDurationElement.ticks));s.drawShadowRect(r,5,n,i)}s.drawAnimationCicledColumn(this.seriesBrush,e,r,n,this.value,this.getToolTip(),this,t,this.getInteractionData())}else s.fillCicledRectangle(this.seriesBrush,r,n,this.getInteractionData(),this.getToolTip()),s.drawCicledRectangle(e,r,n);null==n||n.isEmpty||s.popSmoothingMode()}getBorderPath(e,t){if(null!=t&&!t.isEmpty)return this.value<0?hi.createWithoutTopSide(e,t,1):hi.createWithoutBottomSide(e,t,1);let i=new G;return 0<this.value?(i.add(new L(e.x,e.bottom,e.x,e.y)),i.add(new L(e.x,e.y,e.right,e.y)),i.add(new L(e.right,e.y,e.right,e.bottom))):(i.add(new L(e.x,e.y,e.x,e.bottom)),i.add(new L(e.x,e.bottom,e.right,e.bottom)),i.add(new L(e.right,e.bottom,e.right,e.y))),i}getAnimation(){if(!this.series.chart.isAnimation)return null;let e=this.areaGeom.area,t=new I(P.d.StiChartHelper.globalBeginTimeElement.ticks/e.core.valuesCount*this.index),i=new ui(this.columnRectStart,this.clientRectangle,P.d.StiChartHelper.globalDurationElement,t),s=e.xAxis.core.getStartFromZero(),r=(s?e.xAxis.info.stripLines.getByIndex(this.index+1):e.xAxis.info.stripLines.getByIndex(this.index)).valueObject;return r=null==r?"":r[D.System.StiObject.stimulsoft]().toString(),i.id=`series_${this.series.chart.series.indexOf(this.series)}_`+r,ui.isAnimationChangingValues(this.series,i.id)&&i.applyPreviousAnimation(this.series.chart.previousAnimations),i}constructor(e,t,i,s,r,n,l,o){super(e,t,i,n,l,s),this.seriesBorderColor=r,this.columnRectStart=o}},P.d.StiStackedColumnSeriesShadowElementGeom=class extends P.d.StiCellGeom{get invisible(){return!0}draw(e){let t=this.clientRectangle.clone();this.series.is(P.d.IStiFullStackedColumnSeries)?e.drawCachedShadow(t,si.Right,e.options.isPrinting):(this.isTopShadow&&e.drawCachedShadow(t,si.Top|si.Right,e.options.isPrinting),this.isBottomShadow&&e.drawCachedShadow(t,si.Right|si.Edge|si.Bottom|si.Left,e.options.isPrinting))}constructor(e,t,i,s){super(t),this.series=e,this.isTopShadow=i,this.isBottomShadow=s}},P.d.StiStackedLineSeriesGeom=class extends P.d.StiBaseLineSeriesGeom{contains(r,n){if(this.invisible)return!1;for(let s=0;s<this.points.length-1;s++){let e=this.points[s],t=this.points[s+1];if(null==e||null==t)continue;let i=P.d.StiPointHelper.isLineContainsPoint(e,t,P.d.StiMouseOverHelper.mouseOverLineDistance,new M(r,n));if(i)return!0}return!1}draw(m){let e=this.series;if(0==this.points.length)return;if(1<this.points.length){let a=this.getAnimation(),h=(m.pushSmoothingModeToAntiAlias(),e.lineStyle),u=e.lineWidth*m.options.zoom,d=new A(e.lineColor,u),c=(d.penStyle=h,e.lighting);if(e.showShadow){let e=new A(B.fromArgb(50,0,0,0),u+.5*m.options.zoom);e.penStyle=h,m.pushTranslateTransform(u,u),P.d.StiNullableDrawing.drawLines(m,e,this.points,a),m.popTransform()}let S=this.series.lineColor;if(this.series.allowApplyColorNegative){let r=this.series.lineColorNegative,e=new A(r,u),t=(e.penStyle=h,this.series.chart.area),n=t.axisCore.getDividerY(),l=[],o=[];for(let s=0;s<this.points.length;s++){let t=this.points[s],i=s!=this.points.length-1?this.points[s+1]:null;if(t.y>n){if(l.push(t),null==i||i.y<n||i.y==n&&s+2<this.points.length&&this.points[s+2].y<=n){if(null!=i){let e=this.getPointCross(t,this.points[s+1],n);l.push(e),i.y==n&&s+2<this.points.length&&this.points[s+2].y<=n&&l.push(this.points[s+2]),o.push(e)}if(P.d.StiNullableDrawing.drawLines(m,e,l,a),u>=2*m.options.zoom&&c){let e=.5*m.options.zoom,t=(m.pushTranslateTransform(-e,-e),new A(f.light(r,70),u));t.penStyle=h,P.d.StiNullableDrawing.drawLines(m,t,l,a),m.popTransform()}l[D.System.StiObject.stimulsoft]().clear()}}else if(o.push(t),null==i||i.y>n){if(null!=i){let e=this.getPointCross(t,this.points[s+1],n);l.push(e),o.push(e),o.push(i)}if(P.d.StiNullableDrawing.drawLines(m,d,o,a),u>=2*m.options.zoom&&c){let e=.5*m.options.zoom,t=(m.pushTranslateTransform(-e,-e),new A(f.light(S,70),u));t.penStyle=h,P.d.StiNullableDrawing.drawLines(m,t,o,a),m.popTransform()}o[D.System.StiObject.stimulsoft]().clear()}}}else if(P.d.StiNullableDrawing.drawLines(m,d,this.points,a),u>=2*m.options.zoom&&e.lighting){let e=.5*m.options.zoom,t=(m.pushTranslateTransform(-e,-e),new A(f.light(S,70),u));t.penStyle=h,P.d.StiNullableDrawing.drawLines(m,t,this.points,a),m.popTransform()}m.popSmoothingMode()}}getPointCross(e,t,i){let s=e.y,r=e.x,n=t.y,l=t.x,o=Math.tan(Math.atan((l-r)/(s-n)))*(s-i)+r;return new M(o,i)}constructor(e,t,i){super(e,t,i)}};{class lr extends P.d.StiSeriesGeom{contains(l,o){if(this.invisible)return!1;for(let n=0;n<this.startPoints.length-1;n++){let e=this.startPoints[n],t=this.startPoints[n+1],i=this.endPoints[n],s=this.endPoints[n+1];if(null==e||null==i||null==s||null==t)continue;let r=P.d.StiPointHelper.isPointInPolygon(new M(l,o),[e,t,s,i]);if(r)return!0}return!1}static getClientRectangle(t,i){if(null==t||0==t.length||null==i||0==i.length)return E.empty;let s=M.empty,r=M.empty;for(let e of t){if(null==e)continue;s==M.empty?(s=e,r=e):(s.x=Math.min(s.x,e.x),s.y=Math.min(s.y,e.y),r.x=Math.max(r.x,e.x),r.y=Math.max(r.y,e.y))}for(let e of i){if(null==e)continue;s==M.empty?(s=e,r=e):(s.x=Math.min(s.x,e.x),s.y=Math.min(s.y,e.y),r.x=Math.max(r.x,e.x),r.y=Math.max(r.y,e.y))}return new E(s.x,s.y,r.x-s.x,r.y-s.y)}draw(u){let d=this.series,c=this.series.chart.area,e,t,i={ref:e},s={ref:t},S=(P.d.StiNullableDrawing.getPointsList2(this.startPoints,this.endPoints,i,s),t=s.ref,this.series.chart),m=0;for(let h of e=i.ref){let i=t[m],e=h.map(e=>e).reverse(),r=[],s=new L(h[0],i[0]),n=new ni(i,d.tension),l=new L(i[i.length-1],h[h.length-1]),o=new ni(e,d.tension),a=(r.push(s),r.push(n),r.push(l),r.push(o),null);if(this.series.chart.isAnimation&&d.chart.isAnimationChangingValues){let e=new g(i,i,this.pointsIds,P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement),t=(e.id=`series_${this.series.chart.series.indexOf(this.series)}_a`,new g(h,h,this.pointsIds,e.duration,e.beginTime));t.id=`series_${this.series.chart.series.indexOf(this.series)}_a_r`,u.animations.push(e),u.animations.push(t),g.isAnimationChangingValues(this.series,this.pointsIds,e.id)?(e.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.applyPreviousAnimation(this.series.chart.previousAnimations,this.series.chart.sortAnimation),t.reverse(),s.animation=new g([t.pointsFrom[t.pointsFrom.length-1],e.pointsFrom[0]],null,null,e.duration,e.beginTime),n.animation=e,l.animation=new g([e.pointsFrom[e.pointsFrom.length-1],t.pointsFrom[0]],null,null,e.duration,e.beginTime),s.animation.beginTimeCorrect=e.beginTimeCorrect,l.animation.beginTimeCorrect=e.beginTimeCorrect,o.animation=t):a=new H(P.d.StiChartHelper.globalDurationElement,P.d.StiChartHelper.globalBeginTimeElement)}if(null!=d.brush&&(S.isAnimation?u.fillDrawAnimationPath(d.brush,null,r,Ot.getBoundsState,null,a,null):u.fillPath(d.brush,r,Ot.getBoundsState,null)),d.allowApplyBrushNegative&&null!=d.brushNegative){let e=c.axisCore.getDividerY(),t=c.axisCore.scrollRangeX*c.axisCore.scrollDpiX,i=c.axisCore.scrollRangeY*c.axisCore.scrollDpiY-e,s=new E(0,e,t,i);u.pushClip(s),S.isAnimation?u.fillDrawAnimationPath(d.brushNegative,null,r,Ot.getBoundsState,null,a,null):u.fillPath(d.brushNegative,r,Ot.getBoundsState,null),u.popClip()}m++}}constructor(e,t,i){super(e,i,lr.getClientRectangle(t.pointsStart,t.pointsEnd)),this.startPoints=t.pointsStart,this.endPoints=t.pointsEnd,this.pointsIds=t.pointsIds}}P.d.StiStackedSplineAreaSeriesGeom=lr}P.d.StiStackedSplineSeriesGeom=class extends P.d.StiBaseLineSeriesGeom{contains(r,n){if(this.invisible)return!1;for(let s=0;s<this.points.length-1;s++){let e=this.points[s],t=this.points[s+1];if(null==e||null==t)continue;let i=P.d.StiPointHelper.isLineContainsPoint(e,t,P.d.StiMouseOverHelper.mouseOverSplineDistance,new M(r,n));if(i)return!0}return!1}draw(l){if(0==this.points.length)return;let o=this.series,a=this.getAnimation(),h=(l.pushSmoothingModeToAntiAlias(),o.lineStyle),u=o.lineWidth*l.options.zoom,e=new A(o.lineColor,u);if(e.penStyle=h,null!=this.points&&1<this.points.length){if(o.showShadow){let e=new A(B.fromArgb(50,0,0,0),u+.5*l.options.zoom);e.penStyle=h,l.pushTranslateTransform(u,u),P.d.StiNullableDrawing.drawCurve(l,e,this.points,o.tension,a),l.popTransform()}if(P.d.StiNullableDrawing.drawCurve(l,e,this.points,o.tension,a),2<=u&&o.lighting){let e=.5*l.options.zoom,t=(l.pushTranslateTransform(-e,-e),new A(f.light(o.lineColor,70),u));t.penStyle=h,P.d.StiNullableDrawing.drawCurve(l,t,this.points,o.tension,a),l.popTransform()}if(o.allowApplyColorNegative){let e=new A(o.lineColorNegative,u),t=(e.penStyle=h,this.series.chart.area),i=t.axisCore.getDividerY(),s=t.axisCore.scrollRangeX*t.axisCore.scrollDpiX,r=t.axisCore.scrollRangeY*t.axisCore.scrollDpiY-i,n=new E(0,i,s,r);if(l.pushClip(n),P.d.StiNullableDrawing.drawCurve(l,e,this.points,o.tension,a),2<=u&&o.lighting){let e=.5*l.options.zoom,t=(l.pushTranslateTransform(-e,-e),new A(f.light(o.lineColorNegative,70),u));t.penStyle=h,P.d.StiNullableDrawing.drawCurve(l,t,this.points,o.tension,a),l.popTransform()}l.popClip()}}l.popSmoothingMode()}constructor(e,t,i){super(e,t,i)}},P.d.StiSunburstEmptySeriesElementGeom=class extends P.d.StiCellGeom{draw(e){let t=this.clientRectangle,i=t.width/6;this.drawSunburst(e,this.clientRectangle,.85*i),this.drawSunburst(e,new _(this.clientRectangle.x+i,this.clientRectangle.y+i,this.clientRectangle.width-2*i,this.clientRectangle.height-2*i),.85*i)}drawSunburst(e,t,i){let s=new A(B.lightGray),r=new G;r.push(new Mt(t,0,360)),r.push(new L(t.right,t.y+t.height/2,t.x+(t.width-i),t.y+t.height/2)),r.push(new Mt(new _(t.x+i,t.y+i,t.width-2*i,t.height-2*i),0,360)),e.pushSmoothingModeToAntiAlias(),e.fillPath(new V(B.fromArgb3(50,B.lightGray)),r,t,null),e.drawPath(s,r,t),e.drawLine(s,t.x+t.width/2,t.y+(t.height-i),t.x+t.width/2,t.bottom),e.popSmoothingMode()}},P.d.StiSunburstSeriesElementGeom=class extends P.d.StiSeriesElementGeom{contains(e,t){if(this.invisible)return!1;let i=new M(this.clientRectangle.x+this.clientRectangle.width/2,this.clientRectangle.y+this.clientRectangle.height/2),s=e-i.x,r=t-i.y,n=Math.sqrt(s*s+r*r);if(n<this.radiusTo||n>this.radiusFrom)return!1;let l=180*Math.atan2(r,s)/Math.PI;return l<0&&(l+=360),l>=this.startAngle&&l<=this.endAngle}draw(e){let t=this.clientRectangle.clone(),i=new A(this.borderColor,this.getSeriesBorderThickness(e.options.zoom)),s=(i.alignment=Si.Inset,this.getAnimation());null!=s?e.drawAnimationPathElement(this.brush,i,this.path,t,this.getToolTip(),this,s,this.getInteractionData()):(e.pushSmoothingModeToAntiAlias(),null!=this.path&&e.fillPath(this.brush,this.path,t,this.getInteractionData()),e.drawPath(i,this.path,Ot.getBoundsState),e.popSmoothingMode())}getAnimation(){if(!this.series.chart.isAnimation)return null;let l=P.d.StiChartHelper.globalDurationElement,o=null,a=null;if(this.series.chart.isAnimationChangingValues){let i=this.startAngle,s=this.endAngle,r=this.clientRectangle.clone(),n=this.clientRectangle.clone();if(4==this.path.length&&this.path[0].is(Mt)&&this.path[2].is(Mt)){let e=this.path[0],t=this.path[2];i=e.startAngle,s=e.startAngle+e.sweepAngle,r=e.rect,n=t.rect}(a=new mi(this.clientRectangle,r,this.clientRectangleDt,n,this.startAngle,this.endAngle,i,s,l,I.zero)).id=`series_${this.series.chart.series.indexOf(this.series)}_${this.index}_${this.index2}_`+this.index3,mi.isAnimationChangingValues(this.series,a.id)&&(a.applyPreviousAnimation(this.series.chart.previousAnimations),o=a)}if(null==o){let e=this.beginTime,t=(0<this.series.chart.previousAnimations.length&&(e=I.fromMilliseconds(300)),new H(l,e));t.anotherAnimation=a,t.id=`series_${this.series.chart.series.indexOf(this.series)}_${this.index}_${this.index2}_`+this.index3,o=t}return o}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g){super(e,t,i,n,l,u),this.index2=0,this.index3=0,this.index2=s,this.index3=r,this.clientRectangleDt=o,this.path=a,this.borderColor=h,this.brush=u,this.startAngle=d,this.endAngle=c,this.radiusFrom=S,this.radiusTo=m,this.beginTime=g}},P.d.StiTreemapEmptySeriesElementGeom=class extends P.d.StiCellGeom{draw(e){let t=_.round(this.clientRectangle),i=new A(B.lightGray);e.pushSmoothingModeToAntiAlias(),e.fillRectangle(new V(B.fromArgb3(50,B.lightGray)),t,null),e.drawRectangle2(i,t.x,t.y,t.width/3,t.height),e.drawRectangle2(i,t.x+t.width/3,t.y,2*t.width/3,t.height),e.popSmoothingMode()}},P.d.StiTreemapSeriesElementGeom=class extends P.d.StiSeriesElementGeom{draw(t){let e=this.series.chart,i=this.clientRectangle.clone(),s=this.getCornerRadius(),r=this.series.as(P.d.IStiFontIconsSeries);if(null!=r&&null!=r.icon){let e=30;return t.pushClip(i),P.a.StiFontIconsHelper.drawFillIcons(t,this.seriesBrush,i,new Yt(e,e),r.icon,this.getToolTip()),void t.popClip()}let n=new A(this.seriesBorderColor,this.getSeriesBorderThickness(t.options.zoom));null==s||s.isEmpty||t.pushSmoothingModeToAntiAlias(),e.isAnimation?t.drawAnimationCicledRectangle(this.seriesBrush,n,i,s,this,this.animation,this.getInteractionData(),this.getToolTip()):(super.draw(t),this.series.chart.style.core.fillCicledColumn(t,i,s,this.seriesBrush,this.getInteractionData(),this.getToolTip()),t.drawCicledRectangle(n,i,s)),null==s||s.isEmpty||t.popSmoothingMode()}constructor(e,t,i,s,r,n,l,o){super(e,t,i,n,l,s),this.seriesBrush=s,this.seriesBorderColor=r,this.animation=o}},P.d.StiSeriesLabelsGeom=class extends P.d.StiCellGeom{getValueIndex(){let e=this.index;return this.series.is(P.d.IStiClusteredBarSeries)||this.series.is(P.d.IStiStackedBarSeries)||this.series.is(P.d.IStiFullStackedBarSeries)?this.series.chart.area.is(P.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(P.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getHyperlink(e){return null!=this.series.hyperlinks&&e<this.series.hyperlinks.length?this.series.hyperlinks[e]:null}getToolTip(e){return null!=this.series.toolTips&&e<this.series.toolTips.length?this.series.hyperlinks[e]:null}drawMarker(r,n,l,o){if(this.seriesLabels.markerVisible){let e=this.series.chart,t=_.empty;switch(this.seriesLabels.markerAlignment==P.d.StiMarkerAlignment.Right?t.x=O.trunc(n.right+2*r.options.zoom):t.x=O.trunc(n.left-(2+this.seriesLabels.markerSize.width)*r.options.zoom),this.seriesLabels.markerAlignment){case P.d.StiMarkerAlignment.Right:t.x=O.trunc(n.right+2*r.options.zoom);break;case P.d.StiMarkerAlignment.Left:t.x=O.trunc(n.left-(2+this.seriesLabels.markerSize.width)*r.options.zoom);break;case P.d.StiMarkerAlignment.Center:t.x=O.trunc(n.left+ +n.width/2-(2+this.seriesLabels.markerSize.width)/2*r.options.zoom);break}t.y=O.trunc(n.y+(n.height-this.seriesLabels.markerSize.height*r.options.zoom)/2),t.width=O.trunc(this.seriesLabels.markerSize.width*r.options.zoom),t.height=O.trunc(this.seriesLabels.markerSize.height*r.options.zoom);let i=l instanceof B?l:B.black,s=new A(i,1);if(e.isAnimation){let e=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalBeginTimeElement);r.drawAnimationRectangle(o,s,t,null,e,null,this.getToolTip(this.getValueIndex()))}else r.fillRectangle2(o,t.x,t.y,t.width,t.height,null),r.drawRectangle2(s,t.x,t.y,t.width,t.height)}}draw(e){}constructor(e,t,i,s,r){super(r),this.beginTime=new I(0),this.duration=new I(0),this.seriesLabels=e,this.series=t,this.index=i,this.value=s}},P.d.StiCenterAxisLabelsGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.clientRectangle.clone(),i=this.seriesLabels.core.getStringFormatGeom(e),s=(i.alignment=X.Center,i.lineAlignment=X.Center,this.series.chart),r=(s.isAnimation&&null==this.animation&&(this.animation=new H(this.duration,this.beginTime)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),t.x+t.width/2),n=t.y+t.height/2,l=(e.pushTranslateTransform(r,n),e.pushRotateTransform(this.seriesLabels.angle),t.clone());l.x=-l.width/2-1,l.y=-l.height/2-1,l.width+=2,l.height+=2,this.drawLabelArea(e,l),this.drawLabelText(e,l),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.labelBorderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLabelText(e,t){let i=new V(this.labelColor),s=this.series.chart,r=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size),n=this.seriesLabels.core.getStringFormatGeom(e);n.alignment=X.Center,n.lineAlignment=X.Center,s.isAnimation?e.drawAnimationText(this.text,r,i,t,n,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,i,t,n,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c){super(e,t,i,s,r),this.text=n,this.labelColor=l,this.labelBorderColor=o,this.seriesBrush=a,this.seriesLabelsBrush=h,this.seriesBorderColor=u,this.font=d,this.animation=c}},P.d.StiOutsideAxisLabelsGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.clientRectangle.clone(),i=this.series.chart,s=(i.isAnimation&&null==this.animation&&(this.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawLines(e,t),e.pushTranslateTransform(t.x+t.width/2,t.y+t.height/2),e.pushRotateTransform(this.seriesLabels.angle),t.clone());s.x=-s.width/2,s.y=-s.height/2,this.drawLabelArea(e,s),this.drawLabelText(e,s),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.labelBorderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabels.brush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabels.brush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLines(e,t){let i=this.series.chart,s=new A(this.labelBorderColor);i.isAnimation?e.drawAnimationLines(s,[this.endPoint,this.startPoint],this.animation):e.drawLine(s,this.endPoint.x,this.endPoint.y,this.startPoint.x,this.startPoint.y)}drawLabelText(e,t){let i=new V(this.labelColor),s=this.series.chart,r=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size),n=this.seriesLabels.core.getStringFormatGeom(e);n.alignment=X.Center,n.lineAlignment=X.Center,s.isAnimation?e.drawAnimationText(this.text,r,i,t,n,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,i,t,n,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S){super(e,t,i,s,r),this.text=n,this.labelColor=l,this.labelBorderColor=o,this.seriesBrush=a,this.seriesBorderColor=h,this.font=u,this.startPoint=d,this.endPoint=c,this.animation=S}},P.d.StiCenterFunnelLabelsGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.clientRectangle.clone(),i=this.series.chart,s=(i.isAnimation&&null==this.animation&&(this.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,this.labelRect,this.seriesBorderColor,this.seriesBrush),t.x+t.width/2),r=t.y+t.height/2,n=(e.pushTranslateTransform(s,r),e.pushRotateTransform(this.seriesLabels.angle),t);n.x=-n.width/2,n.y=-n.height/2,this.drawLabelArea(e,n),this.drawLabelText(e,n),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabels.brush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabels.brush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLabelText(e,t){let i=this.series.chart,s=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*e.options.zoom),r=this.seriesLabels.core.getStringFormatGeom(e);r.alignment=X.Center,r.lineAlignment=X.Center,i.isAnimation?e.drawAnimationText(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d){super(e,t,i,s,r),this.text=n,this.labelBrush=o,this.borderColor=a,this.seriesBorderColor=h,this.seriesBrush=l,this.labelRect=u,this.animation=d}},P.d.StiOutsideFunnelLabelsGeom=class extends P.d.StiCenterFunnelLabelsGeom{draw(t){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let e=this.series.chart,i=new A(this.borderColor);if(e.isAnimation){let e=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement);t.drawAnimationLines(i,[this.startPointLine,this.endPointLine],e)}else t.drawLine(i,this.startPointLine.x,this.startPointLine.y,this.endPointLine.x,this.endPointLine.y);super.draw(t)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c){super(e,t,i,s,r,n,l,o,a,h,u,null),this.startPointLine=d,this.endPointLine=c}};{let i=D.Base.Drawing.PointD;P.d.StiOutsidePictorialStackedLabelGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.labelRect.clone(),i=this.series.chart,s=(i.isAnimation&&null==this.animation&&(this.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawLineLabel(e),t.x+t.width/2),r=t.y+t.height/2,n=(e.pushTranslateTransform(s,r),e.pushRotateTransform(this.seriesLabels.angle),t.clone());n.x=-n.width/2-1,n.y=-n.height/2-1,n.width+=2,n.height+=2,this.drawLabelArea(e,n),this.drawLabelText(e,n),e.popTransform(),e.popTransform()}drawLineLabel(e){let t=this.series.chart;t.isAnimation?e.drawAnimationLines(new A(this.labelLineColor,1),[new i(this.lineRect.x,this.lineRect.y+this.lineRect.height/2),new i(this.lineRect.right,this.lineRect.y+this.lineRect.height/2)],this.animation):e.drawLine(new A(this.labelLineColor,1),this.lineRect.x,this.lineRect.y+this.lineRect.height/2,this.lineRect.right,this.lineRect.y+this.lineRect.height/2)}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabels.brush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabels.brush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLabelText(e,t){let i=this.series.chart,s=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*e.options.zoom),r=this.seriesLabels.core.getStringFormatGeom(e);r.alignment=X.Center,r.lineAlignment=X.Center,i.isAnimation?e.drawAnimationText(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S){super(e,t,i,s,r),this.text=n,this.labelBrush=o,this.labelLineColor=a,this.borderColor=h,this.seriesBorderColor=u,this.seriesBrush=l,this.animation=S,this.lineRect=c,this.labelRect=d}}}P.d.StiCenterPieLabelsGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.clientRectangle.clone(),i=this.series.chart,s=(i.isAnimation&&null==this.animation&&(this.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,this.labelRect,this.seriesBorderColor,this.seriesBrush),O.round2(this.labelRect.x+this.labelRect.width/2,0)),r=O.round2(this.labelRect.y+this.labelRect.height/2,0);e.pushTranslateTransform(s,r),e.pushRotateTransform(this.angleToUse),this.drawLabelArea(e,t),this.drawLabelText(e,t),e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLabelText(e,t){let i=this.series.chart,s=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size),r=this.seriesLabels.core.getStringFormatGeom(e);r.alignment=X.Center,r.lineAlignment=X.Center,i.isAnimation?e.drawAnimationText(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m){super(e,t,i,s,r),this.text=n,this.labelBrush=o,this.borderColor=h,this.seriesBorderColor=u,this.seriesLabelsBrush=a,this.seriesBrush=l,this.rotationMode=d,this.labelRect=c,this.angleToUse=S,this.animation=m}},P.d.StiOutsidePieLabelsGeom=class extends P.d.StiCenterPieLabelsGeom{draw(i){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let e=this.seriesLabels;if(super.draw(i),e.drawBorder){let t=new A(this.lineColor),e=this.series.chart;if(e.isAnimation){let e=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalBeginTimeElement);i.drawAnimationLines(t,[this.labelPoint,this.startPoint],e)}else i.drawLine(t,this.labelPoint.x,this.labelPoint.y,this.startPoint.x,this.startPoint.y)}}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g,p){super(e,t,i,s,r,n,l,o,a,h,u,d,c,S,null),this.lineColor=m,this.labelPoint=g,this.startPoint=p}},P.d.StiTwoColumnsPieLabelsGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.clientRectangle.clone(),i=this.series.chart;i.isAnimation&&null==this.animation&&(this.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement)),this.drawLines(e),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawLabelArea(e,t),this.drawLabelText(e,t)}drawLines(r){if(this.seriesLabels.drawBorder){let e=null,t=new A(this.lineColor,1),i=null!=(e=this.centerPie.y>this.startPoint.y&&this.endPoint.y>this.startPoint.y||this.centerPie.y<this.startPoint.y&&this.endPoint.y<this.startPoint.y?this.centerPie.x>this.endPoint.x?new M(this.endPoint.x+13,this.startPoint.y):new M(this.endPoint.x-13,this.startPoint.y):e)?[this.endPoint,e,this.startPoint,this.arcPoint]:[this.endPoint,this.startPoint,this.arcPoint],s=this.series.chart;s.isAnimation?r.drawAnimationLines(t,i,this.animation):r.drawLines(t,i)}}drawMarker(n,l,o,a){if(this.seriesLabels.markerVisible){let e=_.empty,t=O.trunc(l.right+2*n.options.zoom),i=O.trunc(l.left-(2+this.seriesLabels.markerSize.width)*n.options.zoom),s=(D["StiOptions"].Engine.allowFixPieChartMarkerAlignment?this.seriesLabels.markerAlignment==P.d.StiMarkerAlignment.Right?e.x=this.clientRectangle.x<this.centerPie.x?t:i:e.x=this.clientRectangle.x>this.centerPie.x?t:i:e.x=this.seriesLabels.markerAlignment==P.d.StiMarkerAlignment.Right?t:i,e.y=O.trunc(l.y+(l.height-this.seriesLabels.markerSize.height*n.options.zoom)/2),e.width=O.trunc(this.seriesLabels.markerSize.width*n.options.zoom),e.height=O.trunc(this.seriesLabels.markerSize.height*n.options.zoom),o instanceof B?o:B.black),r=new A(s,1);n.fillRectangle2(a,e.x,e.y,e.width,e.height,null),n.drawRectangle2(r,e.x,e.y,e.width,e.height)}}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.borderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLabelText(e,t){let i=this.series.chart,s=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size),r=this.seriesLabels.core.getStringFormatGeom(e);r.alignment=X.Center,r.lineAlignment=X.Center,i.isAnimation?e.drawAnimationText(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,s,this.labelBrush,t,r,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g,p,f){super(e,t,i,s,r),this.text=n,this.seriesLabelsBrush=a,this.labelBrush=o,this.lineColor=c,this.borderColor=h,this.seriesBorderColor=u,this.seriesBrush=l,this.labelRect=d,this.startPoint=S,this.endPoint=m,this.arcPoint=g,this.centerPie=p,this.animation=f}},P.d.StiCenterTreemapLabelsGeom=class extends P.d.StiSeriesLabelsGeom{draw(e){if(super.draw(e),this.clientRectangle.width<2&&this.clientRectangle.height<2)return;let t=this.clientRectangle.clone(),i=this.series.chart,s=(i.isAnimation&&null==this.animation&&(this.animation=new H(P.d.StiChartHelper.globalBeginTimeElement,P.d.StiChartHelper.globalDurationElement)),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),this.drawMarker(e,t,this.seriesBorderColor,this.seriesBrush),t.x+t.width/2),r=t.y+t.height/2,n=(this.drawLabelArea(e,t),this.drawLabelText(e,t),e.pushTranslateTransform(s,r),e.pushRotateTransform(this.seriesLabels.angle),t.clone());n.x=-n.width/2,n.y=-n.height/2,e.popTransform(),e.popTransform()}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.series.chart,s=this.seriesLabels.drawBorder?new A(this.labelBorderColor,1):null;i.isAnimation?e.drawAnimationRectangle(this.seriesLabelsBrush,s,t,null,this.animation,null,null):(e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle(s,t))}drawLabelText(e,t){let i=new V(this.labelColor),s=this.series.chart,r=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size),n=this.seriesLabels.core.getStringFormatGeom(e);n.alignment=X.Center,n.lineAlignment=X.Center,s.isAnimation?e.drawAnimationText(this.text,r,i,t,n,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width,this.animation):e.drawRotatedString6(this.text,r,i,t,n,j.CenterCenter,0,this.seriesLabels.antialiasing,t.width)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c){super(e,t,i,s,r),this.text=n,this.labelColor=l,this.labelBorderColor=o,this.seriesBrush=a,this.seriesLabelsBrush=h,this.seriesBorderColor=u,this.font=d,this.animation=c}},P.d.StiStripsXGeom=class extends P.d.StiCellGeom{draw(s){let r=this.clientRectangle.clone();if(s.fillRectangle2(this.strip.stripBrush,r.x,r.y,r.width,r.height,null),this.strip.titleVisible){let e=new V(this.strip.titleColor),t=N.changeFontSize(this.strip.font,this.strip.font.size*s.options.zoom),i=s.getGenericStringFormat();s.drawRotatedString6(this.strip.text,t,e,r,i,j.CenterCenter,90,this.strip.antialiasing,0)}}constructor(e,t){super(t),this.strip=e}},P.d.StiStripsYGeom=class extends P.d.StiCellGeom{draw(s){let r=this.clientRectangle.clone();if(s.fillRectangle2(this.strip.stripBrush,r.x,r.y,r.width,r.height,null),this.strip.titleVisible){let e=new V(this.strip.titleColor),t=N.changeFontSize(this.strip.font,this.strip.font.size*s.options.zoom),i=s.getGenericStringFormat();s.drawRotatedString5(this.strip.text,t,e,r,i,j.CenterCenter,0,this.strip.antialiasing)}}constructor(e,t){super(t),this.strip=e}},P.d.StiChartTableGeom=class extends P.d.StiCellGeom{constructor(e,t,i,s,r){super(e),this.widthCellLegendTableChart=i,this.heightCellHeader=s,this.table=t,this.chartTable=r,this.pen=new A(r.gridLineColor),this.labelBrush=new V(r.textColor),this.labelHeaderBrush=new V(r.header.textColor)}draw(e){this.font=N.changeFontSize(this.chartTable.dataCells.font,this.chartTable.dataCells.font.size*e.options.zoom),this.sf=e.getGenericStringFormat(),this.sf.trimming=At.None,this.sf.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap,this.sf.alignment=X.Center,this.sf.lineAlignment=X.Center,this.fontHeader=N.changeFontSize(this.chartTable.header.font,this.chartTable.header.font.size*e.options.zoom),this.sfHeader=e.getGenericStringFormat(),this.sf.trimming=At.None,this.chartTable.header.wordWrap||(this.sf.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap),this.sfHeader.alignment=X.Center,this.sfHeader.lineAlignment=X.Center;let t=this.clientRectangle.clone(),i=this.chartTable.chart.area,s=i.reverseHor?t.x:t.x+this.widthCellLegendTableChart,r=t.y,n=t.width-this.widthCellLegendTableChart,l=this.heightCellHeader,o=new E(s,r,n,l),a=[];for(let e=1;e<this.table[0].length;e++)a.push(this.table[0][e]);this.drawHeaderArgument(e,o,a,i.xAxis.startFromZero);let h=i.reverseHor?t.right-this.widthCellLegendTableChart:t.x,u=t.y+this.heightCellHeader,d=this.widthCellLegendTableChart,c=t.height-this.heightCellHeader,S=new E(h,u,d,c),m=[];for(let e=1;e<this.table.length;e++)m.push(this.table[e][0]);this.drawTitleLegend(e,S,m);let g=i.reverseHor?t.x:t.x+this.widthCellLegendTableChart,p=t.y+this.heightCellHeader,f=t.width-this.widthCellLegendTableChart,w=t.height-this.heightCellHeader,y=new E(g,p,f,w);this.drawRootTable(e,y,i.xAxis.startFromZero)}drawHeaderArgument(r,n,l,o){r.fillRectangle(this.chartTable.header.brush,new E(n.x,n.y,n.width,n.height),null),this.chartTable.gridOutline&&r.drawRectangle(this.pen,n);let e=o?l.length+1:l.length-1,a=n.width/e;for(let s=0;s<l.length;s++){let e=0,t=(0!=s&&s!=l.length-1||(e=o?a/2:-a/2),o?a/2:-a/2),i=(0==s&&(t=0),new E(n.x+s*a+t,n.y,a+e,n.height));if(this.chartTable.header.wordWrap?r.drawRotatedString6(l[s],this.fontHeader,this.labelHeaderBrush,i,this.sfHeader,j.CenterCenter,0,!0,O.trunc(a+e)):r.drawRotatedString5(l[s],this.fontHeader,this.labelHeaderBrush,i,this.sfHeader,j.CenterCenter,0,!0),this.chartTable.gridLinesVert&&s!=l.length-1){let e=o?n.x+(s+1)*a+a/2:n.x+(s+1)*a-a/2;r.drawLine(this.pen,e,n.y,e,n.bottom)}}}drawTitleLegend(l,t,o){this.chartTable.gridOutline&&l.drawRectangle2(this.pen,t.x,t.y,t.width,t.height);let a=t.height/o.length;for(let n=0;n<o.length;n++){let i=t.x,s=t.y,r=t.width;if(this.chartTable.gridLinesHor&&0!=n&&l.drawLine(this.pen,i,s+a*n,i+r,s+a*n),this.chartTable.markerVisible){let e=new E(i+2,s+2+a*n,a-4,a-4),t=P.d.StiMarkerLegendFactory.createMarker(this.chartTable.chart.series.getByIndex(n));t.draw(l,this.chartTable.chart.series.getByIndex(n),e,n,o.length,-1),i+=a,r-=a}let e=new E(i,s+a*n,r,a);l.drawString(o[n],this.font,this.labelBrush,e,this.sf)}}drawRootTable(l,o,a){this.chartTable.gridOutline&&l.drawRectangle2(this.pen,o.x,o.y,o.width,o.height);let e=this.table.length,h=this.table[0].length,t=a?this.table[0].length:this.table[0].length-2,u=o.width/t,d=o.height/(e-1),c=this.font;if(this.chartTable.dataCells.shrinkFontToFit)for(let n=1;n<e;n++){this.chartTable.gridLinesHor&&n!=e-1&&l.drawLine(this.pen,o.x,o.y+n*d,o.right,o.y+n*d);for(let r=1;r<h;r++){let e=0,t=(1!=r&&r!=h-1||(e=a?u/2:-u/2),a?u/2:-u/2),i=(1==r&&(t=0),new E(o.x+(r-1)*u+t,o.y+(n-1)*d,u+e,d)),s=this.checkFontSize(l,this.table[n][r],c,i);while(!s){if(c.fontSize-=.5,c.fontSize<=this.chartTable.dataCells.shrinkFontToFitMinimumSize){c.fontSize=this.chartTable.dataCells.shrinkFontToFitMinimumSize;break}s=this.checkFontSize(l,this.table[n][r],c,i)}}}for(let r=1;r<e;r++){this.chartTable.gridLinesHor&&r!=e-1&&l.drawLine(this.pen,o.x,o.y+r*d,o.right,o.y+r*d);for(let s=1;s<h;s++){let e=0,t=(1!=s&&s!=h-1||(e=a?u/2:-u/2),a?u/2:-u/2),i=(1==s&&(t=0),new E(o.x+(s-1)*u+t,o.y+(r-1)*d,u+e,d));if(l.drawRotatedString5(this.table[r][s],c,this.labelBrush,i,this.sf,j.CenterCenter,0,!0),this.chartTable.gridLinesVert&&s<h-1){let e=a?o.x+s*u+u/2:o.x+s*u-u/2;l.drawLine(this.pen,e,o.y,e,o.bottom)}}}}checkFontSize(e,t,i,s){let r=e.measureRotatedString(t,i,s,this.sf,0);return r.width<s.width}},P.d.StiTrendCurveGeom=class extends P.d.StiCellGeom{draw(o){let a=R.create(M,this.points.length,!0);for(let e=0;e<this.points.length;e++)a[e]=this.points[e];let e=this.trendLine.lineColor,t=this.trendLine.lineWidth,i=this.trendLine.lineStyle,s=this.trendLine.showShadow,r=t*o.options.zoom;if(o.pushSmoothingModeToAntiAlias(),s){let e=new A(B.fromArgb(50,0,0,0),r+.5*o.options.zoom);e.penStyle=i,o.pushTranslateTransform(r,r),P.d.StiNullableDrawing.drawCurve(o,e,this.points,0),o.popTransform()}let n=new A(e,t*o.options.zoom);if(n.penStyle=i,o.drawCurve(n,a,0),this.trendLine.titleVisible&&0<a.length){let e=new V(this.trendLine.lineColor),t=N.changeFontSize(this.trendLine.font,this.trendLine.font.size*o.options.zoom),i=o.getGenericStringFormat(),s=Dt.empty,r=a[0],n=a[a.length-1],l=j.CenterCenter;switch(this.trendLine.position){case P.d.StiTrendLine_StiTextPosition.LeftBottom:s=r,l=j.LeftTop;break;case P.d.StiTrendLine_StiTextPosition.LeftTop:s=r,l=j.LeftBottom;break;case P.d.StiTrendLine_StiTextPosition.RightBottom:s=n,l=j.RightTop;break;case P.d.StiTrendLine_StiTextPosition.RightTop:s=n,l=j.RightBottom;break}o.drawRotatedString9(this.trendLine.text,t,e,s,i,l,0,!0,0)}o.popSmoothingMode()}constructor(e,t){super(P.d.StiBaseLineSeriesGeom.getClientRectangle(e,t.lineWidth)),this.points=e,this.trendLine=t}};{class or extends P.d.StiCellGeom{draw(n){let e=this.trendLine.lineColor,t=this.trendLine.lineWidth,i=this.trendLine.lineStyle,s=this.trendLine.showShadow,r=t*n.options.zoom;if(n.pushSmoothingModeToAntiAlias(),s){let e=new A(B.fromArgb(50,0,0,0),r+.5*n.options.zoom);e.penStyle=i,n.pushTranslateTransform(r,r),P.d.StiNullableDrawing.drawLines(n,e,or.getArray(this.pointStart,this.pointEnd)),n.popTransform()}let l=new A(e,t*n.options.zoom);if(l.penStyle=i,n.drawLine(l,this.pointStart.x,this.pointStart.y,this.pointEnd.x,this.pointEnd.y),this.trendLine.titleVisible){let e=new V(this.trendLine.lineColor),t=N.changeFontSize(this.trendLine.font,this.trendLine.font.size*n.options.zoom),i=n.getGenericStringFormat(),s=M.empty,r=j.CenterCenter;switch(this.trendLine.position){case P.d.StiTrendLine_StiTextPosition.LeftBottom:s=this.pointStart,r=j.LeftTop;break;case P.d.StiTrendLine_StiTextPosition.LeftTop:s=this.pointStart,r=j.LeftBottom;break;case P.d.StiTrendLine_StiTextPosition.RightBottom:s=this.pointEnd,r=j.RightTop;break;case P.d.StiTrendLine_StiTextPosition.RightTop:s=this.pointEnd,r=j.RightBottom;break}n.drawRotatedString9(this.trendLine.text,t,e,s,i,r,0,!0,0)}n.popSmoothingMode()}static getArray(e,t){let i=[e,t];return i}constructor(e,t,i){super(P.d.StiBaseLineSeriesGeom.getClientRectangle(or.getArray(e,t),i.lineWidth)),this.pointStart=e,this.pointEnd=t,this.trendLine=i}}P.d.StiTrendLineGeom=or}P.d.Sti3dOptions=class{constructor(){this.opacity_=1}meta(){return[new n("Opacity")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}get opacity(){return this.opacity_}set opacity(e){0<=e&&e<=1&&(this.opacity_=e)}},P.d.StiPie3dOptions=class extends P.d.Sti3dOptions{constructor(){super(...arguments),this.lighting=P.d.StiPie3dLightingStyle.Gradient,this.height_=25,this.distance_=4}meta(){return[...super.meta(),new n("Height","",25),new n("Distance","",4),new l("Lighting","",P.d.StiPie3dLightingStyle)]}get height(){return this.height_}set height(e){0<e&&(this.height_=e)}get distance(){return this.distance_}set distance(e){0<e&&(this.distance_=e)}};{class ar extends P.d.StiAxisArea{implements(){return ar.implementsStiBoxAndWhiskerArea||(ar.implementsStiBoxAndWhiskerArea=super.implements().concat([P.d.IStiBoxAndWhiskerArea])),ar.implementsStiBoxAndWhiskerArea}getDefaultSeriesType(){return P.d.StiBoxAndWhiskerSeries}getSeriesTypes(){return[P.d.StiBoxAndWhiskerSeries]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterAxisLabels,P.d.StiLeftAxisLabels,P.d.StiRightAxisLabels]}constructor(){super(),this.core=new P.d.StiBoxAndWhiskerAreaCoreXF(this)}}P.d.StiBoxAndWhiskerArea=ar}{class hr extends P.d.StiClusteredColumnArea{implements(){return hr.implementsStiScatterArea||(hr.implementsStiScatterArea=super.implements().concat([P.d.IStiScatterArea,P.d.IStiArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),hr.implementsStiScatterArea}getDefaultSeriesType(){return P.d.StiScatterLineSeries}getSeriesTypes(){return[P.d.StiScatterSeries,P.d.StiScatterLineSeries,P.d.StiScatterSplineSeries]}constructor(){super(),this.core=new P.d.StiScatterAreaCoreXF(this)}}P.d.StiScatterArea=hr}{class ur extends P.d.StiScatterArea{implements(){return ur.implementsStiBubbleArea||(ur.implementsStiBubbleArea=super.implements().concat([P.d.IStiScatterArea,P.d.IStiClusteredColumnArea,P.d.IStiArea,P.d.IStiAxisArea,s,r,P.d.IStiBubbleArea])),ur.implementsStiBubbleArea}getDefaultSeriesType(){return P.d.StiBubbleSeries}getSeriesTypes(){return[P.d.StiBubbleSeries]}constructor(){super(),this.core=new P.d.StiBubbleAreaCoreXF(this),this.interlacingHor=new P.d.StiInterlacingHor,this.interlacingVert=new P.d.StiInterlacingVert}}P.d.StiBubbleArea=ur}{class dr extends P.d.StiClusteredColumnArea{implements(){return dr.implementsStiCandlestickArea||(dr.implementsStiCandlestickArea=super.implements().concat([P.d.IStiCandlestickArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,P.d.IStiArea,r])),dr.implementsStiCandlestickArea}getDefaultSeriesType(){return P.d.StiCandlestickSeries}getSeriesTypes(){return[P.d.StiCandlestickSeries]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels]}constructor(){super(),this.core=new P.d.StiCandlestickAreaCoreXF(this)}}P.d.StiCandlestickArea=dr}{class cr extends P.d.StiClusteredColumnArea{implements(){return cr.implementsStiClusteredBarArea||(cr.implementsStiClusteredBarArea=super.implements().concat([P.d.IStiArea,P.d.IStiClusteredBarArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),cr.implementsStiClusteredBarArea}getDefaultSeriesType(){return P.d.StiClusteredBarSeries}getSeriesTypes(){return[P.d.StiClusteredBarSeries]}constructor(){super(),this.core=new P.d.StiClusteredBarAreaCoreXF(this)}}P.d.StiClusteredBarArea=cr}{class Sr extends P.d.StiClusteredColumnArea{implements(){return Sr.implementsStiAreaArea||(Sr.implementsStiAreaArea=super.implements().concat([P.d.IStiArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,P.d.IStiAreaArea,s,r])),Sr.implementsStiAreaArea}getDefaultSeriesType(){return P.d.StiAreaSeries}constructor(){super(),this.core=new P.d.StiAreaAreaCoreXF(this)}}P.d.StiAreaArea=Sr}P.d.StiHistogramArea=class extends P.d.StiAxisArea{getDefaultSeriesType(){return P.d.StiHistogramSeries}getSeriesTypes(){return[P.d.StiHistogramSeries]}constructor(){super(),this.core=new P.d.StiHistogramAreaCoreXF(this)}};{class mr extends P.d.StiClusteredColumnArea{implements(){return mr.implementsStiLineArea||(mr.implementsStiLineArea=super.implements().concat([P.d.IStiArea,P.d.IStiLineArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),mr.implementsStiLineArea}getDefaultSeriesType(){return P.d.StiLineSeries}constructor(){super(),this.core=new P.d.StiLineAreaCoreXF(this)}}P.d.StiLineArea=mr}{class gr extends P.d.StiClusteredColumnArea{implements(){return gr.implementsStiParetoArea||(gr.implementsStiParetoArea=super.implements().concat([P.d.IStiArea,P.d.IStiParetoArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),gr.implementsStiParetoArea}getDefaultSeriesType(){return P.d.StiParetoSeries}getSeriesTypes(){return[P.d.StiParetoSeries]}constructor(){super(),this.yRightAxis.visible=!0,this.yRightAxis.range.auto=!1,this.yRightAxis.range.maximum=100,this.yRightAxis.labels.textAfter="%",this.core=new P.d.StiParetoAreaCoreXF(this)}}P.d.StiParetoArea=gr}{class pr extends P.d.StiClusteredColumnArea{implements(){return pr.implementsStiSplineArea||(pr.implementsStiSplineArea=super.implements().concat([P.d.IStiArea,P.d.IStiSplineArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),pr.implementsStiSplineArea}getDefaultSeriesType(){return P.d.StiSplineSeries}constructor(){super(),this.core=new P.d.StiSplineAreaCoreXF(this)}}P.d.StiSplineArea=pr}{class fr extends P.d.StiClusteredColumnArea{implements(){return fr.implementsStiSplineAreaArea||(fr.implementsStiSplineAreaArea=super.implements().concat([P.d.IStiArea,P.d.IStiSplineAreaArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),fr.implementsStiSplineAreaArea}getDefaultSeriesType(){return P.d.StiSplineAreaSeries}constructor(){super(),this.core=new P.d.StiSplineAreaAreaCoreXF(this)}}P.d.StiSplineAreaArea=fr}{class wr extends P.d.StiClusteredColumnArea{implements(){return wr.implementsStiSteppedAreaArea||(wr.implementsStiSteppedAreaArea=super.implements().concat([P.d.IStiArea,P.d.IStiSteppedAreaArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),wr.implementsStiSteppedAreaArea}getDefaultSeriesType(){return P.d.StiSteppedAreaSeries}constructor(){super(),this.core=new P.d.StiSteppedAreaAreaCoreXF(this)}}P.d.StiSteppedAreaArea=wr}{class yr extends P.d.StiClusteredColumnArea{implements(){return yr.implementsStiSteppedLineArea||(yr.implementsStiSteppedLineArea=super.implements().concat([P.d.IStiArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,P.d.IStiSteppedLineArea,s,r])),yr.implementsStiSteppedLineArea}getDefaultSeriesType(){return P.d.StiSteppedLineSeries}constructor(){super(),this.core=new P.d.StiSteppedLineAreaCoreXF(this)}}P.d.StiSteppedLineArea=yr}{class xr extends P.d.StiAxisArea{implements(){return xr.implementsStiWaterfallArea||(xr.implementsStiWaterfallArea=super.implements().concat([P.d.IStiWaterfallArea,P.d.IStiRoundValuesArea])),xr.implementsStiWaterfallArea}meta(){return[...super.meta(),new i("RoundValues")]}getDefaultSeriesType(){return P.d.StiWaterfallSeries}getSeriesTypes(){return[P.d.StiWaterfallSeries]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiInsideBaseAxisLabels,P.d.StiInsideEndAxisLabels,P.d.StiCenterAxisLabels,P.d.StiOutsideBaseAxisLabels,P.d.StiOutsideEndAxisLabels,P.d.StiOutsideAxisLabels,P.d.StiValueAxisLabels]}constructor(){super(),this.roundValues=!1,this.core=new P.d.StiWaterfallAreaCoreXF(this)}}P.d.StiWaterfallArea=xr}{class br extends P.d.StiArea{implements(){return br.implementsStiPieArea||(br.implementsStiPieArea=super.implements().concat([s,P.d.IStiPieArea,P.d.IStiArea,r])),br.implementsStiPieArea}meta(){return[...super.meta(),new ce("ColorEach")]}getDefaultSeriesLabelsType(){return P.d.StiCenterPieLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiInsideEndPieLabels,P.d.StiCenterPieLabels,P.d.StiOutsidePieLabels,P.d.StiTwoColumnsPieLabels]}getDefaultSeriesType(){return P.d.StiPieSeries}getSeriesTypes(){return[P.d.StiPieSeries]}constructor(){super(),this.core=new P.d.StiPieAreaCoreXF(this),this.colorEach=!0}}P.d.StiPieArea=br}{class Cr extends P.d.StiPieArea{implements(){return Cr.implementsStiDoughnutArea||(Cr.implementsStiDoughnutArea=super.implements().concat([s,P.d.IStiPieArea,P.d.IStiArea,r,P.d.IStiDoughnutArea])),Cr.implementsStiDoughnutArea}meta(){return[...super.meta(),new ce("ColorEach"),new o("Title"),new o("Indicator")]}getDefaultSeriesLabelsType(){return P.d.StiCenterPieLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterPieLabels,P.d.StiOutsidePieLabels]}getDefaultSeriesType(){return P.d.StiDoughnutSeries}getSeriesTypes(){return[P.d.StiDoughnutSeries]}clone(){let e=super.clone();return e.indicator=this.indicator.clone(),e}constructor(){super(),this.core=new P.d.StiDoughnutAreaCoreXF(this),this.indicator=new P.d.StiDoughnutAreaIndicator,this.colorEach=!0}}P.d.StiDoughnutArea=Cr}{class Ar{implements(){return Ar.implementsStiDoughnutAreaIndicator||(Ar.implementsStiDoughnutAreaIndicator=[s,r]),Ar.implementsStiDoughnutAreaIndicator}meta(){return[new o("Value"),new o("Title"),new i("Visible")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.value=this.value.clone(),e.title=this.title.clone(),e}constructor(){this.visible=!1,this.value=new P.d.StiDoughnutAreaIndicatorValue,this.title=new P.d.StiDoughnutAreaIndicatorTitle}}P.d.StiDoughnutAreaIndicator=Ar}{class Lr{constructor(){this.text="",this.color=B.transparent}implements(){return Lr.implementsStiDoughnutAreaIndicatorTitle||(Lr.implementsStiDoughnutAreaIndicatorTitle=[s,r]),Lr.implementsStiDoughnutAreaIndicatorTitle}meta(){return[new U("Text"),new e("Color","",B.transparent)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e}getColor(){if(this.color!=B.transparent)return this.color;return this.styleColor}}P.d.StiDoughnutAreaIndicatorTitle=Lr}{class Tr{constructor(){this.value="",this.color=B.transparent}implements(){return Tr.implementsStiDoughnutAreaIndicatorValue||(Tr.implementsStiDoughnutAreaIndicatorValue=[s,r]),Tr.implementsStiDoughnutAreaIndicatorValue}meta(){return[new U("Value"),new e("Color","",B.transparent)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e}getColor(){if(this.color!=B.transparent)return this.color;return this.styleColor}}P.d.StiDoughnutAreaIndicatorValue=Tr}{class vr extends P.d.StiClusteredBarArea{implements(){return vr.implementsStiStackedBarArea||(vr.implementsStiStackedBarArea=super.implements().concat([P.d.IStiClusteredBarArea,P.d.IStiClusteredColumnArea,P.d.IStiArea,P.d.IStiAxisArea,s,P.d.IStiStackedBarArea,r])),vr.implementsStiStackedBarArea}getDefaultSeriesType(){return P.d.StiStackedBarSeries}getSeriesTypes(){return[P.d.StiStackedBarSeries]}constructor(){super(),this.core=new P.d.StiStackedBarAreaCoreXF(this)}}P.d.StiStackedBarArea=vr}{class Fr extends P.d.StiStackedBarArea{implements(){return Fr.implementsStiFullStackedBarArea||(Fr.implementsStiFullStackedBarArea=super.implements().concat([P.d.IStiClusteredBarArea,P.d.IStiClusteredColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiFullStackedBarArea,P.d.IStiStackedBarArea,s,r])),Fr.implementsStiFullStackedBarArea}getDefaultSeriesType(){return P.d.StiFullStackedBarSeries}getSeriesTypes(){return[P.d.StiFullStackedBarSeries]}constructor(){super(),this.core=new P.d.StiFullStackedBarAreaCoreXF(this)}}P.d.StiFullStackedBarArea=Fr}{class kr extends P.d.StiAxisArea{implements(){return kr.implementsStiStackedColumnArea||(kr.implementsStiStackedColumnArea=super.implements().concat([s,P.d.IStiStackedColumnArea,P.d.IStiAxisArea,r,P.d.IStiArea])),kr.implementsStiStackedColumnArea}getDefaultSeriesType(){return P.d.StiStackedColumnSeries}getSeriesTypes(){return[P.d.StiStackedColumnSeries,P.d.StiStackedLineSeries,P.d.StiStackedSplineSeries,P.d.StiStackedAreaSeries,P.d.StiStackedSplineAreaSeries]}constructor(){super(),this.core=new P.d.StiStackedColumnAreaCoreXF(this)}}P.d.StiStackedColumnArea=kr}{class Br extends P.d.StiStackedColumnArea{implements(){return Br.implementsStiFullStackedColumnArea||(Br.implementsStiFullStackedColumnArea=super.implements().concat([P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiFullStackedColumnArea,s,r])),Br.implementsStiFullStackedColumnArea}getDefaultSeriesType(){return P.d.StiFullStackedColumnSeries}getSeriesTypes(){return[P.d.StiFullStackedColumnSeries,P.d.StiFullStackedLineSeries,P.d.StiFullStackedAreaSeries,P.d.StiFullStackedSplineSeries,P.d.StiFullStackedSplineAreaSeries]}constructor(){super(),this.core=new P.d.StiFullStackedColumnAreaCoreXF(this)}}P.d.StiFullStackedColumnArea=Br}{class Ir extends P.d.StiFullStackedColumnArea{implements(){return Ir.implementsStiFullStackedAreaArea||(Ir.implementsStiFullStackedAreaArea=super.implements().concat([P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiFullStackedColumnArea,s,r,P.d.IStiFullStackedAreaArea])),Ir.implementsStiFullStackedAreaArea}getDefaultSeriesType(){return P.d.StiFullStackedAreaSeries}constructor(){super(),this.core=new P.d.StiFullStackedAreaAreaCoreXF(this)}}P.d.StiFullStackedAreaArea=Ir}{class Dr extends P.d.StiFullStackedColumnArea{implements(){return Dr.implementsStiFullStackedLineArea||(Dr.implementsStiFullStackedLineArea=super.implements().concat([P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiFullStackedColumnArea,s,r,P.d.IStiFullStackedLineArea])),Dr.implementsStiFullStackedLineArea}getDefaultSeriesType(){return P.d.StiFullStackedLineSeries}constructor(){super(),this.core=new P.d.StiFullStackedLineAreaCoreXF(this)}}P.d.StiFullStackedLineArea=Dr}{class Or extends P.d.StiFullStackedColumnArea{implements(){return Or.implementsStiFullStackedSplineArea||(Or.implementsStiFullStackedSplineArea=super.implements().concat([P.d.IStiFullStackedSplineArea,P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiFullStackedColumnArea,s,r])),Or.implementsStiFullStackedSplineArea}getDefaultSeriesType(){return P.d.StiFullStackedSplineAreaSeries}constructor(){super(),this.core=new P.d.StiFullStackedSplineAreaCoreXF(this)}}P.d.StiFullStackedSplineArea=Or}{class Pr extends P.d.StiFullStackedColumnArea{implements(){return Pr.implementsStiFullStackedSplineAreaArea||(Pr.implementsStiFullStackedSplineAreaArea=super.implements().concat([P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiFullStackedColumnArea,P.d.IStiFullStackedSplineAreaArea,s,r])),Pr.implementsStiFullStackedSplineAreaArea}getDefaultSeriesType(){return P.d.StiFullStackedSplineSeries}constructor(){super(),this.core=new P.d.StiFullStackedSplineAreaAreaCoreXF(this)}}P.d.StiFullStackedSplineAreaArea=Pr}{class Rr extends P.d.StiArea{implements(){return Rr.implementsStiFunnelArea||(Rr.implementsStiFunnelArea=super.implements().concat([s,P.d.IStiArea,r,P.d.IStiFunnelArea])),Rr.implementsStiFunnelArea}meta(){return[...super.meta(),new ce("ColorEach")]}getDefaultSeriesType(){return P.d.StiFunnelSeries}getSeriesTypes(){return[P.d.StiFunnelSeries]}getDefaultSeriesLabelsType(){return P.d.StiNoneLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterFunnelLabels,P.d.StiOutsideRightFunnelLabels,P.d.StiOutsideLeftFunnelLabels]}constructor(){super(),this.core=new P.d.StiFunnelAreaCoreXF(this),this.colorEach=!0}}P.d.StiFunnelArea=Rr}P.d.StiFunnelWeightedSlicesArea=class extends P.d.StiFunnelArea{getDefaultSeriesType(){return P.d.StiFunnelWeightedSlicesSeries}getSeriesTypes(){return[P.d.StiFunnelWeightedSlicesSeries]}getDefaultSeriesLabelsType(){return P.d.StiNoneLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterFunnelLabels]}constructor(){super(),this.core=new P.d.StiFunnelAreaCoreXF(this),this.colorEach=!0}};{class Mr extends P.d.StiClusteredBarArea{implements(){return Mr.implementsStiGanttArea||(Mr.implementsStiGanttArea=super.implements().concat([P.d.IStiClusteredBarArea,P.d.IStiClusteredColumnArea,P.d.IStiArea,P.d.IStiAxisArea,s,P.d.IStiGanttArea,r])),Mr.implementsStiGanttArea}getDefaultSeriesType(){return P.d.StiGanttSeries}getSeriesTypes(){return[P.d.StiGanttSeries]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiValueAxisLabels,P.d.StiCenterAxisLabels,P.d.StiOutsideAxisLabels]}constructor(){super(),this.core=new P.d.StiGanttAreaCoreXF(this)}}P.d.StiGanttArea=Mr}{class Gr extends P.d.StiAxisArea{implements(){return Gr.implementsStiHeatmapArea||(Gr.implementsStiHeatmapArea=super.implements().concat([P.d.IStiHeatmapArea])),Gr.implementsStiHeatmapArea}getDefaultSeriesLabelsType(){return P.d.StiNoneLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterHeatmapLabels]}getDefaultSeriesType(){return P.d.StiHeatmapSeries}getSeriesTypes(){return[P.d.StiHeatmapSeries]}createNew(){return new Gr}constructor(){super(),this.core=new P.d.StiHeatmapAreaCoreXF(this)}}P.d.StiHeatmapArea=Gr}{class Vr extends P.d.StiArea{implements(){return Vr.implementsStiPictorialArea||(Vr.implementsStiPictorialArea=super.implements().concat([s,P.d.IStiPictorialArea,P.d.IStiRoundValuesArea,P.d.IStiArea,r])),Vr.implementsStiPictorialArea}meta(){return[...super.meta(),new i("RoundValues","",!0),new i("Actual","",!0)]}getDefaultSeriesLabelsType(){return P.d.StiNoneLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels]}getDefaultSeriesType(){return P.d.StiPictorialSeries}getSeriesTypes(){return[P.d.StiPictorialSeries]}constructor(){super(),this.roundValues=!0,this.actual=!1,this.core=new P.d.StiPictorialAreaCoreXF(this),this.colorEach=!0,this.roundValues=!0}}P.d.StiPictorialArea=Vr}{class Er extends P.d.StiArea{implements(){return Er.implementsStiPictorialStackedArea||(Er.implementsStiPictorialStackedArea=super.implements().concat([s,P.d.IStiArea,r])),Er.implementsStiPictorialStackedArea}getDefaultSeriesLabelsType(){return P.d.StiOutsideRightPictorialStackedLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterPictorialStackedLabels,P.d.StiOutsideLeftPictorialStackedLabels,P.d.StiOutsideRightPictorialStackedLabels]}getDefaultSeriesType(){return P.d.StiPictorialStackedSeries}getSeriesTypes(){return[P.d.StiPictorialStackedSeries]}constructor(){super(),this.core=new P.d.StiPictorialStackedAreaCoreXF(this),this.colorEach=!0}}P.d.StiPictorialStackedArea=Er}P.d.StiPie3dArea=class extends P.d.StiPieArea{meta(){return[...super.meta(),new ce("ColorEach")]}getDefaultSeriesLabelsType(){return P.d.StiCenterPie3dLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterPie3dLabels]}getDefaultSeriesType(){return P.d.StiPie3dSeries}getSeriesTypes(){return[P.d.StiPie3dSeries]}constructor(){super(),this.core=new P.d.StiPie3dAreaCoreXF(this),this.colorEach=!0}};{class Xr extends P.d.StiRadarArea{implements(){return Xr.implementsStiRadarAreaArea||(Xr.implementsStiRadarAreaArea=super.implements().concat([s,P.d.IStiRadarArea,P.d.IStiArea,P.d.IStiRadarAreaArea,r])),Xr.implementsStiRadarAreaArea}getDefaultSeriesType(){return P.d.StiRadarAreaSeries}getSeriesTypes(){return[P.d.StiRadarPointSeries,P.d.StiRadarLineSeries,P.d.StiRadarAreaSeries]}constructor(){super(),this.core=new P.d.StiRadarAreaAreaCoreXF(this)}}P.d.StiRadarAreaArea=Xr}{class Nr extends P.d.StiRadarArea{implements(){return Nr.implementsStiRadarLineArea||(Nr.implementsStiRadarLineArea=super.implements().concat([s,P.d.IStiRadarArea,P.d.IStiArea,r,P.d.IStiRadarLineArea])),Nr.implementsStiRadarLineArea}getDefaultSeriesType(){return P.d.StiRadarLineSeries}getSeriesTypes(){return[P.d.StiRadarPointSeries,P.d.StiRadarLineSeries,P.d.StiRadarAreaSeries]}constructor(){super(),this.core=new P.d.StiRadarLineAreaCoreXF(this)}}P.d.StiRadarLineArea=Nr}{class jr extends P.d.StiRadarArea{implements(){return jr.implementsStiRadarPointArea||(jr.implementsStiRadarPointArea=super.implements().concat([s,P.d.IStiRadarPointArea,P.d.IStiRadarArea,P.d.IStiArea,r])),jr.implementsStiRadarPointArea}getDefaultSeriesType(){return P.d.StiRadarPointSeries}getSeriesTypes(){return[P.d.StiRadarPointSeries,P.d.StiRadarLineSeries,P.d.StiRadarAreaSeries]}constructor(){super(),this.core=new P.d.StiRadarPointAreaCoreXF(this)}}P.d.StiRadarPointArea=jr}{class _r extends P.d.StiClusteredColumnArea{implements(){return _r.implementsStiRangeArea||(_r.implementsStiRangeArea=super.implements().concat([P.d.IStiArea,P.d.IStiRangeArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),_r.implementsStiRangeArea}getDefaultSeriesType(){return P.d.StiRangeSeries}getSeriesTypes(){return[P.d.StiRangeSeries]}constructor(){super(),this.core=new P.d.StiRangeAreaCoreXF(this)}}P.d.StiRangeArea=_r}{class Hr extends P.d.StiClusteredColumnArea{implements(){return Hr.implementsStiRangeBarArea||(Hr.implementsStiRangeBarArea=super.implements().concat([P.d.IStiArea,P.d.IStiRangeBarArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),Hr.implementsStiRangeBarArea}getDefaultSeriesType(){return P.d.StiRangeBarSeries}getSeriesTypes(){return[P.d.StiRangeBarSeries]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiInsideBaseAxisLabels,P.d.StiOutsideBaseAxisLabels,P.d.StiOutsideAxisLabels,P.d.StiLeftAxisLabels,P.d.StiValueAxisLabels,P.d.StiRightAxisLabels]}constructor(){super(),this.core=new P.d.StiRangeBarAreaCoreXF(this)}}P.d.StiRangeBarArea=Hr}{class zr extends P.d.StiClusteredColumnArea{implements(){return zr.implementsStiSplineRangeArea||(zr.implementsStiSplineRangeArea=super.implements().concat([P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiClusteredColumnArea,P.d.IStiSplineRangeArea,s,r])),zr.implementsStiSplineRangeArea}getDefaultSeriesType(){return P.d.StiSplineRangeSeries}getSeriesTypes(){return[P.d.StiSplineRangeSeries]}constructor(){super(),this.core=new P.d.StiSplineRangeAreaCoreXF(this)}}P.d.StiSplineRangeArea=zr}{class Yr extends P.d.StiClusteredColumnArea{implements(){return Yr.implementsStiSteppedRangeArea||(Yr.implementsStiSteppedRangeArea=super.implements().concat([P.d.IStiArea,P.d.IStiClusteredColumnArea,P.d.IStiSteppedRangeArea,P.d.IStiAxisArea,s,r])),Yr.implementsStiSteppedRangeArea}getDefaultSeriesType(){return P.d.StiSteppedRangeSeries}getSeriesTypes(){return[P.d.StiSteppedRangeSeries]}constructor(){super(),this.core=new P.d.StiSteppedRangeAreaCoreXF(this)}}P.d.StiSteppedRangeArea=Yr}{class Wr extends P.d.StiAxisArea{implements(){return Wr.implementsStiRibbonArea||(Wr.implementsStiRibbonArea=super.implements().concat([s,P.d.IStiRibbonArea,P.d.IStiAxisArea,r,P.d.IStiArea])),Wr.implementsStiRibbonArea}getDefaultSeriesType(){return P.d.StiRibbonSeries}getSeriesTypes(){return[P.d.StiRibbonSeries]}constructor(){super(),this.core=new P.d.StiStackedColumnAreaCoreXF(this)}}P.d.StiRibbonArea=Wr}{class Jr extends P.d.StiStackedColumnArea{implements(){return Jr.implementsStiStackedAreaArea||(Jr.implementsStiStackedAreaArea=super.implements().concat([P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiStackedAreaArea,s,r])),Jr.implementsStiStackedAreaArea}getDefaultSeriesType(){return P.d.StiStackedAreaSeries}constructor(){super(),this.core=new P.d.StiStackedAreaAreaCoreXF(this)}}P.d.StiStackedAreaArea=Jr}{class Zr extends P.d.StiStackedColumnArea{implements(){return Zr.implementsStiStackedLineArea||(Zr.implementsStiStackedLineArea=super.implements().concat([P.d.IStiStackedLineArea,P.d.IStiArea,P.d.IStiAxisArea,P.d.IStiStackedColumnArea,s,r])),Zr.implementsStiStackedLineArea}getDefaultSeriesType(){return P.d.StiStackedLineSeries}constructor(){super(),this.core=new P.d.StiStackedLineAreaCoreXF(this)}}P.d.StiStackedLineArea=Zr}{class qr extends P.d.StiStackedColumnArea{implements(){return qr.implementsStiStackedSplineArea||(qr.implementsStiStackedSplineArea=super.implements().concat([P.d.IStiStackedSplineArea,P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiAxisArea,s,r])),qr.implementsStiStackedSplineArea}getDefaultSeriesType(){return P.d.StiStackedSplineAreaSeries}constructor(){super(),this.core=new P.d.StiStackedSplineAreaCoreXF(this)}}P.d.StiStackedSplineArea=qr}{class $r extends P.d.StiStackedColumnArea{implements(){return $r.implementsStiStackedSplineAreaArea||($r.implementsStiStackedSplineAreaArea=super.implements().concat([P.d.IStiAxisArea,P.d.IStiStackedColumnArea,P.d.IStiArea,P.d.IStiStackedSplineAreaArea,s,r])),$r.implementsStiStackedSplineAreaArea}getDefaultSeriesType(){return P.d.StiStackedSplineSeries}constructor(){super(),this.core=new P.d.StiStackedSplineAreaAreaCoreXF(this)}}P.d.StiStackedSplineAreaArea=$r}{class Kr extends P.d.StiClusteredColumnArea{implements(){return Kr.implementsStiStockArea||(Kr.implementsStiStockArea=super.implements().concat([P.d.IStiArea,P.d.IStiStockArea,P.d.IStiClusteredColumnArea,P.d.IStiAxisArea,s,r])),Kr.implementsStiStockArea}getDefaultSeriesType(){return P.d.StiStockSeries}getSeriesTypes(){return[P.d.StiStockSeries]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels]}constructor(){super(),this.core=new P.d.StiStockAreaCoreXF(this)}}P.d.StiStockArea=Kr}{class Qr extends P.d.StiArea{implements(){return Qr.implementsStiSunburstArea||(Qr.implementsStiSunburstArea=super.implements().concat([s,P.d.IStiSunburstArea,r])),Qr.implementsStiSunburstArea}getDefaultSeriesLabelsType(){return P.d.StiCenterPieLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterPieLabels]}getDefaultSeriesType(){return P.d.StiSunburstSeries}getSeriesTypes(){return[P.d.StiSunburstSeries]}constructor(){super(),this.core=new P.d.StiSunburstAreaCoreXF(this)}}P.d.StiSunburstArea=Qr}{class Ur extends P.d.StiArea{implements(){return Ur.implementsStiTreemapArea||(Ur.implementsStiTreemapArea=super.implements().concat([s,P.d.IStiTreemapArea,r])),Ur.implementsStiTreemapArea}getDefaultSeriesLabelsType(){return P.d.StiNoneLabels}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterTreemapLabels]}getDefaultSeriesType(){return P.d.StiTreemapSeries}getSeriesTypes(){return[P.d.StiTreemapSeries]}constructor(){super(),this.core=new P.d.StiTreemapAreaCoreXF(this)}}P.d.StiTreemapArea=Ur}{class en{implements(){return en.implementsStiAxisTitle||(en.implementsStiAxisTitle=[P.d.IStiAxisTitle,r,s]),en.implementsStiAxisTitle}meta(){return[new i("AllowApplyStyle","",!0),new re("Font","","Tahoma",12,ne.Bold),new a("Text"),new e("Color","",B.black),new i("Antialiasing","",!0),new l("Alignment","",X,X.Center),new l("Position","",P.d.StiTitlePosition,P.d.StiTitlePosition.Outside),new l("Direction","",P.d.StiDirection,P.d.StiDirection.LeftToRight)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.alignment=this.alignment,e.direction=this.direction,e.font=this.font.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.title=e),e}constructor(e=new S("Tahoma",12,ne.Bold),t="",i=B.black,s=!0,r=X.Center,n=P.d.StiDirection.LeftToRight,l=!0,o=P.d.StiTitlePosition.Outside){this.allowApplyStyle=!0,this.font=new S("Tahoma",12,ne.Bold),this.text="",this.color=B.black,this.antialiasing=!0,this.alignment=X.Center,this.position=P.d.StiTitlePosition.Outside,this.direction=P.d.StiDirection.LeftToRight,this.font=e,this.text=t,this.color=i,this.antialiasing=s,this.alignment=r,this.direction=n,this.allowApplyStyle=l,this.position=o,this.core=new P.d.StiAxisTitleCoreXF(this)}}P.d.StiAxisTitle=en}{class tn extends te{implements(){return tn.implementsStiConstantLines||(tn.implementsStiConstantLines=super.implements().concat([P.d.IStiConstantLines,r,s])),tn.implementsStiConstantLines}meta(){return[...super.meta(),new i("AllowApplyStyle","",!0),new i("Antialiasing","",!0),new l("Position","",P.d.StiConstantLines_StiTextPosition,P.d.StiConstantLines_StiTextPosition.LeftTop),new re(["Font","fn"],"","Arial",7),new a("Text"),new i("TitleVisible","",!0),new l("Orientation","",P.d.StiConstantLines_StiOrientation,P.d.StiConstantLines_StiOrientation.Horizontal),new n("LineWidth","",1),new l("LineStyle","",p,p.Solid),new e("LineColor","",B.black),new i("ShowInLegend","",!0),new i("ShowBehind"),new U("AxisValue","","1"),new i("Visible","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.constantLines=e),e}get serviceCategory(){return"Chart"}get ServiceType(){return tn}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}toString(){return this.serviceName}constructor(){super(),this._allowApplyStyle=!0,this.antialiasing=!0,this.position=P.d.StiConstantLines_StiTextPosition.LeftTop,this.font=new S("Arial",7),this.text="",this.titleVisible=!0,this.orientation=P.d.StiConstantLines_StiOrientation.Horizontal,this.lineWidth=1,this.lineStyle=p.Solid,this.lineColor=B.black,this.showInLegend=!0,this.showBehind=!1,this.axisValue="1",this.visible=!0,this.core=new P.d.StiConstantLinesCoreXF(this)}}P.d.StiConstantLines=tn}{class sn extends oe{implements(){return sn.implementsStiChartFiltersCollection||(sn.implementsStiChartFiltersCollection=[s,r]),sn.implementsStiChartFiltersCollection}saveToJsonObject(t){if(0==this.list.length)return null;let i=new le,s=0;for(let e of this.list)i.addPropertyJObject(s.toString(),e.saveToJsonObject(t)),s++;return i}loadFromJsonObject(e){for(let t of e.properties()){let e=new P.d.StiChartFilter;this.add(e),e.loadFromJsonObject(t.value)}}loadFromXml(t){for(let e=0;e<t.childNodes.length;e++){let s=t.childNodes[e];if("value"==s.nodeName){let e=s.textContent.split(","),t=e[2],i=("LessThenOrEqualTo"==(t="LessThen"==(t="GreaterThenOrEqualTo"==(t="GreaterThen"==t?"GreaterThan":t)?"GreaterThanOrEqualTo":t)?"LessThan":t)&&(t="LessThanOrEqualTo"),new P.d.StiChartFilter(me.parse(q,e[0]),me.parse(Z,e[1]),me.parse(J,t),ge.decodeName(e[3])));this.add(i)}}}clone(){let t=new sn;for(let e of this.list)t.add(e.clone());return t}add(e){this.list.push(e),null==e.filters&&(e.filters=this)}}P.d.StiChartFiltersCollection=sn}{class rn{constructor(e,t,i,s,r,n,l,o,a,h,u,d,c,S,m,g){this.index=e,this.argument=t,this.value=i,this.valueEnd=s,this.weight=l,this.xValue=r,this.yValue=n,this.valueOpen=o,this.valueClose=a,this.valueLow=h,this.valueHigh=u,this.title=d,this.key=c,this.color=S,this.toolTip=m,this.tag=g}}P.d.StiDataItem=rn,P.d.StiDataItemComparer=class{compare(e,t){let i=null,s=null;if(s=this.sortType==P.d.StiSeriesSortType.Value?(i=e.value,t.value):(i=e.argument,t.argument),null==i&&null==s)return 0;if(null==i)return 1;if(null==s)return-1;let r=i[D.System.StiObject.stimulsoft]().compareTo(s);return(r=0==r?e.index[D.System.StiObject.stimulsoft]().compareTo(t.index):r)*this.directionFactor}constructor(e,t){this.directionFactor=1,this.sortType=P.d.StiSeriesSortType.None,this.directionFactor=1,t==P.d.StiSeriesSortDirection.Descending&&(this.directionFactor=-1),this.sortType=e}}}{class nn{implements(){return nn.implementsStiRadarGridLines||(nn.implementsStiRadarGridLines=[s,P.d.IStiRadarGridLines,r]),nn.implementsStiRadarGridLines}meta(){return[new i("AllowApplyStyle","_",!0),new e("Color","",B.silver),new l("Style","",p,p.Dot),new i("Visible","",!0),new i("Area","needSetAreaJsonPropertyInternal").get(()=>null!=this.area)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.style=this.style,null!=this.core&&(e.core=this.core.clone(),e.core.gridLines=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}constructor(e=B.silver,t=p.Solid,i=!0,s=!0){this.needSetAreaJsonPropertyInternal=!1,this._allowApplyStyle=!0,this.color=B.silver,this.style=p.Solid,this.visible=!0,this.color=e,this.style=t,this.visible=i,this._allowApplyStyle=s,this.core=new P.d.StiRadarGridLinesCoreXF(this)}}P.d.StiRadarGridLines=nn}{class ln extends P.d.StiRadarGridLines{implements(){return ln.implementsStiRadarGridLinesHor||(ln.implementsStiRadarGridLinesHor=super.implements().concat([s,P.d.IStiRadarGridLines,P.d.IStiRadarGridLinesHor,r])),ln.implementsStiRadarGridLinesHor}constructor(e=B.silver,t=p.Solid,i=!0,s=!0){super(e,t,i,s)}}P.d.StiRadarGridLinesHor=ln}{class on extends P.d.StiRadarGridLines{implements(){return on.implementsStiRadarGridLinesVert||(on.implementsStiRadarGridLinesVert=super.implements().concat([s,P.d.IStiRadarGridLines,P.d.IStiRadarGridLinesVert,r])),on.implementsStiRadarGridLinesVert}constructor(e=B.silver,t=p.Solid,i=!0,s=!0){super(e,t,i,s)}}P.d.StiRadarGridLinesVert=on}P.d.StiHeatmapLegend=class extends P.d.StiLegend{constructor(){super(),this.direction=P.d.StiLegendDirection.TopToBottom,this.horAlignment=P.d.StiLegendHorAlignment.RightOutside,this.vertAlignment=P.d.StiLegendVertAlignment.Center,this.markerVisible=!0,this.markerSize=new Yt(10,10),this.markerAlignment=P.d.StiMarkerAlignment.Left,this.core=new P.d.StiHeatmapLegendCoreXF(this)}},P.d.StiMarker=class{implements(){return P.d.StiLineMarker.implementsStiMarker||(P.d.StiLineMarker.implementsStiMarker=[s,P.d.IStiMarker,r]),P.d.StiLineMarker.implementsStiMarker}is(e){if(e instanceof D.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return[new i("ShowInLegend","",!0),new i("Visible","",!0),new ee(["Brush","br"]),new e("BorderColor","",B.black),new n("Size","",7),new n("Angle"),new l("Type","",P.d.StiMarkerType,P.d.StiMarkerType.Circle),new l("Icon","",Ie)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.marker=e),e}constructor(){this.showInLegend=!0,this.visible=!0,this.extendedVisible=P.d.StiExtendedStyleBool.FromStyle,this.brush=new V(B.white),this.borderColor=B.black,this.size=7,this.angle=0,this.type=P.d.StiMarkerType.Circle,this.icon=null,this.core=new P.d.StiMarkerCoreXF(this)}};{class an extends P.d.StiMarker{implements(){return an.implementsStiLineMarker||(an.implementsStiLineMarker=super.implements().concat([s,P.d.IStiLineMarker,P.d.IStiMarker,r])),an.implementsStiLineMarker}meta(){return[...super.meta(),new n("Step","",15),new n("Size","",5),new i("Visible","",!1),new e("BorderColor","",B.transparent)]}constructor(){super(),this.step=15,this.visible=!1,this.borderColor=B.transparent,this.size=5}}P.d.StiLineMarker=an}{class hn{implements(){return hn.implementsStiRadarAxis||(hn.implementsStiRadarAxis=[s,P.d.IStiRadarAxis,r]),hn.implementsStiRadarAxis}meta(){return[new i("AllowApplyStyle","_",!0),new i("Visible","",!0),new o("Range"),new i("Area","jsonLoadFromJsonObjectArea").get(()=>null!=this.area)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.axis=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}constructor(e=new P.d.StiAxisRange,t=!0,i=!0){this.jsonLoadFromJsonObjectArea=!1,this._allowApplyStyle=!0,this.visible=!0,this.range=e,this.visible=t,this._allowApplyStyle=i}}P.d.StiRadarAxis=hn}{class un{implements(){return un.implementsStiRadarAxisLabels||(un.implementsStiRadarAxisLabels=[s,P.d.IStiRadarAxisLabels,r]),un.implementsStiRadarAxisLabels}meta(){return[new i("RotationLabels","",!0),new a("TextBefore"),new a("TextAfter"),new i("AllowApplyStyle","",!0),new i("DrawBorder"),new a("Format"),new re(["Font","fn"],"","Tahoma",8),new i("Antialiasing","",!0),new e("Color","",B.black),new e("BorderColor","",B.black),new ee(["Brush","bh"]),new n("Width","",0),new i("WordWrap")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.font=this.font.clone(),e.brush=this.brush.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.labels=e),e}constructor(e="",t=new S("Tahoma",8),i=!0,s=!1,r=B.black,n=B.black,l=new V(B.gainsboro),o=!0,a=!0,h=0,u=!1){this.allowApplyStyle=!0,this.rotationLabels=!0,this.textBefore="",this.textAfter="",this.drawBorder=!1,this.format="",this.font=new S("Tahoma",8),this.antialiasing=!0,this.color=B.black,this.borderColor=B.black,this.brush=new V(B.gainsboro),this.width=0,this.wordWrap=!1,this.format=e,this.font=t,this.antialiasing=i,this.drawBorder=s,this.color=r,this.borderColor=n,this.allowApplyStyle=o,this.brush=l,this.rotationLabels=a,this.width=h,this.wordWrap=u,this.core=new P.d.StiRadarAxisLabelsCoreXF(this)}}P.d.StiRadarAxisLabels=un}{class dn extends P.d.StiRadarAxis{implements(){return dn.implementsStiXRadarAxis||(dn.implementsStiXRadarAxis=super.implements().concat([P.d.IStiXRadarAxis,P.d.IStiRadarAxis,r,s])),dn.implementsStiXRadarAxis}meta(){return[...super.meta(),new o("Labels")]}get propName(){return""}clone(){let e=super.clone();return e.labels=this.labels.clone(),e}get xCore(){return this.core}constructor(e=new P.d.StiRadarAxisLabels,t=new P.d.StiAxisRange,i=!0,s=!0){super(t,i,s),this.labels=new P.d.StiRadarAxisLabels,this.core=new P.d.StiXRadarAxisCoreXF(this),this.labels=e}}P.d.StiXRadarAxis=dn}{class cn extends P.d.StiRadarAxis{implements(){return cn.implementsStiYRadarAxis||(cn.implementsStiYRadarAxis=super.implements().concat([P.d.IStiYRadarAxis,P.d.IStiRadarAxis,r,s])),cn.implementsStiYRadarAxis}meta(){return[...super.meta(),new o("Labels"),new o("Ticks"),new l("LineStyle","",p,p.Solid),new e("LineColor","",B.gray),new n("LineWidth","",1)]}get propName(){return""}clone(){let e=super.clone();return e.lineStyle=this.lineStyle,e.labels=this.labels.clone(),e.ticks=this.ticks.clone(),e}get yCore(){return this.core}constructor(e=new P.d.StiAxisLabels,t=new P.d.StiAxisRange,i=new P.d.StiAxisTicks,s=p.Solid,r=B.gray,n=1,l=!0,o=!0){super(t,l,o),this.labels=new P.d.StiAxisLabels,this.ticks=new P.d.StiAxisTicks,this.lineStyle=p.Solid,this.lineColor=B.gray,this.lineWidth=1,this.info=new P.d.StiAxisInfoXF,this.core=new P.d.StiYRadarAxisCoreXF(this),this.labels=e,this.ticks=i,this.lineStyle=s,this.lineColor=r,this.lineWidth=n}}P.d.StiYRadarAxis=cn}{class Sn{constructor(){this.parentSeries=null}implements(){return Sn.implementsStiSeriesInteraction||(Sn.implementsStiSeriesInteraction=[P.d.IStiSeriesInteraction,s,r]),Sn.implementsStiSeriesInteraction}meta(){return[new a("DrillDownPageGuid")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}getReport(){if(null==this.parentSeries)return null;if(null==this.parentSeries.chart)return null;return this.parentSeries.chart.report}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e}get hyperlink(){return this.parentSeries.hyperlink}set hyperlink(e){this.parentSeries.hyperlink=e}get tag(){return this.parentSeries.tag}set tag(e){this.parentSeries.tag=e}get toolTip(){return this.parentSeries.toolTip}set toolTip(e){this.parentSeries.toolTip=e}get hyperlinkDataColumn(){return this.parentSeries.hyperlinkDataColumn}set hyperlinkDataColumn(e){this.parentSeries.hyperlinkDataColumn=e}get tagDataColumn(){return this.parentSeries.tagDataColumn}set tagDataColumn(e){this.parentSeries.tagDataColumn=e}get toolTipDataColumn(){return this.parentSeries.toolTipDataColumn}set toolTipDataColumn(e){this.parentSeries.toolTipDataColumn=e}get listOfHyperlinks(){return this.parentSeries.listOfHyperlinks}set listOfHyperlinks(e){this.parentSeries.listOfHyperlinks=e}get listOfTags(){return this.parentSeries.listOfTags}set listOfTags(e){this.parentSeries.listOfTags=e}get listOfToolTips(){return this.parentSeries.listOfToolTips}set listOfToolTips(e){this.parentSeries.listOfToolTips=e}get allowSeries(){return this.parentSeries.allowSeries}set allowSeries(e){this.parentSeries.allowSeries=e}get allowSeriesElements(){return this.parentSeries.allowSeriesElements}set allowSeriesElements(e){this.parentSeries.allowSeriesElements=e}get drillDownEnabled(){return this.parentSeries.drillDownEnabled}set drillDownEnabled(e){this.parentSeries.drillDownEnabled=e}get drillDownReport(){return this.parentSeries.drillDownReport}set drillDownReport(e){this.parentSeries.drillDownReport=e}get drillDownPage(){return this.parentSeries.drillDownPage}set drillDownPage(e){this.parentSeries.drillDownPage=e}get drillDownPageGuid(){return this.parentSeries.drillDownPageGuid}set drillDownPageGuid(e){this.parentSeries.drillDownPageGuid=e}get parentComponent(){if(null==this.parentSeries||null==this.parentSeries.chart)return null;return this.parentSeries.chart}}P.d.StiSeriesInteraction=Sn}P.d.StiSeriesPointsInfo=class{constructor(){this.additionalSeriesId=""}};{class mn extends P.d.StiSeries{implements(){return mn.implementsStiBoxAndWhiskerSeries||(mn.implementsStiBoxAndWhiskerSeries=super.implements().concat([P.d.IStiBoxAndWhiskerSeries,P.d.IStiSeriesBorderThickness])),mn.implementsStiBoxAndWhiskerSeries}meta(){return[...super.meta(),new ce(["TopN","TrendLine"]),new i("ShowInnerPoints"),new i("ShowMeanMarkers","",!0),new n("BorderThickness","",1),new ee("Brush")]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiBoxAndWhiskerArea}constructor(){super(),this.allowApplyBrush=!1,this.showInnerPoints=!1,this.showMeanMarkers=!0,this.borderThickness=1,this.seriesLabels=new P.d.StiNoneLabels,this.core=new P.d.StiBoxAndWhiskerSeriesCoreXF(this)}}P.d.StiBoxAndWhiskerSeries=mn}{class gn extends P.d.StiScatterSeries{implements(){return gn.implementsStiBubbleSeries||(gn.implementsStiBubbleSeries=super.implements().concat([P.d.IStiBaseLineSeries,P.d.IStiBubbleSeries,P.d.IStiFontIconsSeries,P.d.IStiScatterSeries,P.d.IStiSeriesBorderThickness,s,P.d.IStiSeries,r])),gn.implementsStiBubbleSeries}meta(){return[...super.meta(),new ce(["LineMarker","Marker"]),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new ee("Brush"),new a("WeightDataColumn"),new fe("Weight"),new fe("ListOfWeights"),new l("Icon","",Ie),new n("BubbleScale","",100)]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiBubbleArea}get weights(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfWeights))return P.d.StiSeries.getValuesFromString(this.listOfWeights);let e=this.chart.series.indexOf(this);if(0==e)return this._weights;return[3+3*e,5+4*e,9+3*e]}return this._weights}set weights(e){this._weights=e}get weightsString(){let t=new be,i=!0;for(let e of this.weights)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set weightsString(e){if(null==e||0==e.trim().length)this._weights=[];else{let t=e.split(";"),i=(this._weights=R.create(Number,t.length),0);for(let e of t)this._weights[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}onGetWeight(e){}invokeGetWeight(e,t){try{this.onGetWeight(t),null!=this.getWeight&&this.getWeight(e,t)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetWeight...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfWeights(e){}invokeGetListOfWeights(i,s,r){try{if(this.onGetListOfWeights(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfWeights**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfWeights,e));s.value=i.report.toString2(t)}null!=this.getListOfWeights&&this.getListOfWeights(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfWeights...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get bubbleScale(){return this._bubbleScale}set bubbleScale(e){this._bubbleScale=e<0?100:e}constructor(){super(),this.borderColor=B.gray,this.brush=new V(B.gainsboro),this._weights=[1,3,2],this.weightDataColumn="",this.weight="",this.listOfWeights="",this.icon=null,this.borderThickness=1,this._bubbleScale=100,this.core=new P.d.StiBubbleSeriesCoreXF(this)}}P.d.StiBubbleSeries=gn}{class pn extends P.d.StiSeries{implements(){return pn.implementsStiClusteredColumnSeries||(pn.implementsStiClusteredColumnSeries=super.implements().concat([s,P.d.IStiClusteredColumnSeries,P.d.IStiFontIconsSeries,P.d.IStiSeriesBorderThickness,ke,r,P.d.IStiSeries,P.d.IStiAllowApplyBrushNegative,P.d.IStiShowZerosSeries])),pn.implementsStiClusteredColumnSeries}meta(){return[...super.meta(),new i("ShowZeros"),new n("Width","_",.9),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new ee("Brush"),new ee("BrushNegative"),new i("AllowApplyBrushNegative"),new l("Icon","",Ie),new a("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Be.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Be.tryParse(e.textContent))]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiClusteredColumnArea}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}constructor(){super(),this.showZeros=!1,this.cornerRadius=new Be,this._width=.9,this.borderColor=B.gray,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.icon=null,this.borderThickness=1,this.core=new P.d.StiClusteredColumnSeriesCoreXF(this)}}P.d.StiClusteredColumnSeries=pn}{class fn extends P.d.StiClusteredColumnSeries{implements(){return fn.implementsStiClusteredBarSeries||(fn.implementsStiClusteredBarSeries=super.implements().concat([s,P.d.IStiClusteredColumnSeries,P.d.IStiSeries,r,P.d.IStiClusteredBarSeries,P.d.IStiAllowApplyBrushNegative])),fn.implementsStiClusteredBarSeries}get xAxis(){if(this.yAxis==P.d.StiSeriesYAxis.LeftYAxis)return P.d.StiSeriesXAxis.BottomXAxis;return P.d.StiSeriesXAxis.TopXAxis}set xAxis(e){this.yAxis=e==P.d.StiSeriesXAxis.BottomXAxis?P.d.StiSeriesYAxis.LeftYAxis:P.d.StiSeriesYAxis.RightYAxis}getDefaultAreaType(){return P.d.StiClusteredBarArea}constructor(){super(),this.core=new P.d.StiClusteredBarSeriesCoreXF(this)}}P.d.StiClusteredBarSeries=fn}{class wn extends P.d.StiBaseLineSeries{implements(){return wn.implementsStiLineSeries||(wn.implementsStiLineSeries=super.implements().concat([s,P.d.IStiBaseLineSeries,P.d.IStiLineSeries,r,P.d.IStiSeries,P.d.IStiAllowApplyColorNegative])),wn.implementsStiLineSeries}getDefaultAreaType(){return P.d.StiClusteredColumnArea}constructor(){super(),this.core=new P.d.StiLineSeriesCoreXF(this)}}P.d.StiLineSeries=wn}{class yn extends P.d.StiLineSeries{implements(){return yn.implementsStiAreaSeries||(yn.implementsStiAreaSeries=super.implements().concat([P.d.IStiLineSeries,P.d.IStiBaseLineSeries,P.d.IStiAreaSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyBrushNegative])),yn.implementsStiAreaSeries}meta(){return[...super.meta(),new i("TopmostLine","",!0),new ee("Brush"),new ee("BrushNegative"),new i("AllowApplyBrushNegative")]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiClusteredColumnArea}constructor(){super(),this.topmostLine=!0,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.core=new P.d.StiAreaSeriesCoreXF(this)}}P.d.StiAreaSeries=yn}{class xn extends P.d.StiClusteredColumnSeries{implements(){return xn.implementsStiHistogramSeries||(xn.implementsStiHistogramSeries=super.implements().concat([s,P.d.IStiHistogramSeries,r,P.d.IStiSeries])),xn.implementsStiHistogramSeries}getDefaultAreaType(){return P.d.StiHistogramArea}get width(){return this._width1}set width(e){.01<=e&&e<=1&&(this._width1=e)}constructor(){super(),this._width1=.98,this.core=new P.d.StiHistogramSeriesCoreXF(this)}}P.d.StiHistogramSeries=xn}{class bn extends P.d.StiSeries{implements(){return bn.implementsStiParetoSeries||(bn.implementsStiParetoSeries=super.implements().concat([s,P.d.IStiParetoSeries,P.d.IStiSeriesBorderThickness,ke,P.d.IStiBaseLineSeries,P.d.IStiClusteredColumnSeries,r,P.d.IStiSeries,P.d.IStiAllowApplyBrushNegative,P.d.IStiShowNullsSeries,P.d.IStiShowZerosSeries])),bn.implementsStiParetoSeries}meta(){return[...super.meta(),new n("Width","_",.9),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new ee(["Brush","bh"]),new ce("Conditions"),new o("Marker"),new o("LineMarker"),new e("LineColor","",B.black),new l("LineStyle","",p,p.Solid),new i("Lighting","",!0),new n("LineWidth","",2),new i("AllowApplyLineColor","",!1),new l("Icon","",Ie),new a("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Be.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Be.tryParse(e.textContent))]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e.marker=this.marker.clone(),e.lineStyle=this.lineStyle,e}getDefaultAreaType(){return P.d.StiParetoArea}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}get showMarker(){return this.marker.visible}set showMarker(e){this.marker.visible=e}get markerColor(){return ct.toColor(this.marker.brush)}set markerColor(e){this.marker.brush=new V(e),this.marker.borderColor=f.dark(e,50)}get markerSize(){return this.marker.size}set markerSize(e){this.marker.size=e}get markerType(){return this.marker.type}set markerType(e){this.marker.type=e}get lineColor(){return this.getLineColor()}set lineColor(e){this.setLineColor(e)}getLineColor(){return this._lineColor}setLineColor(e){this._lineColor=e}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}constructor(){super(),this.showZeros=!1,this._width=.9,this.borderColor=B.gray,this.borderThickness=1,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.showNulls=!0,this.cornerRadius=new Be,this.marker=new P.d.StiMarker,this.lineMarker=new P.d.StiLineMarker,this._lineColor=B.black,this.lineStyle=p.Solid,this.lighting=!0,this._lineWidth=2,this.labelsOffset=0,this.lineColorNegative=B.firebrick,this.allowApplyColorNegative=!1,this.allowApplyLineColor=!1,this.showNullsAs=P.d.StiShowEmptyCellsAs.Gap,this.showZerosAs=P.d.StiShowEmptyCellsAs.Gap,this.icon=null,this.core=new P.d.StiParetoSeriesCoreXF(this)}}P.d.StiParetoSeries=bn}{class Cn extends P.d.StiBaseLineSeries{implements(){return Cn.implementsStiSplineSeries||(Cn.implementsStiSplineSeries=super.implements().concat([s,P.d.IStiBaseLineSeries,r,P.d.IStiSeries,P.d.IStiSplineSeries,P.d.IStiAllowApplyColorNegative])),Cn.implementsStiSplineSeries}meta(){return[...super.meta(),new ce("LineMarker"),new n("Tension","",.55)]}getDefaultAreaType(){return P.d.StiClusteredColumnArea}constructor(){super(),this.tension=.55,this.core=new P.d.StiSplineSeriesCoreXF(this)}}P.d.StiSplineSeries=Cn}{class An extends P.d.StiSplineSeries{implements(){return An.implementsStiSplineAreaSeries||(An.implementsStiSplineAreaSeries=super.implements().concat([P.d.IStiSplineSeries,P.d.IStiBaseLineSeries,s,P.d.IStiSeries,r,P.d.IStiSplineAreaSeries,P.d.IStiAllowApplyColorNegative])),An.implementsStiSplineAreaSeries}meta(){return[...super.meta(),new i("TopmostLine","",!0),new ee("Brush"),new ee("BrushNegative"),new i("AllowApplyBrushNegative")]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiClusteredColumnArea}constructor(){super(),this.topmostLine=!0,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.core=new P.d.StiSplineAreaSeriesCoreXF(this)}}P.d.StiSplineAreaSeries=An}{class Ln extends P.d.StiBaseLineSeries{implements(){return Ln.implementsStiSteppedLineSeries||(Ln.implementsStiSteppedLineSeries=super.implements().concat([s,P.d.IStiBaseLineSeries,P.d.IStiSeries,r,P.d.IStiSteppedLineSeries,P.d.IStiAllowApplyColorNegative])),Ln.implementsStiSteppedLineSeries}meta(){return[...super.meta(),new i("PointAtCenter")]}getDefaultAreaType(){return P.d.StiClusteredColumnArea}constructor(){super(),this.pointAtCenter=!1,this.core=new P.d.StiSteppedLineSeriesCoreXF(this)}}P.d.StiSteppedLineSeries=Ln}{class Tn extends P.d.StiSteppedLineSeries{implements(){return Tn.implementsStiSteppedAreaSeries||(Tn.implementsStiSteppedAreaSeries=super.implements().concat([P.d.IStiSteppedLineSeries,P.d.IStiBaseLineSeries,s,P.d.IStiSteppedAreaSeries,P.d.IStiSeries,r,P.d.IStiAllowApplyColorNegative])),Tn.implementsStiSteppedAreaSeries}meta(){return[...super.meta(),new i("TopmostLine","",!0),new ee(["Brush","bh"]),new ee("BrushNegative"),new i("AllowApplyBrushNegative")]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiClusteredColumnArea}constructor(){super(),this.topmostLine=!0,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.core=new P.d.StiSteppedAreaSeriesCoreXF(this)}}P.d.StiSteppedAreaSeries=Tn}{class vn extends P.d.StiClusteredColumnSeries{implements(){return vn.implementsStiWaterfallSeries||(vn.implementsStiWaterfallSeries=super.implements().concat([s,P.d.IStiSunburstSeries,r,P.d.IStiSeries])),vn.implementsStiWaterfallSeries}meta(){return[...super.meta(),new o("ConnectorLine"),new o("Total")]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiWaterfallArea}constructor(){super(),this.core=new P.d.StiWaterfallSeriesCoreXF(this),this.connectorLine=new P.d.StiWaterfallConnectorLine,this.total=new P.d.StiWaterfallTotal}}P.d.StiWaterfallSeries=vn}P.f.StiSeriesInteractionConverter=class{};{class Fn extends P.d.StiSeries{implements(){return Fn.implementsStiPieSeries||(Fn.implementsStiPieSeries=super.implements().concat([P.d.IStiPieSeries,P.d.IStiFontIconsSeries,r,P.d.IStiSeries,s,P.d.IStiAllowApplyBorderColor,P.d.IStiSeriesBorderThickness,P.d.IStiAllowApplyBrush,P.d.IStiShowZerosSeries])),Fn.implementsStiPieSeries}meta(){return[...super.meta(),new ce("TrendLine"),new i("ShowZeros"),new i("AllowApplyBrush","",!0),new i("AllowApplyBorderColor","",!0),new n("StartAngle","",0),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new ee(["Brush","bh"]),new i("Lighting","",!0),new n("Diameter","",0),new n("Distance","",0),new fe("CutPieList"),new l("Icon","",Ie)]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiPieArea}getArguments(){let e=super.getArguments();if(0==e.length&&null!=this.chart&&null!=this.chart.report&&this.chart.report.isDesigning&&!this.isDashboard)return["Arg1","Arg2","Arg3"];return e}setArguments(e){super.setArguments(e)}get diameter(){return this._diameter}set diameter(e){(this._diameter=e)<5&&(this._diameter=0)}get distance(){return this._distance}set distance(e){this._distance=Math.max(0,e)}get cutPieListValues(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.cutPieList))return P.d.StiSeries.getValuesFromString(this.cutPieList);return[]}return this._cutPieListValues}set cutPieListValues(e){this._cutPieListValues=e}get cuttedPieList(){return this.cutPieList}set cuttedPieList(e){this.cutPieList=e}onGetCutPieList(e){}invokeGetCutPieList(i,s){try{if(this.onGetCutPieList(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartPieSeriesCutPieList**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.cutPieList,e));s.value=i.report.toString2(t)}null!=this.getCutPieList&&this.getCutPieList(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetCutPieList property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}constructor(){super(),this.showZeros=!1,this.allowApplyBrush=!0,this.allowApplyBorderColor=!0,this.startAngle=0,this.borderColor=B.gray,this.borderThickness=1,this.brush=new V(B.gainsboro),this.lighting=!0,this._diameter=0,this._distance=0,this._cutPieListValues=[],this.cutPieList="",this.icon=null,this.core=new P.d.StiPieSeriesCoreXF(this)}}P.d.StiPieSeries=Fn}{class kn extends P.d.StiPieSeries{implements(){return kn.implementsStiDoughnutSeries||(kn.implementsStiDoughnutSeries=super.implements().concat([P.d.IStiPieSeries,P.d.IStiSeries,r,P.d.IStiDoughnutSeries,s,P.d.IStiAllowApplyBorderColor,P.d.IStiAllowApplyBrush,P.d.IStiShowZerosSeries])),kn.implementsStiDoughnutSeries}meta(){return[...super.meta(),new n("Width")]}getDefaultAreaType(){return P.d.StiDoughnutArea}constructor(){super(),this.width=0,this.core=new P.d.StiDoughnutSeriesCoreXF(this)}}P.d.StiDoughnutSeries=kn}{class Bn extends P.d.StiSeries{implements(){return Bn.implementsStiCandlestickSeries||(Bn.implementsStiCandlestickSeries=super.implements().concat([s,P.d.IStiSeries,P.d.IStiFinancialSeries,r,P.d.IStiCandlestickSeries])),Bn.implementsStiCandlestickSeries}meta(){return[...super.meta(),new ce(["TopN","TrendLine","ValueDataColumn","Value","ListOfValues"]),new a("ValueDataColumnOpen"),new a("ValueDataColumnClose"),new a("ValueDataColumnHigh"),new a("ValueDataColumnLow"),new e("BorderColor","",B.gray),new e("BorderColorNegative","",B.gray),new n("BorderWidth","",2),new ee(["Brush","bh"]),new ee("BrushNegative"),new fe("ValueOpen"),new fe("ListOfValuesOpen"),new fe("ValueClose"),new fe("ListOfValuesClose"),new fe("ValueHigh"),new fe("ListOfValuesHigh"),new fe("ValueLow"),new fe("ListOfValuesLow")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiCandlestickArea}get valuesOpen(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesOpen))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesOpen);let e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+4+7*e,t+7+7*e,t+5+7*e]}return this._valuesOpen}set valuesOpen(e){this._valuesOpen=e}get valuesClose(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesClose))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesClose);let e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+2+7*e,t+3+7*e,t+5+7*e]}return this._valuesClose}set valuesClose(e){this._valuesClose=e}get valuesStringOpen(){let t=new be,i=!0;for(let e of this.valuesOpen)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringOpen(e){if(null==e||0==e.trim().length)this.valuesOpen=[];else{let t=e.split(";"),i=(this.valuesOpen=R.create(Number,t.length),0);for(let e of t)this.valuesOpen[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}get valuesStringClose(){let t=new be,i=!0;for(let e of this.valuesClose)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringClose(e){if(null==e||0==e.trim().length)this.valuesClose=[];else{let t=e.split(";"),i=(this.valuesClose=R.create(Number,t.length),0);for(let e of t)this.valuesClose[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}get valuesStringHigh(){let t=new be,i=!0;for(let e of this.valuesHigh)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringHigh(e){if(null==e||0==e.trim().length)this.valuesHigh=[];else{let t=e.split(";"),i=(this.valuesHigh=R.create(Number,t.length),0);for(let e of t)this.valuesHigh[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}get valuesStringLow(){let t=new be,i=!0;for(let e of this.valuesLow)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringLow(e){if(null==e||0==e.trim().length)this.valuesLow=[];else{let t=e.split(";"),i=(this.valuesLow=R.create(Number,t.length),0);for(let e of t)this.valuesLow[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}get valuesHigh(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesHigh))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesHigh);let e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+6+7*e,t+9+7*e,t+7+7*e]}return this._valuesHigh}set valuesHigh(e){this._valuesHigh=e}get valuesLow(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesLow))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesLow);let e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+1+7*e,t+3+7*e,t+4+7*e]}return this._valuesLow}set valuesLow(e){this._valuesLow=e}get borderWidth(){return this._borderWidth}set borderWidth(e){0<e&&(this._borderWidth=e)}onGetValueOpen(e){}invokeGetValueOpen(i,s){try{if(this.onGetValueOpen(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesValueOpen**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueOpen,e));s.value=i.report.toString2(t)}null!=this.getValueOpen&&this.getValueOpen(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueOpen...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesOpen(e){}invokeGetListOfValuesOpen(i,s){try{if(this.onGetListOfValuesOpen(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesListOfValuesOpen**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesOpen,e));s.value=i.report.toString2(t)}null!=this.getListOfValuesOpen&&this.getListOfValuesOpen(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesOpen...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetValueClose(e){}invokeGetValueClose(i,s){try{if(this.onGetValueClose(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesValueClose**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueClose,e));s.value=i.report.toString2(t)}null!=this.getValueClose&&this.getValueClose(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueClose...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesClose(e){}invokeGetListOfValuesClose(i,s){try{if(this.onGetListOfValuesClose(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesListOfValuesClose**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesClose,e));s.value=i.report.toString2(t)}null!=this.getListOfValuesClose&&this.getListOfValuesClose(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesClose...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetValueHigh(e){}invokeGetValueHigh(i,s){try{if(this.onGetValueHigh(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesValueHigh**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueHigh,e));s.value=i.report.toString2(t)}null!=this.getValueHigh&&this.getValueHigh(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueHigh...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesHigh(e){}invokeGetListOfValuesHigh(i,s){try{if(this.onGetListOfValuesHigh(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesListOfValuesHigh**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesHigh,e));s.value=i.report.toString2(t)}null!=this.getListOfValuesHigh&&this.getListOfValuesHigh(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesHigh...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetValueLow(e){}invokeGetValueLow(i,s){try{if(this.onGetValueLow(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesValueLow**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueLow,e));s.value=i.report.toString2(t)}null!=this.getValueLow&&this.getValueLow(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueLow...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesLow(e){}invokeGetListOfValuesLow(i,s){try{if(this.onGetListOfValuesLow(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesListOfValuesLow**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfValuesLow,e));s.value=i.report.toString2(t)}null!=this.getListOfValuesLow&&this.getListOfValuesLow(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesLow...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get valueOpen(){return this.valueObjOpen}set valueOpen(e){this.valueObjOpen=e}get valueClose(){return this.valueObjClose}set valueClose(e){this.valueObjClose=e}get valueHigh(){return this.valueObjHigh}set valueHigh(e){this.valueObjHigh=e}get valueLow(){return this.valueObjLow}set valueLow(e){this.valueObjLow=e}constructor(){super(),this._valuesOpen=[4,7,5],this._valuesClose=[2,3,5],this._valuesHigh=[6,9,7],this._valuesLow=[1,3,4],this.valueDataColumnOpen="",this.valueDataColumnClose="",this.valueDataColumnHigh="",this.valueDataColumnLow="",this.borderColor=B.gray,this.borderColorNegative=B.gray,this._borderWidth=2,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.transparent),this.valueObjOpen="",this.listOfValuesOpen="",this.valueObjClose="",this.listOfValuesClose="",this.valueObjHigh="",this.listOfValuesHigh="",this.valueObjLow="",this.listOfValuesLow="",this.core=new P.d.StiCandlestickSeriesCoreXF(this)}}P.d.StiCandlestickSeries=Bn}{class In extends P.d.StiCandlestickSeries{implements(){return In.implementsStiStockSeries||(In.implementsStiStockSeries=super.implements().concat([s,P.d.IStiStockSeries,P.d.IStiFinancialSeries,r,P.d.IStiSeries,P.d.IStiAllowApplyColorNegative])),In.implementsStiStockSeries}meta(){return[...super.meta(),new ce(["BorderColor","BorderWidth","Brush","BrushNegative"]),new e("LineColor","",B.black),new l("LineStyle","",p,p.Solid),new n("LineWidth","",2),new e("LineColorNegative","",B.firebrick),new i("AllowApplyColorNegative")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiStockArea}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}constructor(){super(),this.lineColor=B.black,this.lineStyle=p.Solid,this._lineWidth=2,this.lineColorNegative=B.firebrick,this.allowApplyColorNegative=!1,this.core=new P.d.StiStockSeriesCoreXF(this)}}P.d.StiStockSeries=In}{class Dn extends P.d.StiSeries{implements(){return Dn.implementsStiStackedBarSeries||(Dn.implementsStiStackedBarSeries=super.implements().concat([s,P.d.IStiStackedBarSeries,P.d.IStiSeriesBorderThickness,ri,ke,r,P.d.IStiSeries,P.d.IStiAllowApplyBrushNegative,P.d.IStiShowZerosSeries])),Dn.implementsStiStackedBarSeries}meta(){return[...super.meta(),new ce("TrendLine"),new i("ShowZeros"),new n("Width","_",.8),new e("BorderColor","",B.black),new n("BorderThickness","",1),new ee(["Brush","bh"]),new ee("BrushNegative"),new i("AllowApplyBrushNegative"),new l("Icon","",Ie),new a("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Be.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Be.tryParse(e.textContent))]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiStackedBarArea}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}get xAxis(){if(this.yAxis==P.d.StiSeriesYAxis.LeftYAxis)return P.d.StiSeriesXAxis.BottomXAxis;return P.d.StiSeriesXAxis.TopXAxis}set xAxis(e){this.yAxis=e==P.d.StiSeriesXAxis.BottomXAxis?P.d.StiSeriesYAxis.LeftYAxis:P.d.StiSeriesYAxis.RightYAxis}constructor(){super(),this.showZeros=!1,this._width=.8,this.borderColor=B.black,this.borderThickness=1,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.cornerRadius=new Be,this.icon=null,this.core=new P.d.StiStackedBarSeriesCoreXF(this)}}P.d.StiStackedBarSeries=Dn}{class On extends P.d.StiStackedBarSeries{implements(){return On.implementsStiFullStackedBarSeries||(On.implementsStiFullStackedBarSeries=super.implements().concat([s,P.d.IStiStackedBarSeries,P.d.IStiFontIconsSeries,r,P.d.IStiSeries,P.d.IStiFullStackedBarSeries])),On.implementsStiFullStackedBarSeries}getDefaultAreaType(){return P.d.StiFullStackedBarArea}constructor(){super(),this.core=new P.d.StiFullStackedBarSeriesCoreXF(this)}}P.d.StiFullStackedBarSeries=On}{class Pn extends P.d.StiSeries{constructor(){super(...arguments),this.showNulls=!0,this.marker=new P.d.StiMarker,this.lineMarker=new P.d.StiLineMarker,this.lighting=!0,this.lineColor=B.mediumBlue,this._lineWidth=2,this.lineStyle=p.Solid,this.lineColorNegative=B.firebrick,this.allowApplyColorNegative=!1}implements(){return Pn.implementsStiStackedBaseLineSeries||(Pn.implementsStiStackedBaseLineSeries=super.implements().concat([s,P.d.IStiStackedBaseLineSeries,r,P.d.IStiSeries])),Pn.implementsStiStackedBaseLineSeries}meta(){return[...super.meta(),new ce(["TrendLine","Conditions"]),new i("ShowNulls","",!0),new o("Marker"),new o("LineMarker"),new i("Lighting","",!0),new e("LineColor","",B.mediumBlue),new n("LineWidth","_",2),new l("LineStyle","",p,p.Solid),new e("LineColorNegative","",B.firebrick),new i("AllowApplyColorNegative")]}clone(){let e=super.clone();return e.lineStyle=this.lineStyle,e}get showMarker(){return this.marker.visible}set showMarker(e){this.marker.visible=e}get markerColor(){return ct.toColor(this.marker.brush)}set markerColor(e){this.marker.brush=new V(e),this.marker.borderColor=f.dark(e,50)}get markerSize(){return this.marker.size}set markerSize(e){this.marker.size=e}get markerType(){return this.marker.type}set markerType(e){this.marker.type=e}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}getDefaultAreaType(){return P.d.StiStackedColumnArea}}P.d.StiStackedBaseLineSeries=Pn}{class Rn extends P.d.StiStackedBaseLineSeries{implements(){return Rn.implementsStiStackedLineSeries||(Rn.implementsStiStackedLineSeries=super.implements().concat([s,P.d.IStiStackedBaseLineSeries,P.d.IStiStackedLineSeries,P.d.IStiSeries,r,P.d.IStiShowNullsSeries])),Rn.implementsStiStackedLineSeries}getDefaultAreaType(){return P.d.StiStackedColumnArea}constructor(){super(),this.core=new P.d.StiStackedLineSeriesCoreXF(this)}}P.d.StiStackedLineSeries=Rn}{class Mn extends P.d.StiStackedLineSeries{implements(){return Mn.implementsStiStackedAreaSeries||(Mn.implementsStiStackedAreaSeries=super.implements().concat([r,P.d.IStiStackedBaseLineSeries,P.d.IStiStackedLineSeries,s,P.d.IStiSeries,P.d.IStiStackedAreaSeries,P.d.IStiAllowApplyBrushNegative])),Mn.implementsStiStackedAreaSeries}meta(){return[...super.meta(),new ee(["Brush","bh"]),new ee("BrushNegative"),new i("AllowApplyBrushNegative")]}clone(){let e=super.clone();return e.brush=this.coreBrush.clone(),e}getDefaultAreaType(){return P.d.StiStackedColumnArea}get coreBrush(){return this.brush}set coreBrush(e){this.brush=e}constructor(){super(),this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.core=new P.d.StiStackedAreaSeriesCoreXF(this)}}P.d.StiStackedAreaSeries=Mn}{class Gn extends P.d.StiStackedAreaSeries{implements(){return Gn.implementsStiFullStackedAreaSeries||(Gn.implementsStiFullStackedAreaSeries=super.implements().concat([P.d.IStiFullStackedAreaSeries,P.d.IStiStackedAreaSeries,P.d.IStiStackedBaseLineSeries,P.d.IStiShowNullsSeries,P.d.IStiSeries,s,P.d.IStiStackedLineSeries,r,P.d.IStiAllowApplyBrushNegative])),Gn.implementsStiFullStackedAreaSeries}getDefaultAreaType(){return P.d.StiFullStackedColumnArea}constructor(){super(),this.core=new P.d.StiFullStackedAreaSeriesCoreXF(this)}}P.d.StiFullStackedAreaSeries=Gn}{class Vn extends P.d.StiSeries{implements(){return Vn.implementsStiStackedColumnSeries||(Vn.implementsStiStackedColumnSeries=super.implements().concat([s,P.d.IStiStackedColumnSeries,P.d.IStiFontIconsSeries,r,P.d.IStiSeries,P.d.IStiAllowApplyBrushNegative,ke,P.d.IStiSeriesBorderThickness,P.d.IStiShowZerosSeries])),Vn.implementsStiStackedColumnSeries}meta(){return[...super.meta(),new ce("TrendLine"),new i("ShowZeros"),new n("Width","_",.8),new e("BorderColor","",B.black),new n("BorderThickness","",1),new ee("Brush"),new ee("BrushNegative"),new i("AllowApplyBrushNegative"),new l("Icon","",Ie),new a("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Be.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Be.tryParse(e.textContent))]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}getDefaultAreaType(){return P.d.StiStackedColumnArea}constructor(){super(),this.showZeros=!1,this._width=.8,this.borderColor=B.black,this.borderThickness=1,this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.icon=null,this.cornerRadius=new Be,this.core=new P.d.StiStackedColumnSeriesCoreXF(this)}}P.d.StiStackedColumnSeries=Vn}{class En extends P.d.StiStackedColumnSeries{implements(){return En.implementsStiFullStackedColumnSeries||(En.implementsStiFullStackedColumnSeries=super.implements().concat([P.d.IStiFullStackedColumnSeries,P.d.IStiStackedColumnSeries,r,P.d.IStiSeries,s,P.d.IStiAllowApplyBrushNegative])),En.implementsStiFullStackedColumnSeries}getDefaultAreaType(){return P.d.StiFullStackedColumnArea}constructor(){super(),this.core=new P.d.StiFullStackedColumnSeriesCoreXF(this)}}P.d.StiFullStackedColumnSeries=En}{class Xn extends P.d.StiStackedLineSeries{implements(){return Xn.implementsStiFullStackedLineSeries||(Xn.implementsStiFullStackedLineSeries=super.implements().concat([s,P.d.IStiStackedBaseLineSeries,P.d.IStiStackedLineSeries,P.d.IStiSeries,r])),Xn.implementsStiFullStackedLineSeries}getDefaultAreaType(){return P.d.StiFullStackedColumnArea}constructor(){super(),this.core=new P.d.StiFullStackedLineSeriesCoreXF(this)}}P.d.StiFullStackedLineSeries=Xn}{class Nn extends P.d.StiStackedBaseLineSeries{implements(){return Nn.implementsStiStackedSplineSeries||(Nn.implementsStiStackedSplineSeries=super.implements().concat([s,P.d.IStiStackedBaseLineSeries,r,P.d.IStiSeries,P.d.IStiStackedSplineSeries,P.d.IStiAllowApplyColorNegative])),Nn.implementsStiStackedSplineSeries}meta(){return[...super.meta(),new ce("LineMarker"),new n("Tension","",.55)]}getDefaultAreaType(){return P.d.StiStackedColumnArea}constructor(){super(),this.tension=.55,this.core=new P.d.StiStackedSplineSeriesCoreXF(this)}}P.d.StiStackedSplineSeries=Nn}{class jn extends P.d.StiStackedSplineSeries{implements(){return jn.implementsStiStackedSplineAreaSeries||(jn.implementsStiStackedSplineAreaSeries=super.implements().concat([P.d.IStiStackedSplineSeries,P.d.IStiStackedBaseLineSeries,P.d.IStiStackedSplineAreaSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyBrushNegative])),jn.implementsStiStackedSplineAreaSeries}meta(){return[...super.meta(),new ee("Brush"),new ee("BrushNegative"),new i("AllowApplyBrushNegative")]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiStackedColumnArea}constructor(){super(),this.brush=new V(B.gainsboro),this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.core=new P.d.StiStackedSplineAreaSeriesCoreXF(this)}}P.d.StiStackedSplineAreaSeries=jn}{class _n extends P.d.StiStackedSplineAreaSeries{implements(){return _n.implementsStiFullStackedSplineAreaSeries||(_n.implementsStiFullStackedSplineAreaSeries=super.implements().concat([P.d.IStiFullStackedSplineAreaSeries,P.d.IStiShowNullsSeries,P.d.IStiStackedSplineSeries,P.d.IStiStackedBaseLineSeries,P.d.IStiStackedSplineAreaSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyBrushNegative])),_n.implementsStiFullStackedSplineAreaSeries}getDefaultAreaType(){return P.d.StiFullStackedColumnArea}constructor(){super(),this.core=new P.d.StiFullStackedSplineAreaSeriesCoreXF(this)}}P.d.StiFullStackedSplineAreaSeries=_n}{class Hn extends P.d.StiStackedSplineSeries{implements(){return Hn.implementsStiFullStackedSplineSeries||(Hn.implementsStiFullStackedSplineSeries=super.implements().concat([P.d.IStiStackedSplineSeries,P.d.IStiStackedBaseLineSeries,P.d.IStiFullStackedSplineSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyColorNegative])),Hn.implementsStiFullStackedSplineSeries}getDefaultAreaType(){return P.d.StiFullStackedColumnArea}constructor(){super(),this.core=new P.d.StiFullStackedSplineSeriesCoreXF(this)}}P.d.StiFullStackedSplineSeries=Hn}{class zn extends P.d.StiSeries{implements(){return zn.implementsStiFunnelSeries||(zn.implementsStiFunnelSeries=super.implements().concat([s,P.d.IStiFunnelSeries,P.d.IStiFontIconsSeries,P.d.IStiSeriesBorderThickness,P.d.IStiSeries,r,P.d.IStiShowZerosSeries])),zn.implementsStiFunnelSeries}meta(){return[...super.meta(),new ce("TrendLine"),new i("ShowZeros"),new i("AllowApplyBrush","",!0),new i("AllowApplyBorderColor","",!0),new ee(["Brush","bh"]),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new l("Icon","",Ie)]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiFunnelArea}constructor(){super(),this.showZeros=!1,this.allowApplyBrush=!0,this.allowApplyBorderColor=!0,this.brush=new V(B.gainsboro),this.borderColor=B.gray,this.borderThickness=1,this.icon=null,this.core=new P.d.StiFunnelSeriesCoreXF(this)}}P.d.StiFunnelSeries=zn}{class Yn extends P.d.StiFunnelSeries{implements(){return Yn.implementsStiFunnelWeightedSlicesSeries||(Yn.implementsStiFunnelWeightedSlicesSeries=super.implements().concat([s,P.d.IStiFunnelSeries,P.d.IStiFunnelWeightedSlicesSeries,P.d.IStiSeries,r])),Yn.implementsStiFunnelWeightedSlicesSeries}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiFunnelWeightedSlicesArea}constructor(){super(),this.core=new P.d.StiFunnelWeightedSlicesSeriesCoreXF(this)}}P.d.StiFunnelWeightedSlicesSeries=Yn}{class Wn extends P.d.StiClusteredBarSeries{implements(){return Wn.implementsStiGanttSeries||(Wn.implementsStiGanttSeries=super.implements().concat([P.d.IStiClusteredColumnSeries,P.d.IStiClusteredBarSeries,P.d.IStiRangeSeries,s,P.d.IStiSeries,P.d.IStiGanttSeries,r,P.d.IStiAllowApplyBrushNegative])),Wn.implementsStiGanttSeries}meta(){return[...super.meta(),new ce("TopN"),new ce("TrendLine"),new U("ValueDataColumnEnd"),new fe("ValueEnd"),new fe("ListOfValuesEnd")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiGanttArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesEnd))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);let e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let t=new be,i=!0;for(let e of this.valuesEnd)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringEnd(e){if(null==e||0==e.trim().length)this._valuesEnd=[];else{let t=e.split(";"),i=(this._valuesEnd=R.create(Number,t.length),0);for(let e of t)this._valuesEnd[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(i,s){try{if(this.onGetValueEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesValueEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e));s.value=i.report.toString2(t)}null!=this.getValueEnd&&this.getValueEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(i,s,r){try{if(r.onGetListOfValuesEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesListOfValuesEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e));s.value=i.report.toString2(t)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesEnd...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}constructor(){super(),this._valuesEnd=[3,5,9],this.valueDataColumnEnd="",this.valueObjEnd="",this.listOfValuesEnd="",this.core=new P.d.StiGanttSeriesCoreXF(this)}}P.d.StiGanttSeries=Wn}{class Jn extends P.d.StiSeries{implements(){return Jn.implementsStiHeatmapSeries||(Jn.implementsStiHeatmapSeries=super.implements().concat([s,P.d.IStiHeatmapSeries,P.d.IStiSeriesBorderThickness,P.d.IStiSeries])),Jn.implementsStiHeatmapSeries}meta(){return[...super.meta(),new e("BorderColor","",B.gray),new n("BorderThickness","",1),new a("XValuesDataColumn"),new a("YValuesDataColumn"),new fe("XValue"),new fe("ListOfXValues"),new fe("YValue"),new fe("ListOfYValues"),new a("XValuesString","",xe.Document),new a("YValuesString","",xe.Document)]}getDefaultAreaType(){return P.d.StiHeatmapArea}getDefaultLegendType(){return P.d.StiHeatmapLegend}get xValues(){return this.getXValues()}set xValues(e){this.setXValues(e)}getXValues(){if(null==this.chart||!this.chart.isDesigning||this.isDashboard)return this._xValues;if(!k.isNullOrEmpty(this.listOfXValues))return P.d.StiSeries.getArgumentsFromString(this.listOfXValues);if(null==this._xValues||0==this._xValues.length)return["A","B","C","A","B","C","A","B","C"];return this._xValues}setXValues(e){this._xValues=e}get yValues(){return this.getYValues()}set yValues(e){this.setYValues(e)}getYValues(){if(null==this.chart||!this.chart.isDesigning||this.isDashboard)return this._yValues;if(!k.isNullOrEmpty(this.listOfYValues))return P.d.StiSeries.getArgumentsFromString(this.listOfYValues);if(null==this._yValues||0==this._yValues.length)return["A","A","A","B","B","B","C","C","C"];return this._yValues}setYValues(e){this._yValues=e}get xValuesString(){let i=new be,s=!0;for(let t of this._xValues)if(null!=t){let e="";e=t instanceof y?t.toString("YYYY-MM-DDTHH:mm:ss.SSSSSS"):t.toString(),s?i.appendFormat("{0}",ge.encodeName(e)):i.appendFormat(";{0}",ge.encodeName(e)),s=!1}return i.toString()}set xValuesString(t){if(null==t||0==t.trim().length)this._xValues=[];else{let e=t.split(";");this._xValues=[];for(let i of e){let e=ge.decodeName(i),t=y.tryParseExact(e,["YYYY-MM-DDTHH:mm:ss.SSSSSS"]);t.successfully?this._xValues.push(t.result):this._xValues.push(e)}}}get yValuesString(){let i=new be,s=!0;for(let t of this._yValues)if(null!=t){let e="";e=t instanceof y?t.toString("YYYY-MM-DDTHH:mm:ss.SSSSSS"):t.toString(),s?i.appendFormat("{0}",ge.encodeName(e)):i.appendFormat(";{0}",ge.encodeName(e)),s=!1}return i.toString()}set yValuesString(t){if(null==t||0==t.trim().length)this._yValues=[];else{let e=t.split(";");this._yValues=[];for(let i of e){let e=ge.decodeName(i),t=y.tryParseExact(e,["YYYY-MM-DDTHH:mm:ss.SSSSSS"]);t.successfully?this._yValues.push(t.result):this._yValues.push(e)}}}onGetListOfYValues(e){}invokeGetListOfYValues(i,s){try{if(this.onGetListOfYValues(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfYValues**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfYValues,e));s.value=i.report.toString2(t)}null!=this.getListOfYValues&&this.getListOfYValues(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfYValues property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}onGetListOfXValues(e){}invokeGetListOfXValues(i,s){try{if(this.onGetListOfXValues(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSeriesListOfXValues**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.listOfXValues,e));s.value=i.report.toString2(t)}null!=this.getListOfXValues&&this.getListOfXValues(i,s)}catch(e){D.System.StiError.showError(e.message,!1);let t=k.format("Expression in GetListOfXValues property of '{0}' series from '{1}' chart can't be evaluated!",this.serviceName,this.chart.name);P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),t),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}constructor(){super(),this._xValues=[],this._yValues=[],this.yValuesDataColumn="",this.xValuesDataColumn="",this.xValue="",this.yValue="",this.listOfXValues="",this.listOfYValues="",this.borderColor=B.gray,this.borderThickness=1,this.core=new P.d.StiHeatmapSeriesCoreXF(this)}}P.d.StiHeatmapSeries=Jn}let fi=P.d.IStiPictorialStackedSeries;{class Zn extends P.d.StiSeries{implements(){return Zn.implementsStiPictorialStackedSeries||(Zn.implementsStiPictorialStackedSeries=super.implements().concat([P.d.IStiPictorialSeries,P.d.IStiFontIconsSeries,r,P.d.IStiSeries,fi,s])),Zn.implementsStiPictorialStackedSeries}meta(){return[...super.meta(),new l("Icon","",Ie,Ie.Coffee)]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiPictorialStackedArea}constructor(){super(),this.icon=Ie.Coffee,this.core=new P.d.StiPictorialStackedSeriesCoreXF(this)}}P.d.StiPictorialStackedSeries=Zn}P.d.StiPie3dPeripherySurfaceBounds=class{constructor(e,t,i,s,r,n){this.startAngle=e,this.endAngle=t,this.startPoint=i,this.endPoint=s,this.realStartAngle=r,this.realEndAngle=n}};{class qn{draw(e,t,i){if(null==this.point1||null==this.point2||null==this.point3||null==this.point4)return;let s=new G,r=(s.add(new L(this.point1,this.point2)),s.add(new L(this.point2,this.point3)),s.add(new L(this.point3,this.point4)),this.toClose&&s.add(new _t),e.getPathBounds(s));null!=this.animation?e.drawAnimationPathElement(i,t,s,this.rectangle,null,this,this.animation,null):(e.fillPath(i,s,r,null),e.drawPath(t,s,r))}static empty(){return new qn(null,null,null,null,null,null,null)}constructor(e,t,i,s,r,n,l){this.rectangle=e,this.point1=t,this.point2=i,this.point3=s,this.point4=r,this.toClose=n,this.animation=l}}P.d.StiPie3dQuadrilateral=qn}{class $n extends P.d.StiPieSeries{implements(){return $n.implementsStiPie3dSeries||($n.implementsStiPie3dSeries=super.implements().concat([P.d.IStiPie3dSeries,P.d.IStiShowZerosSeries])),$n.implementsStiPie3dSeries}meta(){return[...super.meta(),new o("Options3D")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiPie3dArea}constructor(){super(),this.options3D=new P.d.StiPie3dOptions,this.core=new P.d.StiPie3dSeriesCoreXF(this)}}P.d.StiPie3dSeries=$n}{class Kn extends P.d.StiSeries{constructor(){super(...arguments),this.showNulls=!0,this.marker=new P.d.StiMarker}implements(){return Kn.implementsStiRadarSeries||(Kn.implementsStiRadarSeries=super.implements().concat([s,r,P.d.IStiSeries,P.d.IStiRadarSeries,P.d.IStiShowNullsSeries])),Kn.implementsStiRadarSeries}meta(){return[...super.meta(),new ce("TrendLine"),new i("ShowNulls","",!0),new o("Marker")]}clone(){let e=super.clone();return null!=this.marker&&(e.marker=this.marker.clone()),e}}P.d.StiRadarSeries=Kn}{class Qn extends P.d.StiRadarSeries{implements(){return Qn.implementsStiRadarAreaSeries||(Qn.implementsStiRadarAreaSeries=super.implements().concat([P.d.IStiRadarSeries,P.d.IStiRadarLineSeries,s,P.d.IStiSeries,P.d.IStiRadarAreaSeries,r])),Qn.implementsStiRadarAreaSeries}meta(){return[...super.meta(),new e("LineColor","",B.black),new l("LineStyle","",p,p.Solid),new i("Lighting","",!0),new n("LineWidth","",2),new ee("Brush")]}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}getDefaultAreaType(){return P.d.StiRadarAreaArea}constructor(){super(),this.lineColor=B.black,this.lineStyle=p.Solid,this.lighting=!0,this._lineWidth=2,this.brush=new V(B.gainsboro),this.core=new P.d.StiRadarAreaSeriesCoreXF(this)}}P.d.StiRadarAreaSeries=Qn}{class Un extends P.d.StiRadarSeries{implements(){return Un.implementsStiRadarLineSeries||(Un.implementsStiRadarLineSeries=super.implements().concat([s,P.d.IStiRadarLineSeries,r,P.d.IStiSeries,P.d.IStiRadarSeries])),Un.implementsStiRadarLineSeries}meta(){return[...super.meta(),new e("LineColor","",B.black),new l("LineStyle","",p,p.Solid),new i("Lighting","",!0),new n("LineWidth","",2)]}get lineWidth(){return this._lineWidth}set lineWidth(e){0<e&&(this._lineWidth=e)}getDefaultAreaType(){return P.d.StiRadarLineArea}constructor(){super(),this.lineColor=B.black,this.lineStyle=p.Solid,this.lighting=!0,this._lineWidth=2,this.core=new P.d.StiRadarLineSeriesCoreXF(this)}}P.d.StiRadarLineSeries=Un}{class el extends P.d.StiRadarSeries{implements(){return el.implementsStiRadarPointSeries||(el.implementsStiRadarPointSeries=super.implements().concat([s,P.d.IStiRadarPointSeries,r,P.d.IStiSeries,P.d.IStiRadarSeries])),el.implementsStiRadarPointSeries}getDefaultAreaType(){return P.d.StiRadarPointArea}constructor(){super(),this.core=new P.d.StiRadarPointSeriesCoreXF(this)}}P.d.StiRadarPointSeries=el}{class tl extends P.d.StiClusteredColumnSeries{implements(){return tl.implementsStiRangeBarSeries||(tl.implementsStiRangeBarSeries=super.implements().concat([P.d.IStiRangeBarSeries,P.d.IStiClusteredColumnSeries,P.d.IStiRangeSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyBrushNegative])),tl.implementsStiRangeBarSeries}meta(){return[...super.meta(),new ce(["TopN","TrendLine"]),new a("ValueDataColumnEnd"),new fe("Value"),new fe("ValueEnd"),new fe("ListOfValues"),new fe("ListOfValuesEnd")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiRangeBarArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesEnd))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);let e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let t=new be,i=!0;for(let e of this.valuesEnd)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringEnd(e){if(null==e||0==e.trim().length)this._valuesEnd=[];else{let t=e.split(";"),i=(this._valuesEnd=R.create(Number,t.length),0);for(let e of t)this._valuesEnd[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(i,s){try{if(this.onGetValueEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesValueEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e));s.value=i.report.toString2(t)}null!=this.getValueEnd&&this.getValueEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(i,s,r){try{if(r.onGetListOfValuesEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartGanttSeriesListOfValuesEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e));s.value=i.report.toString2(t)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesEnd...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}constructor(){super(),this._valuesEnd=[3,5,9],this.valueDataColumnEnd="",this.valueObjEnd="",this.listOfValuesEnd="",this.core=new P.d.StiRangeBarSeriesCoreXF(this)}}P.d.StiRangeBarSeries=tl}{class il extends P.d.StiLineSeries{implements(){return il.implementsStiRangeSeries||(il.implementsStiRangeSeries=super.implements().concat([P.d.IStiLineSeries,P.d.IStiLineRangeSeries,P.d.IStiBaseLineSeries,P.d.IStiRangeSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyColorNegative])),il.implementsStiRangeSeries}meta(){return[...super.meta(),new ce(["TopN","TrendLine"]),new ee(["Brush","bh"]),new a("ValueDataColumnEnd"),new ee("BrushNegative"),new i("AllowApplyBrushNegative"),new fe("ValueEnd"),new fe("ListOfValuesEnd")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiRangeArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesEnd))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);let e=this.chart.series.indexOf(this),t=this.getOffsetForValues();return[t+3+3*e,t+5+4*e,t+9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let t=new be,i=!0;for(let e of this.valuesEnd)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringEnd(e){if(null==e||0==e.trim().length)this.valuesEnd=[];else{let t=e.split(";"),i=(this.valuesEnd=R.create(Number,t.length),0);for(let e of t)this.valuesEnd[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(i,s){try{if(this.onGetValueEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartRangeSeriesValueEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e));s.value=i.report.toString2(t)}null!=this.getValueEnd&&this.getValueEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(i,s,r){try{if(r.onGetListOfValuesEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartRangeSeriesListOfValuesEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e));s.value=i.report.toString2(t)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesEnd...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}constructor(){super(),this.brush=new V(B.gainsboro),this._valuesEnd=[3,5,9],this.valueDataColumnEnd="",this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.valueObjEnd="",this.listOfValuesEnd="",this.core=new P.d.StiRangeSeriesCoreXF(this)}}P.d.StiRangeSeries=il}{class sl extends P.d.StiSplineSeries{implements(){return sl.implementsStiSplineRangeSeries||(sl.implementsStiSplineRangeSeries=super.implements().concat([P.d.IStiSplineSeries,P.d.IStiSplineRangeSeries,P.d.IStiBaseLineSeries,P.d.IStiRangeSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyColorNegative])),sl.implementsStiSplineRangeSeries}meta(){return[...super.meta(),new ce("TopN"),new ce("TrendLine"),new ee(["Brush","bh"]),new a("ValueDataColumnEnd"),new fe("ValueEnd"),new fe("ListOfValuesEnd")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiSplineRangeArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesEnd))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);let e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,9+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let t=new be,i=!0;for(let e of this._valuesEnd)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringEnd(e){if(null==e||0==e.trim().length)this._valuesEnd=[];else{let t=e.split(";"),i=(this._valuesEnd=R.create(Number,t.length),0);for(let e of t)this._valuesEnd[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(i,s){try{if(this.onGetValueEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSteppedRangeSeriesValueEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e));s.value=i.report.toString2(t)}null!=this.getValueEnd&&this.getValueEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(i,s,r){try{if(r.onGetListOfValuesEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSteppedRangeSeriesListOfValuesEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e));s.value=i.report.toString2(t)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesEnd...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}constructor(){super(),this.brush=new V(B.gainsboro),this._valuesEnd=[4,5,9],this.valueDataColumnEnd="",this.valueObjEnd="",this.listOfValuesEnd="",this.core=new P.d.StiSplineRangeSeriesCoreXF(this)}}P.d.StiSplineRangeSeries=sl}{class rl extends P.d.StiSteppedLineSeries{implements(){return rl.implementsStiSteppedRangeSeries||(rl.implementsStiSteppedRangeSeries=super.implements().concat([P.d.IStiSteppedLineSeries,P.d.IStiBaseLineSeries,P.d.IStiRangeSeries,P.d.IStiSteppedRangeSeries,s,P.d.IStiSeries,r,P.d.IStiAllowApplyColorNegative])),rl.implementsStiSteppedRangeSeries}meta(){return[...super.meta(),new ce(["TopN","TrendLine"]),new ee(["Brush","bh"]),new a("ValueDataColumnEnd"),new ee("BrushNegative"),new i("AllowApplyBrushNegative"),new fe("ValueEnd","valueObjEnd"),new fe("ListOfValuesEnd")]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiSteppedRangeArea}get valuesEnd(){if(null!=this.chart&&null!=this.chart.report&&this.chart.isDesigning&&!this.isDashboard){if(!k.isNullOrEmpty(this.listOfValuesEnd))return P.d.StiSeries.getNullableValuesFromString(this,this.listOfValuesEnd);let e=this.chart.series.indexOf(this);if(0==e)return this._valuesEnd;return[3+3*e,5+4*e,7+3*e,6+3*e,6+3*e]}return this._valuesEnd}set valuesEnd(e){this._valuesEnd=e}get valuesStringEnd(){let t=new be,i=!0;for(let e of this.valuesEnd)i?t.appendFormat("{0}",e):t.appendFormat(";{0}",e),i=!1;return t.toString()}set valuesStringEnd(e){if(null==e||0==e.trim().length)this.valuesEnd=[];else{let t=e.split(";"),i=(this._valuesEnd=R.create(Number,t.length),0);for(let e of t)this._valuesEnd[i++]=e[D.System.StiObject.stimulsoft]().toNumber()}}onGetValueEnd(e){}invokeGetValueEnd(i,s){try{if(this.onGetValueEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSteppedRangeSeriesValueEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(this.valueEnd,e));s.value=i.report.toString2(t)}null!=this.getValueEnd&&this.getValueEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series InvokeGetValueEnd...ERROR"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),this.chart.name+"Series "+e)}}onGetListOfValuesEnd(e){}invokeGetListOfValuesEnd(i,s,r){try{if(r.onGetListOfValuesEnd(s),i.report.calculationMode==P.a.StiCalculationMode.Interpretation){let e=new K,t=(e.name="**ChartSteppedRangeSeriesListOfValuesEnd**",e.page=i.report.pages.getByIndex(0),P.a.Engine.StiParser.StiParser.parseTextValue(r.listOfValuesEnd,e));s.value=i.report.toString2(t)}null!=r.getListOfValuesEnd&&r.getListOfValuesEnd(i,s)}catch(e){D.System.StiError.showError(e.message,!1),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),"InvokeGetListOfValuesEnd...Warning"),P.a.StiLogService.write(this[D.System.StiObject.stimulsoft]().getType(),e)}}get valueEnd(){return this.valueObjEnd}set valueEnd(e){this.valueObjEnd=e}constructor(){super(),this.brush=new V(B.gainsboro),this._valuesEnd=[4,5,7,6,6],this.valueDataColumnEnd="",this.brushNegative=new V(B.firebrick),this.allowApplyBrushNegative=!1,this.valueObjEnd="",this.listOfValuesEnd="",this.core=new P.d.StiSteppedRangeSeriesCoreXF(this)}}P.d.StiSteppedRangeSeries=rl}{class nl extends P.d.StiScatterSeries{implements(){return nl.implementsStiScatterSplineSeries||(nl.implementsStiScatterSplineSeries=super.implements().concat([r,P.d.IStiScatterLineSeries,P.d.IStiBaseLineSeries,P.d.IStiScatterSplineSeries,s,P.d.IStiSeries,P.d.IStiScatterSeries,P.d.IStiAllowApplyColorNegative])),nl.implementsStiScatterSplineSeries}meta(){return[...super.meta(),new ce("LineMarker"),new n("Tension","",.55)]}clone(){let e=super.clone();return e}getDefaultAreaType(){return P.d.StiScatterArea}constructor(){super(),this.tension=.55,this.core=new P.d.StiScatterSplineSeriesCoreXF(this)}}P.d.StiScatterSplineSeries=nl}{class ll extends P.d.StiSeries{implements(){return ll.implementsStiRibbonSeries||(ll.implementsStiRibbonSeries=super.implements().concat([s,P.d.IStiRibbonSeries,ke,P.d.IStiSeriesBorderThickness])),ll.implementsStiRibbonSeries}meta(){return[...super.meta(),new ce("TrendLine"),new n("Width","_",.5),new e("BorderColor","",B.black),new n("BorderThickness","",1),new ee("Brush"),new a("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=Be.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=Be.tryParse(e.textContent))]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}getDefaultAreaType(){return P.d.StiRibbonArea}constructor(){super(),this._width=.5,this.borderColor=B.black,this.borderThickness=1,this.brush=new V(B.gainsboro),this.cornerRadius=new Be,this.core=new P.d.StiRibbonSeriesCoreXF(this)}}P.d.StiRibbonSeries=ll}P.d.StiRibbonSeriesMetadata=class{constructor(e,t){this.rectangles=new G,this.brush=e,this.borderColor=t}};{class ol extends P.d.StiSeries{implements(){return ol.implementsStiSunburstSeries||(ol.implementsStiSunburstSeries=super.implements().concat([s,P.d.IStiSunburstSeries,P.d.IStiSeriesBorderThickness,r,P.d.IStiSeries])),ol.implementsStiSunburstSeries}meta(){return[...super.meta(),new n("BorderThickness","",1)]}clone(){let e=super.clone();return e.brush=this.brush.clone(),e}getDefaultAreaType(){return P.d.StiSunburstArea}constructor(){super(),this.borderColor=B.gray,this.borderThickness=1,this.brush=new V(B.gainsboro),this.core=new P.d.StiSunburstSeriesCoreXF(this)}}P.d.StiSunburstSeries=ol}{class al extends P.d.StiSeriesLabels{implements(){return al.implementsStiNoneLabels||(al.implementsStiNoneLabels=super.implements().concat([P.d.IStiNoneLabels,P.d.IStiSeriesLabels,r,s])),al.implementsStiNoneLabels}meta(){return[...super.meta(),new ce(["Antialiasing","Visible","LabelColor","BorderColor","Brush","Font"])]}constructor(){super(),this.core=new P.d.StiNoneLabelsCoreXF(this)}}P.d.StiNoneLabels=al}{class hl extends P.d.StiCenterAxisLabels{implements(){return hl.implementsStiInsideBaseAxisLabels||(hl.implementsStiInsideBaseAxisLabels=super.implements().concat([P.d.IStiInsideBaseAxisLabels,P.d.IStiSeriesLabels,r,P.d.IStiAxisSeriesLabels,s])),hl.implementsStiInsideBaseAxisLabels}constructor(){super(),this.core=new P.d.StiInsideBaseAxisLabelsCoreXF(this)}}P.d.StiInsideBaseAxisLabels=hl}{class ul extends P.d.StiCenterAxisLabels{implements(){return ul.implementsStiInsideEndAxisLabels||(ul.implementsStiInsideEndAxisLabels=super.implements().concat([P.d.IStiCenterAxisLabels,P.d.IStiAxisSeriesLabels,P.d.IStiSeriesLabels,s,P.d.IStiInsideEndAxisLabels,r])),ul.implementsStiInsideEndAxisLabels}constructor(){super(),this.core=new P.d.StiInsideEndAxisLabelsCoreXF(this)}}P.d.StiInsideEndAxisLabels=ul}{class dl extends P.d.StiCenterAxisLabels{implements(){return dl.implementsStiLeftAxisLabels||(dl.implementsStiLeftAxisLabels=super.implements().concat([P.d.IStiCenterAxisLabels,P.d.IStiLeftAxisLabels,P.d.IStiAxisSeriesLabels,s,P.d.IStiSeriesLabels,r])),dl.implementsStiLeftAxisLabels}constructor(){super(),this.core=new P.d.StiLeftAxisLabelsCoreXF(this)}}P.d.StiLeftAxisLabels=dl}{class cl extends P.d.StiAxisSeriesLabels{implements(){return cl.implementsStiOutsideAxisLabels||(cl.implementsStiOutsideAxisLabels=super.implements().concat([P.d.IStiOutsideAxisLabels,P.d.IStiSeriesLabels,r,P.d.IStiAxisSeriesLabels,s])),cl.implementsStiOutsideAxisLabels}meta(){return[...super.meta(),new n("LineLength","",15)]}constructor(){super(),this.lineLength=15,this.core=new P.d.StiOutsideAxisLabelsCoreXF(this)}}P.d.StiOutsideAxisLabels=cl}{class Sl extends P.d.StiCenterAxisLabels{implements(){return Sl.implementsStiOutsideBaseAxisLabels||(Sl.implementsStiOutsideBaseAxisLabels=super.implements().concat([P.d.IStiCenterAxisLabels,P.d.IStiAxisSeriesLabels,s,P.d.IStiOutsideBaseAxisLabels,P.d.IStiSeriesLabels,r])),Sl.implementsStiOutsideBaseAxisLabels}constructor(){super(),this.core=new P.d.StiOutsideBaseAxisLabelsCoreXF(this)}}P.d.StiOutsideBaseAxisLabels=Sl}{class ml extends P.d.StiCenterAxisLabels{implements(){return ml.implementsStiOutsideEndAxisLabels||(ml.implementsStiOutsideEndAxisLabels=super.implements().concat([P.d.IStiOutsideEndAxisLabels,P.d.IStiCenterAxisLabels,P.d.IStiAxisSeriesLabels,s,P.d.IStiSeriesLabels,r])),ml.implementsStiOutsideEndAxisLabels}constructor(){super(),this.core=new P.d.StiOutsideEndAxisLabelsCoreXF(this)}}P.d.StiOutsideEndAxisLabels=ml}{class gl extends P.d.StiCenterAxisLabels{implements(){return gl.implementsStiRightAxisLabels||(gl.implementsStiRightAxisLabels=super.implements().concat([P.d.IStiCenterAxisLabels,P.d.IStiAxisSeriesLabels,P.d.IStiRightAxisLabels,s,P.d.IStiSeriesLabels,r])),gl.implementsStiRightAxisLabels}constructor(){super(),this.core=new P.d.StiRightAxisLabelsCoreXF(this)}}P.d.StiRightAxisLabels=gl}{class pl extends P.d.StiCenterAxisLabels{implements(){return pl.implementsStiValueAxisLabels||(pl.implementsStiValueAxisLabels=super.implements().concat([P.d.IStiValueAxisLabels,P.d.IStiCenterAxisLabels,P.d.IStiAxisSeriesLabels,s,P.d.IStiSeriesLabels,r])),pl.implementsStiValueAxisLabels}constructor(){super(),this.core=new P.d.StiValueAxisLabelsCoreXF(this)}}P.d.StiValueAxisLabels=pl}{class fl extends P.d.StiSeriesLabels{implements(){return fl.implementsStiFunnelSeriesLabels||(fl.implementsStiFunnelSeriesLabels=super.implements().concat([s,P.d.IStiFunnelSeriesLabels,r,P.d.IStiSeriesLabels])),fl.implementsStiFunnelSeriesLabels}}P.d.StiFunnelSeriesLabels=fl}{class wl extends P.d.StiFunnelSeriesLabels{implements(){return wl.implementsStiCenterFunnelLabels||(wl.implementsStiCenterFunnelLabels=super.implements().concat([s,P.d.IStiSeriesLabels,P.d.IStiFunnelSeriesLabels,r,P.d.IStiCenterFunnelLabels])),wl.implementsStiCenterFunnelLabels}constructor(){super(),this.core=new P.d.StiCenterFunnelLabelsCoreXF(this)}}P.d.StiCenterFunnelLabels=wl}{class yl extends P.d.StiFunnelSeriesLabels{implements(){return yl.implementsStiOutsideLeftFunnelLabels||(yl.implementsStiOutsideLeftFunnelLabels=super.implements().concat([P.d.IStiCenterFunnelLabels,P.d.IStiOutsideLeftFunnelLabels,s,P.d.IStiSeriesLabels,P.d.IStiFunnelSeriesLabels,r])),yl.implementsStiOutsideLeftFunnelLabels}constructor(){super(),this.core=new P.d.StiOutsideLeftFunnelLabelsCoreXF(this)}}P.d.StiOutsideLeftFunnelLabels=yl}{class xl extends P.d.StiFunnelSeriesLabels{implements(){return xl.implementsStiOutsideRightFunnelLabels||(xl.implementsStiOutsideRightFunnelLabels=super.implements().concat([P.d.IStiOutsideRightFunnelLabels,P.d.IStiCenterFunnelLabels,s,P.d.IStiSeriesLabels,P.d.IStiFunnelSeriesLabels,r])),xl.implementsStiOutsideRightFunnelLabels}constructor(){super(),this.core=new P.d.StiOutsideRightFunnelLabelsCoreXF(this)}}P.d.StiOutsideRightFunnelLabels=xl}P.d.StiCenterHeatmapLabels=class extends P.d.StiAxisSeriesLabels{constructor(){super(),this.core=new P.d.StiCenterHeatmapLabelsCoreXF(this)}};{class bl extends P.d.StiFunnelSeriesLabels{implements(){return bl.implementsStiCenterPictorialStackedLabels||(bl.implementsStiCenterPictorialStackedLabels=super.implements().concat([s,P.d.IStiSeriesLabels,r])),bl.implementsStiCenterPictorialStackedLabels}constructor(){super(),this.core=new P.d.StiCenterPictorialStackedLabelsCoreXF(this)}}P.d.StiCenterPictorialStackedLabels=bl}{class Cl extends P.d.StiCenterPictorialStackedLabels{implements(){return Cl.implementsStiOutsideLeftFunnelLabels||(Cl.implementsStiOutsideLeftFunnelLabels=super.implements().concat([s,P.d.IStiSeriesLabels,r])),Cl.implementsStiOutsideLeftFunnelLabels}meta(){return[...super.meta(),new e("LineColor","",B.black)]}constructor(){super(),this.lineColor=B.black,this.core=new P.d.StiOutsideLeftPictorialStackedLabelsCoreXF(this)}}P.d.StiOutsideLeftPictorialStackedLabels=Cl}{class Al extends P.d.StiCenterPictorialStackedLabels{implements(){return Al.implementsStiOutsideRightPictorialStackedLabels||(Al.implementsStiOutsideRightPictorialStackedLabels=super.implements().concat([s,P.d.IStiSeriesLabels,r])),Al.implementsStiOutsideRightPictorialStackedLabels}meta(){return[...super.meta(),new e("LineColor","",B.black)]}constructor(){super(),this.lineColor=B.black,this.core=new P.d.StiOutsideRightPictorialStackedLabelsCoreXF(this)}}P.d.StiOutsideRightPictorialStackedLabels=Al}{class Ll extends P.d.StiSeriesLabels{implements(){return Ll.implementsStiPictorialStackedLabels||(Ll.implementsStiPictorialStackedLabels=super.implements().concat([s,r,P.d.IStiSeriesLabels])),Ll.implementsStiPictorialStackedLabels}}P.d.StiPictorialStackedLabels=Ll}{class Tl extends P.d.StiSeriesLabels{constructor(){super(...arguments),this._showInPercent=!1}implements(){return Tl.implementsStiPieSeriesLabels||(Tl.implementsStiPieSeriesLabels=super.implements().concat([s,P.d.IStiPieSeriesLabels,P.d.IStiSeriesLabels,r])),Tl.implementsStiPieSeriesLabels}meta(){return[...super.meta(),new i("ShowInPercent","_")]}get showInPercent(){return this._showInPercent}set showInPercent(e){this._showInPercent=e,this._showInPercent&&!this.format[D.System.StiObject.stimulsoft]().startsWith("P")&&(this.format="P2"),this._showInPercent||(this.format="")}}P.d.StiPieSeriesLabels=Tl}P.d.StiCenterPie3dLabels=class extends P.d.StiPieSeriesLabels{constructor(){super(),this.core=new P.d.StiCenterPie3dLabelsCoreXF(this)}};{class vl extends P.d.StiPieSeriesLabels{implements(){return vl.implementsStiCenterPieLabels||(vl.implementsStiCenterPieLabels=super.implements().concat([s,P.d.IStiPieSeriesLabels,P.d.IStiSeriesLabels,P.d.IStiCenterPieLabels,r])),vl.implementsStiCenterPieLabels}meta(){return[...super.meta(),new i("AutoRotate")]}constructor(){super(),this.autoRotate=!1,this.core=new P.d.StiCenterPieLabelsCoreXF(this)}}P.d.StiCenterPieLabels=vl}{class Fl extends P.d.StiCenterPieLabels{implements(){return Fl.implementsStiInsideEndPieLabels||(Fl.implementsStiInsideEndPieLabels=super.implements().concat([P.d.IStiCenterPieLabels,P.d.IStiSeriesLabels,P.d.IStiPieSeriesLabels,P.d.IStiInsideEndPieLabels,s,r])),Fl.implementsStiInsideEndPieLabels}constructor(){super(),this.core=new P.d.StiInsideEndPieLabelsCoreXF(this)}}P.d.StiInsideEndPieLabels=Fl}{class kl extends P.d.StiCenterPieLabels{implements(){return kl.implementsStiOutsidePieLabels||(kl.implementsStiOutsidePieLabels=super.implements().concat([P.d.IStiOutsidePieLabels,P.d.IStiCenterPieLabels,P.d.IStiPieSeriesLabels,P.d.IStiSeriesLabels,s,r])),kl.implementsStiOutsidePieLabels}meta(){return[...super.meta(),new ce("Angle"),new i("ShowValue"),new n("LineLength","",20),new e("LineColor","",B.black)]}constructor(){super(),this.showValue=!1,this.lineLength=20,this.lineColor=B.black,this.core=new P.d.StiOutsidePieLabelsCoreXF(this)}}P.d.StiOutsidePieLabels=kl}{class Bl extends P.d.StiOutsidePieLabels{implements(){return Bl.implementsStiTwoColumnsPieLabels||(Bl.implementsStiTwoColumnsPieLabels=super.implements().concat([P.d.IStiTwoColumnsPieLabels,P.d.IStiOutsidePieLabels,P.d.IStiCenterPieLabels,P.d.IStiPieSeriesLabels,P.d.IStiSeriesLabels,s,r])),Bl.implementsStiTwoColumnsPieLabels}meta(){return[...super.meta(),new ce("AutoRotate")]}constructor(){super(),this.core=new P.d.StiTwoColumnsPieLabelsCoreXF(this)}}P.d.StiTwoColumnsPieLabels=Bl}P.d.StiCenterTreemapLabels=class extends P.d.StiAxisSeriesLabels{constructor(){super(),this.core=new P.d.StiCenterTreemapLabelsCoreXF(this)}};{class Il extends te{implements(){return Il.implementsStiStrips||(Il.implementsStiStrips=super.implements().concat([s,P.d.IStiStrips,r])),Il.implementsStiStrips}meta(){return[...super.meta(),new i("AllowApplyStyle","",!0),new i("ShowBehind","",!0),new ee("StripBrush"),new i("Antialiasing","",!0),new re("Font","","Arial",7),new a("Text"),new i("TitleVisible","",!0),new e("TitleColor","",B.green),new l("Orientation","",P.d.StiStrips_StiOrientation,P.d.StiStrips_StiOrientation.Horizontal),new i("ShowInLegend","",!0),new U("MaxValue","","1"),new U("MinValue","","0"),new i("Visible","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return null!=this.core&&(e.core=this.core.clone(),e.core.strips=e),e}get serviceCategory(){return"Chart"}get serviceType(){return Il}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}constructor(){super(),this._allowApplyStyle=!0,this.showBehind=!0,this.stripBrush=new V(B.transparent),this.antialiasing=!0,this.font=new S("Arial",7),this.text="",this.titleVisible=!0,this.titleColor=B.green,this.orientation=P.d.StiStrips_StiOrientation.Horizontal,this.showInLegend=!0,this.maxValue="1",this.minValue="0",this.visible=!0,this.core=new P.d.StiStripsCoreXF(this)}}P.d.StiStrips=Il}P.d.StiStyle01=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF01}};{class Dl extends P.d.StiStyle01{implements(){return Dl.implementsStiCustomStyle||(Dl.implementsStiCustomStyle=super.implements().concat([P.d.IStiCustomStyle])),Dl.implementsStiCustomStyle}get serviceName(){return"CustomStyle"}get customCore(){return this.core}constructor(e=null){super(),this.core=new P.d.StiCustomStyleCoreXF(this),this.core.reportStyleName=e}}P.d.StiCustomStyle=Dl}P.d.StiStyle02=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF02}},P.d.StiStyle03=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF03}},P.d.StiStyle04=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF04}},P.d.StiStyle05=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF05}},P.d.StiStyle06=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF06}},P.d.StiStyle07=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF07}},P.d.StiStyle08=class extends P.d.StiStyle03{constructor(){super(),this.core=new P.d.StiStyleCoreXF08}},P.d.StiStyle09=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF09}},P.d.StiStyle10=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF10}},P.d.StiStyle11=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF11}},P.d.StiStyle12=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF12}},P.d.StiStyle13=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF13}},P.d.StiStyle14=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF14}},P.d.StiStyle15=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF15}},P.d.StiStyle16=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF16}},P.d.StiStyle17=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF17}},P.d.StiStyle18=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF18}},P.d.StiStyle19=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF19}},P.d.StiStyle20=class extends P.d.StiChartStyle{constructor(){super(),this.core=new P.d.StiStyleCoreXF20}},P.d.StiStyle21=class extends P.d.StiChartStyle{constructor(){super(),this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF21}},P.d.StiStyle22=class extends P.d.StiChartStyle{constructor(){super(),this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF22}},P.d.StiStyle23=class extends P.d.StiChartStyle{constructor(){super(),this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF23}},P.d.StiStyle24=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Orange")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Orange,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF24}},P.d.StiStyle26=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Turquoise")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Turquoise,this.core=new P.d.StiStyleCoreXF26}},P.d.StiStyle27=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","SlateGray")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.SlateGray,this.core=new P.d.StiStyleCoreXF27}},P.d.StiStyle28=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","DarkBlue")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.DarkBlue,this.core=new P.d.StiStyleCoreXF28}},P.d.StiStyle30=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","DarkGray")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.DarkGray,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF30}},P.d.StiStyle31=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","DarkTurquoise")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.DarkTurquoise,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF31}},P.d.StiStyle32=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Silver")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Silver,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF32}},P.d.StiStyle33=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","AliceBlue")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.AliceBlue,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF33}},P.d.StiStyle34=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","DarkGreen")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.DarkGreen,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF34}},P.d.StiStyle35=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Sienna")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Sienna,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF35}},P.d.StiStyle36=class extends P.d.StiChartStyle{get dashboardName(){return d.get("PropertyColor","Gray")}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.Gray,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF36}},P.d.StiStyle37=class extends P.d.StiChartStyle{get dashboardName(){return Ut.dashboardName}constructor(){super(),this.allowDashboard=!0,this.styleIdent=Fe.WhiteBlack,this.isOffice2015Style=!0,this.core=new P.d.StiStyleCoreXF37}},P.d.StiChartTableDataCells=class{meta(){return[new re("Font","","Arial",8),new e("TextColor","",B.darkGray),new n("ShrinkFontToFitMinimumSize","",1),new i("ShrinkFontToFit")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.font=this.font.clone(),e}constructor(e=!1,t=1,i=new S("Arial",8),s=B.darkGray){this.font=new S("Arial",8),this.textColor=B.darkGray,this.shrinkFontToFit=!1,this.shrinkFontToFitMinimumSize=1,this.font=i,this.textColor=s,this.shrinkFontToFit=e,this.shrinkFontToFitMinimumSize=t}};{class Ol{implements(){return Ol.implementsStiChartTableHeader||(Ol.implementsStiChartTableHeader=[s,P.d.IStiChartTableHeader,r]),Ol.implementsStiChartTableHeader}meta(){return[new a("TextAfter"),new ee("Brush"),new re("Font","","Arial",8),new e("TextColor","",B.darkGray),new i("WordWrap"),new a("Format")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.brush=this.brush.clone(),e.font=this.font.clone(),e}constructor(e="",t=new V(B.white),i=new S("Arial",8),s=B.darkGray,r=!1,n=""){this.brush=new V(B.white),this.font=new S("Arial",8),this.textColor=B.darkGray,this.wordWrap=!1,this.textAfter="",this.textAfter=e,this.brush=t,this.font=i,this.textColor=s,this.wordWrap=r,this.format=n}}P.d.StiChartTableHeader=Ol}{class Pl{constructor(){this.mode=P.d.StiTopNMode.None,this.count=5,this.showOthers=!0,this.othersText="Others"}implements(){return Pl.implementsStiSeriesTopN||(Pl.implementsStiSeriesTopN=[s,P.d.IStiSeriesTopN,r]),Pl.implementsStiSeriesTopN}meta(){return[new l("Mode","",P.d.StiTopNMode,P.d.StiTopNMode.None),new n("Count","",5),new i("ShowOthers","",!0),new U("OthersText","","Others")]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}get propName(){return""}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e}}P.d.StiSeriesTopN=Pl}{class Rl extends te{constructor(){super(...arguments),this.lineColor=B.black,this.lineWidth=1,this.lineStyle=p.Solid,this.showShadow=!0,this.allowApplyStyle=!0,this.position=P.d.StiTrendLine_StiTextPosition.LeftBottom,this.font=new S("Arial",7),this.text="",this.titleVisible=!0}implements(){return Rl.implementsStiTrendLine||(Rl.implementsStiTrendLine=super.implements().concat([P.d.IStiTrendLine,r,s])),Rl.implementsStiTrendLine}meta(){return[...super.meta(),new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new e("LineColor","",B.black),new n("LineWidth","",1),new l("LineStyle","",p,p.Solid),new i("ShowShadow","",!0),new l("Position","",P.d.StiTrendLine_StiTextPosition,P.d.StiConstantLines_StiTextPosition.LeftBottom),new re("Font","","Arial",7),new a("Text"),new i("TitleVisible","",!0),new i("AllowApplyStyle","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=D["StiOptions"].Services.chartTrendLines.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t);if(null==i)throw k.format("Type {0} is not found!",t);let s=ie.createObject(i[D.System.StiObject.stimulsoft]().getType());return s.loadFromJsonObject(e),s}loadFromXml(e){t.loadFromXml(e,this)}static loadTrendLineFromXml(t){switch(t.attributes.getNamedItem("type").value){case"Stimulsoft.Report.Chart.StiTrendLineNone":{let e=new P.d.StiTrendLineNone;return e.loadFromXml(t),e}case"Stimulsoft.Report.Chart.StiTrendLineLinear":{let e=new P.d.StiTrendLineLinear;return e.loadFromXml(t),e}case"Stimulsoft.Report.Chart.StiTrendLineExponential":{let e=new P.d.StiTrendLineExponential;return e.loadFromXml(t),e}case"Stimulsoft.Report.Chart.StiTrendLineLogarithmic":{let e=new P.d.StiTrendLineLogarithmic;return e.loadFromXml(t),e}}return new P.d.StiTrendLineNone}get propName(){return""}clone(){let e=super.clone();return null!=this.core&&(e.core=this.core.clone(),e.core.trendLine=e),e}get serviceName(){return this.core.localizedName}get serviceCategory(){return"Chart"}get serviceType(){return Rl}toString(){return this.serviceName}}P.d.StiTrendLine=Rl}{class Ml extends P.d.StiTrendLine{implements(){return Ml.implementsStiTrendLineExponential||(Ml.implementsStiTrendLineExponential=super.implements().concat([P.d.IStiTrendLine,r,s,P.d.IStiTrendLineExponential])),Ml.implementsStiTrendLineExponential}constructor(){super(),this.core=new P.d.StiTrendLineExponentialCoreXF(this)}}P.d.StiTrendLineExponential=Ml}{class Gl extends P.d.StiTrendLine{implements(){return Gl.implementsStiTrendLineLinear||(Gl.implementsStiTrendLineLinear=super.implements().concat([P.d.IStiTrendLine,P.d.IStiTrendLineLinear,r,s])),Gl.implementsStiTrendLineLinear}constructor(){super(),this.core=new P.d.StiTrendLineLinearCoreXF(this)}}P.d.StiTrendLineLinear=Gl}{class Vl extends P.d.StiTrendLine{implements(){return Vl.implementsStiTrendLineLogarithmic||(Vl.implementsStiTrendLineLogarithmic=super.implements().concat([P.d.IStiTrendLine,P.d.IStiTrendLineLogarithmic,r,s])),Vl.implementsStiTrendLineLogarithmic}constructor(){super(),this.core=new P.d.StiTrendLineLogarithmicCoreXF(this)}}P.d.StiTrendLineLogarithmic=Vl}{class El extends P.d.StiTrendLine{implements(){return El.implementsStiTrendLineNone||(El.implementsStiTrendLineNone=super.implements().concat([P.d.IStiTrendLine,P.d.IStiTrendLineNone,s,r])),El.implementsStiTrendLineNone}constructor(){super(),this.core=new P.d.StiTrendLineNoneCoreXF(this)}}P.d.StiTrendLineNone=El}{class Xl extends oe{implements(){return[P.d.IStiTrendLinesCollection,r,s]}saveToJsonObject(t){if(0==this.list.length)return null;let i=new le,s=0;for(let e of this.list)i.addPropertyJObject(s.toString(),e.saveToJsonObject(t)),s++;return i}loadFromJsonObject(e){for(let r of e.properties()){let e=r.value,t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=D["StiOptions"].Services.chartTrendLines.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t);if(null==i)throw k.format("Type {0} is not found!",t);let s=ie.createObject(i[D.System.StiObject.stimulsoft]().getType());this.list.push(s),s.loadFromJsonObject(r.value)}}loadFromXml(i){for(let t=0;t<i.childNodes.length;t++){let s=i.childNodes[t];if(null==s.attributes)continue;let e=s.attributes.getNamedItem("type");if(null!=e){let e=s.attributes.getNamedItem("type").value,t=e.split(".").pop(),i=new P.d[t];this.list.push(i),i.loadFromXml(s)}}}clone(){let t=new Xl;for(let e of this.list)t.add(e.clone());return t}add(e){this.list.push(e)}}P.d.StiTrendLinesCollection=Xl}{class Nl{constructor(){this.lineColor=B.lightGray,this.lineWidth=1,this.visible=!0}implements(){return Nl.implementsStiWaterfallConnectorLine||(Nl.implementsStiWaterfallConnectorLine=[P.d.IStiTrendLine,r,s]),Nl.implementsStiWaterfallConnectorLine}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}meta(){return[new e("LineColor","",B.lightGray),new n("LineWidth","",1),new l("LineStyle","",p,p.Solid),new i("TitleVisible","visible",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}}P.d.StiWaterfallConnectorLine=Nl}{class jl{constructor(){this.text="Total",this.visible=!0}implements(){return jl.implementsStiWaterfallTotal||(jl.implementsStiWaterfallTotal=[P.d.IStiTrendLine,r,s]),jl.implementsStiWaterfallTotal}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}meta(){return[new a("Text"),new i("Visible","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}}P.d.StiWaterfallTotal=jl}P.d.StiCamera3D=class{translateMatrix(){return new P.d.StiMatrix([[1,0,0,0],[0,1,0,0],[0,0,1,0],[-this.position.x,-this.position.y,-this.position.z,1]])}rotateMatrix(){return new P.d.StiMatrix([[this.right.x,this.up.x,this.forward.x,0],[this.right.y,this.up.y,this.forward.y,0],[this.right.z,this.up.z,this.forward.z,0],[0,0,0,1]])}cameraMatrix(){return P.d.StiMatrix.multiply(this.translateMatrix(),this.rotateMatrix())}constructor(e,t){this.forward=new P.d.StiVector4(0,0,1,1),this.up=new P.d.StiVector4(0,1,0,1),this.right=new P.d.StiVector4(1,0,0,1),this.nearPlane=.1,this.farPlane=100,this.render=e,this.position=new P.d.StiVector4(t.x,t.y,t.z,1),this.h_fov=1,this.v_fov=this.h_fov*(e.height/e.width)}},P.d.StiProjection=class{constructor(e){let t=e.camera,i=(this.near=t.nearPlane,this.far=t.farPlane,this.right=Math.tan(t.h_fov/2),this.left=-this.right,this.top=Math.tan(t.v_fov/2),this.bottom=-this.top,2/(this.right-this.left)),s=2/(this.top-this.bottom),r=(this.far+this.near)/(this.far-this.near),n=-2*this.near*this.far/(this.far-this.near),l=(this.projectionMatrix=new P.d.StiMatrix([[i,0,0,0],[0,s,0,0],[0,0,r,1],[0,0,n,0]]),e.halfWidth),o=e.halfHeight;this.toScreenMatrix=new P.d.StiMatrix([[l,0,0,0],[0,-o,0,0],[0,0,1,0],[l,o,0,1]])}},P.d.StiRender3D=class{constructor(e,t){this.width=e,this.height=t,this.halfWidth=e/2,this.halfHeight=t/2,this.camera=new P.d.StiCamera3D(this,new P.d.StiVector3(0,0,-30)),this.projection=new P.d.StiProjection(this)}};let wi=P.d.IStiClusteredColumnSeries3D,yi=P.d.StiConstantLines_StiOrientation,xi=P.d.StiStrips_StiOrientation;P.d.StiAxisAreaCoreXF3D=class extends P.d.StiAreaCoreXF{applyStyle(e){super.applyStyle(e);let t=this.area;t.allowApplyStyle&&(null!=t.interlacingHor&&t.interlacingHor.core.applyStyle(e),null!=t.interlacingVert&&t.interlacingVert.core.applyStyle(e),null!=t.gridLinesHor&&t.gridLinesHor.core.applyStyle(e),null!=t.gridLinesVert&&t.gridLinesVert.core.applyStyle(e),null!=t.xAxis&&t.xAxis.core.applyStyle(e),null!=t.yAxis)&&t.yAxis.core.applyStyle(e)}render(i,e){let t=e.clone(),s=this.area,r=(this.prepareInfo(e.clone()),s.yAxis.core.getAxisRect(i,e,!0,!0,!1,!0)),n=(e=new _(r.width,0,e.width-r.width,e.height),s.xAxis.core.getAxisRect(i,e,!0,!0,!1,!0)),l=(e=new _(r.width,0,e.width-r.width,e.height-n.height),this.prepareInfo(e.clone()),s.core.getSeries()),o=this.getRedner3D(e),a=new P.d.StiAxisAreaViewGeom3D(s,t,o),h=this.getFactorWidthHeight(e),u=h,d=1,c=this.getPositionZ(s),S=ct.toColor(this.area.brush),m=new P.d.StiXYAreaGeom3D(u,d,o),g=(m.color=S,new P.d.StiXZAreaGeom3D(u,c,o)),p=(g.color=S,new P.d.StiZYAreaGeom3D(c,d,o)),f=(p.color=S,a.createChildGeoms(),a.childGeoms.push(p),a.childGeoms.push(g),a.childGeoms.push(m),new P.d.StiRectangle3D);f.length=h,f.height=1,f.width=-this.getPositionZ(s),this.renderInterlacingHor(o,f,a),this.renderInterlacingVer(o,f,a),this.renderGridLinesHorZY(o,f,s.gridLinesHor,a),this.renderGridLinesHorXY(o,f,s.gridLinesHor,a),this.renderGridLinesVertXY(o,f,s.gridLinesVert,a),this.renderGridLinesVertZX(o,f,s.gridLinesVert,a);for(let e of this.area.chart.strips.list)e.showBehind&&this.renderStrips(i,o,f,a,e);for(let e of this.area.chart.constantLines.list)e.showBehind&&this.renderConstantLines(i,o,f,a,e);if(this.renderSeries(o,i,f,a,l[D.System.StiObject.stimulsoft]().toList()),0<l.length){let e=s.yAxis.core.render3D(i,f,o),t=(a.createChildGeoms(),a.childGeoms.push(e),s.xAxis.core.render3D(i,f,o));a.createChildGeoms(),a.childGeoms.push(t)}for(let e of this.area.chart.strips.list)e.showBehind||this.renderStrips(i,o,f,a,e);for(let e of this.area.chart.constantLines.list)e.showBehind||this.renderConstantLines(i,o,f,a,e);return a}renderStrips(e,t,i,s,r){if(!r.visible)return;r.orientation===xi.Vertical&&this.renderXStrips(e,t,i,s,r),r.orientation===xi.Horizontal&&this.renderYStrips(e,t,i,s,r)}renderYStrips(h,u,d,c,S){if(S.visible){let l=this.calculateYValue(S.minValue),o=this.calculateYValue(S.maxValue),e=(l>o&&([l,o]=[o,l]),l+d.y),t=o+d.y,a=S.showBehind?d.z:d.front;if(0<=e&&e<=d.height&&0<t&&t<=d.height){let e=new P.d.StiPoint3D(d.x,l,a),t=new P.d.StiPoint3D(d.x,o,a),i=new P.d.StiPoint3D(d.right,l,a),s=new P.d.StiPoint3D(d.right,o,a),r=ct.toColor(S.stripBrush),n=new P.d.StiPlaneGeom3D(e,t,s,i,r,u);c.createChildGeoms(),c.childGeoms.push(n)}if(S.titleVisible){let e=d.right-(d.right-d.x)/2,t=o-(o-l)/2,i=new P.d.StiPoint3D(e,t,a),s=N.changeFontSize(S.font,S.font.size*h.options.zoom),r=kt.parse(S.text,this.area.chart),n=new P.d.StiTextGeom3D(r,s,S.titleColor,j.CenterCenter,0,i,u);c.createChildGeoms(),c.childGeoms.push(n)}}}renderXStrips(h,u,d,c,S){if(S.visible){let l=this.calculateXValue(S.minValue),o=this.calculateXValue(S.maxValue),e=(l>o&&([l,o]=[o,l]),l+d.x),t=o+d.x,a=S.showBehind?d.z:d.front;if(0<=e&&e<=d.right&&0<=t&&t<=d.right){let e=new P.d.StiPoint3D(l,d.y,a),t=new P.d.StiPoint3D(l,d.top,a),i=new P.d.StiPoint3D(o,d.y,a),s=new P.d.StiPoint3D(o,d.top,a),r=ct.toColor(S.stripBrush),n=new P.d.StiPlaneGeom3D(e,t,s,i,r,u);c.createChildGeoms(),c.childGeoms.push(n)}if(S.titleVisible){let e=o-(o-l)/2,t=d.top-(d.top-d.y)/2,i=new P.d.StiPoint3D(e,t,a),s=N.changeFontSize(S.font,S.font.size*h.options.zoom),r=kt.parse(S.text,this.area.chart),n=new P.d.StiTextGeom3D(r,s,S.titleColor,j.CenterCenter,90,i,u);c.createChildGeoms(),c.childGeoms.push(n)}}}calculateXValue(e){let t=this.area,i=kt.parse(e,this.area.chart),s=parseFloat(i.replace(",","."));return s*t.xAxis.info.dpi}calculateYValue(e){let t=this.area,i=kt.parse(e,this.area.chart),s=parseFloat(i.replace(",","."));return s*t.yAxis.info.dpi}renderConstantLines(e,t,i,s,r){if(!r.visible)return;r.orientation===yi.Vertical&&this.renderXConstantLines(e,t,i,s,r),r.orientation===yi.Horizontal&&this.renderYConstantLines(e,t,i,s,r)}renderYConstantLines(n,a,h,u,d){if(d.visible){let e=this.area,t,i=y.fromString(d.axisValue,!1);if(null!=i)t=i.toOADate();else try{let e=kt.parse2(d.axisValue,this.area.chart.report);t=e[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1),t=0}let s=t*e.yAxis.info.dpi,l=s+h.y,o=d.showBehind?h.z:h.front;if(0<=l&&l<=h.height){let e=new P.d.StiPoint3D(h.x,l,o),t=new P.d.StiPoint3D(h.right,l,o),i=d.lineColor,s=d.lineStyle,r=d.lineWidth,n=new P.d.StiLineGeom3D(e,t,i,r,s,a);u.createChildGeoms(),u.childGeoms.push(n)}if(d.titleVisible){let e=N.changeFontSize(d.font,d.font.size*n.options.zoom),t=kt.parse(d.text,this.area.chart),i=new P.d.StiPoint3D(h.x,l,o),s=j.LeftBottom;switch(d.position){case P.d.StiConstantLines_StiTextPosition.LeftBottom:s=j.LeftTop,i=new P.d.StiPoint3D(h.x,l,o);break;case P.d.StiConstantLines_StiTextPosition.LeftTop:s=j.LeftBottom,i=new P.d.StiPoint3D(h.x,l,o);break;case P.d.StiConstantLines_StiTextPosition.CenterBottom:s=j.CenterTop,i=new P.d.StiPoint3D(h.x+h.length/2,l,o);break;case P.d.StiConstantLines_StiTextPosition.CenterTop:s=j.CenterBottom,i=new P.d.StiPoint3D(h.x+h.length/2,l,o);break;case P.d.StiConstantLines_StiTextPosition.RightBottom:s=j.RightTop,i=new P.d.StiPoint3D(h.right,l,o);break;case P.d.StiConstantLines_StiTextPosition.RightTop:s=j.RightBottom,i=new P.d.StiPoint3D(h.right,l,o);break}let r=new P.d.StiTextGeom3D(t,e,d.lineColor,s,0,i,a);u.createChildGeoms(),u.childGeoms.push(r)}}}renderXConstantLines(n,a,h,u,d){if(d.visible){let e=this.area,t,i=y.fromString(d.axisValue,!1);if(null!=i)t=i.toOADate();else try{let e=kt.parse2(d.axisValue,this.area.chart.report);t=e[D.System.StiObject.stimulsoft]().toNumber()}catch(e){D.System.StiError.showError(e,!1),t=0}let s=t*e.xAxis.info.dpi,l=s+h.x,o=d.showBehind?h.z:h.front;if(0<=l&&l<=h.right){let e=new P.d.StiPoint3D(l,h.y,o),t=new P.d.StiPoint3D(l,h.top,o),i=d.lineColor,s=d.lineStyle,r=d.lineWidth,n=new P.d.StiLineGeom3D(e,t,i,r,s,a);u.createChildGeoms(),u.childGeoms.push(n)}if(d.titleVisible){let e=N.changeFontSize(d.font,d.font.size*n.options.zoom),t=kt.parse(d.text,this.area.chart),i=new P.d.StiPoint3D(l,h.top,o),s=j.LeftBottom;switch(d.position){case P.d.StiConstantLines_StiTextPosition.LeftBottom:s=j.LeftTop,i=new P.d.StiPoint3D(l,h.top,o);break;case P.d.StiConstantLines_StiTextPosition.LeftTop:s=j.LeftBottom,i=new P.d.StiPoint3D(l,h.top,o);break;case P.d.StiConstantLines_StiTextPosition.CenterBottom:s=j.CenterTop,i=new P.d.StiPoint3D(l,h.y+h.height/2,o);break;case P.d.StiConstantLines_StiTextPosition.CenterTop:s=j.CenterBottom,i=new P.d.StiPoint3D(l,h.y+h.height/2,o);break;case P.d.StiConstantLines_StiTextPosition.RightBottom:s=j.RightTop,i=new P.d.StiPoint3D(l,h.y,o);break;case P.d.StiConstantLines_StiTextPosition.RightTop:s=j.RightBottom,i=new P.d.StiPoint3D(l,h.y,o);break}let r=new P.d.StiTextGeom3D(t,e,d.lineColor,s,90,i,a);u.createChildGeoms(),u.childGeoms.push(r)}}}renderInterlacingVer(a,h,u){let d=this.area;if(!d.interlacingVert.visible)return;let e=0,t=new G,i=d.xAxis.info.stripPositions,s=!0;for(let e of i){if(s){t.add(e),s=!1;continue}t.add(e)}let r=R.create(Number,t.length),n=(t.copyTo(r),!0);for(let o of r){let l=r[e+1];if(n){let e=new P.d.StiPoint3D(o,h.y,h.z),t=new P.d.StiPoint3D(o,h.top,h.z),i=new P.d.StiPoint3D(l,h.y,h.z),s=new P.d.StiPoint3D(l,h.top,h.z),r=ct.toColor(d.interlacingVert.interlacedBrush),n=new P.d.StiPlaneGeom3D(e,t,s,i,r,a);u.createChildGeoms(),u.childGeoms.push(n),t=e,e=new P.d.StiPoint3D(o,h.y,h.front),s=i,i=new P.d.StiPoint3D(l,h.y,h.front),n=new P.d.StiPlaneGeom3D(e,t,s,i,r,a),u.createChildGeoms(),u.childGeoms.push(n)}if(n=!n,++e==r.length-1)break}}switchOff(){let e=this.area.as(P.d.IStiAxisArea3D);e.xAxis.visible=!1,e.yAxis.visible=!1,e.gridLinesHor.visible=!1,e.gridLinesVert.visible=!1,e.interlacingHor.visible=!1,e.interlacingVert.visible=!1,e.gridLinesHor.minorVisible=!1,e.gridLinesVert.minorVisible=!1}renderInterlacingHor(a,h,u){let d=this.area;if(!d.interlacingHor.visible)return;let t=new G,i=d.yAxis.info.stripPositions.length,s=R.create(Number,i);for(let e=0;e<i;e++)s[i-1-e]=d.yAxis.info.stripPositions[e];let r=!0;for(let e of s){if(r){t.add(e),r=!1;continue}t.add(e)}let e=R.create(Number,t.length),n=(t.copyTo(e),0),c=!0;for(let o of e){let l=e[n+1];if(c){let e=new P.d.StiPoint3D(h.x,o,h.z),t=new P.d.StiPoint3D(h.x,l,h.z),i=new P.d.StiPoint3D(h.right,o,h.z),s=new P.d.StiPoint3D(h.right,l,h.z),r=ct.toColor(d.interlacingHor.interlacedBrush),n=new P.d.StiPlaneGeom3D(e,t,s,i,r,a);u.createChildGeoms(),u.childGeoms.push(n),i=e,s=t,e=new P.d.StiPoint3D(h.x,o,h.front),t=new P.d.StiPoint3D(h.x,l,h.front),n=new P.d.StiPlaneGeom3D(e,t,s,i,r,a),u.createChildGeoms(),u.childGeoms.push(n)}if(c=!c,++n==e.length-1)break}}prepareInfo(e){let s=this.getFactorWidthHeight(e),r=this.area,n=this.getSeries();if(0<n.length){r.xAxis.info.stripLines=new P.d.StiStripLinesXF,r.yAxis.info.stripLines=new P.d.StiStripLinesXF,r.zAxis.info.stripLines=new P.d.StiStripLinesXF,this.valuesCount=0;for(let t=0;t<n.length;t++){let e=n[t].values;null!=e&&(this.valuesCount=Math.max(e.length,this.valuesCount))}this.prepareRange(r.xAxis,r.yAxis,r.zAxis),this.checkStartFromZeroYAxis(r.yAxis),this.calculateMinimumAndMaximumYAxis(r.yAxis),this.calculateMinimumAndMaximumXAxis(r.xAxis),this.createStripLinesXAxis(r.xAxis),this.createStripLinesYAxis(r.yAxis),this.createStripLinesZAxis(r.zAxis),this.checkStripLinesAndMaximumMinimumXAxis(r.xAxis),this.checkStripLinesAndMaximumMinimumYAxis(r.yAxis),this.checkStripLinesAndMaximumMinimumZAxis(r.zAxis),this.checkShowEdgeValues(r.xAxis),r.xAxis.info.dpi=s/r.xAxis.info.range,r.yAxis.info.dpi=1/r.yAxis.info.range,r.zAxis.info.dpi=r.xAxis.info.dpi;let e=this.getPrePositionZ(r),t=e/s,i=(r.zAxis.info.dpi=2<t?2*s/r.zAxis.info.range:r.xAxis.info.dpi,this.calculateStepX(r.xAxis,0,s),this.calculateStepY(r.yAxis,1,0),this.calculateStepZ(r.zAxis,0,this.getPositionZ(r)),{ref:r.xAxis.info.labelsCollection});this.calculatePositions(r.xAxis,i,1),r.xAxis.info.labelsCollection=i.ref,i={ref:r.yAxis.info.labelsCollection},this.calculatePositions(r.yAxis,i,1),r.yAxis.info.labelsCollection=i.ref}let t=this.getRedner3D(e),i=s,l=1,o=this.getPositionZ(r),a=new P.d.StiXYAreaGeom3D(i,l,t),h=new P.d.StiXZAreaGeom3D(i,o,t),u=new P.d.StiZYAreaGeom3D(o,l,t),d=a.measureCientRect(),c=h.measureCientRect(),S=u.measureCientRect(),m=_.union(d,c),g=(m=_.union(m,S),this.contextScale=Math.min(e.height/m.height,e.width/m.width),e.x+(e.width-m.width*this.contextScale)/2),p=e.y+(e.height-m.height*this.contextScale)/2;this.contextTranslate=new Dt(m.x*this.contextScale-g,m.y*this.contextScale-p)}calculateMinimumAndMaximumYAxis(e){let t=.1,i=(0<this.getSeries().length&&this.getSeries()[0].seriesLabels.is(P.d.StiOutsideEndAxisLabels)&&(t=.15),Math.min(t,Math.abs(4/((e.info.maximum+e.info.minimum)/2))));e.info.maximum*=1+i*Math.sign(e.info.maximum),e.info.minimum*=1-i*Math.sign(e.info.minimum),e.info.minimum==e.info.maximum&&(0==e.info.maximum?e.info.maximum=100:(e.info.minimum-=.1*e.info.minimum,e.info.maximum+=.1*e.info.maximum))}checkStartFromZeroYAxis(e){e.info.maximum<0&&(e.info.maximum=0),0<e.info.minimum&&(e.info.minimum=0)}calculateStepX(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(0).value-e.info.stripLines.getByIndex(1).value)*e.info.dpi),e.core.calculateStripPositions(t,i)):(e.info.step=1,e.info.stripPositions=[])}calculateStepY(e,t,i){2<=e.info.stripLines.count?(e.info.step=Math.abs((e.info.stripLines.getByIndex(1).value-e.info.stripLines.getByIndex(0).value)*e.info.dpi),e.core.calculateStripPositions(i,t)):(e.info.step=1,e.info.stripPositions=[])}calculateStepZ(e,t,i){2<=e.info.stripLines.count?(e.info.step=-Math.abs((e.info.stripLines.getByIndex(1).value-e.info.stripLines.getByIndex(0).value)*e.info.dpi),e.core.calculateStripPositions(t,i)):(e.info.step=-1,e.info.stripPositions=[])}calculatePositions(s,e,t,i=!1){let r=[],n=0,l=s.info.stripPositions.length;for(let i=0;i<l;i++){if(0==n){let e=new P.d.StiStripPositionXF,t=i;e.stripLine=s.info.stripLines.getByIndex(t),e.position=s.info.stripPositions[t],r.push(e)}if(i==l-1&&0!=n){let e=s;if(null!=e&&e.showEdgeValues){let e=new P.d.StiStripPositionXF,t=l-1;e.stripLine=s.info.stripLines.getByIndex(t),e.position=s.info.stripPositions[t],r.push(e)}}++n==t&&(n=0)}e.ref=r}getPrePositionZ(e){if(e.is(P.d.StiClusteredColumnArea3D)&&!e.sideBySide)return e.xAxis.info.dpi*this.getSeries().length;return e.xAxis.info.dpi}getPositionZ(e){if(e.is(P.d.StiClusteredColumnArea3D)&&!e.sideBySide)return e.zAxis.info.dpi*this.getSeries().length;return e.zAxis.info.dpi}renderSeries(i,s,r,n,l){let e=n.area;if(e.is(P.d.StiClusteredColumnArea3D)&&e.sideBySide&&l.any(e=>e.is(wi)))l[0].core.renderSideBySide(i,s,r,n,l[D.System.StiObject.stimulsoft]().toArray());else for(let t=l.length-1;0<=t;t--){let e=l[t];e.core.renderSeries3D(i,s,r,n,t,l[D.System.StiObject.stimulsoft]().toArray())}}renderGridLinesHorZY(r,n,l,o){let e=this.area,t=e.yAxis.info.stripPositions;if(0<t.length)for(let e of t)if(l.visible&&l.style!=p.None){let s=e+n.y;if(0<=s&&s<=n.height){let e=new P.d.StiPoint3D(n.x,s,n.z),t=new P.d.StiPoint3D(n.x,s,n.front),i=new P.d.StiLineGeom3D(e,t,l.color,1,l.style,r);o.createChildGeoms(),o.childGeoms.push(i)}}}renderGridLinesHorXY(r,n,l,o){let e=this.area,t=e.yAxis.info.stripPositions;if(0<t.length)for(let e of t)if(l.visible&&l.style!=p.None){let s=e+n.y;if(0<=s&&s<=n.height){let e=new P.d.StiPoint3D(n.x,s,n.z),t=new P.d.StiPoint3D(n.right,s,n.z),i=new P.d.StiLineGeom3D(e,t,l.color,1,l.style,r);o.createChildGeoms(),o.childGeoms.push(i)}}}renderGridLinesVertZX(r,n,l,o){let e=this.area,t=e.xAxis.info.stripPositions;if(0<t.length)for(let s of t)if(l.visible&&l.style!=p.None){let e=s+n.x;if(0<=e&&e<=n.right){let e=new P.d.StiPoint3D(s,n.y,n.z),t=new P.d.StiPoint3D(s,n.y,n.front),i=new P.d.StiLineGeom3D(e,t,l.color,1,l.style,r);o.createChildGeoms(),o.childGeoms.push(i)}}}renderGridLinesVertXY(r,n,l,o){let e=this.area,t=e.xAxis.info.stripPositions;if(0<t.length)for(let s of t)if(l.visible&&l.style!=p.None){let e=s+n.x;if(0<=e&&e<=n.right){let e=new P.d.StiPoint3D(s,n.y,n.z),t=new P.d.StiPoint3D(s,n.top,n.z),i=new P.d.StiLineGeom3D(e,t,l.color,1,l.style,r);o.createChildGeoms(),o.childGeoms.push(i)}}}checkShowEdgeValues(e){0<e.info.stripLines.count&&(e.showEdgeValues||(e.info.stripLines.getByIndex(0).valueObject=null,e.info.stripLines.getByIndex(e.info.stripLines.count-1).valueObject=null))}calculateMinimumAndMaximumXAxis(e){}createStripLinesYAxis(l){if(this.area.getDefaultSeriesType()==P.d.StiFullStackedColumnSeries3D){let i=!1,s=!1,e=this.getSeries();for(let t of e)for(let e of t.values)0<e&&(i=!0),e<0&&(s=!0);let t=s?-100:0,r=i?100:0,n=(0==t&&0==r&&(r=100),P.d.StiStripLineCalculatorXF.getInterval(t,r,6));l.info.stripLines=P.d.StiStripLineCalculatorXF.getStripLines(t,r,n,!1);for(let e of l.info.stripLines.list)e.valueObject=k.format("{0}%",e.valueObject)}else{let e=P.d.StiStripLineCalculatorXF.getInterval(l.info.minimum,l.info.maximum,6),t=this.area.chart;t.isDashboard&&(l.labels.calculatedStep=e),l.info.stripLines=P.d.StiStripLineCalculatorXF.getStripLines(l.info.minimum,l.info.maximum,e,!1)}l.info.stripLines.list.reverse()}createStripLinesXAxis(s){for(let e=0;e<=this.valuesCount+1;e++)s.info.stripLines.add2(e,e);let t=this.getSeries();for(let e of t)for(let i=0;i<this.valuesCount;i++){let t=null;if(null!=e.arguments&&i<e.arguments.length&&null==(t=e.arguments[i]))continue;if(null!=t){let e=1+i;e<s.info.stripLines.count&&(s.info.stripLines.getByIndex(e).valueObject=t)}}}createStripLinesZAxis(t){let i=this.getSeries();for(let e=0;e<=i.length;e++)t.info.stripLines.add2(e,e)}checkStripLinesAndMaximumMinimumXAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.minimum=0,e.info.maximum=1)}checkStripLinesAndMaximumMinimumYAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.maximum=100,e.info.minimum=0)}checkStripLinesAndMaximumMinimumZAxis(e){0<e.info.stripLines.count?(e.info.minimum=e.info.stripLines.getByIndex(0).value,e.info.maximum=e.info.stripLines.getByIndex(e.info.stripLines.count-1).value):(e.info.minimum=0,e.info.maximum=1)}getArgumentLabel(e,t){if(null==e)return"";let i=this.area;if(i.core.seriesOrientation==P.d.StiChartSeriesOrientation.Vertical)return i.xAxis.core.getLabelText(e,t);return""}prepareRange(e,t,i){}getDividerY(){let e=this.area;return this.calculateDivider(e.yAxis)}calculateDivider(t){let i=0;if(null!=t.info.stripLines)for(let e of t.info.stripLines.list){if(0==e.value)return t.info.stripPositions[i];i++}return 0}getRedner3D(e){let t=this.area,i=new P.d.StiRender3D(1e3,1e3);return i.globalRotationX=t.rotationX,i.globalRotationY=t.rotationY,i.globalScale=t.scale,i.camera.position.x=t.cameraX,i.camera.position.y=t.cameraY,i.camera.position.z=t.cameraZ,i.camera.nearPlane=t.nearPlane,i.contextScale=this.contextScale,i.contextTranslate=this.contextTranslate,i}getFactorWidthHeight(e){let t=e.width/e.height;return t=(t=2<t?2:t)<1?1:t}constructor(e){super(e),this.valuesCount=0}},P.d.StiClusteredColumnAreaCoreXF3D=class extends P.d.StiAxisAreaCoreXF3D{get localizedName(){return"3D "+d.get("Chart","ClusteredColumn")}get position(){return P.d.StiChartAreaPosition.ClusteredColumn3d}prepareRange(e,i,t){let s=!0,r=(i.info.minimum=0,i.info.maximum=0,this.getSeries());for(let t of r)for(let e of t.values)null!=e&&(s?(i.info.maximum=e,i.info.minimum=e,s=!1):(i.info.maximum=Math.max(e,i.info.maximum),i.info.minimum=Math.min(e,i.info.minimum)))}constructor(e){super(e)}},P.d.StiLineAreaCoreXF3D=class extends P.d.StiClusteredColumnAreaCoreXF3D{get localizedName(){return"3D "+d.get("Chart","Line")}get position(){return P.d.StiChartAreaPosition.Line3d}constructor(e){super(e)}},P.d.StiStackedColumnAreaCoreXF3D=class extends P.d.StiAxisAreaCoreXF3D{prepareSeriesRange(e){let s=[],r=[],n=this.getSeries();for(let i=0;i<this.valuesCount;i++)for(let t of n)if(t[D.System.StiObject.stimulsoft]().getType()==e&&t.yAxis==P.d.StiSeriesYAxis.LeftYAxis&&(s.push(0),r.push(0),i<t.values.length)){let e=t.values[i];0<e?r[i]=r[i]+e:s[i]=s[i]+e}let t=[s,r];return t}prepareRange(e,t,i){let s=this.getSeries(),r=new $;for(let e of s)r.set(e[D.System.StiObject.stimulsoft]().getType(),e[D.System.StiObject.stimulsoft]().getType());let n=[],l=[];for(let e of r.values){let t=this.prepareSeriesRange(e),i=0;for(let e of t[0])n.length<=i?n.push(e):n[i]=Math.min(n[i],e),i++;i=0;for(let e of t[1])l.length<=i?l.push(e):l[i]=Math.max(l[i],e),i++}let o=!0;for(let e of n)o?(t.info.minimum=e,o=!1):t.info.minimum=Math.min(e,t.info.minimum);o=!0;for(let e of l)o?(t.info.maximum=e,o=!1):t.info.maximum=Math.max(e,t.info.maximum)}get localizedName(){return"3D"+d.get("Chart","StackedColumn")}get position(){return P.d.StiChartAreaPosition.StackedColumn3d}constructor(e){super(e)}},P.d.StiFullStackedColumnAreaCoreXF3D=class extends P.d.StiStackedColumnAreaCoreXF3D{get localizedName(){return"3D"+d.get("Chart","FullStackedColumn")}get position(){return P.d.StiChartAreaPosition.FullStackedColumn3d}constructor(e){super(e)}};{class _l{implements(){return _l.implementsStiAxisCoreXF||(_l.implementsStiAxisCoreXF=[r,P.d.IStiApplyStyle,P.d.IStiAxisCoreXF3D]),_l.implementsStiAxisCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.axis.allowApplyStyle&&(this.axis.lineColor=e.core.axisLineColor,this.axis.labels.core.applyStyle(e))}getFontGeom(e){let t=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*e.options.zoom);return t}calculateStripPositions(t,e){if(e-=t,t=0,null==this.axis.info.stripLines||this.axis.info.stripLines.count<2)this.axis.info.stripPositions=[];else{this.axis.info.stripPositions=R.create(Number,this.axis.info.stripLines.count),this.axis.info.stripPositions[0]=t,this.axis.info.stripPositions[this.axis.info.stripPositions.length-1]=e;for(let e=1;e<this.axis.info.stripPositions.length-1;e++)this.axis.info.stripPositions[e]=t+e*this.axis.info.step}}render3D(e,t,i){return null}constructor(e){this.axis=e}}P.d.StiAxisCoreXF3D=_l}{class Hl{constructor(){this.dpi=0,this.step=0,this.stripPositions=null,this.labelsCollection=null,this.minimum=0,this.maximum=0}implements(){return Hl.implementsStiAxisInfoXF||(Hl.implementsStiAxisInfoXF=[r,P.d.IStiAxisInfoXF3D]),Hl.implementsStiAxisInfoXF}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.stripLines=this.stripLines.clone(),e}get range(){return this.maximum-this.minimum}}P.d.StiAxisInfoXF3D=Hl}P.d.StiAxisLabelInfoXF3D=class{};{class zl{implements(){return zl.implementsStiAxisLabelsCoreXF||(zl.implementsStiAxisLabelsCoreXF=[P.d.IStiApplyStyle,r]),zl.implementsStiAxisLabelsCoreXF}clone(){return this[D.System.StiObject.stimulsoft]().memberwiseClone()}applyStyle(e){this.labels.allowApplyStyle&&(this.labels.color=e.core.axisLabelsColor)}constructor(e){this.labels=e}}P.d.StiAxisLabelsCoreXF3D=zl}P.d.StiXAxisCoreXF3D=class extends P.d.StiAxisCoreXF3D{getAxisRect(e,t,i,s,r,n){let l=Gt.empty;if(!this.axis.visible)return l;let o=this.measureStripLines(e,null);if(0==o.length)l=new Gt(0,0);else for(let e of o){if(e.clientSize.isEmpty)continue;l=l.isEmpty?e.clientSize:new Gt(Math.max(l.width,e.clientSize.width),Math.max(l.height,e.clientSize.height))}return l}measureStripLines(h,u){let d=[];if(null!=this.axis.info.labelsCollection)for(let a of this.axis.info.labelsCollection){let e=a[D.System.StiObject.stimulsoft]().as(P.d.StiStripPositionXF);if(null==e.stripLine.valueObject)continue;let t=this.getLabelText2(e.stripLine.valueObject,e.stripLine.value,null),i=e.position,s=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*h.options.zoom),r=D.Base.Drawing.StiRotationMode.CenterTop,n=null;if(null!=u){let e=u;n=new P.d.StiPoint3D(i,e.y,e.front)}let l=h.measureString(t,s),o=new P.d.StiAxisLabelInfoXF3D;o.clientSize=l,o.rotationMode=r,o.textPoint=n,o.text=t,o.stripLine=e.stripLine,d.push(o)}return d}getLabelText(e,t){return this.getLabelText2(e.valueObject,e.value,t)}getLabelText2(i,e,s){null==i&&(i=""),this.storedCulture=we.currentCulture;let r=this.axis.area.chart.report.culture;try{k.isNullOrEmpty(this.axis.area.chart.report.culture)||(we.currentCulture=we.cultures[r]);let t="";if(null!=(t=null!=(t=null!=s?s.format:t)&&0!=t.trim().length?t:this.axis.labels.format)&&0!=t.trim().length){if("string"==typeof i){let e=D.System.StiNumber.tryParse(i);if(e.successfully)i=e.result;else{let e=y.fromString(i.toString(),!1);null!=e&&(i=e)}}else if(null==i)return"";if(!P.d.StiChartOptions.oldChartPercentMode&&t[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return 1<t.length&&(e=t[D.System.StiObject.stimulsoft]().remove(0,1)[D.System.StiObject.stimulsoft]().toNumber()),k.format("{0}{1:N"+e.toString()+"}{2}{3}",this.axis.labels.textBefore,i,"%",this.axis.labels.textAfter)}return k.format("{0}{1:"+t+"}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}return k.format("{0}{1}{2}",this.axis.labels.textBefore,i,this.axis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}finally{k.isNullOrEmpty(r)||(we.currentCulture=this.storedCulture)}return i.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}render3D(e,t,i){if(!this.axis.visible)return null;let s=new P.d.StiXAxisGeom3D(t,i);return this.renderLabels(e,t,s,i),s}renderLabels(t,i,s,r){{let e=this.measureStripLines(t,i);s.createChildGeoms();for(let t of e)if(!t.clientSize.isEmpty){let e=new P.d.StiAxisLabelGeom3D(this.axis,t.clientSize,t.textPoint,t.text,t.stripLine,t.rotationMode,r);s.childGeoms.push(e)}}}constructor(e){super(e)}},P.d.StiYAxisCoreXF3D=class extends P.d.StiAxisCoreXF3D{getAxisRect(e,t,i,s,r,n){let l=Gt.empty;if(!this.axis.visible)return l;let o=this.measureStripLines(e,null);if(0==o.length)l=new Gt(0,0);else for(let e of o){if(e.clientSize.isEmpty)continue;l=l.isEmpty?e.clientSize:new Gt(Math.max(l.width,e.clientSize.width),Math.max(l.height,e.clientSize.height))}return l}measureStripLines(a,h){let u=[];if(null!=this.axis.info.labelsCollection)for(let o of this.axis.info.labelsCollection){let e=this.getLabelText(o.stripLine),t=o.position,i=N.changeFontSize(this.axis.labels.font,this.axis.labels.font.size*a.options.zoom),s=D.Base.Drawing.StiRotationMode.RightCenter,r=null;if(null!=h){let e=h;r=new P.d.StiPoint3D(e.x,t,e.front)}let n=a.measureString(e,i),l=new P.d.StiAxisLabelInfoXF3D;l.clientSize=n,l.rotationMode=s,l.textPoint=r,l.text=e,l.stripLine=o.stripLine,u.push(l)}return u}setTotalNumberCapacity(){let i,s=this.axis.labels.formatService.as(Ft);if(null!=s){let e=this.axis.labels.calculatedStep;if(0==e)return;let t=Math.abs(Math.trunc(Math.log10(e)));s.totalNumberCapacity=t,null!=(s=null==(i=this.axis.area.chart.seriesLabels.formatService)?void 0:i.as(Ft))&&(s.totalNumberCapacity=t)}}getLabelText(e){let t=e.valueObject;null==t&&(t="");try{if(null!=this.axis.labels.formatService){if(this.setTotalNumberCapacity(),t instanceof y)return this.axis.labels.formatService.is(Tt)||this.axis.labels.formatService.is(vt)?``+this.axis.labels.textBefore+this.axis.labels.formatService.format(t)+this.axis.labels.textAfter:``+this.axis.labels.textBefore+t+this.axis.labels.textAfter;return``+this.axis.labels.textBefore+this.axis.labels.formatService.format(e.value)+this.axis.labels.textAfter}if(null!=this.axis.labels.format&&0!=this.axis.labels.format.trim().length){this.storedCulture=we.currentCulture;let e=this.axis.area.chart.report.culture;k.isNullOrEmpty(this.axis.area.chart.report.culture)||(we.currentCulture=we.cultures[e]);try{if("string"==typeof t&&(t=t[D.System.StiObject.stimulsoft]().toNumber()),!P.d.StiChartOptions.oldChartPercentMode&&this.axis.labels.format[D.System.StiObject.stimulsoft]().startsWith("P")){let e=0;return 1<this.axis.labels.format.length&&(e=parseInt(this.axis.labels.format[D.System.StiObject.stimulsoft]().remove(0,1))),k.format("{0}{1:N"+e.toString()+"}{2}{3}",this.axis.labels.textBefore,t,"%",this.axis.labels.textAfter)}return k.format("{0}{1:"+this.axis.labels.format+"}{2}",this.axis.labels.textBefore,t,this.axis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}finally{k.isNullOrEmpty(e)||(we.currentCulture=this.storedCulture)}}return k.format("{0}{1}{2}",this.axis.labels.textBefore,t,this.axis.labels.textAfter)}catch(e){D.System.StiError.showError(e,!1)}return t.toString().replace(".",",").replace(",",D.System.Globalization.CultureInfo.currentCulture.numberFormat.numberDecimalSeparator)}render3D(e,t,i){if(!this.axis.visible)return null;let s=new P.d.StiYAxisGeom3D(t,i);return this.renderLabels(e,t,s,i),s}renderLabels(t,i,s,l){{let e=this.measureStripLines(t,i),r=_.empty,n=[];for(let s of e)if(!s.clientSize.isEmpty){let e=new P.d.StiAxisLabelGeom3D(this.axis,s.clientSize,s.textPoint,s.text,s.stripLine,s.rotationMode,l),t=!1,i=e.measureCientRect();(t=r==_.empty?(r=i,!0):!r.intersectsWith(i))&&(n.push(s),r=i)}for(let t of n)if(!t.clientSize.isEmpty){let e=new P.d.StiAxisLabelGeom3D(this.axis,t.clientSize,t.textPoint,t.text,t.stripLine,t.rotationMode,l);s.createChildGeoms(),s.childGeoms.push(e)}}}constructor(e){super(e)}},P.d.StiZAxisCoreXF3D=class extends P.d.StiAxisCoreXF3D{render3D(e,t,i){return null}constructor(e){super(e)}};{class Yl{get rows(){var e;return null!=(e=this.grid.length)?e:0}get columns(){var e;return null!=(e=this.grid[0].length)?e:0}static deepCopy(e){return e.map(e=>e.slice())}getByIndex(e,t){return this.grid[e][t]}setByIndex(e,t,i){this.grid[e][t]=i}static multiply(l,o){let e=l.columns,t=l.rows,a=new Yl(R.create2(Number,t,e));for(let n=0;n<a.rows;++n)for(let r=0;r<a.columns;++r)for(let s=0;s<l.columns;++s){let e=l.getByIndex(n,s),t=o.getByIndex(s,r),i=a.getByIndex(n,r);a.setByIndex(n,r,i+e*t)}return new Yl(a)}constructor(e){Array.isArray(e)?this.grid=Yl.deepCopy(e):this.grid=Yl.deepCopy(e.grid)}}P.d.StiMatrix=Yl}P.d.StiVector3=class{constructor(e,t,i){this.x=e,this.y=t,this.z=i}},P.d.StiVector4=class extends P.d.StiVector3{constructor(e,t,i,s){super(e,t,i),this.w=s}},P.d.StiSeriesCoreXF3D=class extends P.d.StiSeriesCoreXF{renderSeries3D(e,t,i,s,r,n){return null}getSeriesColor(e,t,i){return null}constructor(e){super(e)}};{class Wl extends P.d.StiSeriesCoreXF3D{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.color=t,this.series.borderColor=e.core.getColumnBorder(t))}get localizedName(){return"3D "+d.get("Chart","ClusteredColumn")}renderSeries3D(e,t,i,s,r,n){if(null==n||0==n.length||null==this.series.chart)return;this.render(e,t,i,s,r,n)}render(u,d,e,t,i,s){let c=new G,r=t.area,S=r,m=0,g=S.axisCore.valuesCount*s.length,p=s[i];if(null==p)return;let f=0,w=0;if(p.columnShape==P.d.StiColumnShape3D.PartialPyramid)for(let e of s)f=Math.max(f,e.values[D.System.StiObject.stimulsoft]().toList().max()),w=Math.min(w,e.values[D.System.StiObject.stimulsoft]().toList().min());let y=S.xAxis.info.step*p.width,x=S.zAxis.info.step*p.length,b=this.measureZPosition(S,s.length-i-1)+S.zAxis.info.step*(1-p.length)/2;for(let h=0;h<S.axisCore.valuesCount;h++){let a=Wl.measureXPosition(S,h,y);if(h<p.values.length){let s=p.values[h],i=this.getSeriesColor(m,g,p.color),r=(i=p.processSeriesColors(m,i),p.core.getSeriesBorderColor(m,g)),n=Wl.getColumnRect3D(p,s,a,y,b,x),l=null;if(p.columnShape==P.d.StiColumnShape3D.Box)l=new P.d.StiBoxSeriesElementGeom3D(n,s,h,p,i,r,u);else if(p.columnShape==P.d.StiColumnShape3D.PartialPyramid){let e=0<s?f:w,t=Wl.getColumnRect3D(p,e,a,y,b,x);l=new P.d.StiPartialPyramidSeriesElementGeom3D(t,n,s,h,p,i,r,u)}else l=new P.d.StiPyramidSeriesElementGeom3D(n,s,h,p,i,r,u);null!=p.core.interaction&&(l.interaction=this.getInteraction(S,p,h)),t.createChildGeoms(),t.childGeoms.push(l);let o=p.core.getSeriesLabels();if(null!=o&&o.visible){let e=h+1,t=S.axisCore.getArgumentLabel(S.xAxis.info.stripLines.getByIndex(e),p),i=o.core.renderLabel3D(u,this.series,d,n,h,s,s,t,p.core.getTag(h),0,m,g);null!=i&&c.add(i)}}m++}for(let e of c)t.createChildGeoms(),t.childGeoms.push(e)}renderSideBySide(p,f,e,t,i){let w=new G,s=t.area,y=s,x=0,b=y.axisCore.valuesCount*i.length,r=0;for(let e of i)r+=y.xAxis.info.step/i.length*e.width;for(let g=0;g<y.axisCore.valuesCount;g++)for(let e=0;e<i.length;e++){let a=i[e],h=0,u=0;if(a.columnShape==P.d.StiColumnShape3D.PartialPyramid)for(let e of i)h=Math.max(h,e.values[D.System.StiObject.stimulsoft]().toList().max()),u=Math.min(u,e.values[D.System.StiObject.stimulsoft]().toList().min());let d=y.zAxis.info.step*a.length,c=y.xAxis.info.step/i.length*a.width,S=y.zAxis.info.step*(1-a.length)/2,m=this.measureLeftPosition(s,g,r);for(let t=0;t<e;t++){let e=i[t].width;m+=y.xAxis.info.step/i.length*e}if(g<a.values.length){let s=a.values[g],i=this.getSeriesColor(x,b,a.color),r=(i=a.processSeriesColors(x,i),a.core.getSeriesBorderColor(x,b)),n=Wl.getColumnRect3D(a,s,m,c,S,d),l=null;if(a.columnShape==P.d.StiColumnShape3D.Box)l=new P.d.StiBoxSeriesElementGeom3D(n,s,g,a,i,r,p);else if(a.columnShape==P.d.StiColumnShape3D.PartialPyramid){let e=0<s?h:u,t=Wl.getColumnRect3D(a,e,m,c,S,d);l=new P.d.StiPartialPyramidSeriesElementGeom3D(t,n,s,g,a,i,r,p)}else l=new P.d.StiPyramidSeriesElementGeom3D(n,s,g,a,i,r,p);null!=a.core.interaction&&(l.interaction=this.getInteraction(y,a,g)),t.createChildGeoms(),t.childGeoms.push(l);let o=a.core.getSeriesLabels();if(null!=o&&o.visible){let e=g+1,t=y.axisCore.getArgumentLabel(y.xAxis.info.stripLines.getByIndex(e),a),i=o.core.renderLabel3D(p,this.series,f,n,g,s,s,t,a.core.getTag(g),0,x,b);null!=i&&w.add(i)}}x++}for(let e of w)t.createChildGeoms(),t.childGeoms.push(e)}measureLeftPosition(e,t,i){let s=e.xAxis.info.stripPositions[t+1],r=(s-=e.xAxis.info.step/2)+(e.xAxis.info.step-i)/2;return r}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return this.series.borderColor;return i}getSeriesColor(t,i,e){if(null==this.series.chart||null==this.series.chart.area)return e;if(this.series.chart.area.colorEach&&k.isNullOrEmpty(this.series.autoSeriesColorDataColumn)){let e=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29;return e.getColorByIndex(t,i,this.seriesColors)}return e}static measureXPosition(e,t,i){let s=e.xAxis.info.stripPositions[t+1];return s-=i/2}measureZPosition(e,t){return e.zAxis.info.stripPositions[t]}static getColumnRect3D(e,t,i,s,r,n){let l=e.chart.area,o=l.axisCore.getDividerY(),a=t*l.yAxis.info.dpi,h=new P.d.StiRectangle3D;return h.x=i,h.y=o,h.z=r,h.width=n,h.height=a,h.length=s,h}constructor(e){super(e)}}P.d.StiClusteredColumnSeriesCoreXF3D=Wl}P.d.StiLineSeriesCoreXF3D=class extends P.d.StiSeriesCoreXF3D{applyStyle(e,t){super.applyStyle(e,t),this.series.allowApplyStyle&&(this.series.lineColor=t)}get localizedName(){return"3D "+d.get("Chart","Line")}renderSeries3D(S,l,e,m,t,i){let s=m.area;if(null==i||0==i.length||null==this.series.chart)return;let g=s,p=0,f=g.axisCore.valuesCount*i.length,w=i[t];if(null==w)return;let y=g.xAxis.info.step*w.width,x=this.measureZPosition(g,i.length-t-1)+g.zAxis.info.step*(1-w.width)/2;for(let c=0;c<g.axisCore.valuesCount;c++){if(w.values.length-1<c)continue;let d=w.values[c];if(c<w.values.length-1){let e=g.axisCore.getDividerY(),t=w.lineColor,i=w.core.getSeriesBorderColor(p,f),s=w.values[c+1],r=this.measureXPosition(g,c),n=d*g.yAxis.info.dpi,l=new P.d.StiPoint3D(r,e+n,x),o=new P.d.StiPoint3D(r,e+n,x-y),a=(r=this.measureXPosition(g,c+1),n=s*g.yAxis.info.dpi,new P.d.StiPoint3D(r,e+n,x-y)),h=new P.d.StiPoint3D(r,e+n,x),u=new P.d.StiLineSeriesGeom3D(l,o,a,h,t,i,S);m.createChildGeoms(),m.childGeoms.push(u)}let n=w.core.getSeriesLabels();if(null!=n&&n.visible){let e=this.measureXPosition(g,c),t=P.d.StiClusteredColumnSeriesCoreXF3D.getColumnRect3D(w,d,e,0,x-y/2,0),i=c+1,s=g.axisCore.getArgumentLabel(g.xAxis.info.stripLines[i],w),r=n.core.renderLabel3D(S,this.series,l,t,c,d,d,s,w.core.getTag(c),0,p,f);null!=r&&(m.createChildGeoms(),m.childGeoms.push(r))}}}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return this.series.borderColor;return i}getSeriesColor(t,i,e){if(null==this.series.chart||null==this.series.chart.area)return e;if(this.series.chart.area.colorEach&&k.isNullOrEmpty(this.series.autoSeriesColorDataColumn)){let e=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29;return e.getColorByIndex(t,i,this.seriesColors)}return e}measureXPosition(e,t){return e.xAxis.info.stripPositions[t+1]}measureZPosition(e,t){return e.zAxis.info.stripPositions[t]}constructor(e){super(e)}},P.d.StiStackedColumnSeriesCoreXF3D=class extends P.d.StiSeriesCoreXF3D{applyStyle(e,t){super.applyStyle(e,t);let i=this.series;i.allowApplyStyle&&(i.color=t,i.borderColor=e.core.getColumnBorder(t))}get localizedName(){return"3D"+d.get("Chart","StackedColumn")}renderSeries3D(y,x,e,t,i,s){if(null==s||0==s.length||null==this.series.chart)return;let b=[],r=t.area,C=r,n=s[0],A=n.columnShape!=P.d.StiColumnShape3D.Box,L=C.zAxis.info.step*n.length,T=C.xAxis.info.step*n.width,v=C.zAxis.info.step*(1-n.length)/2,F=C.yAxis.info.dpi,k=R.create2(Number,C.axisCore.valuesCount,s.length),l=0;for(let t=0;t<s.length;t++)for(let e=0;e<s[t].values.length;e++)k[e][t]=l,l++;let B=l,I=!1;for(let i=0;i<C.axisCore.valuesCount;i++){for(let e=0;e<s.length;e++){let t=s[e];if(i<t.values.length){let e=t.values[i];if(e<0){I=!0;break}}}if(I)break}for(let w=0;w<C.axisCore.valuesCount;w++){let d=P.d.StiClusteredColumnSeriesCoreXF3D.measureXPosition(C,w,T),c=0,S=0,m=[],g=[],p=0,f=0;for(let e=0;e<s.length;e++){let t=s[e];if(w<t.values.length){let e=t.values[w];0<e?p+=e:f+=e}}for(let u=0;u<s.length;u++){let a=C.axisCore.getDividerY(),h=s[u];if(w<h.values.length){let t=k[w][u],i=h.values[w];if(this.series.is(P.d.IStiFullStackedColumnSeries3D)&&(0!=p||0!=f)&&null!=i){let e=I?.5:1;F=0<=i?e/p:e/Math.abs(f)}let e=i*F,s=(a+=0<i?c:S,new P.d.StiRectangle3D),r=(s.x=d,s.y=a,s.z=v,s.width=L,s.height=e,s.length=T,this.getSeriesColor(t,B,h.color)),n=(r=h.processSeriesColors(t,r),h.core.getSeriesBorderColor(t,B)),l=null;if(A){let e=0<i?p*F:f*F,t=new P.d.StiRectangle3D;t.x=d,t.y=C.axisCore.getDividerY(),t.z=v,t.width=L,t.height=e,t.length=T,l=new P.d.StiPartialPyramidSeriesElementGeom3D(t,s,i,w,h,r,n,y)}else l=new P.d.StiBoxSeriesElementGeom3D(s,i,w,h,r,n,y);null!=h.core.interaction&&(l.interaction=this.getInteraction(C,h,w));let o=h.core.getSeriesLabels();if(null!=o&&o.visible){let e=o.core.renderLabel3D(y,this.series,x,s,w,i,i,"",h.core.getTag(w),0,t,B);null!=e&&b.push(e)}(0<i?m:g).push(l),0<i?c+=e:S+=e}}g.reverse();for(let t=0;t<g.length;t++){let e=g[t];e.is(P.d.IStiDrawSidesGeom3D)&&(e.drawLeft=!1,e.drawBack=!1,e.drawTop=0==t,e.drawBottom=0==m.length&&t==g.length-1)}for(let t=0;t<m.length;t++){let e=m[t];e.is(P.d.IStiDrawSidesGeom3D)&&(e.drawLeft=!1,e.drawBack=!1,e.drawBottom=0==g.length&&0==t,e.drawTop=t==m.length-1)}for(let e of g)t.createChildGeoms(),t.childGeoms.push(e);for(let e of m)t.createChildGeoms(),t.childGeoms.push(e)}for(let e of b)t.createChildGeoms(),t.childGeoms.push(e)}getSeriesBorderColor(e,t){let i=super.getSeriesBorderColor(e,t);if(null==i)return this.series.borderColor;return i}getSeriesColor(t,i,e){if(null==this.series.chart||null==this.series.chart.area)return e;if(this.series.chart.area.colorEach&&k.isNullOrEmpty(this.series.autoSeriesColorDataColumn)){let e=null!=this.series.chart.style?this.series.chart.style.core:new P.d.StiStyleCoreXF29;return e.getColorByIndex(t,i,this.seriesColors)}return e}constructor(e){super(e)}},P.d.StiFullStackedColumnSeriesCoreXF3D=class extends P.d.StiStackedColumnSeriesCoreXF3D{get localizedName(){return"3D "+d.get("Chart","FullStackedColumn")}constructor(e){super(e)}},P.d.StiAxisSeriesLabelsCoreXF3D=class extends P.d.StiSeriesLabelsCoreXF{get seriesLabelsType(){return P.d.StiSeriesLabelsType.Axis}renderLabel3D(e,t,i,s,r,n,l,o,a,h,u,d){return null}constructor(e){super(e)}},P.d.StiCenterAxisLabelsCoreXF3D=class extends P.d.StiAxisSeriesLabelsCoreXF3D{get position(){return P.d.StiSeriesLabelsPosition.CenterAxis}get localizedName(){return d.get("Chart","LabelsCenter")}renderLabel3D(e,t,i,s,r,n,l,o,a,h,u,d){null==n&&(n=0);let c=this.getLabelText(t,l=null==l?0:l,o,a,t.coreTitle,!1),S=this.getLabelColor(t,u,d),m=this.getBorderColor(t,u,d),g=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*i.options.zoom),p=t.core.getSeriesBorderColor(u,d),f=t.core.getSeriesBrush(u,d),w=this.processSeriesColors(r,this.seriesLabels.brush,t),y=this.getPointLabel(s);return new P.d.StiCenterAxisLabelsGeom3D(this.seriesLabels,t,r,n,c,S,m,f,w,p,g,y,e)}getPointLabel(e){return new P.d.StiPoint3D(e.x+e.length/2,e.y+e.height/2,e.front)}constructor(e){super(e)}},P.d.StiOutsideAxisLabelsCoreXF3D=class extends P.d.StiCenterAxisLabelsCoreXF3D{get position(){return P.d.StiSeriesLabelsPosition.OutsideAxis}get localizedName(){return d.get("Chart","LabelsOutside")}renderLabel3D(e,t,i,s,r,n,l,o,a,h,u,d){null==n&&(n=0);let c=this.getLabelText(t,l=null==l?0:l,o,a,t.coreTitle,!1),S=this.getLabelColor(t,u,d),m=this.getBorderColor(t,u,d),g=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*i.options.zoom),p=t.core.getSeriesBorderColor(u,d),f=t.core.getSeriesBrush(u,d),w=this.processSeriesColors(r,this.seriesLabels.brush,t),y=this.getPointLabel2(s,n);return new P.d.StiOutsideAxisLabelsGeom3D(this.seriesLabels,t,r,n,c,S,m,f,w,p,g,y,e)}getPointLabel2(e,t){let i=0<t?e.height:-e.height;return new P.d.StiPoint3D(e.x+e.length/2,e.y+i,e.front)}constructor(e){super(e)}};let bi=P.e.IStiColor,Ci=P.e.IStiBorderColor;{class Jl extends P.d.StiCellGeom{static multiplyVertexes(r,n){let e=new P.d.StiMatrix(R.create2(Number,r.rows,n.columns));for(let s=0;s<r.rows;s++)for(let i=0;i<n.columns;i++){let t=0;for(let e=0;e<r.columns;e++)t+=r.grid[s][e]*n.grid[e][i];e.setByIndex(s,i,t)}return e}normilizeVertixes(n){for(let r=0;r<n.rows;r++){let e=n.grid[r][0],t=n.grid[r][1],i=n.grid[r][2],s=n.grid[r][3];n.grid[r][0]=e/s,n.grid[r][1]=t/s,n.grid[r][2]=i/s,n.grid[r][3]=s/s}return n}globalTransform(){if(this.isGlobalTransform)return;this.translate(new P.d.StiVector3(-.5,-.5,1)),this.rotateX(this.render.globalRotationX*Math.PI/180),this.rotateY(this.render.globalRotationY*Math.PI/180),this.scale(this.render.globalScale),this.isGlobalTransform=!0}getPoints(){this.globalTransform();let s=this.screenProjection(),r=new G;for(let i=0;i<s.rows;i++){let e=s.grid[i][0],t=s.grid[i][1];r.add(this.getPointN(e,t))}return r}draw(e){if(null==this.vertexes)return;this.globalTransform();let t=this.screenProjection();this.drawElements(e,t)}measureCientRect(){this.globalTransform();let s=this.screenProjection(),r=new G;for(let i=0;i<s.rows;i++){let e=s.grid[i][0],t=s.grid[i][1];r.add(new Et(e,t))}return this.getClientRectangle(r)}getClientRectangle(t){let i=0,s=0,r=0,n=0,l=!0;for(let e of t)l?(i=e.x,s=e.y,r=e.x,r=e.y,l=!1):(i=Math.min(i,e.x),s=Math.min(s,e.y),r=Math.max(r,e.x),n=Math.max(n,e.y));return new _(i,s,r-i,n-s)}screenProjection(){let e=Jl.multiplyVertexes(this.vertexes,this.render.camera.cameraMatrix());return e=Jl.multiplyVertexes(e,this.render.projection.projectionMatrix),e=this.normilizeVertixes(e),Jl.multiplyVertexes(e,this.render.projection.toScreenMatrix)}drawElements(n,t){n.pushSmoothingModeToAntiAlias();for(let r=0;r<this.faces.length;r++){let e=this.faces[r],s=this.getFacePolygonPoints(e,t);if(this.is(bi)&&2<s.length){let e=new G,t=(e.add(new Pt(s)),null==this.colorsFaces?this.color:this.colorsFaces[r]),i=null;this.is(P.d.StiSeriesElementGeom3D)&&(i=this.getInteractionData()),n.fillPath2(t,e,_.empty,i,this.getToolTip())}}this.drawBorder(n,t),n.popSmoothingMode()}getToolTip(){return null}drawBorder(i,s){let r=this.getBorderColor();if(null==r)return;for(let t=0;t<this.faces.length;t++){let e=this.faces[t];this.drawFaceBorder(i,s,e,r)}}drawFaceBorder(e,s,r,t){let n=new G;for(let i=0;i<r.length;i++){let e=r[i],t=this.getPoint(s,e);n.add(t)}n.add(n[0]),e.drawLines(new A(t,1),n)}getFacePolygonPoints(r,n){let l=new G;for(let s=0;s<r.length;s++){let e=r[s],t=n.grid[e][0],i=n.grid[e][1];l.add(this.getPointN(t,i))}return l}getBorderColor(){var e;if(this.is(Ci)&&null!=this.borderColor&&0!=(null==(e=this.borderColor)?void 0:e.a))return 10<this.borderColor.a?this.borderColor:B.white;return null}getPoint(e,t){let i=e.grid[t][0],s=e.grid[t][1];return this.getPointN(i,s)}getPointN(e,t){let i=e*this.render.contextScale-this.render.contextTranslate.x,s=t*this.render.contextScale-this.render.contextTranslate.y;return new Et(i,s)}translate(e){let t=P.d.StiMatrixHelper.translate(e.x,e.y,e.z);this.vertexes=Jl.multiplyVertexes(this.vertexes,t)}scale(e){let t=P.d.StiMatrixHelper.scale(e);this.vertexes=Jl.multiplyVertexes(this.vertexes,t)}rotateX(e){let t=P.d.StiMatrixHelper.rotateX(e);this.vertexes=Jl.multiplyVertexes(this.vertexes,t)}rotateY(e){let t=P.d.StiMatrixHelper.rotateY(e);this.vertexes=Jl.multiplyVertexes(this.vertexes,t)}rotateZ(e){let t=P.d.StiMatrixHelper.rotateZ(e);this.vertexes=Jl.multiplyVertexes(this.vertexes,t)}constructor(e){super(_.empty),this.drawEdges=!0,this.render=e}}P.d.StiGeom3D=Jl}P.d.StiLineGeom3D=class extends P.d.StiGeom3D{drawElements(e,t){let i=new A(this.color,1),s=(i.penStyle=this.penStyle,i.thickness=this.lineWidth,this.getPointN(t.grid[0][0],t.grid[0][1])),r=this.getPointN(t.grid[1][0],t.grid[1][1]);e.pushSmoothingModeToAntiAlias(),e.drawLine(i,s.x,s.y,r.x,r.y),e.popSmoothingMode()}constructor(e,t,i,s,r,n){super(n),this.color=i,this.penStyle=r,this.lineWidth=s,this.vertexes=new P.d.StiMatrix([[e.x,e.y,e.z,1],[t.x,t.y,t.z,1]])}};{class Zl extends P.d.StiGeom3D{implements(){return Zl.implements||(Zl.implements=super.implements().concat([bi])),Zl.implements}constructor(e,t,i,s,r,n){super(n),this.color=r,this.vertexes=new P.d.StiMatrix([[e.x,e.y,e.z,1],[t.x,t.y,t.z,1],[i.x,i.y,i.z,1],[s.x,s.y,s.z,1]]),this.faces=new G,this.faces.add([0,1,2,3]),this.colorsFaces=[r]}}P.d.StiPlaneGeom3D=Zl}let Ai=D.Base.Context.StiStringFormatGeom,Li=D.System.Drawing.StringFormat;P.d.StiTextGeom3D=class extends P.d.StiGeom3D{drawElements(e,t){let i=this.getLabelRect(e),s=t.grid[0][0],r=t.grid[0][1],n=this.getPointN(s,r),l=new _;l.x=n.x-i.width/2,l.y=n.y-i.height/2,l.width=i.width,l.height=i.height,this.drawText(e,l)}drawText(e,t){const i=new V(this.color),s=this.getStringFormat();e.drawRotatedString6(this.text,this.font,i,t,s,this.mode,this.angle,!0,t.width)}getStringFormat(){const e=new Li;switch(e.trimming=At.None,e.formatFlags=Lt.MeasureTrailingSpaces|Lt.NoWrap,this.mode){case j.CenterCenter:e.alignment=X.Center,e.lineAlignment=X.Center;break;case j.LeftCenter:e.alignment=X.Near,e.lineAlignment=X.Center;break;case j.RightCenter:e.alignment=X.Far,e.lineAlignment=X.Center;break;case j.CenterTop:e.alignment=X.Center,e.lineAlignment=X.Near;break;case j.CenterBottom:e.alignment=X.Center,e.lineAlignment=X.Far;break;case j.RightTop:e.alignment=X.Far,e.lineAlignment=X.Near;break;case j.LeftTop:e.alignment=X.Near,e.lineAlignment=X.Near;break;case j.LeftBottom:e.alignment=X.Near,e.lineAlignment=X.Far;break;case j.RightBottom:e.alignment=X.Far,e.lineAlignment=X.Far;break}const t=new Ai(e);return t.isGeneric=!0,t}getLabelRect(e){return e.measureString(this.text,this.font)}constructor(e,t,i,s,r,n,l){super(l),this.text=e,this.font=t,this.color=i,this.mode=s,this.angle=r,this.vertexes=new P.d.StiMatrix([[n.x,n.y,n.z,1]])}};{class ql extends P.d.StiGeom3D{implements(){return ql.implements||(ql.implements=super.implements().concat([bi])),ql.implements}constructor(e){super(e)}}P.d.StiAreaGeom3D=ql}P.d.StiAxisAreaGeom3D=class extends P.d.StiAreaGeom3D{constructor(e){super(e)}},P.d.StiAxisAreaViewGeom3D=class extends P.d.StiAreaGeom{draw(e){}drawGeom(e){super.drawGeom(e)}drawChildGeoms(t){if(null!=this.childGeoms){let e=this.clientRectangle.clone();e.x=0,e.y=0,t.pushTranslateTransform(this.clientRectangle.x,this.clientRectangle.y);for(let e of this.childGeoms)this.allowChildDrawing(e)&&e.drawGeom(t);t.popTransform()}}constructor(e,t,i){super(e,t),this.render=i}},P.d.StiXYAreaGeom3D=class extends P.d.StiAreaGeom3D{constructor(e,t,i){super(i),this.vertexes=new P.d.StiMatrix([[0,0,0,1],[0,t,0,1],[e,t,0,1],[e,0,0,1]]),this.faces=new G,this.faces.add([0,1,2,3])}},P.d.StiXZAreaGeom3D=class extends P.d.StiAreaGeom3D{constructor(e,t,i){super(i),this.vertexes=new P.d.StiMatrix([[0,0,0,1],[e,0,0,1],[e,0,-t,1],[0,0,-t,1]]),this.faces=new G,this.faces.add([0,1,2,3])}},P.d.StiZYAreaGeom3D=class extends P.d.StiAreaGeom3D{constructor(e,t,i){super(i),this.vertexes=new P.d.StiMatrix([[0,0,0,1],[0,t,0,1],[0,t,-e,1],[0,0,-e,1]]),this.faces=new G,this.faces.add([0,1,2,3])}},P.d.StiAxisLabelGeom3D=class extends P.d.StiGeom3D{drawElements(e,t){let i=t.grid[0][0],s=t.grid[0][1],r=this.getPointN(i,s),n=this.axis.core.getFontGeom(e),l=e.getGenericStringFormat(),o=new V(this.axis.labels.color);e.drawRotatedString4(this.text,n,o,r,l,this.rotationMode,0,!0)}measureCientRect(){this.globalTransform();let e=this.screenProjection(),t=e.grid[0][0],i=e.grid[0][1],s=this.getPointN(t,i);return new _(s.x,s.y,this.clientSize.width,this.clientSize.height)}constructor(e,t,i,s,r,n,l){super(l),this.axis=e,this.clientSize=t,this.text=s,this.stripLine=r,this.rotationMode=n;let o=i,a=this.getPointN(o.x,o.y);this.clientRectangle=new _(a.x,a.y,t.width,t.height),this.vertexes=new P.d.StiMatrix([[o.x,o.y,o.z,1]])}},P.d.StiXAxisGeom3D=class extends P.d.StiGeom3D{constructor(e,t){super(t)}},P.d.StiYAxisGeom3D=class extends P.d.StiGeom3D{constructor(e,t){super(t)}};{class $l{implements(){return $l.implementsStiLegendColumnMarker3D||($l.implementsStiLegendColumnMarker3D=[P.d.IStiLegendMarker]),$l.implementsStiLegendColumnMarker3D}draw(r,n,l,o,a,e){try{let e=n,t=n.core.getSeriesColor(o,a,e.color),i=(t=n.processSeriesColors(o,t),new V(t)),s=new A(n.core.getSeriesBorderColor(o,a));null!=n.chart&&null!=n.chart.style&&n.chart.style.core.fillColumn(r,l,i,null),r.drawRectangle2(s,l.x,l.y,l.width,l.height)}catch(e){}}}P.d.StiLegendColumnMarker3D=$l}{class Kl{implements(){return Kl.implementsStiLegendLineMarker3D||(Kl.implementsStiLegendLineMarker3D=[P.d.IStiLegendMarker]),Kl.implementsStiLegendLineMarker3D}draw(s,r,n,l,o,e){try{let e=r,t=new V(r.processSeriesColors(l,e.lineColor)),i=new A(r.core.getSeriesBorderColor(l,o));null!=r.chart&&null!=r.chart.style&&r.chart.style.core.fillColumn(s,n,t,null),s.drawRectangle2(i,n.x,n.y,n.width,n.height)}catch(e){}}}P.d.StiLegendLineMarker3D=Kl}{class Ql extends P.d.StiGeom3D{implements(){return Ql.implementsStiSeriesElementGeom3D||(Ql.implementsStiSeriesElementGeom3D=super.implements().concat([P.d.IStiSeriesElement])),Ql.implementsStiSeriesElementGeom3D}getInteractionData(){let e=this.series.chart,t=new li;return t.componentName=e.name,t.componentIndex=null!=e.page?e.page.components.indexOf(e).toString():"",t.pageGuid=this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownEnabled?this.series[D.System.StiObject.stimulsoft]().as(P.d.StiSeries).drillDownPageGuid:"",t.pageIndex=null!=e.page?e.page.report.renderedPages.indexOf(e.page).toString():"",t.elementIndex=this.elementIndex.toString(),t.interactionData=this.interaction,t}getValueIndex(){let e=this.index;return this.series.is(P.d.IStiClusteredBarSeries)||this.series.is(P.d.IStiStackedBarSeries)||this.series.is(P.d.IStiFullStackedBarSeries)?this.series.chart.area.is(P.d.IStiAxisArea)&&!this.series.chart.area.reverseVert&&(e=this.series.values.length-e-1):this.series.chart.area.is(P.d.IStiAxisArea)&&this.series.chart.area.reverseHor&&(e=this.series.values.length-e-1),e}getToolTip(){let e=this.getValueIndex();return this.getToolTip2(e)}getToolTip2(e){let t=null;return null!=this.series.toolTips&&e<this.series.toolTips.length&&(t=this.series.toolTips[e]),t=!k.isNullOrEmpty(t)&&t[D.System.StiObject.stimulsoft]().contains('"StiColor":"#ffffff"')?t.replace('"StiColor":"#ffffff"',k.format('"StiColor":"{0}"',D.System.Drawing.ColorTranslator.toHtml2(this.seriesColor,!1))):t}constructor(e,t,i,s,r){super(e),this.series=s,this.value=t,this.index=i,this.seriesColor=r}}P.d.StiSeriesElementGeom3D=Ql}{class Ul extends P.d.StiSeriesElementGeom3D{implements(){return Ul.implements||(Ul.implements=super.implements().concat([Ci,bi,P.d.IStiDrawSidesGeom3D])),Ul.implements}get backFace(){return[4,5,6,7]}get leftFace(){return[0,4,5,1]}get bottomFace(){return[0,3,7,4]}get topFace(){return[1,2,6,5]}get rightFace(){return[2,3,7,6]}get frontFace(){return[0,1,2,3]}get columnRect3D(){return this._columnRect3D}set columnRect3D(e){this._columnRect3D=e,this.setVertexes(e)}get drawLeft(){return this._drawLeft}set drawLeft(e){this._drawLeft=e,this.buildFaces(),this.buildColorFaces()}get drawBack(){return this._drawBack}set drawBack(e){this._drawBack=e,this.buildFaces(),this.buildColorFaces()}get drawTop(){return this._drawTop}set drawTop(e){this._drawTop=e,this.buildFaces(),this.buildColorFaces()}get drawBottom(){return this._drawBottom}set drawBottom(e){this._drawBottom=e,this.buildFaces(),this.buildColorFaces()}setVertexes(e){this.vertexes=new P.d.StiMatrix([[e.x,e.y,e.z+e.width,1],[e.x,e.y+e.height,e.z+e.width,1],[e.x+e.length,e.y+e.height,e.z+e.width,1],[e.x+e.length,e.y,e.z+e.width,1],[e.x,e.y,e.z,1],[e.x,e.y+e.height,e.z,1],[e.x+e.length,e.y+e.height,e.z,1],[e.x+e.length,e.y,e.z,1]])}drawBorder(e,t){let i=this.getBorderColor();if(null==i)return;this.drawFaceBorder(e,t,this.frontFace,i),this.drawFaceBorder(e,t,this.rightFace,i)}buildFaces(){let e=new G;e.add(this.rightFace),e.add(this.frontFace),this.drawTop&&e.insert(0,this.topFace),this.drawBottom&&e.insert(0,this.bottomFace),this.drawBack&&e.insert(0,this.backFace),this.drawLeft&&e.insert(0,this.leftFace),this.faces=e}buildColorFaces(){let e=new G;e.add(f.changeDarkness(this.color,.4)),e.add(this.color),this.drawTop&&e.insert(0,f.changeDarkness(this.color,.4)),this.drawBottom&&e.insert(0,f.changeDarkness(this.color,.4)),this.drawBack&&e.insert(0,f.changeDarkness(this.color,.4)),this.drawLeft&&e.insert(0,f.changeDarkness(this.color,.4)),this.colorsFaces=e[D.System.StiObject.stimulsoft]().toArray()}getFacePolygonPoints(r,n){let l=new G;if(this.isTopFace(r)&&!this.isDrawTopFace(n))return l;if(this.isBottomFace(r)&&!this.isDrawBottomFace(n))return l;for(let s=0;s<r.length;s++){let e=r[s],t=n.grid[e][0],i=n.grid[e][1];l.add(this.getPointN(t,i))}return l}isTopFace(t){if(t.length!=this.topFace.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=this.topFace[e])return!1;return!0}isBottomFace(t){if(t.length!=this.bottomFace.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=this.bottomFace[e])return!1;return!0}isDrawTopFace(e){let t=this.getPoint(e,1),i=this.getPoint(e,5);return 0<this.columnRect3D.height?t.y>i.y:t.y<i.y}isDrawBottomFace(e){let t=this.getPoint(e,0),i=this.getPoint(e,4);return 0<this.columnRect3D.height?t.y<i.y:t.y>i.y}constructor(e,t,i,s,r,n,l){super(l,t,i,s,r),this._drawLeft=!0,this._drawBack=!0,this._drawTop=!0,this._drawBottom=!0,this.columnRect3D=e,this.color=r,this.borderColor=n,this.buildFaces(),this.buildColorFaces()}}P.d.StiBoxSeriesElementGeom3D=Ul}{class eo extends P.d.StiGeom3D{implements(){return eo.implementsStiLineSeriesGeom3D||(eo.implementsStiLineSeriesGeom3D=super.implements().concat([Ci,bi])),eo.implementsStiLineSeriesGeom3D}constructor(e,t,i,s,r,n,l){super(l),this.color=r,this.borderColor=n,this.vertexes=new P.d.StiMatrix([[e.x,e.y,e.z,1],[t.x,t.y,t.z,1],[i.x,i.y,i.z,1],[s.x,s.y,s.z,1]]),this.faces=new G,this.faces.insert(0,[0,1,2,3]);let o=e.y>=i.y?r:f.changeDarkness(r,.4);this.colorsFaces=[o]}}P.d.StiLineSeriesGeom3D=eo}{class to extends P.d.StiSeriesElementGeom3D{implements(){return to.implements||(to.implements=super.implements().concat([Ci,bi,P.d.IStiDrawSidesGeom3D])),to.implements}get backFace(){return[4,5,6,7]}get leftFace(){return[0,4,5,1]}get bottomFace(){return[0,3,7,4]}get topFace(){return[1,2,6,5]}get rightFace(){return[2,3,7,6]}get frontFace(){return[0,1,2,3]}get drawLeft(){return this._drawLeft}set drawLeft(e){this._drawLeft=e,this.buildFaces(),this.buildColorFaces()}get drawBack(){return this._drawBack}set drawBack(e){this._drawBack=e,this.buildFaces(),this.buildColorFaces()}get drawTop(){return this._drawTop}set drawTop(e){this._drawTop=e,this.buildFaces(),this.buildColorFaces()}get drawBottom(){return this._drawBottom}set drawBottom(e){this._drawBottom=e,this.buildFaces(),this.buildColorFaces()}setVertexes(e,t){let i=e.height/(t.y-e.y),s=e.height/(t.top-e.y),r=t.length/s/2,n=e.width/s/2,l=t.length/i/2,o=e.width/i/2;this.vertexes=new P.d.StiMatrix([[e.x+l,t.y,e.z+e.width-o,1],[e.x+r,t.y+t.height,e.z+e.width-n,1],[e.x+e.length-r,t.y+t.height,e.z+e.width-n,1],[e.x+e.length-l,t.y,e.z+e.width-o,1],[e.x+l,t.y,e.z+o,1],[e.x+r,t.y+t.height,e.z+n,1],[e.x+e.length-r,t.y+t.height,e.z+n,1],[e.x+e.length-l,t.y,e.z+o,1]])}drawBorder(e,t){let i=this.getBorderColor();if(null==i)return;this.drawFaceBorder(e,t,this.frontFace,i),this.drawFaceBorder(e,t,this.rightFace,i)}buildFaces(){let e=new G;e.add(this.rightFace),e.add(this.frontFace),this.drawTop&&e.insert(0,this.topFace),this.drawBottom&&e.insert(0,this.bottomFace),this.drawBack&&e.insert(0,this.backFace),this.drawLeft&&e.insert(0,this.leftFace),this.faces=e}buildColorFaces(){let e=new G;e.add(f.changeDarkness(this.color,.4)),e.add(this.color),this.drawTop&&e.insert(0,f.changeDarkness(this.color,.4)),this.drawBottom&&e.insert(0,f.changeDarkness(this.color,.4)),this.drawBack&&e.insert(0,f.changeDarkness(this.color,.4)),this.drawLeft&&e.insert(0,f.changeDarkness(this.color,.4)),this.colorsFaces=e[D.System.StiObject.stimulsoft]().toArray()}constructor(e,t,i,s,r,n,l,o){super(o,i,s,r,n),this._drawLeft=!0,this._drawBack=!0,this._drawTop=!0,this._drawBottom=!0,this.rect3D=e,this.partialRect3D=t,this.setVertexes(e,t),this.color=n,this.borderColor=l,this.buildFaces(),this.buildColorFaces()}}P.d.StiPartialPyramidSeriesElementGeom3D=to}{class io extends P.d.StiSeriesElementGeom3D{implements(){return io.implements||(io.implements=super.implements().concat([Ci,bi])),io.implements}get columnRect3D(){return this._columnRect3D}set columnRect3D(e){this._columnRect3D=e,this.setVertexes(e)}get backFace(){return[3,1,4]}get leftFace(){return[0,1,3]}get bottomFace(){return[0,3,4,2]}get rightFace(){return[2,1,4]}get frontFace(){return[0,1,2]}setVertexes(e){this.vertexes=new P.d.StiMatrix([[e.x,e.y,e.z+e.width,1],[e.x+e.length/2,e.y+e.height,e.z+e.width/2,1],[e.x+e.length,e.y,e.z+e.width,1],[e.x,e.y,e.z,1],[e.x+e.length,e.y,e.z,1]])}drawBorder(e,t){let i=this.getBorderColor();if(null==i)return;this.drawFaceBorder(e,t,this.frontFace,i),this.drawFaceBorder(e,t,this.rightFace,i)}constructor(e,t,i,s,r,n,l){super(l,t,i,s,r),this.columnRect3D=e,this.color=r,this.borderColor=n,this.faces=new G,this.faces.add(this.backFace),this.faces.add(this.leftFace),this.faces.add(this.bottomFace),this.faces.add(this.rightFace),this.faces.add(this.frontFace),this.colorsFaces=[f.changeDarkness(r,.4),f.changeDarkness(r,.4),f.changeDarkness(r,.4),f.changeDarkness(r,.4),r]}}P.d.StiPyramidSeriesElementGeom3D=io}P.d.StiSeriesLabelsGeom3D=class extends P.d.StiGeom3D{constructor(e,t,i,s,r){super(r),this.seriesLabels=e,this.series=t,this.index=i,this.value=s}},P.d.StiCenterAxisLabelsGeom3D=class extends P.d.StiSeriesLabelsGeom3D{drawElements(e,t){let i=this.getLabelRect(e),s=t.grid[0][0],r=t.grid[0][1],n=this.getPointN(s,r),l=new _(n.x-i.width/2,n.y-i.height/2,i.width,i.height);this.drawLabelArea(e,l),this.drawLabelText(e,l)}drawLabelArea(e,t){if(t.isEmpty)return;let i=this.seriesLabels.drawBorder?new A(this.labelBorderColor,1):null;e.fillRectangle(this.seriesLabelsBrush,t,null),this.seriesLabels.drawBorder&&e.drawRectangle2(i,t.x,t.y,t.width,t.height)}drawLabelText(e,t){let i=new V(this.labelColor),s=N.changeFontSize(this.seriesLabels.font,this.seriesLabels.font.size*e.options.zoom),r=this.seriesLabels.core.getStringFormatGeom(e);r.alignment=X.Center,r.lineAlignment=X.Center,e.drawRotatedString6(this.text,s,i,t,r,j.CenterCenter,this.seriesLabels.angle,!0,t.width)}getLabelRect(e){return e.measureString(this.text,this.font)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c){super(e,t,i,s,c),this.text=r,this.labelColor=n,this.labelBorderColor=l,this.seriesBrush=o,this.seriesLabelsBrush=a,this.seriesBorderColor=h,this.font=u,this.vertexes=new P.d.StiMatrix([[d.x,d.y,d.z,1]])}},P.d.StiOutsideAxisLabelsGeom3D=class extends P.d.StiCenterAxisLabelsGeom3D{drawElements(e,t){let i=this.getLabelRect(e),s=t.grid[0][0],r=t.grid[0][1],n=this.getPointN(s,r),l=0<this.value?-i.height-4:i.height+4,o=new _(n.x-i.width/2,n.y+l,i.width,i.height);this.drawLabelArea(e,o),this.drawLabelText(e,o)}constructor(e,t,i,s,r,n,l,o,a,h,u,d,c){super(e,t,i,s,r,n,l,o,a,h,u,d,c)}},P.d.StiMatrixHelper=class{static translate(e,t,i){return new P.d.StiMatrix([[1,0,0,0],[0,1,0,0],[0,0,1,0],[e,t,i,1]])}static scale(e){return new P.d.StiMatrix([[e,0,0,0],[0,e,0,0],[0,0,e,0],[0,0,0,1]])}static rotateX(e){return new P.d.StiMatrix([[1,0,0,0],[0,Math.cos(e),Math.sin(e),0],[0,-Math.sin(e),Math.cos(e),0],[0,0,0,1]])}static rotateY(e){return new P.d.StiMatrix([[Math.cos(e),0,-Math.sin(e),0],[0,1,0,0],[Math.sin(e),0,Math.cos(e),0],[0,0,0,1]])}static rotateZ(e){return new P.d.StiMatrix([[Math.cos(e),Math.sin(e),0,0],[-Math.sin(e),Math.cos(e),0,0],[0,0,1,0],[0,0,0,1]])}},P.d.StiPoint3D=class{constructor(e,t,i){this.x=e,this.y=t,this.z=i}},P.d.StiRectangle3D=class{constructor(){this.x=0,this.y=0,this.z=0,this.length=0,this.height=0,this.width=0}get right(){return this.x+this.length}get front(){return this.z+this.width}get top(){return this.y+this.height}};{class so extends te{constructor(){super(...arguments),this.chart=null,this._allowApplyStyle=!0}implements(){return so.implements||(so.implements=super.implements().concat([s,r])),so.implements}meta(){return[...super.meta(),new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("AllowApplyStyle","",!0)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}static loadFromJsonObjectInternal(e){let t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString(),i=D["StiOptions"].Services.chartAreas.firstOrDefault(e=>e[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()==t);if(null==i)throw k.format("Type {0} is not found!",t);let s=ie.createObject(i[D.System.StiObject.stimulsoft]().getType());return s.loadFromJsonObject(e),s}static loadAreaFromXml(e,t){let i=e.attributes.getNamedItem("type").value,s=i.split(".").pop(),r=new P.d[s];return r.chart=t,r.loadFromXml(e),r}get propName(){return""}clone(){let e=super.clone();return null!=this.core&&(e.core=this.core.clone(),e.core.area=e),e}toString(){return this.serviceName}getDefaultSeriesType(){return null}getSeriesTypes(){return null}getDefaultSeriesLabelsType(){return null}getSeriesLabelsTypes(){return null}get serviceCategory(){return"Chart"}get serviceType(){return so}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.chart&&this.core.applyStyle(this.chart.style)}}P.d.StiArea3D=so}{class ro extends P.d.StiArea{implements(){return ro.implementsStiAxisArea||(ro.implementsStiAxisArea=super.implements().concat([s,P.d.IStiArea,P.d.IStiAxisArea3D,r])),ro.implementsStiAxisArea}meta(){return[...super.meta(),new o("InterlacingHor","_").set(e=>{this._interlacingHor.loadFromJsonObject(e.value),this._interlacingHor.needSetAreaJsonPropertyInternal&&(this._interlacingHor.needSetAreaJsonPropertyInternal=!1,this._interlacingHor.area=this)}).setXml(e=>{this._interlacingHor.loadFromXml(e),this._interlacingHor.area=this}),new o("InterlacingVert","_").set(e=>{this._interlacingVert.loadFromJsonObject(e.value),this._interlacingVert.needSetAreaJsonPropertyInternal&&(this._interlacingVert.needSetAreaJsonPropertyInternal=!1,this._interlacingVert.area=this)}).setXml(e=>{this._interlacingVert.loadFromXml(e),this._interlacingVert.area=this}),new o("GridLinesHor","_").set(e=>{this._gridLinesHor.loadFromJsonObject(e.value),this._gridLinesHor.needSetAreaJsonPropertyInternal&&(this._gridLinesHor.needSetAreaJsonPropertyInternal=!1,this._gridLinesHor.area=this)}).setXml(e=>{this._gridLinesHor.loadFromXml(e),this._gridLinesHor.area=this}),new o("GridLinesVert","_").set(e=>{this._gridLinesVert.loadFromJsonObject(e.value),this._gridLinesVert.needSetAreaJsonPropertyInternal&&(this._gridLinesVert.needSetAreaJsonPropertyInternal=!1,this._gridLinesVert.area=this)}).setXml(e=>{this._gridLinesVert.loadFromXml(e),this._gridLinesVert.area=this}),new o("YAxis","_"),new o("XAxis","_"),new o("ZAxis","_")]}clone(){let e=super.clone();return e.interlacingHor=this.interlacingHor.clone(),e.interlacingVert=this.interlacingVert.clone(),e.gridLinesHor=this.gridLinesHor.clone(),e.gridLinesVert=this.gridLinesVert.clone(),e.xAxis=this.xAxis.clone(),e.yAxis=this.yAxis.clone(),e.zAxis=this.zAxis.clone(),e}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e,null!=this._xAxis&&(this._xAxis.area=this)}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e,null!=this._yAxis&&(this._yAxis.area=this)}get zAxis(){return this._zAxis}set zAxis(e){this._zAxis=e,null!=this._zAxis&&(this._zAxis.area=this)}get rotationX(){return this._rotationX}set rotationX(e){this._rotationX=e<-60?-60:0<e?0:e}get rotationY(){return this._rotationY}set rotationY(e){this._rotationY=e<10?10:60<e?60:e}get axisCore(){return this.core}get interlacingHor(){return this._interlacingHor}set interlacingHor(e){this._interlacingHor=e,null!=this._interlacingHor&&(this._interlacingHor.area=this)}get interlacingVert(){return this._interlacingVert}set interlacingVert(e){this._interlacingVert=e,null!=this._interlacingVert&&(this._interlacingVert.area=this)}get gridLinesHor(){return this._gridLinesHor}set gridLinesHor(e){this._gridLinesHor=e,null!=this._gridLinesHor&&(this._gridLinesHor.area=this)}get gridLinesVert(){return this._gridLinesVert}set gridLinesVert(e){this._gridLinesVert=e,null!=this._gridLinesVert&&(this._gridLinesVert.area=this)}getDefaultSeriesLabelsType(){return P.d.StiCenterAxisLabels3D}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterAxisLabels3D,P.d.StiOutsideAxisLabels3D]}constructor(){super(),this._rotationX=0,this._rotationY=20,this.scale=20,this.cameraX=3,this.cameraY=3,this.cameraZ=-80,this.nearPlane=.1,this.xAxis=new P.d.StiXAxis3D,this.yAxis=new P.d.StiYAxis3D,this.zAxis=new P.d.StiZAxis3D,this.gridLinesHor=new P.d.StiGridLinesHor,this.gridLinesVert=new P.d.StiGridLinesVert,this.interlacingHor=new P.d.StiInterlacingHor,this.interlacingVert=new P.d.StiInterlacingVert}}P.d.StiAxisArea3D=ro}{class no extends P.d.StiAxisArea3D{implements(){return no.implements||(no.implements=super.implements().concat([s,P.d.IStiClusteredColumnArea3D,r,P.d.IStiArea3D])),no.implements}meta(){return[...super.meta(),new i("SideBySide","",!1,!0)]}get sideBySide(){return this._sideBySide}set sideBySide(e){this._sideBySide=e}getDefaultSeriesType(){return P.d.StiClusteredColumnSeries3D}getSeriesTypes(){return[P.d.StiClusteredColumnSeries3D]}constructor(){super(),this._sideBySide=!0,this.core=new P.d.StiClusteredColumnAreaCoreXF3D(this)}}P.d.StiClusteredColumnArea3D=no}{class lo extends P.d.StiClusteredColumnArea3D{implements(){return lo.implementsStiLineArea3D||(lo.implementsStiLineArea3D=super.implements().concat([s,P.d.IStiLineArea3D,P.d.IStiClusteredColumnArea3D,r,P.d.IStiArea3D])),lo.implementsStiLineArea3D}meta(){return[...super.meta(),new i("SideBySide","",!1,!0).set(e=>{this.sideBySide=!1}).setXml(e=>{this.sideBySide=!1})]}get sideBySide(){return!1}set sideBySide(e){}getDefaultSeriesType(){return P.d.StiLineSeries3D}getSeriesTypes(){return[P.d.StiLineSeries3D]}constructor(){super(),this.core=new P.d.StiLineAreaCoreXF3D(this)}}P.d.StiLineArea3D=lo}{class oo extends P.d.StiAxisArea3D{implements(){return oo.implements||(oo.implements=super.implements().concat([s,P.d.IStiStackedColumnArea3D,P.d.IStiAxisArea3D,r,P.d.IStiArea3D])),oo.implements}getDefaultSeriesType(){return P.d.StiStackedColumnSeries3D}getSeriesTypes(){return[P.d.StiStackedColumnSeries3D]}getSeriesLabelsTypes(){return[P.d.StiNoneLabels,P.d.StiCenterAxisLabels3D]}constructor(){super(),this.core=new P.d.StiStackedColumnAreaCoreXF3D(this)}}P.d.StiStackedColumnArea3D=oo}{class ao extends P.d.StiStackedColumnArea3D{implements(){return ao.implementsStiFullStackedColumnArea3D||(ao.implementsStiFullStackedColumnArea3D=super.implements().concat([P.d.StiArea3D,P.d.IStiAxisArea3D,P.d.IStiFullStackedColumnArea3D,s,r])),ao.implementsStiFullStackedColumnArea3D}getDefaultSeriesType(){return P.d.StiFullStackedColumnSeries3D}getSeriesTypes(){return[P.d.StiFullStackedColumnSeries3D]}constructor(){super(),this.core=new P.d.StiFullStackedColumnAreaCoreXF3D(this)}}P.d.StiFullStackedColumnArea3D=ao}{class ho{constructor(){this._allowApplyStyle=!0,this.info=new P.d.StiAxisInfoXF3D,this.labels=new P.d.StiAxisLabels3D,this.lineColor=B.gray,this.visible=!0}implements(){return ho.implementsStiAxis||(ho.implementsStiAxis=[s,P.d.IStiAxis3D,s]),ho.implementsStiAxis}meta(){return[new U("Ident").get(()=>this[D.System.StiObject.stimulsoft]().getType()[D.System.StiObject.stimulsoft]().getTypeName()),new i("AllowApplyStyle","",!0),new o("Labels"),new i("Visible","",!0),new e("LineColor","",B.gray)]}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.labels=this.labels.clone(),null!=this.core&&(e.core=this.core.clone(),e.core.axis=e),e}get allowApplyStyle(){return this._allowApplyStyle}set allowApplyStyle(e){this._allowApplyStyle!=e&&(this._allowApplyStyle=e)&&null!=this.area&&null!=this.area.chart&&this.core.applyStyle(this.area.chart.style)}}P.d.StiAxis3D=ho}let Ti=P.e.IStiFont;{class uo{implements(){return uo.implementsStiAxisLabels||(uo.implementsStiAxisLabels=[s,P.d.IStiAxisLabels3D,Ti,r]),uo.implementsStiAxisLabels}saveToJsonObject(e){return t.saveToJsonObject(e,this)}loadFromJsonObject(e){t.loadFromJsonObject(e,this)}loadFromXml(e){t.loadFromXml(e,this)}clone(){let e=this[D.System.StiObject.stimulsoft]().memberwiseClone();return e.Font=this.font.clone(),null!=this.core&&(e.Core=this.core.clone(),e.Core.Labels=e),e}meta(){return[new i("AllowApplyStyle","",!0),new a("Format"),new re("Font","","Tahoma",8),new e("Color","",B.black),new a("TextBefore"),new a("TextAfter")]}constructor(e="",t="",i="",s=new S("Tahoma",8),r=B.black,n=!0){this.allowApplyStyle=!0,this.format="",this.font=new S("Tahoma",8),this.color=B.black,this.textBefore="",this.textAfter="",this.format=e,this.textBefore=t,this.textAfter=i,this.font=s,this.color=r,this.allowApplyStyle=n,this.core=new P.d.StiAxisLabelsCoreXF3D(this)}}P.d.StiAxisLabels3D=uo}{class co extends P.d.StiAxis3D{implements(){return co.implementsStiXAxis||(co.implementsStiXAxis=super.implements().concat([s,P.d.IStiAxis3D,P.d.IStiXAxis3D,r])),co.implementsStiXAxis}meta(){return[...super.meta(),new i("ShowEdgeValues")]}get propName(){return""}constructor(){super(),this.showEdgeValues=!1,this.core=new P.d.StiXAxisCoreXF3D(this)}}P.d.StiXAxis3D=co}{class So extends P.d.StiAxis3D{implements(){return So.implementsStiYLeftAxis||(So.implementsStiYLeftAxis=super.implements().concat([s,P.d.IStiYAxis3D,r])),So.implementsStiYLeftAxis}get propName(){return""}constructor(){super(),this.core=new P.d.StiYAxisCoreXF3D(this)}}P.d.StiYAxis3D=So}{class mo extends P.d.StiAxis3D{implements(){return mo.implementsStiZLeftAxis||(mo.implementsStiZLeftAxis=super.implements().concat([s,P.d.IStiZAxis3D,r])),mo.implementsStiZLeftAxis}get propName(){return""}constructor(){super(),this.core=new P.d.StiZAxisCoreXF3D(this)}}P.d.StiZAxis3D=mo}P.d.StiSeries3D=class extends P.d.StiSeries{};{class go extends P.d.StiSeries3D{implements(){return go.implementsStiBaseLineSeries3D||(go.implementsStiBaseLineSeries3D=super.implements().concat([s,r,P.d.IStiSeries])),go.implementsStiBaseLineSeries3D}meta(){return[...super.meta(),new e("LineColor","",B.darkGray)]}constructor(){super(),this.lineColor=B.black,this.seriesLabels=new P.d.StiOutsideAxisLabels3D}}P.d.StiBaseLineSeries3D=go}{class po extends P.d.StiSeries3D{implements(){return po.implementsStiClusteredColumnSeries||(po.implementsStiClusteredColumnSeries=super.implements().concat([P.d.IStiClusteredColumnSeries3D,P.d.IStiColumnShape3D,s,r,P.d.IStiSeries])),po.implementsStiClusteredColumnSeries}meta(){return[...super.meta(),new n("Width","_",.9),new n("Length","_",.9),new e("BorderColor","",B.gray),new e("Color","",B.darkGray),new l("ColumnShape","",P.d.StiColumnShape3D)]}get length(){return this._length}set length(e){.01<=e&&e<=1&&(this._length=e)}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}getDefaultAreaType(){return P.d.StiClusteredColumnArea3D}constructor(){super(),this._length=.9,this._width=.9,this.borderColor=B.gray,this.color=B.darkGray,this.columnShape=P.d.StiColumnShape3D.Box,this.seriesLabels=new P.d.StiOutsideAxisLabels3D,this.core=new P.d.StiClusteredColumnSeriesCoreXF3D(this)}}P.d.StiClusteredColumnSeries3D=po}{class fo extends P.d.StiBaseLineSeries3D{implements(){return fo.implementsStiLineSeries3D||(fo.implementsStiLineSeries3D=super.implements().concat([s,r,P.d.IStiSeries,P.d.IStiLineSeries3D])),fo.implementsStiLineSeries3D}getDefaultAreaType(){return P.d.StiLineArea3D}constructor(){super(),this.width=.8,this.seriesLabels=new P.d.StiOutsideAxisLabels3D,this.core=new P.d.StiLineSeriesCoreXF3D(this)}}P.d.StiLineSeries3D=fo}{class wo extends P.d.StiSeries3D{implements(){return wo.implementsStiStackedColumnSeries3D||(wo.implementsStiStackedColumnSeries3D=super.implements().concat([P.d.IStiStackedColumnSeries3D,P.d.IStiClusteredColumnSeries3D,P.d.IStiColumnShape3D,s,r,P.d.IStiSeries])),wo.implementsStiStackedColumnSeries3D}meta(){return[...super.meta(),new n("Width","_",.9),new n("Length","_",.9),new e("BorderColor","",B.gray),new e("Color","",B.darkGray),new l("ColumnShape","",P.d.StiColumnShape3D)]}get length(){return this._length}set length(e){.01<=e&&e<=1&&(this._length=e)}get width(){return this._width}set width(e){.01<=e&&e<=1&&(this._width=e)}getDefaultAreaType(){return P.d.StiStackedColumnArea3D}constructor(){super(),this._length=.9,this._width=.9,this.borderColor=B.gray,this.color=B.darkGray,this.columnShape=P.d.StiColumnShape3D.Box,this.core=new P.d.StiStackedColumnSeriesCoreXF3D(this)}}P.d.StiStackedColumnSeries3D=wo}{class yo extends P.d.StiStackedColumnSeries3D{implements(){return yo.implements||(yo.implements=super.implements().concat([P.d.IStiFullStackedColumnSeries3D,P.d.IStiStackedColumnSeries3D,P.d.IStiClusteredColumnSeries3D,P.d.IStiColumnShape3D])),yo.implements}getDefaultAreaType(){return P.d.StiFullStackedColumnArea3D}constructor(){super(),this.core=new P.d.StiFullStackedColumnSeriesCoreXF3D(this)}}P.d.StiFullStackedColumnSeries3D=yo}{class xo extends P.d.StiSeriesLabels{constructor(){super(...arguments),this._showInPercent=!1}implements(){return xo.implementsStiAxisSeriesLabels3D||(xo.implementsStiAxisSeriesLabels3D=super.implements().concat([P.d.IStiSeriesLabels,r,P.d.IStiAxisSeriesLabels])),xo.implementsStiAxisSeriesLabels3D}meta(){return[...super.meta(),new i("ShowInPercent","_")]}get showInPercent(){return this._showInPercent}set showInPercent(e){this._showInPercent=e,this._showInPercent&&!this.format[D.System.StiObject.stimulsoft]().startsWith("P")&&(this.format="P2"),this._showInPercent||(this.format="")}}P.d.StiAxisSeriesLabels3D=xo}{class bo extends P.d.StiAxisSeriesLabels3D{implements(){return bo.implementsStiCenterAxisLabels3D||(bo.implementsStiCenterAxisLabels3D=super.implements().concat([s,r])),bo.implementsStiCenterAxisLabels3D}constructor(){super(),this.core=new P.d.StiCenterAxisLabelsCoreXF3D(this)}}P.d.StiCenterAxisLabels3D=bo}{class Co extends P.d.StiAxisSeriesLabels3D{implements(){return Co.implementsStiOutsideAxisLabels3D||(Co.implementsStiOutsideAxisLabels3D=super.implements().concat([s,r])),Co.implementsStiOutsideAxisLabels3D}constructor(){super(),this.core=new P.d.StiOutsideAxisLabelsCoreXF3D(this)}}P.d.StiOutsideAxisLabels3D=Co}{class Ao{static run(s,r){if(void 0===s)return void Ao.run(D,"Stimulsoft");if("Stimulsoft.ExternalLibrary"==r||"Stimulsoft.Blockly"==r)return;r=r.replace("Stimulsoft.System","System");for(let i in s){let e=s[i],t=typeof e;"function"==t?(e.ssTypeName=i,e.ssNamespace=r):"object"==t&&Ao.run(e,r+`.`+i)}}}P.b.StiTypesHelper=Ao}return P.b.StiTypesHelper.run(),{Stimulsoft:D}});